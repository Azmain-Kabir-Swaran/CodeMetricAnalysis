{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/checkstyle/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "XpathFileGeneratorAuditListener.java",
  "functionName": "addError",
  "functionId": "addError___event-AuditEvent",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/XpathFileGeneratorAuditListener.java",
  "functionStartLine": 93,
  "functionEndLine": 122,
  "numCommitsSeen": 6,
  "timeTaken": 781,
  "changeHistory": [
    "592bda25a29b119ef1dfccc6fae2760e3057cc39",
    "433f8b0577a6afb7e8552c0b2a9de1b33892b9d5"
  ],
  "changeHistoryShort": {
    "592bda25a29b119ef1dfccc6fae2760e3057cc39": "Ybodychange",
    "433f8b0577a6afb7e8552c0b2a9de1b33892b9d5": "Yintroduced"
  },
  "changeHistoryDetails": {
    "592bda25a29b119ef1dfccc6fae2760e3057cc39": {
      "type": "Ybodychange",
      "commitMessage": "Issue #5984: XpathSuppression generation should support module id\n",
      "commitDate": "13/07/18 5:15 AM",
      "commitName": "592bda25a29b119ef1dfccc6fae2760e3057cc39",
      "commitAuthor": "Timur Tibeyev",
      "commitDateOld": "29/06/18 6:58 AM",
      "commitNameOld": "433f8b0577a6afb7e8552c0b2a9de1b33892b9d5",
      "commitAuthorOld": "rnveach",
      "daysBetweenCommits": 13.93,
      "commitsBetweenForRepo": 41,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,30 @@\n     public void addError(AuditEvent event) {\n         final String xpathQuery \u003d XpathFileGeneratorAstFilter.findCorrespondingXpathQuery(event);\n         if (xpathQuery !\u003d null) {\n             printXmlHeader();\n \n             final File file \u003d new File(event.getFileName());\n \n             writer.println(\"\u003csuppress-xpath\");\n             writer.print(\"       files\u003d\\\"\");\n             writer.print(file.getName());\n             writer.println(QUOTE_CHAR);\n \n-            final String checkName \u003d\n-                    PackageObjectFactory.getShortFromFullModuleNames(event.getSourceName());\n-            writer.print(\"       checks\u003d\\\"\");\n-            writer.print(checkName);\n+            if (event.getModuleId() \u003d\u003d null) {\n+                final String checkName \u003d\n+                        PackageObjectFactory.getShortFromFullModuleNames(event.getSourceName());\n+                writer.print(\"       checks\u003d\\\"\");\n+                writer.print(checkName);\n+            }\n+            else {\n+                writer.print(\"       id\u003d\\\"\");\n+                writer.print(event.getModuleId());\n+            }\n             writer.println(QUOTE_CHAR);\n \n             writer.print(\"       query\u003d\\\"\");\n             writer.print(xpathQuery);\n \n             writer.println(\"\\\"/\u003e\");\n         }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void addError(AuditEvent event) {\n        final String xpathQuery \u003d XpathFileGeneratorAstFilter.findCorrespondingXpathQuery(event);\n        if (xpathQuery !\u003d null) {\n            printXmlHeader();\n\n            final File file \u003d new File(event.getFileName());\n\n            writer.println(\"\u003csuppress-xpath\");\n            writer.print(\"       files\u003d\\\"\");\n            writer.print(file.getName());\n            writer.println(QUOTE_CHAR);\n\n            if (event.getModuleId() \u003d\u003d null) {\n                final String checkName \u003d\n                        PackageObjectFactory.getShortFromFullModuleNames(event.getSourceName());\n                writer.print(\"       checks\u003d\\\"\");\n                writer.print(checkName);\n            }\n            else {\n                writer.print(\"       id\u003d\\\"\");\n                writer.print(event.getModuleId());\n            }\n            writer.println(QUOTE_CHAR);\n\n            writer.print(\"       query\u003d\\\"\");\n            writer.print(xpathQuery);\n\n            writer.println(\"\\\"/\u003e\");\n        }\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/XpathFileGeneratorAuditListener.java",
      "extendedDetails": {}
    },
    "433f8b0577a6afb7e8552c0b2a9de1b33892b9d5": {
      "type": "Yintroduced",
      "commitMessage": "Issue #102: Generate a suppressions.xml file from the errors list\n",
      "commitDate": "29/06/18 6:58 AM",
      "commitName": "433f8b0577a6afb7e8552c0b2a9de1b33892b9d5",
      "commitAuthor": "rnveach",
      "diff": "@@ -0,0 +1,24 @@\n+    public void addError(AuditEvent event) {\n+        final String xpathQuery \u003d XpathFileGeneratorAstFilter.findCorrespondingXpathQuery(event);\n+        if (xpathQuery !\u003d null) {\n+            printXmlHeader();\n+\n+            final File file \u003d new File(event.getFileName());\n+\n+            writer.println(\"\u003csuppress-xpath\");\n+            writer.print(\"       files\u003d\\\"\");\n+            writer.print(file.getName());\n+            writer.println(QUOTE_CHAR);\n+\n+            final String checkName \u003d\n+                    PackageObjectFactory.getShortFromFullModuleNames(event.getSourceName());\n+            writer.print(\"       checks\u003d\\\"\");\n+            writer.print(checkName);\n+            writer.println(QUOTE_CHAR);\n+\n+            writer.print(\"       query\u003d\\\"\");\n+            writer.print(xpathQuery);\n+\n+            writer.println(\"\\\"/\u003e\");\n+        }\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    public void addError(AuditEvent event) {\n        final String xpathQuery \u003d XpathFileGeneratorAstFilter.findCorrespondingXpathQuery(event);\n        if (xpathQuery !\u003d null) {\n            printXmlHeader();\n\n            final File file \u003d new File(event.getFileName());\n\n            writer.println(\"\u003csuppress-xpath\");\n            writer.print(\"       files\u003d\\\"\");\n            writer.print(file.getName());\n            writer.println(QUOTE_CHAR);\n\n            final String checkName \u003d\n                    PackageObjectFactory.getShortFromFullModuleNames(event.getSourceName());\n            writer.print(\"       checks\u003d\\\"\");\n            writer.print(checkName);\n            writer.println(QUOTE_CHAR);\n\n            writer.print(\"       query\u003d\\\"\");\n            writer.print(xpathQuery);\n\n            writer.println(\"\\\"/\u003e\");\n        }\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/XpathFileGeneratorAuditListener.java"
    }
  }
}