{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/checkstyle/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "PropertyCacheFile.java",
  "functionName": "persist",
  "functionId": "persist",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/PropertyCacheFile.java",
  "functionStartLine": 145,
  "functionEndLine": 154,
  "numCommitsSeen": 76,
  "timeTaken": 1558,
  "changeHistory": [
    "bf62e59bc54d990645a9b139a084805c37e999f4",
    "042bf228c796f5fa7c5b4b96b94e0afd7b465538",
    "d8e7cbd12f49569dd277630ae8a704ad99a45309",
    "f6bec165c9c6b6d8cc430cb0694dd42ccb0b7f69",
    "bc034f53c0b807bc1a4234a3c0313d3761ed5b62",
    "ea9ff3965d9c657b5b7bd2d969e075f430635c47"
  ],
  "changeHistoryShort": {
    "bf62e59bc54d990645a9b139a084805c37e999f4": "Ybodychange",
    "042bf228c796f5fa7c5b4b96b94e0afd7b465538": "Ybodychange",
    "d8e7cbd12f49569dd277630ae8a704ad99a45309": "Ybodychange",
    "f6bec165c9c6b6d8cc430cb0694dd42ccb0b7f69": "Ymodifierchange",
    "bc034f53c0b807bc1a4234a3c0313d3761ed5b62": "Ybodychange",
    "ea9ff3965d9c657b5b7bd2d969e075f430635c47": "Yintroduced"
  },
  "changeHistoryDetails": {
    "bf62e59bc54d990645a9b139a084805c37e999f4": {
      "type": "Ybodychange",
      "commitMessage": "Issue #5604: resolve Sonar violation \u0027Change this try to a try-with-resources.\u0027\n",
      "commitDate": "16/01/20 1:22 PM",
      "commitName": "bf62e59bc54d990645a9b139a084805c37e999f4",
      "commitAuthor": "Roman Ivanov",
      "commitDateOld": "01/01/20 4:38 PM",
      "commitNameOld": "ae9edbd4a8645c8cc1a99ad6890dd0006700d1cb",
      "commitAuthorOld": "rnveach",
      "daysBetweenCommits": 14.86,
      "commitsBetweenForRepo": 30,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,10 @@\n     public void persist() throws IOException {\n         final Path path \u003d Paths.get(fileName);\n         final Path directory \u003d path.getParent();\n         if (directory !\u003d null) {\n             Files.createDirectories(directory);\n         }\n-        OutputStream out \u003d null;\n-        try {\n-            out \u003d Files.newOutputStream(path);\n+        try (OutputStream out \u003d Files.newOutputStream(path)) {\n             details.store(out, null);\n         }\n-        finally {\n-            flushAndCloseOutStream(out);\n-        }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void persist() throws IOException {\n        final Path path \u003d Paths.get(fileName);\n        final Path directory \u003d path.getParent();\n        if (directory !\u003d null) {\n            Files.createDirectories(directory);\n        }\n        try (OutputStream out \u003d Files.newOutputStream(path)) {\n            details.store(out, null);\n        }\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/PropertyCacheFile.java",
      "extendedDetails": {}
    },
    "042bf228c796f5fa7c5b4b96b94e0afd7b465538": {
      "type": "Ybodychange",
      "commitMessage": "Issue #5638: File{Input,Output}Stream to Files.new{Input,Output}Stream\n",
      "commitDate": "14/04/18 5:52 AM",
      "commitName": "042bf228c796f5fa7c5b4b96b94e0afd7b465538",
      "commitAuthor": "Pavel Bludov",
      "commitDateOld": "04/01/18 7:20 AM",
      "commitNameOld": "0847a10b9430d9fb0a3f44df03e891da906bea47",
      "commitAuthorOld": "Pavel Bludov",
      "daysBetweenCommits": 99.9,
      "commitsBetweenForRepo": 222,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,15 @@\n     public void persist() throws IOException {\n-        final Path directory \u003d Paths.get(fileName).getParent();\n+        final Path path \u003d Paths.get(fileName);\n+        final Path directory \u003d path.getParent();\n         if (directory !\u003d null) {\n             Files.createDirectories(directory);\n         }\n-        FileOutputStream out \u003d null;\n+        OutputStream out \u003d null;\n         try {\n-            out \u003d new FileOutputStream(fileName);\n+            out \u003d Files.newOutputStream(path);\n             details.store(out, null);\n         }\n         finally {\n             flushAndCloseOutStream(out);\n         }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void persist() throws IOException {\n        final Path path \u003d Paths.get(fileName);\n        final Path directory \u003d path.getParent();\n        if (directory !\u003d null) {\n            Files.createDirectories(directory);\n        }\n        OutputStream out \u003d null;\n        try {\n            out \u003d Files.newOutputStream(path);\n            details.store(out, null);\n        }\n        finally {\n            flushAndCloseOutStream(out);\n        }\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/PropertyCacheFile.java",
      "extendedDetails": {}
    },
    "d8e7cbd12f49569dd277630ae8a704ad99a45309": {
      "type": "Ybodychange",
      "commitMessage": "Pull #3259: Avoid catching of InvalidPathException and AccessDeniedException in PropertyCacheFile#persist (#3259)\n\n",
      "commitDate": "17/06/16 10:46 AM",
      "commitName": "d8e7cbd12f49569dd277630ae8a704ad99a45309",
      "commitAuthor": "Andrei Selkin",
      "commitDateOld": "16/05/16 1:53 PM",
      "commitNameOld": "ecbeaa6e1df7cb021745e111b04395b9fbd509c7",
      "commitAuthorOld": "Andrei Selkin",
      "daysBetweenCommits": 31.87,
      "commitsBetweenForRepo": 91,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,14 @@\n     public void persist() throws IOException {\n-        try {\n-            final Path directory \u003d Paths.get(fileName).getParent();\n-            if (directory !\u003d null) {\n-                Files.createDirectories(directory);\n-            }\n-        }\n-        catch (InvalidPathException | AccessDeniedException ex) {\n-            throw new IllegalStateException(ex.getMessage(), ex);\n+        final Path directory \u003d Paths.get(fileName).getParent();\n+        if (directory !\u003d null) {\n+            Files.createDirectories(directory);\n         }\n         FileOutputStream out \u003d null;\n         try {\n             out \u003d new FileOutputStream(fileName);\n             details.store(out, null);\n         }\n         finally {\n             flushAndCloseOutStream(out);\n         }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void persist() throws IOException {\n        final Path directory \u003d Paths.get(fileName).getParent();\n        if (directory !\u003d null) {\n            Files.createDirectories(directory);\n        }\n        FileOutputStream out \u003d null;\n        try {\n            out \u003d new FileOutputStream(fileName);\n            details.store(out, null);\n        }\n        finally {\n            flushAndCloseOutStream(out);\n        }\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/PropertyCacheFile.java",
      "extendedDetails": {}
    },
    "f6bec165c9c6b6d8cc430cb0694dd42ccb0b7f69": {
      "type": "Ymodifierchange",
      "commitMessage": "Issue #957: Resolve problems from PMD DefaultPackage rule\n",
      "commitDate": "19/02/16 5:38 AM",
      "commitName": "f6bec165c9c6b6d8cc430cb0694dd42ccb0b7f69",
      "commitAuthor": "Vladislav Lisetskiy",
      "commitDateOld": "09/02/16 9:50 AM",
      "commitNameOld": "d46c2cf0e9df06bb5f424dbd7645574f082f7609",
      "commitAuthorOld": "Andrei Selkin",
      "daysBetweenCommits": 9.83,
      "commitsBetweenForRepo": 41,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,19 @@\n-    void persist() throws IOException {\n+    public void persist() throws IOException {\n         try {\n             final Path directory \u003d Paths.get(fileName).getParent();\n             if (directory !\u003d null) {\n                 Files.createDirectories(directory);\n             }\n         }\n         catch (InvalidPathException | AccessDeniedException ex) {\n             throw new IllegalStateException(ex.getMessage(), ex);\n         }\n         FileOutputStream out \u003d null;\n         try {\n             out \u003d new FileOutputStream(fileName);\n             details.store(out, null);\n         }\n         finally {\n             flushAndCloseOutStream(out);\n         }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void persist() throws IOException {\n        try {\n            final Path directory \u003d Paths.get(fileName).getParent();\n            if (directory !\u003d null) {\n                Files.createDirectories(directory);\n            }\n        }\n        catch (InvalidPathException | AccessDeniedException ex) {\n            throw new IllegalStateException(ex.getMessage(), ex);\n        }\n        FileOutputStream out \u003d null;\n        try {\n            out \u003d new FileOutputStream(fileName);\n            details.store(out, null);\n        }\n        finally {\n            flushAndCloseOutStream(out);\n        }\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/PropertyCacheFile.java",
      "extendedDetails": {
        "oldValue": "[]",
        "newValue": "[public]"
      }
    },
    "bc034f53c0b807bc1a4234a3c0313d3761ed5b62": {
      "type": "Ybodychange",
      "commitMessage": "Issue #2575: Create directory structure needed to store cache file\n",
      "commitDate": "15/12/15 5:29 AM",
      "commitName": "bc034f53c0b807bc1a4234a3c0313d3761ed5b62",
      "commitAuthor": "Andrei Selkin",
      "commitDateOld": "18/10/15 6:03 AM",
      "commitNameOld": "1487e5161886d95cb8c82e4fb1a8b447fa7e32d0",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 58.02,
      "commitsBetweenForRepo": 274,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,19 @@\n     void persist() throws IOException {\n+        try {\n+            final Path directory \u003d Paths.get(fileName).getParent();\n+            if (directory !\u003d null) {\n+                Files.createDirectories(directory);\n+            }\n+        }\n+        catch (InvalidPathException | AccessDeniedException ex) {\n+            throw new IllegalStateException(ex.getMessage(), ex);\n+        }\n         FileOutputStream out \u003d null;\n         try {\n             out \u003d new FileOutputStream(fileName);\n             details.store(out, null);\n         }\n         finally {\n             flushAndCloseOutStream(out);\n         }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    void persist() throws IOException {\n        try {\n            final Path directory \u003d Paths.get(fileName).getParent();\n            if (directory !\u003d null) {\n                Files.createDirectories(directory);\n            }\n        }\n        catch (InvalidPathException | AccessDeniedException ex) {\n            throw new IllegalStateException(ex.getMessage(), ex);\n        }\n        FileOutputStream out \u003d null;\n        try {\n            out \u003d new FileOutputStream(fileName);\n            details.store(out, null);\n        }\n        finally {\n            flushAndCloseOutStream(out);\n        }\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/PropertyCacheFile.java",
      "extendedDetails": {}
    },
    "ea9ff3965d9c657b5b7bd2d969e075f430635c47": {
      "type": "Yintroduced",
      "commitMessage": "100% UTs coverage for PropertyCacheFile. Refactoring of PropertyCacheFile. #1294\n",
      "commitDate": "28/07/15 10:12 AM",
      "commitName": "ea9ff3965d9c657b5b7bd2d969e075f430635c47",
      "commitAuthor": "Roman Ivanov",
      "diff": "@@ -0,0 +1,10 @@\n+    void persist() throws IOException {\n+        FileOutputStream out \u003d null;\n+        try {\n+            out \u003d new FileOutputStream(fileName);\n+            details.store(out, null);\n+        }\n+        finally {\n+            flushAndCloseOutStream(out);\n+        }\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    void persist() throws IOException {\n        FileOutputStream out \u003d null;\n        try {\n            out \u003d new FileOutputStream(fileName);\n            details.store(out, null);\n        }\n        finally {\n            flushAndCloseOutStream(out);\n        }\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/PropertyCacheFile.java"
    }
  }
}