{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/checkstyle/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "UniquePropertiesCheck.java",
  "functionName": "put",
  "functionId": "put___key-Object__value-Object",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
  "functionStartLine": 172,
  "functionEndLine": 181,
  "numCommitsSeen": 47,
  "timeTaken": 1853,
  "changeHistory": [
    "0461a0f839c8cd2306354912b4956267c1d0ec20",
    "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2",
    "ea963bb721aafd9584242cedf2781f0294f2b18d",
    "e936c4c6fae73ec4c53aa8f2f9db302d064e1b8e",
    "68959eeefff4d4a5b295cefbec242c643d523c6b",
    "18ed7958cffb4c1b76f385121d488f135b110cf8",
    "58219b9bd31c8f7fbc4f4bba0eeb811851f276b3",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d",
    "3ba599059682310f72e0fb7e5354be29e9ead169"
  ],
  "changeHistoryShort": {
    "0461a0f839c8cd2306354912b4956267c1d0ec20": "Ybodychange",
    "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2": "Ymodifierchange",
    "ea963bb721aafd9584242cedf2781f0294f2b18d": "Ybodychange",
    "e936c4c6fae73ec4c53aa8f2f9db302d064e1b8e": "Ybodychange",
    "68959eeefff4d4a5b295cefbec242c643d523c6b": "Ybodychange",
    "18ed7958cffb4c1b76f385121d488f135b110cf8": "Ymultichange(Ymodifierchange,Ybodychange)",
    "58219b9bd31c8f7fbc4f4bba0eeb811851f276b3": "Ymultichange(Yparameterchange,Ybodychange)",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": "Yfilerename",
    "3ba599059682310f72e0fb7e5354be29e9ead169": "Yintroduced"
  },
  "changeHistoryDetails": {
    "0461a0f839c8cd2306354912b4956267c1d0ec20": {
      "type": "Ybodychange",
      "commitMessage": "Issue #3484: removed instances of guava immutables",
      "commitDate": "07/05/18 6:47 PM",
      "commitName": "0461a0f839c8cd2306354912b4956267c1d0ec20",
      "commitAuthor": "rnveach",
      "commitDateOld": "20/04/18 11:55 AM",
      "commitNameOld": "c28b535e91cb73f7630230695ef52fdf655e46e4",
      "commitAuthorOld": "Pavel Bludov",
      "daysBetweenCommits": 17.29,
      "commitsBetweenForRepo": 27,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,8 +1,10 @@\n         public synchronized Object put(Object key, Object value) {\n             final Object oldValue \u003d super.put(key, value);\n             if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                 final String keyString \u003d (String) key;\n-                duplicatedKeys.add(keyString);\n+\n+                duplicatedKeys.computeIfAbsent(keyString, empty -\u003e new AtomicInteger(0))\n+                        .incrementAndGet();\n             }\n             return oldValue;\n         }\n\\ No newline at end of file\n",
      "actualSource": "        public synchronized Object put(Object key, Object value) {\n            final Object oldValue \u003d super.put(key, value);\n            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                final String keyString \u003d (String) key;\n\n                duplicatedKeys.computeIfAbsent(keyString, empty -\u003e new AtomicInteger(0))\n                        .incrementAndGet();\n            }\n            return oldValue;\n        }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
      "extendedDetails": {}
    },
    "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2": {
      "type": "Ymodifierchange",
      "commitMessage": "Issue #4724: fix all violations from the sixth part of idea violations\n",
      "commitDate": "23/07/17 6:19 PM",
      "commitName": "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2",
      "commitAuthor": "vasilyeva",
      "commitDateOld": "20/07/17 10:04 PM",
      "commitNameOld": "b1a0f2b5f61a997e0b7e3fdff8f19a0ae0180ac6",
      "commitAuthorOld": "vasilyeva",
      "daysBetweenCommits": 2.84,
      "commitsBetweenForRepo": 18,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,8 +1,8 @@\n-        public Object put(Object key, Object value) {\n+        public synchronized Object put(Object key, Object value) {\n             final Object oldValue \u003d super.put(key, value);\n             if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                 final String keyString \u003d (String) key;\n                 duplicatedKeys.add(keyString);\n             }\n             return oldValue;\n         }\n\\ No newline at end of file\n",
      "actualSource": "        public synchronized Object put(Object key, Object value) {\n            final Object oldValue \u003d super.put(key, value);\n            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                final String keyString \u003d (String) key;\n                duplicatedKeys.add(keyString);\n            }\n            return oldValue;\n        }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
      "extendedDetails": {
        "oldValue": "[public]",
        "newValue": "[public, synchronized]"
      }
    },
    "ea963bb721aafd9584242cedf2781f0294f2b18d": {
      "type": "Ybodychange",
      "commitMessage": "Issue #1566: \u0027missing javadoc comment\u0027 violations partial fix\n",
      "commitDate": "19/08/15 1:14 PM",
      "commitName": "ea963bb721aafd9584242cedf2781f0294f2b18d",
      "commitAuthor": "Ruslan Diachenko",
      "commitDateOld": "15/08/15 8:55 PM",
      "commitNameOld": "e936c4c6fae73ec4c53aa8f2f9db302d064e1b8e",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 3.68,
      "commitsBetweenForRepo": 64,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,8 +1,8 @@\n         public Object put(Object key, Object value) {\n             final Object oldValue \u003d super.put(key, value);\n             if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                 final String keyString \u003d (String) key;\n-                duplicatedStrings.add(keyString);\n+                duplicatedKeys.add(keyString);\n             }\n             return oldValue;\n         }\n\\ No newline at end of file\n",
      "actualSource": "        public Object put(Object key, Object value) {\n            final Object oldValue \u003d super.put(key, value);\n            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                final String keyString \u003d (String) key;\n                duplicatedKeys.add(keyString);\n            }\n            return oldValue;\n        }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
      "extendedDetails": {}
    },
    "e936c4c6fae73ec4c53aa8f2f9db302d064e1b8e": {
      "type": "Ybodychange",
      "commitMessage": "Remove unnecessary synchronization. #1555\n\nFixes `NonSerializableFieldInSerializableClass` inspection violation.\n\nDescription:\n\u003eReports non-synchronized methods overriding synchronized methods.\n\nFixes `NonSynchronizedMethodOverridesSynchronizedMethod` inspection violation.\n\nDescription:\n\u003eReports non-Serializable fields in Serializable classes. Such fields will result in runtime exceptions if the object is serialized. Fields declared transient or static are not reported, nor are fields of classes which have defined a writeObject method. For purposes of this inspection, fields with java.util.Collection or java.util.Map types are assumed to be Serializable, unless the types they are declared to contain are non-Serializable.\n",
      "commitDate": "15/08/15 8:55 PM",
      "commitName": "e936c4c6fae73ec4c53aa8f2f9db302d064e1b8e",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": "09/08/15 11:47 PM",
      "commitNameOld": "13900919907b38384a0405d349cfc659b2b3d985",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 5.88,
      "commitsBetweenForRepo": 67,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,8 @@\n         public Object put(Object key, Object value) {\n-            synchronized (lock) {\n-                final Object oldValue \u003d super.put(key, value);\n-                if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n-                    final String keyString \u003d (String) key;\n-                    duplicatedStrings.add(keyString);\n-                }\n-                return oldValue;\n+            final Object oldValue \u003d super.put(key, value);\n+            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n+                final String keyString \u003d (String) key;\n+                duplicatedStrings.add(keyString);\n             }\n+            return oldValue;\n         }\n\\ No newline at end of file\n",
      "actualSource": "        public Object put(Object key, Object value) {\n            final Object oldValue \u003d super.put(key, value);\n            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                final String keyString \u003d (String) key;\n                duplicatedStrings.add(keyString);\n            }\n            return oldValue;\n        }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
      "extendedDetails": {}
    },
    "68959eeefff4d4a5b295cefbec242c643d523c6b": {
      "type": "Ybodychange",
      "commitMessage": "Issue #1566: AvoidNestedBlocks, FinalLocalVariable, RegexpSingleline (THIS as a lock) violations fixed\n",
      "commitDate": "07/08/15 9:08 PM",
      "commitName": "68959eeefff4d4a5b295cefbec242c643d523c6b",
      "commitAuthor": "Ruslan Diachenko",
      "commitDateOld": "02/08/15 6:48 PM",
      "commitNameOld": "940eb6509fb1cee0d6789b69578c07a6b7af9fff",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 5.1,
      "commitsBetweenForRepo": 37,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n         public Object put(Object key, Object value) {\n-            synchronized (this) {\n+            synchronized (lock) {\n                 final Object oldValue \u003d super.put(key, value);\n                 if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                     final String keyString \u003d (String) key;\n                     duplicatedStrings.add(keyString);\n                 }\n                 return oldValue;\n             }\n         }\n\\ No newline at end of file\n",
      "actualSource": "        public Object put(Object key, Object value) {\n            synchronized (lock) {\n                final Object oldValue \u003d super.put(key, value);\n                if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                    final String keyString \u003d (String) key;\n                    duplicatedStrings.add(keyString);\n                }\n                return oldValue;\n            }\n        }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
      "extendedDetails": {}
    },
    "18ed7958cffb4c1b76f385121d488f135b110cf8": {
      "type": "Ymultichange(Ymodifierchange,Ybodychange)",
      "commitMessage": "PMD rule AvoidSynchronizedAtMethodLevel is activated. Issue #744\n",
      "commitDate": "23/04/15 4:34 PM",
      "commitName": "18ed7958cffb4c1b76f385121d488f135b110cf8",
      "commitAuthor": "Roman Ivanov",
      "subchanges": [
        {
          "type": "Ymodifierchange",
          "commitMessage": "PMD rule AvoidSynchronizedAtMethodLevel is activated. Issue #744\n",
          "commitDate": "23/04/15 4:34 PM",
          "commitName": "18ed7958cffb4c1b76f385121d488f135b110cf8",
          "commitAuthor": "Roman Ivanov",
          "commitDateOld": "15/03/15 3:17 PM",
          "commitNameOld": "ca1c33e3112d9217e89eec82bbcd589381d48715",
          "commitAuthorOld": "Michal Kordas",
          "daysBetweenCommits": 39.05,
          "commitsBetweenForRepo": 169,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,11 @@\n-        public synchronized Object put(Object key, Object value)\n+        public Object put(Object key, Object value)\n         {\n-            final Object oldValue \u003d super.put(key, value);\n-            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n-                final String keyString \u003d (String) key;\n-                duplicatedStrings.add(keyString);\n+            synchronized (this) {\n+                final Object oldValue \u003d super.put(key, value);\n+                if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n+                    final String keyString \u003d (String) key;\n+                    duplicatedStrings.add(keyString);\n+                }\n+                return oldValue;\n             }\n-            return oldValue;\n         }\n\\ No newline at end of file\n",
          "actualSource": "        public Object put(Object key, Object value)\n        {\n            synchronized (this) {\n                final Object oldValue \u003d super.put(key, value);\n                if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                    final String keyString \u003d (String) key;\n                    duplicatedStrings.add(keyString);\n                }\n                return oldValue;\n            }\n        }",
          "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
          "extendedDetails": {
            "oldValue": "[public, synchronized]",
            "newValue": "[public]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "PMD rule AvoidSynchronizedAtMethodLevel is activated. Issue #744\n",
          "commitDate": "23/04/15 4:34 PM",
          "commitName": "18ed7958cffb4c1b76f385121d488f135b110cf8",
          "commitAuthor": "Roman Ivanov",
          "commitDateOld": "15/03/15 3:17 PM",
          "commitNameOld": "ca1c33e3112d9217e89eec82bbcd589381d48715",
          "commitAuthorOld": "Michal Kordas",
          "daysBetweenCommits": 39.05,
          "commitsBetweenForRepo": 169,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,11 @@\n-        public synchronized Object put(Object key, Object value)\n+        public Object put(Object key, Object value)\n         {\n-            final Object oldValue \u003d super.put(key, value);\n-            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n-                final String keyString \u003d (String) key;\n-                duplicatedStrings.add(keyString);\n+            synchronized (this) {\n+                final Object oldValue \u003d super.put(key, value);\n+                if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n+                    final String keyString \u003d (String) key;\n+                    duplicatedStrings.add(keyString);\n+                }\n+                return oldValue;\n             }\n-            return oldValue;\n         }\n\\ No newline at end of file\n",
          "actualSource": "        public Object put(Object key, Object value)\n        {\n            synchronized (this) {\n                final Object oldValue \u003d super.put(key, value);\n                if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                    final String keyString \u003d (String) key;\n                    duplicatedStrings.add(keyString);\n                }\n                return oldValue;\n            }\n        }",
          "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
          "extendedDetails": {}
        }
      ]
    },
    "58219b9bd31c8f7fbc4f4bba0eeb811851f276b3": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Prefixes, checks, #512\n\nConflicts:\n\tsrc/main/java/com/puppycrawl/tools/checkstyle/checks/NewlineAtEndOfFileCheck.java\n",
      "commitDate": "19/01/15 6:37 AM",
      "commitName": "58219b9bd31c8f7fbc4f4bba0eeb811851f276b3",
      "commitAuthor": "alexkravin",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "Prefixes, checks, #512\n\nConflicts:\n\tsrc/main/java/com/puppycrawl/tools/checkstyle/checks/NewlineAtEndOfFileCheck.java\n",
          "commitDate": "19/01/15 6:37 AM",
          "commitName": "58219b9bd31c8f7fbc4f4bba0eeb811851f276b3",
          "commitAuthor": "alexkravin",
          "commitDateOld": "04/03/14 9:18 AM",
          "commitNameOld": "f1efb27670a93690577f1bae17fc9dcbd88a795d",
          "commitAuthorOld": "Ivan Sopov",
          "daysBetweenCommits": 320.89,
          "commitsBetweenForRepo": 475,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,9 @@\n-        public synchronized Object put(Object aKey, Object aValue)\n+        public synchronized Object put(Object key, Object value)\n         {\n-            final Object oldValue \u003d super.put(aKey, aValue);\n-            if (oldValue !\u003d null \u0026\u0026 aKey instanceof String) {\n-                final String keyString \u003d (String) aKey;\n-                mDuplicatedStrings.add(keyString);\n+            final Object oldValue \u003d super.put(key, value);\n+            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n+                final String keyString \u003d (String) key;\n+                duplicatedStrings.add(keyString);\n             }\n             return oldValue;\n         }\n\\ No newline at end of file\n",
          "actualSource": "        public synchronized Object put(Object key, Object value)\n        {\n            final Object oldValue \u003d super.put(key, value);\n            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                final String keyString \u003d (String) key;\n                duplicatedStrings.add(keyString);\n            }\n            return oldValue;\n        }",
          "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
          "extendedDetails": {
            "oldValue": "[aKey-Object, aValue-Object]",
            "newValue": "[key-Object, value-Object]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Prefixes, checks, #512\n\nConflicts:\n\tsrc/main/java/com/puppycrawl/tools/checkstyle/checks/NewlineAtEndOfFileCheck.java\n",
          "commitDate": "19/01/15 6:37 AM",
          "commitName": "58219b9bd31c8f7fbc4f4bba0eeb811851f276b3",
          "commitAuthor": "alexkravin",
          "commitDateOld": "04/03/14 9:18 AM",
          "commitNameOld": "f1efb27670a93690577f1bae17fc9dcbd88a795d",
          "commitAuthorOld": "Ivan Sopov",
          "daysBetweenCommits": 320.89,
          "commitsBetweenForRepo": 475,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,9 @@\n-        public synchronized Object put(Object aKey, Object aValue)\n+        public synchronized Object put(Object key, Object value)\n         {\n-            final Object oldValue \u003d super.put(aKey, aValue);\n-            if (oldValue !\u003d null \u0026\u0026 aKey instanceof String) {\n-                final String keyString \u003d (String) aKey;\n-                mDuplicatedStrings.add(keyString);\n+            final Object oldValue \u003d super.put(key, value);\n+            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n+                final String keyString \u003d (String) key;\n+                duplicatedStrings.add(keyString);\n             }\n             return oldValue;\n         }\n\\ No newline at end of file\n",
          "actualSource": "        public synchronized Object put(Object key, Object value)\n        {\n            final Object oldValue \u003d super.put(key, value);\n            if (oldValue !\u003d null \u0026\u0026 key instanceof String) {\n                final String keyString \u003d (String) key;\n                duplicatedStrings.add(keyString);\n            }\n            return oldValue;\n        }",
          "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
          "extendedDetails": {}
        }
      ]
    },
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": {
      "type": "Yfilerename",
      "commitMessage": "moving to standard directory layout\n",
      "commitDate": "04/03/14 9:18 AM",
      "commitName": "f1efb27670a93690577f1bae17fc9dcbd88a795d",
      "commitAuthor": "Ivan Sopov",
      "commitDateOld": "26/02/14 10:35 PM",
      "commitNameOld": "1cdaeaaa4fbf02a7388f1fcbea1c86ef0ea32fed",
      "commitAuthorOld": "Andrew Gaul",
      "daysBetweenCommits": 5.45,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "        public synchronized Object put(Object aKey, Object aValue)\n        {\n            final Object oldValue \u003d super.put(aKey, aValue);\n            if (oldValue !\u003d null \u0026\u0026 aKey instanceof String) {\n                final String keyString \u003d (String) aKey;\n                mDuplicatedStrings.add(keyString);\n            }\n            return oldValue;\n        }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
      "extendedDetails": {
        "oldPath": "src/checkstyle/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java",
        "newPath": "src/main/java/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java"
      }
    },
    "3ba599059682310f72e0fb7e5354be29e9ead169": {
      "type": "Yintroduced",
      "commitMessage": "Implemented UniqueProperties check\n",
      "commitDate": "25/10/13 1:11 AM",
      "commitName": "3ba599059682310f72e0fb7e5354be29e9ead169",
      "commitAuthor": "Pavel Baranchikov",
      "diff": "@@ -0,0 +1,9 @@\n+        public synchronized Object put(Object aKey, Object aValue)\n+        {\n+            final Object oldValue \u003d super.put(aKey, aValue);\n+            if (oldValue !\u003d null \u0026\u0026 aKey instanceof String) {\n+                final String keyString \u003d (String) aKey;\n+                mDuplicatedStrings.add(keyString);\n+            }\n+            return oldValue;\n+        }\n\\ No newline at end of file\n",
      "actualSource": "        public synchronized Object put(Object aKey, Object aValue)\n        {\n            final Object oldValue \u003d super.put(aKey, aValue);\n            if (oldValue !\u003d null \u0026\u0026 aKey instanceof String) {\n                final String keyString \u003d (String) aKey;\n                mDuplicatedStrings.add(keyString);\n            }\n            return oldValue;\n        }",
      "path": "src/checkstyle/com/puppycrawl/tools/checkstyle/checks/UniquePropertiesCheck.java"
    }
  }
}