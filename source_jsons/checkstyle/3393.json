{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/checkstyle/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ScopeUtil.java",
  "functionName": "getSurroundingScope",
  "functionId": "getSurroundingScope___node-DetailAST",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/utils/ScopeUtil.java",
  "functionStartLine": 67,
  "functionEndLine": 92,
  "numCommitsSeen": 45,
  "timeTaken": 2586,
  "changeHistory": [
    "641b6b2c0689fc35d6a3d77a7215fd1d9ce2a2b8",
    "3813f1ccbf157f463c041ccfc462399845ddff6e",
    "ce196814d857a4244a80c51d5151cc35e90b6749",
    "ed595de84fba2db507adaf01d04cb089a5e0bac5",
    "82d8e91024a57a96fbb6410dacb29d6a3f582903",
    "e3b3bfb9997b28fc95d0f950e9673a595e2f4c7d"
  ],
  "changeHistoryShort": {
    "641b6b2c0689fc35d6a3d77a7215fd1d9ce2a2b8": "Yfilerename",
    "3813f1ccbf157f463c041ccfc462399845ddff6e": "Ymultichange(Yparameterchange,Ybodychange)",
    "ce196814d857a4244a80c51d5151cc35e90b6749": "Ybodychange",
    "ed595de84fba2db507adaf01d04cb089a5e0bac5": "Yfilerename",
    "82d8e91024a57a96fbb6410dacb29d6a3f582903": "Ybodychange",
    "e3b3bfb9997b28fc95d0f950e9673a595e2f4c7d": "Yintroduced"
  },
  "changeHistoryDetails": {
    "641b6b2c0689fc35d6a3d77a7215fd1d9ce2a2b8": {
      "type": "Yfilerename",
      "commitMessage": "Issue #5812: Rename all utility classes to xxxxUtil\n",
      "commitDate": "03/06/18 9:40 PM",
      "commitName": "641b6b2c0689fc35d6a3d77a7215fd1d9ce2a2b8",
      "commitAuthor": "Pavel Bludov",
      "commitDateOld": "03/06/18 6:34 PM",
      "commitNameOld": "2b9308a4f532e78a53e090922787175103dfeb34",
      "commitAuthorOld": "Roman Ivanov",
      "daysBetweenCommits": 0.13,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    public static Scope getSurroundingScope(DetailAST node) {\n        Scope returnValue \u003d null;\n        for (DetailAST token \u003d node.getParent();\n             token !\u003d null;\n             token \u003d token.getParent()) {\n            final int type \u003d token.getType();\n            if (type \u003d\u003d TokenTypes.CLASS_DEF\n                || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                final DetailAST mods \u003d\n                    token.findFirstToken(TokenTypes.MODIFIERS);\n                final Scope modScope \u003d getScopeFromMods(mods);\n                if (returnValue \u003d\u003d null || returnValue.isIn(modScope)) {\n                    returnValue \u003d modScope;\n                }\n            }\n            else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                returnValue \u003d Scope.ANONINNER;\n                // because Scope.ANONINNER is not in any other Scope\n                break;\n            }\n        }\n\n        return returnValue;\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/utils/ScopeUtil.java",
      "extendedDetails": {
        "oldPath": "src/main/java/com/puppycrawl/tools/checkstyle/utils/ScopeUtils.java",
        "newPath": "src/main/java/com/puppycrawl/tools/checkstyle/utils/ScopeUtil.java"
      }
    },
    "3813f1ccbf157f463c041ccfc462399845ddff6e": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Issue #2604: Update regexp pattern for ParameterName\n",
      "commitDate": "06/12/15 4:02 PM",
      "commitName": "3813f1ccbf157f463c041ccfc462399845ddff6e",
      "commitAuthor": "Andrei Selkin",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "Issue #2604: Update regexp pattern for ParameterName\n",
          "commitDate": "06/12/15 4:02 PM",
          "commitName": "3813f1ccbf157f463c041ccfc462399845ddff6e",
          "commitAuthor": "Andrei Selkin",
          "commitDateOld": "16/10/15 4:35 PM",
          "commitNameOld": "ce196814d857a4244a80c51d5151cc35e90b6749",
          "commitAuthorOld": "Michal Kordas",
          "daysBetweenCommits": 51.02,
          "commitsBetweenForRepo": 255,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,26 +1,26 @@\n-    public static Scope getSurroundingScope(DetailAST aAST) {\n+    public static Scope getSurroundingScope(DetailAST node) {\n         Scope returnValue \u003d null;\n-        for (DetailAST token \u003d aAST.getParent();\n+        for (DetailAST token \u003d node.getParent();\n              token !\u003d null;\n              token \u003d token.getParent()) {\n             final int type \u003d token.getType();\n             if (type \u003d\u003d TokenTypes.CLASS_DEF\n                 || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                 || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                 || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                 final DetailAST mods \u003d\n                     token.findFirstToken(TokenTypes.MODIFIERS);\n                 final Scope modScope \u003d getScopeFromMods(mods);\n                 if (returnValue \u003d\u003d null || returnValue.isIn(modScope)) {\n                     returnValue \u003d modScope;\n                 }\n             }\n             else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                 returnValue \u003d Scope.ANONINNER;\n                 // because Scope.ANONINNER is not in any other Scope\n                 break;\n             }\n         }\n \n         return returnValue;\n     }\n\\ No newline at end of file\n",
          "actualSource": "    public static Scope getSurroundingScope(DetailAST node) {\n        Scope returnValue \u003d null;\n        for (DetailAST token \u003d node.getParent();\n             token !\u003d null;\n             token \u003d token.getParent()) {\n            final int type \u003d token.getType();\n            if (type \u003d\u003d TokenTypes.CLASS_DEF\n                || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                final DetailAST mods \u003d\n                    token.findFirstToken(TokenTypes.MODIFIERS);\n                final Scope modScope \u003d getScopeFromMods(mods);\n                if (returnValue \u003d\u003d null || returnValue.isIn(modScope)) {\n                    returnValue \u003d modScope;\n                }\n            }\n            else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                returnValue \u003d Scope.ANONINNER;\n                // because Scope.ANONINNER is not in any other Scope\n                break;\n            }\n        }\n\n        return returnValue;\n    }",
          "path": "src/main/java/com/puppycrawl/tools/checkstyle/utils/ScopeUtils.java",
          "extendedDetails": {
            "oldValue": "[aAST-DetailAST]",
            "newValue": "[node-DetailAST]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Issue #2604: Update regexp pattern for ParameterName\n",
          "commitDate": "06/12/15 4:02 PM",
          "commitName": "3813f1ccbf157f463c041ccfc462399845ddff6e",
          "commitAuthor": "Andrei Selkin",
          "commitDateOld": "16/10/15 4:35 PM",
          "commitNameOld": "ce196814d857a4244a80c51d5151cc35e90b6749",
          "commitAuthorOld": "Michal Kordas",
          "daysBetweenCommits": 51.02,
          "commitsBetweenForRepo": 255,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,26 +1,26 @@\n-    public static Scope getSurroundingScope(DetailAST aAST) {\n+    public static Scope getSurroundingScope(DetailAST node) {\n         Scope returnValue \u003d null;\n-        for (DetailAST token \u003d aAST.getParent();\n+        for (DetailAST token \u003d node.getParent();\n              token !\u003d null;\n              token \u003d token.getParent()) {\n             final int type \u003d token.getType();\n             if (type \u003d\u003d TokenTypes.CLASS_DEF\n                 || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                 || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                 || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                 final DetailAST mods \u003d\n                     token.findFirstToken(TokenTypes.MODIFIERS);\n                 final Scope modScope \u003d getScopeFromMods(mods);\n                 if (returnValue \u003d\u003d null || returnValue.isIn(modScope)) {\n                     returnValue \u003d modScope;\n                 }\n             }\n             else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                 returnValue \u003d Scope.ANONINNER;\n                 // because Scope.ANONINNER is not in any other Scope\n                 break;\n             }\n         }\n \n         return returnValue;\n     }\n\\ No newline at end of file\n",
          "actualSource": "    public static Scope getSurroundingScope(DetailAST node) {\n        Scope returnValue \u003d null;\n        for (DetailAST token \u003d node.getParent();\n             token !\u003d null;\n             token \u003d token.getParent()) {\n            final int type \u003d token.getType();\n            if (type \u003d\u003d TokenTypes.CLASS_DEF\n                || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                final DetailAST mods \u003d\n                    token.findFirstToken(TokenTypes.MODIFIERS);\n                final Scope modScope \u003d getScopeFromMods(mods);\n                if (returnValue \u003d\u003d null || returnValue.isIn(modScope)) {\n                    returnValue \u003d modScope;\n                }\n            }\n            else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                returnValue \u003d Scope.ANONINNER;\n                // because Scope.ANONINNER is not in any other Scope\n                break;\n            }\n        }\n\n        return returnValue;\n    }",
          "path": "src/main/java/com/puppycrawl/tools/checkstyle/utils/ScopeUtils.java",
          "extendedDetails": {}
        }
      ]
    },
    "ce196814d857a4244a80c51d5151cc35e90b6749": {
      "type": "Ybodychange",
      "commitMessage": "Issue #2080: Fix typos in code\n",
      "commitDate": "16/10/15 4:35 PM",
      "commitName": "ce196814d857a4244a80c51d5151cc35e90b6749",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": "11/09/15 10:14 AM",
      "commitNameOld": "dba6c944cdbf9acfbb40b9a2d8e6315fb14d87f0",
      "commitAuthorOld": "Andrei Selkin",
      "daysBetweenCommits": 35.26,
      "commitsBetweenForRepo": 215,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,26 +1,26 @@\n     public static Scope getSurroundingScope(DetailAST aAST) {\n-        Scope retVal \u003d null;\n+        Scope returnValue \u003d null;\n         for (DetailAST token \u003d aAST.getParent();\n              token !\u003d null;\n              token \u003d token.getParent()) {\n             final int type \u003d token.getType();\n             if (type \u003d\u003d TokenTypes.CLASS_DEF\n                 || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                 || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                 || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                 final DetailAST mods \u003d\n                     token.findFirstToken(TokenTypes.MODIFIERS);\n                 final Scope modScope \u003d getScopeFromMods(mods);\n-                if (retVal \u003d\u003d null || retVal.isIn(modScope)) {\n-                    retVal \u003d modScope;\n+                if (returnValue \u003d\u003d null || returnValue.isIn(modScope)) {\n+                    returnValue \u003d modScope;\n                 }\n             }\n             else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n-                retVal \u003d Scope.ANONINNER;\n+                returnValue \u003d Scope.ANONINNER;\n                 // because Scope.ANONINNER is not in any other Scope\n                 break;\n             }\n         }\n \n-        return retVal;\n+        return returnValue;\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public static Scope getSurroundingScope(DetailAST aAST) {\n        Scope returnValue \u003d null;\n        for (DetailAST token \u003d aAST.getParent();\n             token !\u003d null;\n             token \u003d token.getParent()) {\n            final int type \u003d token.getType();\n            if (type \u003d\u003d TokenTypes.CLASS_DEF\n                || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                final DetailAST mods \u003d\n                    token.findFirstToken(TokenTypes.MODIFIERS);\n                final Scope modScope \u003d getScopeFromMods(mods);\n                if (returnValue \u003d\u003d null || returnValue.isIn(modScope)) {\n                    returnValue \u003d modScope;\n                }\n            }\n            else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                returnValue \u003d Scope.ANONINNER;\n                // because Scope.ANONINNER is not in any other Scope\n                break;\n            }\n        }\n\n        return returnValue;\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/utils/ScopeUtils.java",
      "extendedDetails": {}
    },
    "ed595de84fba2db507adaf01d04cb089a5e0bac5": {
      "type": "Yfilerename",
      "commitMessage": "Utils classes have been moved to utils package. Issue #1898\n",
      "commitDate": "27/08/15 5:17 AM",
      "commitName": "ed595de84fba2db507adaf01d04cb089a5e0bac5",
      "commitAuthor": "Ilja Dubinin",
      "commitDateOld": "26/08/15 6:08 PM",
      "commitNameOld": "f6113bb56d695719a8803274effb3596cb82120f",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 0.46,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    public static Scope getSurroundingScope(DetailAST aAST) {\n        Scope retVal \u003d null;\n        for (DetailAST token \u003d aAST.getParent();\n             token !\u003d null;\n             token \u003d token.getParent()) {\n            final int type \u003d token.getType();\n            if (type \u003d\u003d TokenTypes.CLASS_DEF\n                || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                final DetailAST mods \u003d\n                    token.findFirstToken(TokenTypes.MODIFIERS);\n                final Scope modScope \u003d getScopeFromMods(mods);\n                if (retVal \u003d\u003d null || retVal.isIn(modScope)) {\n                    retVal \u003d modScope;\n                }\n            }\n            else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                retVal \u003d Scope.ANONINNER;\n                // because Scope.ANONINNER is not in any other Scope\n                break;\n            }\n        }\n\n        return retVal;\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/utils/ScopeUtils.java",
      "extendedDetails": {
        "oldPath": "src/main/java/com/puppycrawl/tools/checkstyle/ScopeUtils.java",
        "newPath": "src/main/java/com/puppycrawl/tools/checkstyle/utils/ScopeUtils.java"
      }
    },
    "82d8e91024a57a96fbb6410dacb29d6a3f582903": {
      "type": "Ybodychange",
      "commitMessage": "Remove unnecessary qualifiers. #1555\n\nFixes `UnnecessarilyQualifiedStaticUsage` inspection violations.\n\nDescription:\n\u003eReports calls to static methods or accesses of static fields on the current class which are qualified with the class name. Such qualification is unnecessary, and may be safely removed.\n",
      "commitDate": "11/08/15 1:14 PM",
      "commitName": "82d8e91024a57a96fbb6410dacb29d6a3f582903",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": "11/08/15 5:18 AM",
      "commitNameOld": "1935bed5772c0a939b9168b81acd2ab5aa800538",
      "commitAuthorOld": "Baratali Izmailov",
      "daysBetweenCommits": 0.33,
      "commitsBetweenForRepo": 6,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,25 +1,25 @@\n     public static Scope getSurroundingScope(DetailAST aAST) {\n         Scope retVal \u003d null;\n         for (DetailAST token \u003d aAST.getParent();\n              token !\u003d null;\n              token \u003d token.getParent()) {\n             final int type \u003d token.getType();\n             if (type \u003d\u003d TokenTypes.CLASS_DEF\n                 || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                 || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                 || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                 final DetailAST mods \u003d\n                     token.findFirstToken(TokenTypes.MODIFIERS);\n-                final Scope modScope \u003d ScopeUtils.getScopeFromMods(mods);\n+                final Scope modScope \u003d getScopeFromMods(mods);\n                 if (retVal \u003d\u003d null || retVal.isIn(modScope)) {\n                     retVal \u003d modScope;\n                 }\n             }\n             else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                 retVal \u003d Scope.ANONINNER;\n                 break; //because Scope.ANONINNER is not in any other Scope\n             }\n         }\n \n         return retVal;\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public static Scope getSurroundingScope(DetailAST aAST) {\n        Scope retVal \u003d null;\n        for (DetailAST token \u003d aAST.getParent();\n             token !\u003d null;\n             token \u003d token.getParent()) {\n            final int type \u003d token.getType();\n            if (type \u003d\u003d TokenTypes.CLASS_DEF\n                || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                || type \u003d\u003d TokenTypes.ENUM_DEF) {\n                final DetailAST mods \u003d\n                    token.findFirstToken(TokenTypes.MODIFIERS);\n                final Scope modScope \u003d getScopeFromMods(mods);\n                if (retVal \u003d\u003d null || retVal.isIn(modScope)) {\n                    retVal \u003d modScope;\n                }\n            }\n            else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                retVal \u003d Scope.ANONINNER;\n                break; //because Scope.ANONINNER is not in any other Scope\n            }\n        }\n\n        return retVal;\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/ScopeUtils.java",
      "extendedDetails": {}
    },
    "e3b3bfb9997b28fc95d0f950e9673a595e2f4c7d": {
      "type": "Yintroduced",
      "commitMessage": "Util classes should be moved out of api package. Issue #1057\n",
      "commitDate": "05/05/15 4:40 PM",
      "commitName": "e3b3bfb9997b28fc95d0f950e9673a595e2f4c7d",
      "commitAuthor": "Roman Ivanov",
      "diff": "@@ -0,0 +1,28 @@\n+    public static Scope getSurroundingScope(DetailAST aAST)\n+    {\n+        Scope retVal \u003d null;\n+        for (DetailAST token \u003d aAST.getParent();\n+             token !\u003d null;\n+             token \u003d token.getParent())\n+        {\n+            final int type \u003d token.getType();\n+            if (type \u003d\u003d TokenTypes.CLASS_DEF\n+                || type \u003d\u003d TokenTypes.INTERFACE_DEF\n+                || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n+                || type \u003d\u003d TokenTypes.ENUM_DEF)\n+            {\n+                final DetailAST mods \u003d\n+                    token.findFirstToken(TokenTypes.MODIFIERS);\n+                final Scope modScope \u003d ScopeUtils.getScopeFromMods(mods);\n+                if (retVal \u003d\u003d null || retVal.isIn(modScope)) {\n+                    retVal \u003d modScope;\n+                }\n+            }\n+            else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n+                retVal \u003d Scope.ANONINNER;\n+                break; //because Scope.ANONINNER is not in any other Scope\n+            }\n+        }\n+\n+        return retVal;\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    public static Scope getSurroundingScope(DetailAST aAST)\n    {\n        Scope retVal \u003d null;\n        for (DetailAST token \u003d aAST.getParent();\n             token !\u003d null;\n             token \u003d token.getParent())\n        {\n            final int type \u003d token.getType();\n            if (type \u003d\u003d TokenTypes.CLASS_DEF\n                || type \u003d\u003d TokenTypes.INTERFACE_DEF\n                || type \u003d\u003d TokenTypes.ANNOTATION_DEF\n                || type \u003d\u003d TokenTypes.ENUM_DEF)\n            {\n                final DetailAST mods \u003d\n                    token.findFirstToken(TokenTypes.MODIFIERS);\n                final Scope modScope \u003d ScopeUtils.getScopeFromMods(mods);\n                if (retVal \u003d\u003d null || retVal.isIn(modScope)) {\n                    retVal \u003d modScope;\n                }\n            }\n            else if (type \u003d\u003d TokenTypes.LITERAL_NEW) {\n                retVal \u003d Scope.ANONINNER;\n                break; //because Scope.ANONINNER is not in any other Scope\n            }\n        }\n\n        return retVal;\n    }",
      "path": "src/main/java/com/puppycrawl/tools/checkstyle/ScopeUtils.java"
    }
  }
}