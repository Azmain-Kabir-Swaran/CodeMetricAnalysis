{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ContainerManagementProtocolProxy.java",
  "functionName": "tryCloseProxy",
  "functionId": "tryCloseProxy___proxy-ContainerManagementProtocolProxyData",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/api/impl/ContainerManagementProtocolProxy.java",
  "functionStartLine": 186,
  "functionEndLine": 200,
  "numCommitsSeen": 10,
  "timeTaken": 1617,
  "changeHistory": [
    "2064ca015d1584263aac0cc20c60b925a3aff612",
    "b84fb41bb6ca2d69153cf5bd61f88492538ee713",
    "f44cf99599119b5e989be724eeab447b2dc4fe53"
  ],
  "changeHistoryShort": {
    "2064ca015d1584263aac0cc20c60b925a3aff612": "Ybodychange",
    "b84fb41bb6ca2d69153cf5bd61f88492538ee713": "Ybodychange",
    "f44cf99599119b5e989be724eeab447b2dc4fe53": "Yintroduced"
  },
  "changeHistoryDetails": {
    "2064ca015d1584263aac0cc20c60b925a3aff612": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9349.  Changed logging to use slf4j api.\n            Contributed by Prabhu Joseph\n",
      "commitDate": "15/03/19 4:20 PM",
      "commitName": "2064ca015d1584263aac0cc20c60b925a3aff612",
      "commitAuthor": "Eric Yang",
      "commitDateOld": "31/10/17 1:09 AM",
      "commitNameOld": "c02d2ba50db8a355ea03081c3984b2ea0c375a3f",
      "commitAuthorOld": "Akira Ajisaka",
      "daysBetweenCommits": 500.63,
      "commitsBetweenForRepo": 4349,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,15 @@\n   private boolean tryCloseProxy(\n       ContainerManagementProtocolProxyData proxy) {\n     proxy.activeCallers--;\n     if (proxy.scheduledForClose \u0026\u0026 proxy.activeCallers \u003c 0) {\n-      if (LOG.isDebugEnabled()) {\n-        LOG.debug(\"Closing proxy : \" + proxy.containerManagerBindAddr);\n-      }\n+      LOG.debug(\"Closing proxy : {}\", proxy.containerManagerBindAddr);\n       cmProxy.remove(proxy.containerManagerBindAddr);\n       try {\n         rpc.stopProxy(proxy.getContainerManagementProtocol(), conf);\n       } finally {\n         this.notifyAll();\n       }\n       return true;\n     }\n     return false;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private boolean tryCloseProxy(\n      ContainerManagementProtocolProxyData proxy) {\n    proxy.activeCallers--;\n    if (proxy.scheduledForClose \u0026\u0026 proxy.activeCallers \u003c 0) {\n      LOG.debug(\"Closing proxy : {}\", proxy.containerManagerBindAddr);\n      cmProxy.remove(proxy.containerManagerBindAddr);\n      try {\n        rpc.stopProxy(proxy.getContainerManagementProtocol(), conf);\n      } finally {\n        this.notifyAll();\n      }\n      return true;\n    }\n    return false;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/api/impl/ContainerManagementProtocolProxy.java",
      "extendedDetails": {}
    },
    "b84fb41bb6ca2d69153cf5bd61f88492538ee713": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4115. Reduce loglevel of ContainerManagementProtocolProxy to Debug (adhoot via rkanter)\n",
      "commitDate": "11/09/15 11:46 AM",
      "commitName": "b84fb41bb6ca2d69153cf5bd61f88492538ee713",
      "commitAuthor": "Robert Kanter",
      "commitDateOld": "20/04/15 10:38 AM",
      "commitNameOld": "f967fd2f21791c5c4a5a090cc14ee88d155d2e2b",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 144.05,
      "commitsBetweenForRepo": 1052,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,17 @@\n   private boolean tryCloseProxy(\n       ContainerManagementProtocolProxyData proxy) {\n     proxy.activeCallers--;\n     if (proxy.scheduledForClose \u0026\u0026 proxy.activeCallers \u003c 0) {\n-      LOG.info(\"Closing proxy : \" + proxy.containerManagerBindAddr);\n+      if (LOG.isDebugEnabled()) {\n+        LOG.debug(\"Closing proxy : \" + proxy.containerManagerBindAddr);\n+      }\n       cmProxy.remove(proxy.containerManagerBindAddr);\n       try {\n         rpc.stopProxy(proxy.getContainerManagementProtocol(), conf);\n       } finally {\n         this.notifyAll();\n       }\n       return true;\n     }\n     return false;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private boolean tryCloseProxy(\n      ContainerManagementProtocolProxyData proxy) {\n    proxy.activeCallers--;\n    if (proxy.scheduledForClose \u0026\u0026 proxy.activeCallers \u003c 0) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"Closing proxy : \" + proxy.containerManagerBindAddr);\n      }\n      cmProxy.remove(proxy.containerManagerBindAddr);\n      try {\n        rpc.stopProxy(proxy.getContainerManagementProtocol(), conf);\n      } finally {\n        this.notifyAll();\n      }\n      return true;\n    }\n    return false;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/api/impl/ContainerManagementProtocolProxy.java",
      "extendedDetails": {}
    },
    "f44cf99599119b5e989be724eeab447b2dc4fe53": {
      "type": "Yintroduced",
      "commitMessage": "YARN-2314. Disable ContainerManagementProtocolProxy cache by default to prevent creating thousands of threads in a large cluster. Contributed by Jason Lowe\n",
      "commitDate": "24/10/14 11:05 PM",
      "commitName": "f44cf99599119b5e989be724eeab447b2dc4fe53",
      "commitAuthor": "Jian He",
      "diff": "@@ -0,0 +1,15 @@\n+  private boolean tryCloseProxy(\n+      ContainerManagementProtocolProxyData proxy) {\n+    proxy.activeCallers--;\n+    if (proxy.scheduledForClose \u0026\u0026 proxy.activeCallers \u003c 0) {\n+      LOG.info(\"Closing proxy : \" + proxy.containerManagerBindAddr);\n+      cmProxy.remove(proxy.containerManagerBindAddr);\n+      try {\n+        rpc.stopProxy(proxy.getContainerManagementProtocol(), conf);\n+      } finally {\n+        this.notifyAll();\n+      }\n+      return true;\n+    }\n+    return false;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private boolean tryCloseProxy(\n      ContainerManagementProtocolProxyData proxy) {\n    proxy.activeCallers--;\n    if (proxy.scheduledForClose \u0026\u0026 proxy.activeCallers \u003c 0) {\n      LOG.info(\"Closing proxy : \" + proxy.containerManagerBindAddr);\n      cmProxy.remove(proxy.containerManagerBindAddr);\n      try {\n        rpc.stopProxy(proxy.getContainerManagementProtocol(), conf);\n      } finally {\n        this.notifyAll();\n      }\n      return true;\n    }\n    return false;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/api/impl/ContainerManagementProtocolProxy.java"
    }
  }
}