{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "JobHistoryServer.java",
  "functionName": "main",
  "functionId": "main___args-String[]",
  "sourceFilePath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
  "functionStartLine": 232,
  "functionEndLine": 234,
  "numCommitsSeen": 38,
  "timeTaken": 9331,
  "changeHistory": [
    "c5c90ff8f58805880f27be66d28a811fe22a6152",
    "11782dd3a5ee5a2f6ad42b335f0386d00baa9ae1",
    "0fca4fbaf35ad6b48c57125a9389aaf45a2c88a5",
    "4ba2acf3363bdfd7fcdd9de496cd57f8af6f03ad",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc"
  ],
  "changeHistoryShort": {
    "c5c90ff8f58805880f27be66d28a811fe22a6152": "Ybodychange",
    "11782dd3a5ee5a2f6ad42b335f0386d00baa9ae1": "Ybodychange",
    "0fca4fbaf35ad6b48c57125a9389aaf45a2c88a5": "Ybodychange",
    "4ba2acf3363bdfd7fcdd9de496cd57f8af6f03ad": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": "Ymultichange(Ymovefromfile,Yexceptionschange,Ybodychange,Yparameterchange)",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yintroduced"
  },
  "changeHistoryDetails": {
    "c5c90ff8f58805880f27be66d28a811fe22a6152": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-5425. Junit in TestJobHistoryServer failing in jdk 7. Contributed by Robert Parker\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1511464 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/13 1:02 PM",
      "commitName": "c5c90ff8f58805880f27be66d28a811fe22a6152",
      "commitAuthor": "Jason Darrell Lowe",
      "commitDateOld": "25/07/13 2:27 PM",
      "commitNameOld": "8fa3ebd13451a243510eed5c2f3dd43cdf605a77",
      "commitAuthorOld": "Jason Darrell Lowe",
      "daysBetweenCommits": 12.94,
      "commitsBetweenForRepo": 80,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,3 @@\n   public static void main(String[] args) {\n-    Thread.setDefaultUncaughtExceptionHandler(new YarnUncaughtExceptionHandler());\n-    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n-    try {\n-      JobHistoryServer jobHistoryServer \u003d new JobHistoryServer();\n-      ShutdownHookManager.get().addShutdownHook(\n-          new CompositeServiceShutdownHook(jobHistoryServer),\n-          SHUTDOWN_HOOK_PRIORITY);\n-      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n-      jobHistoryServer.init(conf);\n-      jobHistoryServer.start();\n-    } catch (Throwable t) {\n-      LOG.fatal(\"Error starting JobHistoryServer\", t);\n-      System.exit(-1);\n-    }\n+    launchJobHistoryServer(args);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    launchJobHistoryServer(args);\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
      "extendedDetails": {}
    },
    "11782dd3a5ee5a2f6ad42b335f0386d00baa9ae1": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-4300. OOM in AM can turn it into a zombie. (Robert Evans via tgraves)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1359399 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/07/12 2:08 PM",
      "commitName": "11782dd3a5ee5a2f6ad42b335f0386d00baa9ae1",
      "commitAuthor": "Thomas Graves",
      "commitDateOld": "03/05/12 8:20 PM",
      "commitNameOld": "0fca4fbaf35ad6b48c57125a9389aaf45a2c88a5",
      "commitAuthorOld": "Alejandro Abdelnur",
      "daysBetweenCommits": 66.74,
      "commitsBetweenForRepo": 326,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,16 @@\n   public static void main(String[] args) {\n+    Thread.setDefaultUncaughtExceptionHandler(new YarnUncaughtExceptionHandler());\n     StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n     try {\n       JobHistoryServer jobHistoryServer \u003d new JobHistoryServer();\n       ShutdownHookManager.get().addShutdownHook(\n           new CompositeServiceShutdownHook(jobHistoryServer),\n           SHUTDOWN_HOOK_PRIORITY);\n       YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n       jobHistoryServer.init(conf);\n       jobHistoryServer.start();\n     } catch (Throwable t) {\n       LOG.fatal(\"Error starting JobHistoryServer\", t);\n       System.exit(-1);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    Thread.setDefaultUncaughtExceptionHandler(new YarnUncaughtExceptionHandler());\n    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n    try {\n      JobHistoryServer jobHistoryServer \u003d new JobHistoryServer();\n      ShutdownHookManager.get().addShutdownHook(\n          new CompositeServiceShutdownHook(jobHistoryServer),\n          SHUTDOWN_HOOK_PRIORITY);\n      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n      jobHistoryServer.init(conf);\n      jobHistoryServer.start();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error starting JobHistoryServer\", t);\n      System.exit(-1);\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
      "extendedDetails": {}
    },
    "0fca4fbaf35ad6b48c57125a9389aaf45a2c88a5": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-4205. retrofit all JVM shutdown hooks to use ShutdownHookManager (tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1333748 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/05/12 8:20 PM",
      "commitName": "0fca4fbaf35ad6b48c57125a9389aaf45a2c88a5",
      "commitAuthor": "Alejandro Abdelnur",
      "commitDateOld": "02/03/12 11:28 AM",
      "commitNameOld": "99bf2902b29c4ab910d5043fe7091f7df04c21fe",
      "commitAuthorOld": "Siddharth Seth",
      "daysBetweenCommits": 62.33,
      "commitsBetweenForRepo": 438,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,15 @@\n   public static void main(String[] args) {\n     StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n     try {\n       JobHistoryServer jobHistoryServer \u003d new JobHistoryServer();\n-      Runtime.getRuntime().addShutdownHook(\n-          new CompositeServiceShutdownHook(jobHistoryServer));\n+      ShutdownHookManager.get().addShutdownHook(\n+          new CompositeServiceShutdownHook(jobHistoryServer),\n+          SHUTDOWN_HOOK_PRIORITY);\n       YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n       jobHistoryServer.init(conf);\n       jobHistoryServer.start();\n     } catch (Throwable t) {\n       LOG.fatal(\"Error starting JobHistoryServer\", t);\n       System.exit(-1);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n    try {\n      JobHistoryServer jobHistoryServer \u003d new JobHistoryServer();\n      ShutdownHookManager.get().addShutdownHook(\n          new CompositeServiceShutdownHook(jobHistoryServer),\n          SHUTDOWN_HOOK_PRIORITY);\n      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n      jobHistoryServer.init(conf);\n      jobHistoryServer.start();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error starting JobHistoryServer\", t);\n      System.exit(-1);\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
      "extendedDetails": {}
    },
    "4ba2acf3363bdfd7fcdd9de496cd57f8af6f03ad": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-2966. Added ShutDown hooks for MRV2 processes so that they can gracefully exit. Contributed by Abhijit Suresh Shingate.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1170746 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/09/11 10:57 AM",
      "commitName": "4ba2acf3363bdfd7fcdd9de496cd57f8af6f03ad",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "08/09/11 6:44 PM",
      "commitNameOld": "fafe8cd28e726566509c679e19d7da622f29f90d",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 5.68,
      "commitsBetweenForRepo": 37,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,14 @@\n   public static void main(String[] args) {\n     StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n-    JobHistoryServer server \u003d null;\n     try {\n-      server \u003d new JobHistoryServer();\n+      JobHistoryServer jobHistoryServer \u003d new JobHistoryServer();\n+      Runtime.getRuntime().addShutdownHook(\n+          new CompositeServiceShutdownHook(jobHistoryServer));\n       YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n-      server.init(conf);\n-      server.start();\n-    } catch (Throwable e) {\n-      LOG.fatal(StringUtils.stringifyException(e));\n+      jobHistoryServer.init(conf);\n+      jobHistoryServer.start();\n+    } catch (Throwable t) {\n+      LOG.fatal(\"Error starting JobHistoryServer\", t);\n       System.exit(-1);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n    try {\n      JobHistoryServer jobHistoryServer \u003d new JobHistoryServer();\n      Runtime.getRuntime().addShutdownHook(\n          new CompositeServiceShutdownHook(jobHistoryServer));\n      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n      jobHistoryServer.init(conf);\n      jobHistoryServer.start();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error starting JobHistoryServer\", t);\n      System.exit(-1);\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static void main(String[] args) {\n    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n    JobHistoryServer server \u003d null;\n    try {\n      server \u003d new JobHistoryServer();\n      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n      server.init(conf);\n      server.start();\n    } catch (Throwable e) {\n      LOG.fatal(StringUtils.stringifyException(e));\n      System.exit(-1);\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
        "newPath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java"
      }
    },
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": {
      "type": "Ymultichange(Ymovefromfile,Yexceptionschange,Ybodychange,Yparameterchange)",
      "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/08/11 4:07 AM",
      "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "18/08/11 4:07 AM",
          "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "17/08/11 8:02 PM",
          "commitNameOld": "dd86860633d2ed64705b669a75bf318442ed6225",
          "commitAuthorOld": "Todd Lipcon",
          "daysBetweenCommits": 0.34,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,13 @@\n-  public static void main(String argv[]) throws Exception {\n-    StringUtils.startupShutdownMessage(TaskTracker.class, argv, LOG);\n-    if (argv.length !\u003d 0) {\n-      System.out.println(\"usage: TaskTracker\");\n-      System.exit(-1);\n-    }\n+  public static void main(String[] args) {\n+    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n+    JobHistoryServer server \u003d null;\n     try {\n-      JobConf conf\u003dnew JobConf();\n-      // enable the server to track time spent waiting on locks\n-      ReflectionUtils.setContentionTracing\n-        (conf.getBoolean(TT_CONTENTION_TRACKING, false));\n-      new TaskTracker(conf).run();\n+      server \u003d new JobHistoryServer();\n+      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n+      server.init(conf);\n+      server.start();\n     } catch (Throwable e) {\n-      LOG.error(\"Can not start task tracker because \"+\n-                StringUtils.stringifyException(e));\n+      LOG.fatal(StringUtils.stringifyException(e));\n       System.exit(-1);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void main(String[] args) {\n    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n    JobHistoryServer server \u003d null;\n    try {\n      server \u003d new JobHistoryServer();\n      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n      server.init(conf);\n      server.start();\n    } catch (Throwable e) {\n      LOG.fatal(StringUtils.stringifyException(e));\n      System.exit(-1);\n    }\n  }",
          "path": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
          "extendedDetails": {
            "oldPath": "mapreduce/src/java/org/apache/hadoop/mapred/TaskTracker.java",
            "newPath": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
            "oldMethodName": "main",
            "newMethodName": "main"
          }
        },
        {
          "type": "Yexceptionschange",
          "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "18/08/11 4:07 AM",
          "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "17/08/11 8:02 PM",
          "commitNameOld": "dd86860633d2ed64705b669a75bf318442ed6225",
          "commitAuthorOld": "Todd Lipcon",
          "daysBetweenCommits": 0.34,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,13 @@\n-  public static void main(String argv[]) throws Exception {\n-    StringUtils.startupShutdownMessage(TaskTracker.class, argv, LOG);\n-    if (argv.length !\u003d 0) {\n-      System.out.println(\"usage: TaskTracker\");\n-      System.exit(-1);\n-    }\n+  public static void main(String[] args) {\n+    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n+    JobHistoryServer server \u003d null;\n     try {\n-      JobConf conf\u003dnew JobConf();\n-      // enable the server to track time spent waiting on locks\n-      ReflectionUtils.setContentionTracing\n-        (conf.getBoolean(TT_CONTENTION_TRACKING, false));\n-      new TaskTracker(conf).run();\n+      server \u003d new JobHistoryServer();\n+      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n+      server.init(conf);\n+      server.start();\n     } catch (Throwable e) {\n-      LOG.error(\"Can not start task tracker because \"+\n-                StringUtils.stringifyException(e));\n+      LOG.fatal(StringUtils.stringifyException(e));\n       System.exit(-1);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void main(String[] args) {\n    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n    JobHistoryServer server \u003d null;\n    try {\n      server \u003d new JobHistoryServer();\n      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n      server.init(conf);\n      server.start();\n    } catch (Throwable e) {\n      LOG.fatal(StringUtils.stringifyException(e));\n      System.exit(-1);\n    }\n  }",
          "path": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
          "extendedDetails": {
            "oldValue": "[Exception]",
            "newValue": "[]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "18/08/11 4:07 AM",
          "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "17/08/11 8:02 PM",
          "commitNameOld": "dd86860633d2ed64705b669a75bf318442ed6225",
          "commitAuthorOld": "Todd Lipcon",
          "daysBetweenCommits": 0.34,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,13 @@\n-  public static void main(String argv[]) throws Exception {\n-    StringUtils.startupShutdownMessage(TaskTracker.class, argv, LOG);\n-    if (argv.length !\u003d 0) {\n-      System.out.println(\"usage: TaskTracker\");\n-      System.exit(-1);\n-    }\n+  public static void main(String[] args) {\n+    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n+    JobHistoryServer server \u003d null;\n     try {\n-      JobConf conf\u003dnew JobConf();\n-      // enable the server to track time spent waiting on locks\n-      ReflectionUtils.setContentionTracing\n-        (conf.getBoolean(TT_CONTENTION_TRACKING, false));\n-      new TaskTracker(conf).run();\n+      server \u003d new JobHistoryServer();\n+      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n+      server.init(conf);\n+      server.start();\n     } catch (Throwable e) {\n-      LOG.error(\"Can not start task tracker because \"+\n-                StringUtils.stringifyException(e));\n+      LOG.fatal(StringUtils.stringifyException(e));\n       System.exit(-1);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void main(String[] args) {\n    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n    JobHistoryServer server \u003d null;\n    try {\n      server \u003d new JobHistoryServer();\n      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n      server.init(conf);\n      server.start();\n    } catch (Throwable e) {\n      LOG.fatal(StringUtils.stringifyException(e));\n      System.exit(-1);\n    }\n  }",
          "path": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
          "extendedDetails": {}
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "18/08/11 4:07 AM",
          "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "17/08/11 8:02 PM",
          "commitNameOld": "dd86860633d2ed64705b669a75bf318442ed6225",
          "commitAuthorOld": "Todd Lipcon",
          "daysBetweenCommits": 0.34,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,13 @@\n-  public static void main(String argv[]) throws Exception {\n-    StringUtils.startupShutdownMessage(TaskTracker.class, argv, LOG);\n-    if (argv.length !\u003d 0) {\n-      System.out.println(\"usage: TaskTracker\");\n-      System.exit(-1);\n-    }\n+  public static void main(String[] args) {\n+    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n+    JobHistoryServer server \u003d null;\n     try {\n-      JobConf conf\u003dnew JobConf();\n-      // enable the server to track time spent waiting on locks\n-      ReflectionUtils.setContentionTracing\n-        (conf.getBoolean(TT_CONTENTION_TRACKING, false));\n-      new TaskTracker(conf).run();\n+      server \u003d new JobHistoryServer();\n+      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n+      server.init(conf);\n+      server.start();\n     } catch (Throwable e) {\n-      LOG.error(\"Can not start task tracker because \"+\n-                StringUtils.stringifyException(e));\n+      LOG.fatal(StringUtils.stringifyException(e));\n       System.exit(-1);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void main(String[] args) {\n    StringUtils.startupShutdownMessage(JobHistoryServer.class, args, LOG);\n    JobHistoryServer server \u003d null;\n    try {\n      server \u003d new JobHistoryServer();\n      YarnConfiguration conf \u003d new YarnConfiguration(new JobConf());\n      server.init(conf);\n      server.start();\n    } catch (Throwable e) {\n      LOG.fatal(StringUtils.stringifyException(e));\n      System.exit(-1);\n    }\n  }",
          "path": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-hs/src/main/java/org/apache/hadoop/mapreduce/v2/hs/JobHistoryServer.java",
          "extendedDetails": {
            "oldValue": "[argv-String[]]",
            "newValue": "[args-String[]]"
          }
        }
      ]
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "diff": "@@ -0,0 +1,18 @@\n+  public static void main(String argv[]) throws Exception {\n+    StringUtils.startupShutdownMessage(TaskTracker.class, argv, LOG);\n+    if (argv.length !\u003d 0) {\n+      System.out.println(\"usage: TaskTracker\");\n+      System.exit(-1);\n+    }\n+    try {\n+      JobConf conf\u003dnew JobConf();\n+      // enable the server to track time spent waiting on locks\n+      ReflectionUtils.setContentionTracing\n+        (conf.getBoolean(TT_CONTENTION_TRACKING, false));\n+      new TaskTracker(conf).run();\n+    } catch (Throwable e) {\n+      LOG.error(\"Can not start task tracker because \"+\n+                StringUtils.stringifyException(e));\n+      System.exit(-1);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String argv[]) throws Exception {\n    StringUtils.startupShutdownMessage(TaskTracker.class, argv, LOG);\n    if (argv.length !\u003d 0) {\n      System.out.println(\"usage: TaskTracker\");\n      System.exit(-1);\n    }\n    try {\n      JobConf conf\u003dnew JobConf();\n      // enable the server to track time spent waiting on locks\n      ReflectionUtils.setContentionTracing\n        (conf.getBoolean(TT_CONTENTION_TRACKING, false));\n      new TaskTracker(conf).run();\n    } catch (Throwable e) {\n      LOG.error(\"Can not start task tracker because \"+\n                StringUtils.stringifyException(e));\n      System.exit(-1);\n    }\n  }",
      "path": "mapreduce/src/java/org/apache/hadoop/mapred/TaskTracker.java"
    }
  }
}