{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ApplicationMaster.java",
  "functionName": "onStartContainerError",
  "functionId": "onStartContainerError___containerId-ContainerId__t-Throwable",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
  "functionStartLine": 1354,
  "functionEndLine": 1366,
  "numCommitsSeen": 113,
  "timeTaken": 3035,
  "changeHistory": [
    "1ef0a1db1d6a412b2a26782329a8325635866d0a",
    "71a4acf74bc9ca34f0e57835c9d6e3efbe7c0567",
    "be3edccf0acf55e710b0ec8ab8ce8418da74c615",
    "b503b6a07d7210c94657131dcd97239012ecb313"
  ],
  "changeHistoryShort": {
    "1ef0a1db1d6a412b2a26782329a8325635866d0a": "Ybodychange",
    "71a4acf74bc9ca34f0e57835c9d6e3efbe7c0567": "Ybodychange",
    "be3edccf0acf55e710b0ec8ab8ce8418da74c615": "Ybodychange",
    "b503b6a07d7210c94657131dcd97239012ecb313": "Yintroduced"
  },
  "changeHistoryDetails": {
    "1ef0a1db1d6a412b2a26782329a8325635866d0a": {
      "type": "Ybodychange",
      "commitMessage": "YARN-7894. Improve ATS response for DShell DS_CONTAINER when container launch fails. Contributed by Chandni Singh\n",
      "commitDate": "08/05/18 1:49 PM",
      "commitName": "1ef0a1db1d6a412b2a26782329a8325635866d0a",
      "commitAuthor": "Billie Rinaldi",
      "commitDateOld": "01/05/18 7:27 AM",
      "commitNameOld": "4e1382aca4cf23ca229bdd24e0f143c22449b329",
      "commitAuthorOld": "Billie Rinaldi",
      "daysBetweenCommits": 7.27,
      "commitsBetweenForRepo": 45,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,13 @@\n     public void onStartContainerError(ContainerId containerId, Throwable t) {\n-      LOG.error(\"Failed to start Container \" + containerId, t);\n+      LOG.error(\"Failed to start Container {}\", containerId, t);\n       containers.remove(containerId);\n       applicationMaster.numCompletedContainers.incrementAndGet();\n       applicationMaster.numFailedContainers.incrementAndGet();\n+      if (timelineServiceV2Enabled) {\n+        publishContainerStartFailedEventOnTimelineServiceV2(containerId,\n+            t.getMessage());\n+      }\n+      if (timelineServiceV1Enabled) {\n+        publishContainerStartFailedEvent(containerId, t.getMessage());\n+      }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void onStartContainerError(ContainerId containerId, Throwable t) {\n      LOG.error(\"Failed to start Container {}\", containerId, t);\n      containers.remove(containerId);\n      applicationMaster.numCompletedContainers.incrementAndGet();\n      applicationMaster.numFailedContainers.incrementAndGet();\n      if (timelineServiceV2Enabled) {\n        publishContainerStartFailedEventOnTimelineServiceV2(containerId,\n            t.getMessage());\n      }\n      if (timelineServiceV1Enabled) {\n        publishContainerStartFailedEvent(containerId, t.getMessage());\n      }\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "71a4acf74bc9ca34f0e57835c9d6e3efbe7c0567": {
      "type": "Ybodychange",
      "commitMessage": "YARN-5991. Yarn Distributed Shell does not print throwable t to App Master When failed to start container\n(Contributed by Jim Frankola via Daniel Templeton)\n",
      "commitDate": "06/01/17 2:26 PM",
      "commitName": "71a4acf74bc9ca34f0e57835c9d6e3efbe7c0567",
      "commitAuthor": "Daniel Templeton",
      "commitDateOld": "30/08/16 3:52 PM",
      "commitNameOld": "d6d9cff21b7b6141ed88359652cf22e8973c0661",
      "commitAuthorOld": "Arun Suresh",
      "daysBetweenCommits": 128.98,
      "commitsBetweenForRepo": 855,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,6 @@\n     public void onStartContainerError(ContainerId containerId, Throwable t) {\n-      LOG.error(\"Failed to start Container \" + containerId);\n+      LOG.error(\"Failed to start Container \" + containerId, t);\n       containers.remove(containerId);\n       applicationMaster.numCompletedContainers.incrementAndGet();\n       applicationMaster.numFailedContainers.incrementAndGet();\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void onStartContainerError(ContainerId containerId, Throwable t) {\n      LOG.error(\"Failed to start Container \" + containerId, t);\n      containers.remove(containerId);\n      applicationMaster.numCompletedContainers.incrementAndGet();\n      applicationMaster.numFailedContainers.incrementAndGet();\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "be3edccf0acf55e710b0ec8ab8ce8418da74c615": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1273. Fixed Distributed-shell to account for containers that failed to start. Contributed by Hitesh Shah.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1529389 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "04/10/13 11:08 PM",
      "commitName": "be3edccf0acf55e710b0ec8ab8ce8418da74c615",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "04/10/13 6:43 PM",
      "commitNameOld": "fc23fd312174f36508eb40f3084e262e23a68e1b",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 0.18,
      "commitsBetweenForRepo": 2,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,4 +1,6 @@\n     public void onStartContainerError(ContainerId containerId, Throwable t) {\n       LOG.error(\"Failed to start Container \" + containerId);\n       containers.remove(containerId);\n+      applicationMaster.numCompletedContainers.incrementAndGet();\n+      applicationMaster.numFailedContainers.incrementAndGet();\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void onStartContainerError(ContainerId containerId, Throwable t) {\n      LOG.error(\"Failed to start Container \" + containerId);\n      containers.remove(containerId);\n      applicationMaster.numCompletedContainers.incrementAndGet();\n      applicationMaster.numFailedContainers.incrementAndGet();\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "b503b6a07d7210c94657131dcd97239012ecb313": {
      "type": "Yintroduced",
      "commitMessage": "YARN-639. Modified Distributed Shell application to start using the new NMClient library. Contributed by Zhijie Shen.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1493280 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/06/13 4:18 PM",
      "commitName": "b503b6a07d7210c94657131dcd97239012ecb313",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,4 @@\n+    public void onStartContainerError(ContainerId containerId, Throwable t) {\n+      LOG.error(\"Failed to start Container \" + containerId);\n+      containers.remove(containerId);\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    public void onStartContainerError(ContainerId containerId, Throwable t) {\n      LOG.error(\"Failed to start Container \" + containerId);\n      containers.remove(containerId);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java"
    }
  }
}