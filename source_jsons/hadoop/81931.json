{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ZKCuratorManager.java",
  "functionName": "safeCreate",
  "functionId": "safeCreate___path-String__data-byte[]__acl-List__ACL____mode-CreateMode__fencingACL-List__ACL____fencingNodePath-String",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/curator/ZKCuratorManager.java",
  "functionStartLine": 347,
  "functionEndLine": 356,
  "numCommitsSeen": 73,
  "timeTaken": 3747,
  "changeHistory": [
    "4249172e1419acdb2b69ae3db43dc59da2aa2e03",
    "960b8f19ca98dbcfdd30f2f1f275b8718d2e872f"
  ],
  "changeHistoryShort": {
    "4249172e1419acdb2b69ae3db43dc59da2aa2e03": "Ymultichange(Ymovefromfile,Ymodifierchange,Ybodychange,Yparameterchange)",
    "960b8f19ca98dbcfdd30f2f1f275b8718d2e872f": "Yintroduced"
  },
  "changeHistoryDetails": {
    "4249172e1419acdb2b69ae3db43dc59da2aa2e03": {
      "type": "Ymultichange(Ymovefromfile,Ymodifierchange,Ybodychange,Yparameterchange)",
      "commitMessage": "YARN-7053. Move curator transaction support to ZKCuratorManager. (Jonathan Hung via Subru).\n",
      "commitDate": "22/08/17 7:20 PM",
      "commitName": "4249172e1419acdb2b69ae3db43dc59da2aa2e03",
      "commitAuthor": "Subru Krishnan",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "YARN-7053. Move curator transaction support to ZKCuratorManager. (Jonathan Hung via Subru).\n",
          "commitDate": "22/08/17 7:20 PM",
          "commitName": "4249172e1419acdb2b69ae3db43dc59da2aa2e03",
          "commitAuthor": "Subru Krishnan",
          "commitDateOld": "22/08/17 2:50 PM",
          "commitNameOld": "c3793102121767c46091805eae65ef3919a5f368",
          "commitAuthorOld": "Jason Lowe",
          "daysBetweenCommits": 0.19,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,10 @@\n-  private void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n-      CreateMode mode) throws Exception {\n+  public void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n+      CreateMode mode, List\u003cACL\u003e fencingACL, String fencingNodePath)\n+      throws Exception {\n     if (!exists(path)) {\n-      SafeTransaction transaction \u003d new SafeTransaction();\n+      SafeTransaction transaction \u003d createTransaction(fencingACL,\n+          fencingNodePath);\n       transaction.create(path, data, acl, mode);\n       transaction.commit();\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n      CreateMode mode, List\u003cACL\u003e fencingACL, String fencingNodePath)\n      throws Exception {\n    if (!exists(path)) {\n      SafeTransaction transaction \u003d createTransaction(fencingACL,\n          fencingNodePath);\n      transaction.create(path, data, acl, mode);\n      transaction.commit();\n    }\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/curator/ZKCuratorManager.java",
          "extendedDetails": {
            "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/ZKRMStateStore.java",
            "newPath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/curator/ZKCuratorManager.java",
            "oldMethodName": "safeCreate",
            "newMethodName": "safeCreate"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "YARN-7053. Move curator transaction support to ZKCuratorManager. (Jonathan Hung via Subru).\n",
          "commitDate": "22/08/17 7:20 PM",
          "commitName": "4249172e1419acdb2b69ae3db43dc59da2aa2e03",
          "commitAuthor": "Subru Krishnan",
          "commitDateOld": "22/08/17 2:50 PM",
          "commitNameOld": "c3793102121767c46091805eae65ef3919a5f368",
          "commitAuthorOld": "Jason Lowe",
          "daysBetweenCommits": 0.19,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,10 @@\n-  private void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n-      CreateMode mode) throws Exception {\n+  public void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n+      CreateMode mode, List\u003cACL\u003e fencingACL, String fencingNodePath)\n+      throws Exception {\n     if (!exists(path)) {\n-      SafeTransaction transaction \u003d new SafeTransaction();\n+      SafeTransaction transaction \u003d createTransaction(fencingACL,\n+          fencingNodePath);\n       transaction.create(path, data, acl, mode);\n       transaction.commit();\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n      CreateMode mode, List\u003cACL\u003e fencingACL, String fencingNodePath)\n      throws Exception {\n    if (!exists(path)) {\n      SafeTransaction transaction \u003d createTransaction(fencingACL,\n          fencingNodePath);\n      transaction.create(path, data, acl, mode);\n      transaction.commit();\n    }\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/curator/ZKCuratorManager.java",
          "extendedDetails": {
            "oldValue": "[private]",
            "newValue": "[public]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-7053. Move curator transaction support to ZKCuratorManager. (Jonathan Hung via Subru).\n",
          "commitDate": "22/08/17 7:20 PM",
          "commitName": "4249172e1419acdb2b69ae3db43dc59da2aa2e03",
          "commitAuthor": "Subru Krishnan",
          "commitDateOld": "22/08/17 2:50 PM",
          "commitNameOld": "c3793102121767c46091805eae65ef3919a5f368",
          "commitAuthorOld": "Jason Lowe",
          "daysBetweenCommits": 0.19,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,10 @@\n-  private void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n-      CreateMode mode) throws Exception {\n+  public void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n+      CreateMode mode, List\u003cACL\u003e fencingACL, String fencingNodePath)\n+      throws Exception {\n     if (!exists(path)) {\n-      SafeTransaction transaction \u003d new SafeTransaction();\n+      SafeTransaction transaction \u003d createTransaction(fencingACL,\n+          fencingNodePath);\n       transaction.create(path, data, acl, mode);\n       transaction.commit();\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n      CreateMode mode, List\u003cACL\u003e fencingACL, String fencingNodePath)\n      throws Exception {\n    if (!exists(path)) {\n      SafeTransaction transaction \u003d createTransaction(fencingACL,\n          fencingNodePath);\n      transaction.create(path, data, acl, mode);\n      transaction.commit();\n    }\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/curator/ZKCuratorManager.java",
          "extendedDetails": {}
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-7053. Move curator transaction support to ZKCuratorManager. (Jonathan Hung via Subru).\n",
          "commitDate": "22/08/17 7:20 PM",
          "commitName": "4249172e1419acdb2b69ae3db43dc59da2aa2e03",
          "commitAuthor": "Subru Krishnan",
          "commitDateOld": "22/08/17 2:50 PM",
          "commitNameOld": "c3793102121767c46091805eae65ef3919a5f368",
          "commitAuthorOld": "Jason Lowe",
          "daysBetweenCommits": 0.19,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,10 @@\n-  private void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n-      CreateMode mode) throws Exception {\n+  public void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n+      CreateMode mode, List\u003cACL\u003e fencingACL, String fencingNodePath)\n+      throws Exception {\n     if (!exists(path)) {\n-      SafeTransaction transaction \u003d new SafeTransaction();\n+      SafeTransaction transaction \u003d createTransaction(fencingACL,\n+          fencingNodePath);\n       transaction.create(path, data, acl, mode);\n       transaction.commit();\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n      CreateMode mode, List\u003cACL\u003e fencingACL, String fencingNodePath)\n      throws Exception {\n    if (!exists(path)) {\n      SafeTransaction transaction \u003d createTransaction(fencingACL,\n          fencingNodePath);\n      transaction.create(path, data, acl, mode);\n      transaction.commit();\n    }\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/curator/ZKCuratorManager.java",
          "extendedDetails": {
            "oldValue": "[path-String, data-byte[], acl-List\u003cACL\u003e, mode-CreateMode]",
            "newValue": "[path-String, data-byte[], acl-List\u003cACL\u003e, mode-CreateMode, fencingACL-List\u003cACL\u003e, fencingNodePath-String]"
          }
        }
      ]
    },
    "960b8f19ca98dbcfdd30f2f1f275b8718d2e872f": {
      "type": "Yintroduced",
      "commitMessage": "YARN-2716. Refactor ZKRMStateStore retry code with Apache Curator. Contributed by Karthik Kambatla\n",
      "commitDate": "08/06/15 2:50 PM",
      "commitName": "960b8f19ca98dbcfdd30f2f1f275b8718d2e872f",
      "commitAuthor": "Jian He",
      "diff": "@@ -0,0 +1,8 @@\n+  private void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n+      CreateMode mode) throws Exception {\n+    if (!exists(path)) {\n+      SafeTransaction transaction \u003d new SafeTransaction();\n+      transaction.create(path, data, acl, mode);\n+      transaction.commit();\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void safeCreate(String path, byte[] data, List\u003cACL\u003e acl,\n      CreateMode mode) throws Exception {\n    if (!exists(path)) {\n      SafeTransaction transaction \u003d new SafeTransaction();\n      transaction.create(path, data, acl, mode);\n      transaction.commit();\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/ZKRMStateStore.java"
    }
  }
}