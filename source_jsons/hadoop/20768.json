{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "JobResourceUploader.java",
  "functionName": "addLog4jToDistributedCache",
  "functionId": "addLog4jToDistributedCache___job-Job__jobSubmitDir-Path",
  "sourceFilePath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/JobResourceUploader.java",
  "functionStartLine": 792,
  "functionEndLine": 801,
  "numCommitsSeen": 42,
  "timeTaken": 1760,
  "changeHistory": [
    "c66c3ac6bf9f63177279feec3f2917e4b882e2bc",
    "814afa46efef201cb782072432fc744e1cb9c463",
    "ed63b116465290fdb0acdf89170025f47b307599"
  ],
  "changeHistoryShort": {
    "c66c3ac6bf9f63177279feec3f2917e4b882e2bc": "Ymovefromfile",
    "814afa46efef201cb782072432fc744e1cb9c463": "Ybodychange",
    "ed63b116465290fdb0acdf89170025f47b307599": "Yintroduced"
  },
  "changeHistoryDetails": {
    "c66c3ac6bf9f63177279feec3f2917e4b882e2bc": {
      "type": "Ymovefromfile",
      "commitMessage": "MAPREDUCE-6267. Refactor JobSubmitter#copyAndConfigureFiles into it\u0027s own class. (Chris Trezzo via kasha)\n",
      "commitDate": "04/03/15 2:42 PM",
      "commitName": "c66c3ac6bf9f63177279feec3f2917e4b882e2bc",
      "commitAuthor": "Karthik Kambatla",
      "commitDateOld": "04/03/15 10:30 AM",
      "commitNameOld": "ed70fa142cabdbc1065e4dbbc95e99c8850c4751",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 0.17,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n-  private void addLog4jToDistributedCache(Job job,\n-      Path jobSubmitDir) throws IOException {\n+  private void addLog4jToDistributedCache(Job job, Path jobSubmitDir)\n+      throws IOException {\n     Configuration conf \u003d job.getConfiguration();\n     String log4jPropertyFile \u003d\n         conf.get(MRJobConfig.MAPREDUCE_JOB_LOG4J_PROPERTIES_FILE, \"\");\n     if (!log4jPropertyFile.isEmpty()) {\n-      short replication \u003d (short)conf.getInt(Job.SUBMIT_REPLICATION, 10);\n+      short replication \u003d (short) conf.getInt(Job.SUBMIT_REPLICATION, 10);\n       copyLog4jPropertyFile(job, jobSubmitDir, replication);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void addLog4jToDistributedCache(Job job, Path jobSubmitDir)\n      throws IOException {\n    Configuration conf \u003d job.getConfiguration();\n    String log4jPropertyFile \u003d\n        conf.get(MRJobConfig.MAPREDUCE_JOB_LOG4J_PROPERTIES_FILE, \"\");\n    if (!log4jPropertyFile.isEmpty()) {\n      short replication \u003d (short) conf.getInt(Job.SUBMIT_REPLICATION, 10);\n      copyLog4jPropertyFile(job, jobSubmitDir, replication);\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/JobResourceUploader.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/JobSubmitter.java",
        "newPath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/JobResourceUploader.java",
        "oldMethodName": "addLog4jToDistributedCache",
        "newMethodName": "addLog4jToDistributedCache"
      }
    },
    "814afa46efef201cb782072432fc744e1cb9c463": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-6225. Fix new findbug warnings in hadoop-mapreduce-client-core. Contributed by Varun Saxena\n",
      "commitDate": "16/02/15 9:38 AM",
      "commitName": "814afa46efef201cb782072432fc744e1cb9c463",
      "commitAuthor": "Junping Du",
      "commitDateOld": "06/11/14 7:10 AM",
      "commitNameOld": "10f9f5101c44be7c675a44ded4aad212627ecdee",
      "commitAuthorOld": "Jason Lowe",
      "daysBetweenCommits": 102.1,
      "commitsBetweenForRepo": 749,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,10 @@\n   private void addLog4jToDistributedCache(Job job,\n       Path jobSubmitDir) throws IOException {\n     Configuration conf \u003d job.getConfiguration();\n     String log4jPropertyFile \u003d\n         conf.get(MRJobConfig.MAPREDUCE_JOB_LOG4J_PROPERTIES_FILE, \"\");\n     if (!log4jPropertyFile.isEmpty()) {\n       short replication \u003d (short)conf.getInt(Job.SUBMIT_REPLICATION, 10);\n       copyLog4jPropertyFile(job, jobSubmitDir, replication);\n-\n-      // Set the working directory\n-      if (job.getWorkingDirectory() \u003d\u003d null) {\n-        job.setWorkingDirectory(jtFs.getWorkingDirectory());\n-      }\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void addLog4jToDistributedCache(Job job,\n      Path jobSubmitDir) throws IOException {\n    Configuration conf \u003d job.getConfiguration();\n    String log4jPropertyFile \u003d\n        conf.get(MRJobConfig.MAPREDUCE_JOB_LOG4J_PROPERTIES_FILE, \"\");\n    if (!log4jPropertyFile.isEmpty()) {\n      short replication \u003d (short)conf.getInt(Job.SUBMIT_REPLICATION, 10);\n      copyLog4jPropertyFile(job, jobSubmitDir, replication);\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/JobSubmitter.java",
      "extendedDetails": {}
    },
    "ed63b116465290fdb0acdf89170025f47b307599": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-6052. Supported overriding the default container-log4j.properties file per job. Contributed by Junping Du.\n",
      "commitDate": "01/11/14 12:47 AM",
      "commitName": "ed63b116465290fdb0acdf89170025f47b307599",
      "commitAuthor": "Zhijie Shen",
      "diff": "@@ -0,0 +1,15 @@\n+  private void addLog4jToDistributedCache(Job job,\n+      Path jobSubmitDir) throws IOException {\n+    Configuration conf \u003d job.getConfiguration();\n+    String log4jPropertyFile \u003d\n+        conf.get(MRJobConfig.MAPREDUCE_JOB_LOG4J_PROPERTIES_FILE, \"\");\n+    if (!log4jPropertyFile.isEmpty()) {\n+      short replication \u003d (short)conf.getInt(Job.SUBMIT_REPLICATION, 10);\n+      copyLog4jPropertyFile(job, jobSubmitDir, replication);\n+\n+      // Set the working directory\n+      if (job.getWorkingDirectory() \u003d\u003d null) {\n+        job.setWorkingDirectory(jtFs.getWorkingDirectory());\n+      }\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void addLog4jToDistributedCache(Job job,\n      Path jobSubmitDir) throws IOException {\n    Configuration conf \u003d job.getConfiguration();\n    String log4jPropertyFile \u003d\n        conf.get(MRJobConfig.MAPREDUCE_JOB_LOG4J_PROPERTIES_FILE, \"\");\n    if (!log4jPropertyFile.isEmpty()) {\n      short replication \u003d (short)conf.getInt(Job.SUBMIT_REPLICATION, 10);\n      copyLog4jPropertyFile(job, jobSubmitDir, replication);\n\n      // Set the working directory\n      if (job.getWorkingDirectory() \u003d\u003d null) {\n        job.setWorkingDirectory(jtFs.getWorkingDirectory());\n      }\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/JobSubmitter.java"
    }
  }
}