{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "BlockIdManager.java",
  "functionName": "clear",
  "functionId": "clear",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java",
  "functionStartLine": 279,
  "functionEndLine": 286,
  "numCommitsSeen": 21,
  "timeTaken": 3724,
  "changeHistory": [
    "77f2684dd3d480bdc16e95ffcd1d189a38d0acff",
    "ec25c7f9c7e60c077d8c4143253c20445fcdaecf",
    "3a9571308e99cc374681bbc451a517d41a150aa0",
    "8a91109d16394310f2568717f103e6fff7cbddb0",
    "c304890c8c7782d835896859f5b7f60b96c306c0",
    "6ae2a0d048e133b43249c248a75a4d77d9abb80d",
    "76e7264e8d6407f527bd877009aca11f7bb63bd7",
    "1a2e5cbc4dbed527fdbefc09abc1faaacf3da285",
    "571e9c623241106dad5521a870fb8daef3f2b00a"
  ],
  "changeHistoryShort": {
    "77f2684dd3d480bdc16e95ffcd1d189a38d0acff": "Ybodychange",
    "ec25c7f9c7e60c077d8c4143253c20445fcdaecf": "Ybodychange",
    "3a9571308e99cc374681bbc451a517d41a150aa0": "Ybodychange",
    "8a91109d16394310f2568717f103e6fff7cbddb0": "Ybodychange",
    "c304890c8c7782d835896859f5b7f60b96c306c0": "Ymodifierchange",
    "6ae2a0d048e133b43249c248a75a4d77d9abb80d": "Ybodychange",
    "76e7264e8d6407f527bd877009aca11f7bb63bd7": "Ybodychange",
    "1a2e5cbc4dbed527fdbefc09abc1faaacf3da285": "Ybodychange",
    "571e9c623241106dad5521a870fb8daef3f2b00a": "Yintroduced"
  },
  "changeHistoryDetails": {
    "77f2684dd3d480bdc16e95ffcd1d189a38d0acff": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10769. BlockIdManager.clear doesn\u0027t reset the counter for blockGroupIdGenerator (Contributed by Yiqun Lin and Rakesh R)\n",
      "commitDate": "27/10/16 1:46 AM",
      "commitName": "77f2684dd3d480bdc16e95ffcd1d189a38d0acff",
      "commitAuthor": "Vinayakumar B",
      "commitDateOld": "27/01/16 4:34 PM",
      "commitNameOld": "ec25c7f9c7e60c077d8c4143253c20445fcdaecf",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 273.34,
      "commitsBetweenForRepo": 1936,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,8 @@\n   void clear() {\n     legacyGenerationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n       .LAST_RESERVED_BLOCK_ID);\n+    getBlockGroupIdGenerator().setCurrentValue(Long.MIN_VALUE);\n     legacyGenerationStampLimit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    legacyGenerationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n      .LAST_RESERVED_BLOCK_ID);\n    getBlockGroupIdGenerator().setCurrentValue(Long.MIN_VALUE);\n    legacyGenerationStampLimit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java",
      "extendedDetails": {}
    },
    "ec25c7f9c7e60c077d8c4143253c20445fcdaecf": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9677. Rename generationStampV1/generationStampV2 to legacyGenerationStamp/generationStamp. Contributed by Mingliang Liu.\n",
      "commitDate": "27/01/16 4:34 PM",
      "commitName": "ec25c7f9c7e60c077d8c4143253c20445fcdaecf",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "27/01/16 4:31 PM",
      "commitNameOld": "3a9571308e99cc374681bbc451a517d41a150aa0",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   void clear() {\n-    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n-    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    legacyGenerationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n       .LAST_RESERVED_BLOCK_ID);\n-    generationStampV1Limit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n+    legacyGenerationStampLimit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    legacyGenerationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n      .LAST_RESERVED_BLOCK_ID);\n    legacyGenerationStampLimit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java",
      "extendedDetails": {}
    },
    "3a9571308e99cc374681bbc451a517d41a150aa0": {
      "type": "Ybodychange",
      "commitMessage": "Revert \"HDFS-9677. Rename generationStampV1/generationStampV2 to legacyGenerationStamp/generationStamp. Contributed by Mingliang Liu.\"\n\nThis reverts commit 8a91109d16394310f2568717f103e6fff7cbddb0.\n",
      "commitDate": "27/01/16 4:31 PM",
      "commitName": "3a9571308e99cc374681bbc451a517d41a150aa0",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "27/01/16 3:48 PM",
      "commitNameOld": "8a91109d16394310f2568717f103e6fff7cbddb0",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 0.03,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   void clear() {\n-    legacyGenerationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n-    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n       .LAST_RESERVED_BLOCK_ID);\n-    legacyGenerationStampLimit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n+    generationStampV1Limit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n      .LAST_RESERVED_BLOCK_ID);\n    generationStampV1Limit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java",
      "extendedDetails": {}
    },
    "8a91109d16394310f2568717f103e6fff7cbddb0": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9677. Rename generationStampV1/generationStampV2 to legacyGenerationStamp/generationStamp. Contributed by Mingliang Liu.\n",
      "commitDate": "27/01/16 3:48 PM",
      "commitName": "8a91109d16394310f2568717f103e6fff7cbddb0",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "21/01/16 11:13 AM",
      "commitNameOld": "c304890c8c7782d835896859f5b7f60b96c306c0",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 6.19,
      "commitsBetweenForRepo": 45,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   void clear() {\n-    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n-    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    legacyGenerationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n       .LAST_RESERVED_BLOCK_ID);\n-    generationStampV1Limit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n+    legacyGenerationStampLimit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    legacyGenerationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n      .LAST_RESERVED_BLOCK_ID);\n    legacyGenerationStampLimit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java",
      "extendedDetails": {}
    },
    "c304890c8c7782d835896859f5b7f60b96c306c0": {
      "type": "Ymodifierchange",
      "commitMessage": "HDFS-9542. Move BlockIdManager from FSNamesystem to BlockManager. Contributed by Jing Zhao.\n",
      "commitDate": "21/01/16 11:13 AM",
      "commitName": "c304890c8c7782d835896859f5b7f60b96c306c0",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "21/12/15 10:47 PM",
      "commitNameOld": "70d6f201260086a3f12beaa317fede2a99639fef",
      "commitAuthorOld": "Tsz-Wo Nicholas Sze",
      "daysBetweenCommits": 30.52,
      "commitsBetweenForRepo": 163,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n-  public void clear() {\n+  void clear() {\n     generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n       .LAST_RESERVED_BLOCK_ID);\n     generationStampV1Limit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n      .LAST_RESERVED_BLOCK_ID);\n    generationStampV1Limit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java",
      "extendedDetails": {
        "oldValue": "[public]",
        "newValue": "[]"
      }
    },
    "6ae2a0d048e133b43249c248a75a4d77d9abb80d": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-8249. Separate HdfsConstants into the client and the server side class. Contributed by Haohui Mai.\n",
      "commitDate": "02/05/15 10:03 AM",
      "commitName": "6ae2a0d048e133b43249c248a75a4d77d9abb80d",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "16/04/15 10:49 PM",
      "commitNameOld": "76e7264e8d6407f527bd877009aca11f7bb63bd7",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 15.47,
      "commitsBetweenForRepo": 137,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   public void clear() {\n     generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n       .LAST_RESERVED_BLOCK_ID);\n-    generationStampV1Limit \u003d HdfsConstantsClient.GRANDFATHER_GENERATION_STAMP;\n+    generationStampV1Limit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void clear() {\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n      .LAST_RESERVED_BLOCK_ID);\n    generationStampV1Limit \u003d HdfsConstants.GRANDFATHER_GENERATION_STAMP;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java",
      "extendedDetails": {}
    },
    "76e7264e8d6407f527bd877009aca11f7bb63bd7": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-8165. Move GRANDFATHER_GENERATION_STAMP and GRANDFATER_INODE_ID to hdfs-client. Contributed by Haohui Mai.\n",
      "commitDate": "16/04/15 10:49 PM",
      "commitName": "76e7264e8d6407f527bd877009aca11f7bb63bd7",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "13/11/14 2:43 PM",
      "commitNameOld": "1a2e5cbc4dbed527fdbefc09abc1faaacf3da285",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 154.3,
      "commitsBetweenForRepo": 1188,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   public void clear() {\n     generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n       .LAST_RESERVED_BLOCK_ID);\n-    generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n+    generationStampV1Limit \u003d HdfsConstantsClient.GRANDFATHER_GENERATION_STAMP;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void clear() {\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n      .LAST_RESERVED_BLOCK_ID);\n    generationStampV1Limit \u003d HdfsConstantsClient.GRANDFATHER_GENERATION_STAMP;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java",
      "extendedDetails": {}
    },
    "1a2e5cbc4dbed527fdbefc09abc1faaacf3da285": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7395. BlockIdManager#clear() bails out when resetting the GenerationStampV1Limit. Contributed by Haohui Mai.\n",
      "commitDate": "13/11/14 2:43 PM",
      "commitName": "1a2e5cbc4dbed527fdbefc09abc1faaacf3da285",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "11/11/14 12:42 PM",
      "commitNameOld": "571e9c623241106dad5521a870fb8daef3f2b00a",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 2.08,
      "commitsBetweenForRepo": 34,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   public void clear() {\n     generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n       .LAST_RESERVED_BLOCK_ID);\n-    setGenerationStampV1Limit(GenerationStamp.GRANDFATHER_GENERATION_STAMP);\n+    generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void clear() {\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n      .LAST_RESERVED_BLOCK_ID);\n    generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java",
      "extendedDetails": {}
    },
    "571e9c623241106dad5521a870fb8daef3f2b00a": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-7381. Decouple the management of block id and gen stamps from FSNamesystem. Contributed by Haohui Mai.\n",
      "commitDate": "11/11/14 12:42 PM",
      "commitName": "571e9c623241106dad5521a870fb8daef3f2b00a",
      "commitAuthor": "Haohui Mai",
      "diff": "@@ -0,0 +1,7 @@\n+  public void clear() {\n+    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n+      .LAST_RESERVED_BLOCK_ID);\n+    setGenerationStampV1Limit(GenerationStamp.GRANDFATHER_GENERATION_STAMP);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void clear() {\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    getBlockIdGenerator().setCurrentValue(SequentialBlockIdGenerator\n      .LAST_RESERVED_BLOCK_ID);\n    setGenerationStampV1Limit(GenerationStamp.GRANDFATHER_GENERATION_STAMP);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockIdManager.java"
    }
  }
}