{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "BlockManager.java",
  "functionName": "removeStoredBlock",
  "functionId": "removeStoredBlock___storageInfo-DatanodeStorageInfo__block-Block__node-DatanodeDescriptor",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockManager.java",
  "functionStartLine": 4036,
  "functionEndLine": 4044,
  "numCommitsSeen": 477,
  "timeTaken": 11408,
  "changeHistory": [
    "c304890c8c7782d835896859f5b7f60b96c306c0",
    "663eba0ab1c73b45f98e46ffc87ad8fd91584046",
    "de480d6c8945bd8b5b00e8657b7a72ce8dd9b6b5",
    "6bacaa9a5233cbad7f311ccd9d8f8dc9375c732d",
    "2d4ae3d18bc530fa9f81ee616db8af3395705fb9"
  ],
  "changeHistoryShort": {
    "c304890c8c7782d835896859f5b7f60b96c306c0": "Ybodychange",
    "663eba0ab1c73b45f98e46ffc87ad8fd91584046": "Ybodychange",
    "de480d6c8945bd8b5b00e8657b7a72ce8dd9b6b5": "Ybodychange",
    "6bacaa9a5233cbad7f311ccd9d8f8dc9375c732d": "Ybodychange",
    "2d4ae3d18bc530fa9f81ee616db8af3395705fb9": "Yintroduced"
  },
  "changeHistoryDetails": {
    "c304890c8c7782d835896859f5b7f60b96c306c0": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9542. Move BlockIdManager from FSNamesystem to BlockManager. Contributed by Jing Zhao.\n",
      "commitDate": "21/01/16 11:13 AM",
      "commitName": "c304890c8c7782d835896859f5b7f60b96c306c0",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "06/01/16 9:57 PM",
      "commitNameOld": "34cd7cd76505d01ec251e30837c94ab03319a0c1",
      "commitAuthorOld": "Vinayakumar B",
      "daysBetweenCommits": 14.55,
      "commitsBetweenForRepo": 109,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,9 @@\n   private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n       DatanodeDescriptor node) {\n-    if (shouldPostponeBlocksFromFuture \u0026\u0026\n-        namesystem.isGenStampInFuture(block)) {\n+    if (shouldPostponeBlocksFromFuture \u0026\u0026 isGenStampInFuture(block)) {\n       queueReportedBlock(storageInfo, block, null,\n           QUEUE_REASON_FUTURE_GENSTAMP);\n       return;\n     }\n     removeStoredBlock(getStoredBlock(block), node);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n      DatanodeDescriptor node) {\n    if (shouldPostponeBlocksFromFuture \u0026\u0026 isGenStampInFuture(block)) {\n      queueReportedBlock(storageInfo, block, null,\n          QUEUE_REASON_FUTURE_GENSTAMP);\n      return;\n    }\n    removeStoredBlock(getStoredBlock(block), node);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockManager.java",
      "extendedDetails": {}
    },
    "663eba0ab1c73b45f98e46ffc87ad8fd91584046": {
      "type": "Ybodychange",
      "commitMessage": "Revert \"HDFS-8623. Refactor NameNode handling of invalid, corrupt, and under-recovery blocks. Contributed by Zhe Zhang.\"\n\nThis reverts commit de480d6c8945bd8b5b00e8657b7a72ce8dd9b6b5.\n",
      "commitDate": "06/08/15 10:21 AM",
      "commitName": "663eba0ab1c73b45f98e46ffc87ad8fd91584046",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "31/07/15 4:15 PM",
      "commitNameOld": "d311a38a6b32bbb210bd8748cfb65463e9c0740e",
      "commitAuthorOld": "Xiaoyu Yao",
      "daysBetweenCommits": 5.75,
      "commitsBetweenForRepo": 23,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n       DatanodeDescriptor node) {\n     if (shouldPostponeBlocksFromFuture \u0026\u0026\n         namesystem.isGenStampInFuture(block)) {\n       queueReportedBlock(storageInfo, block, null,\n           QUEUE_REASON_FUTURE_GENSTAMP);\n       return;\n     }\n-    removeStoredBlock(getStoredBlock(block), node);\n+    removeStoredBlock(block, node);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n      DatanodeDescriptor node) {\n    if (shouldPostponeBlocksFromFuture \u0026\u0026\n        namesystem.isGenStampInFuture(block)) {\n      queueReportedBlock(storageInfo, block, null,\n          QUEUE_REASON_FUTURE_GENSTAMP);\n      return;\n    }\n    removeStoredBlock(block, node);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockManager.java",
      "extendedDetails": {}
    },
    "de480d6c8945bd8b5b00e8657b7a72ce8dd9b6b5": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-8623. Refactor NameNode handling of invalid, corrupt, and under-recovery blocks. Contributed by Zhe Zhang.\n",
      "commitDate": "26/06/15 10:49 AM",
      "commitName": "de480d6c8945bd8b5b00e8657b7a72ce8dd9b6b5",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "24/06/15 2:42 PM",
      "commitNameOld": "afe9ea3c12e1f5a71922400eadb642960bc87ca1",
      "commitAuthorOld": "Andrew Wang",
      "daysBetweenCommits": 1.84,
      "commitsBetweenForRepo": 12,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n       DatanodeDescriptor node) {\n     if (shouldPostponeBlocksFromFuture \u0026\u0026\n         namesystem.isGenStampInFuture(block)) {\n       queueReportedBlock(storageInfo, block, null,\n           QUEUE_REASON_FUTURE_GENSTAMP);\n       return;\n     }\n-    removeStoredBlock(block, node);\n+    removeStoredBlock(getStoredBlock(block), node);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n      DatanodeDescriptor node) {\n    if (shouldPostponeBlocksFromFuture \u0026\u0026\n        namesystem.isGenStampInFuture(block)) {\n      queueReportedBlock(storageInfo, block, null,\n          QUEUE_REASON_FUTURE_GENSTAMP);\n      return;\n    }\n    removeStoredBlock(getStoredBlock(block), node);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockManager.java",
      "extendedDetails": {}
    },
    "6bacaa9a5233cbad7f311ccd9d8f8dc9375c732d": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7936. Erasure coding: resolving conflicts in the branch when merging trunk changes (this commit is for HDFS-8327 and HDFS-8357). Contributed by Zhe Zhang.\n",
      "commitDate": "26/05/15 12:01 PM",
      "commitName": "6bacaa9a5233cbad7f311ccd9d8f8dc9375c732d",
      "commitAuthor": "Zhe Zhang",
      "commitDateOld": "26/05/15 12:01 PM",
      "commitNameOld": "51ea117f883f9c049de58987dc66e07e71a68ee4",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n       DatanodeDescriptor node) {\n     if (shouldPostponeBlocksFromFuture \u0026\u0026\n         namesystem.isGenStampInFuture(block)) {\n       queueReportedBlock(storageInfo, block, null,\n           QUEUE_REASON_FUTURE_GENSTAMP);\n       return;\n     }\n-    removeStoredBlock(block, node);\n+    removeStoredBlock(getStoredBlock(block), node);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n      DatanodeDescriptor node) {\n    if (shouldPostponeBlocksFromFuture \u0026\u0026\n        namesystem.isGenStampInFuture(block)) {\n      queueReportedBlock(storageInfo, block, null,\n          QUEUE_REASON_FUTURE_GENSTAMP);\n      return;\n    }\n    removeStoredBlock(getStoredBlock(block), node);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockManager.java",
      "extendedDetails": {}
    },
    "2d4ae3d18bc530fa9f81ee616db8af3395705fb9": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-8245. Standby namenode doesn\u0027t process DELETED_BLOCK if the addblock request is in edit log. Contributed by Rushabh S Shah.\n",
      "commitDate": "08/05/15 2:36 PM",
      "commitName": "2d4ae3d18bc530fa9f81ee616db8af3395705fb9",
      "commitAuthor": "Kihwal Lee",
      "diff": "@@ -0,0 +1,10 @@\n+  private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n+      DatanodeDescriptor node) {\n+    if (shouldPostponeBlocksFromFuture \u0026\u0026\n+        namesystem.isGenStampInFuture(block)) {\n+      queueReportedBlock(storageInfo, block, null,\n+          QUEUE_REASON_FUTURE_GENSTAMP);\n+      return;\n+    }\n+    removeStoredBlock(block, node);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void removeStoredBlock(DatanodeStorageInfo storageInfo, Block block,\n      DatanodeDescriptor node) {\n    if (shouldPostponeBlocksFromFuture \u0026\u0026\n        namesystem.isGenStampInFuture(block)) {\n      queueReportedBlock(storageInfo, block, null,\n          QUEUE_REASON_FUTURE_GENSTAMP);\n      return;\n    }\n    removeStoredBlock(block, node);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/BlockManager.java"
    }
  }
}