{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSDirErasureCodingOp.java",
  "functionName": "getErasureCodingPolicies",
  "functionId": "getErasureCodingPolicies___fsn-FSNamesystem(modifiers-final)",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
  "functionStartLine": 429,
  "functionEndLine": 433,
  "numCommitsSeen": 41,
  "timeTaken": 3768,
  "changeHistory": [
    "e565b5277d5b890dad107fe85e295a3907e4bfc1",
    "200b11368d3954138a9bce128c8fa763b4a503a1",
    "33a38a534110de454662256545a7f4c075d328c8",
    "1d37a8812160bb030244a1e6b1c753f962d8d2ed",
    "98d340745be682fb251677bb4830aca76119868f"
  ],
  "changeHistoryShort": {
    "e565b5277d5b890dad107fe85e295a3907e4bfc1": "Yreturntypechange",
    "200b11368d3954138a9bce128c8fa763b4a503a1": "Ybodychange",
    "33a38a534110de454662256545a7f4c075d328c8": "Ybodychange",
    "1d37a8812160bb030244a1e6b1c753f962d8d2ed": "Ymultichange(Yrename,Yreturntypechange,Ybodychange)",
    "98d340745be682fb251677bb4830aca76119868f": "Yintroduced"
  },
  "changeHistoryDetails": {
    "e565b5277d5b890dad107fe85e295a3907e4bfc1": {
      "type": "Yreturntypechange",
      "commitMessage": "HDFS-12682. ECAdmin -listPolicies will always show SystemErasureCodingPolicies state as DISABLED.\n",
      "commitDate": "02/11/17 9:27 PM",
      "commitName": "e565b5277d5b890dad107fe85e295a3907e4bfc1",
      "commitAuthor": "Xiao Chen",
      "commitDateOld": "02/10/17 3:35 PM",
      "commitNameOld": "27ffd43b6419c9ebe697536bcb6abb858ce791d2",
      "commitAuthorOld": "Lei Xu",
      "daysBetweenCommits": 31.24,
      "commitsBetweenForRepo": 239,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,5 @@\n-  static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n-      throws IOException {\n+  static ErasureCodingPolicyInfo[] getErasureCodingPolicies(\n+      final FSNamesystem fsn) throws IOException {\n     assert fsn.hasReadLock();\n     return fsn.getErasureCodingPolicyManager().getPolicies();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static ErasureCodingPolicyInfo[] getErasureCodingPolicies(\n      final FSNamesystem fsn) throws IOException {\n    assert fsn.hasReadLock();\n    return fsn.getErasureCodingPolicyManager().getPolicies();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
      "extendedDetails": {
        "oldValue": "ErasureCodingPolicy[]",
        "newValue": "ErasureCodingPolicyInfo[]"
      }
    },
    "200b11368d3954138a9bce128c8fa763b4a503a1": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-12258. ec -listPolicies should list all policies in system, no matter it\u0027s enabled or disabled. Contributed by Wei Zhou.\n",
      "commitDate": "30/08/17 12:28 AM",
      "commitName": "200b11368d3954138a9bce128c8fa763b4a503a1",
      "commitAuthor": "Rakesh Radhakrishnan",
      "commitDateOld": "16/08/17 10:17 PM",
      "commitNameOld": "96b3a6b9721e922d33fadc2459b561a85dbf9b8e",
      "commitAuthorOld": "Andrew Wang",
      "daysBetweenCommits": 13.09,
      "commitsBetweenForRepo": 125,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,5 @@\n   static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n       throws IOException {\n     assert fsn.hasReadLock();\n-    return fsn.getErasureCodingPolicyManager().getEnabledPolicies();\n+    return fsn.getErasureCodingPolicyManager().getPolicies();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n      throws IOException {\n    assert fsn.hasReadLock();\n    return fsn.getErasureCodingPolicyManager().getPolicies();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
      "extendedDetails": {}
    },
    "33a38a534110de454662256545a7f4c075d328c8": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-11314. Enforce set of enabled EC policies on the NameNode.\n",
      "commitDate": "08/03/17 4:41 PM",
      "commitName": "33a38a534110de454662256545a7f4c075d328c8",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "03/03/17 1:00 PM",
      "commitNameOld": "3085a604300ed76d06a0011bd5555e419897b6cd",
      "commitAuthorOld": "Andrew Wang",
      "daysBetweenCommits": 5.15,
      "commitsBetweenForRepo": 38,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,5 @@\n   static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n       throws IOException {\n     assert fsn.hasReadLock();\n-    return fsn.getErasureCodingPolicyManager().getPolicies();\n+    return fsn.getErasureCodingPolicyManager().getEnabledPolicies();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n      throws IOException {\n    assert fsn.hasReadLock();\n    return fsn.getErasureCodingPolicyManager().getEnabledPolicies();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
      "extendedDetails": {}
    },
    "1d37a8812160bb030244a1e6b1c753f962d8d2ed": {
      "type": "Ymultichange(Yrename,Yreturntypechange,Ybodychange)",
      "commitMessage": "HDFS-8854. Erasure coding: add ECPolicy to replace schema+cellSize in hadoop-hdfs. Contributed by Walter Su.\n",
      "commitDate": "13/08/15 10:04 AM",
      "commitName": "1d37a8812160bb030244a1e6b1c753f962d8d2ed",
      "commitAuthor": "Zhe Zhang",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "HDFS-8854. Erasure coding: add ECPolicy to replace schema+cellSize in hadoop-hdfs. Contributed by Walter Su.\n",
          "commitDate": "13/08/15 10:04 AM",
          "commitName": "1d37a8812160bb030244a1e6b1c753f962d8d2ed",
          "commitAuthor": "Zhe Zhang",
          "commitDateOld": "10/06/15 10:18 PM",
          "commitNameOld": "98d340745be682fb251677bb4830aca76119868f",
          "commitAuthorOld": "Vinayakumar B",
          "daysBetweenCommits": 63.49,
          "commitsBetweenForRepo": 37,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,6 @@\n-  static ECSchema[] getErasureCodingSchemas(final FSNamesystem fsn)\n+  static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n       throws IOException {\n     assert fsn.hasReadLock();\n \n-    return fsn.getErasureCodingSchemaManager().getSchemas();\n+    return fsn.getErasureCodingPolicyManager().getPolicies();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n      throws IOException {\n    assert fsn.hasReadLock();\n\n    return fsn.getErasureCodingPolicyManager().getPolicies();\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
          "extendedDetails": {
            "oldValue": "getErasureCodingSchemas",
            "newValue": "getErasureCodingPolicies"
          }
        },
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-8854. Erasure coding: add ECPolicy to replace schema+cellSize in hadoop-hdfs. Contributed by Walter Su.\n",
          "commitDate": "13/08/15 10:04 AM",
          "commitName": "1d37a8812160bb030244a1e6b1c753f962d8d2ed",
          "commitAuthor": "Zhe Zhang",
          "commitDateOld": "10/06/15 10:18 PM",
          "commitNameOld": "98d340745be682fb251677bb4830aca76119868f",
          "commitAuthorOld": "Vinayakumar B",
          "daysBetweenCommits": 63.49,
          "commitsBetweenForRepo": 37,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,6 @@\n-  static ECSchema[] getErasureCodingSchemas(final FSNamesystem fsn)\n+  static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n       throws IOException {\n     assert fsn.hasReadLock();\n \n-    return fsn.getErasureCodingSchemaManager().getSchemas();\n+    return fsn.getErasureCodingPolicyManager().getPolicies();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n      throws IOException {\n    assert fsn.hasReadLock();\n\n    return fsn.getErasureCodingPolicyManager().getPolicies();\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
          "extendedDetails": {
            "oldValue": "ECSchema[]",
            "newValue": "ErasureCodingPolicy[]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-8854. Erasure coding: add ECPolicy to replace schema+cellSize in hadoop-hdfs. Contributed by Walter Su.\n",
          "commitDate": "13/08/15 10:04 AM",
          "commitName": "1d37a8812160bb030244a1e6b1c753f962d8d2ed",
          "commitAuthor": "Zhe Zhang",
          "commitDateOld": "10/06/15 10:18 PM",
          "commitNameOld": "98d340745be682fb251677bb4830aca76119868f",
          "commitAuthorOld": "Vinayakumar B",
          "daysBetweenCommits": 63.49,
          "commitsBetweenForRepo": 37,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,6 @@\n-  static ECSchema[] getErasureCodingSchemas(final FSNamesystem fsn)\n+  static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n       throws IOException {\n     assert fsn.hasReadLock();\n \n-    return fsn.getErasureCodingSchemaManager().getSchemas();\n+    return fsn.getErasureCodingPolicyManager().getPolicies();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static ErasureCodingPolicy[] getErasureCodingPolicies(final FSNamesystem fsn)\n      throws IOException {\n    assert fsn.hasReadLock();\n\n    return fsn.getErasureCodingPolicyManager().getPolicies();\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
          "extendedDetails": {}
        }
      ]
    },
    "98d340745be682fb251677bb4830aca76119868f": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-8450. Erasure Coding: Consolidate erasure coding zone related implementation into a single class (Contributed by Rakesh R)\n",
      "commitDate": "10/06/15 10:18 PM",
      "commitName": "98d340745be682fb251677bb4830aca76119868f",
      "commitAuthor": "Vinayakumar B",
      "diff": "@@ -0,0 +1,6 @@\n+  static ECSchema[] getErasureCodingSchemas(final FSNamesystem fsn)\n+      throws IOException {\n+    assert fsn.hasReadLock();\n+\n+    return fsn.getErasureCodingSchemaManager().getSchemas();\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  static ECSchema[] getErasureCodingSchemas(final FSNamesystem fsn)\n      throws IOException {\n    assert fsn.hasReadLock();\n\n    return fsn.getErasureCodingSchemaManager().getSchemas();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java"
    }
  }
}