{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMAppBlock.java",
  "functionName": "createApplicationMetricsTable",
  "functionId": "createApplicationMetricsTable___html-Block",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppBlock.java",
  "functionStartLine": 75,
  "functionEndLine": 118,
  "numCommitsSeen": 14,
  "timeTaken": 2003,
  "changeHistory": [
    "dae65f3bef8ffa34d02a37041f1dfdfeeee91845",
    "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397",
    "93eeb13164707d0e3556c2bf737bd2ee09a335c6",
    "4e886eb9cbd2dcb128bbfd17309c734083093a4c"
  ],
  "changeHistoryShort": {
    "dae65f3bef8ffa34d02a37041f1dfdfeeee91845": "Ybodychange",
    "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397": "Ybodychange",
    "93eeb13164707d0e3556c2bf737bd2ee09a335c6": "Ybodychange",
    "4e886eb9cbd2dcb128bbfd17309c734083093a4c": "Yintroduced"
  },
  "changeHistoryDetails": {
    "dae65f3bef8ffa34d02a37041f1dfdfeeee91845": {
      "type": "Ybodychange",
      "commitMessage": "YARN-6232. Update resource usage and preempted resource calculations to take into account all resource types. Contributed by Varun Vasudev.\n",
      "commitDate": "12/09/17 9:19 AM",
      "commitName": "dae65f3bef8ffa34d02a37041f1dfdfeeee91845",
      "commitAuthor": "Sunil G",
      "commitDateOld": "10/09/17 9:58 PM",
      "commitNameOld": "722ee841948db1f246f0056acec9a1ac464fe1f9",
      "commitAuthorOld": "Sunil G",
      "daysBetweenCommits": 1.47,
      "commitsBetweenForRepo": 24,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,47 +1,44 @@\n   protected void createApplicationMetricsTable(Block html){\n     RMApp rmApp \u003d this.rm.getRMContext().getRMApps().get(appID);\n     RMAppMetrics appMetrics \u003d rmApp \u003d\u003d null ? null : rmApp.getRMAppMetrics();\n     // Get attempt metrics and fields, it is possible currentAttempt of RMApp is\n     // null. In that case, we will assume resource preempted and number of Non\n     // AM container preempted on that attempt is 0\n     RMAppAttemptMetrics attemptMetrics;\n     if (rmApp \u003d\u003d null || null \u003d\u003d rmApp.getCurrentAppAttempt()) {\n       attemptMetrics \u003d null;\n     } else {\n       attemptMetrics \u003d rmApp.getCurrentAppAttempt().getRMAppAttemptMetrics();\n     }\n     Resource attemptResourcePreempted \u003d\n         attemptMetrics \u003d\u003d null ? Resources.none() : attemptMetrics\n           .getResourcePreempted();\n     int attemptNumNonAMContainerPreempted \u003d\n         attemptMetrics \u003d\u003d null ? 0 : attemptMetrics\n           .getNumNonAMContainersPreempted();\n     DIV\u003cHamlet\u003e pdiv \u003d html.\n         __(InfoBlock.class).\n         div(_INFO_WRAP);\n     info(\"Application Overview\").clear();\n     info(\"Application Metrics\")\n         .__(\"Total Resource Preempted:\",\n           appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getResourcePreempted())\n         .__(\"Total Number of Non-AM Containers Preempted:\",\n           appMetrics \u003d\u003d null ? \"N/A\"\n               : appMetrics.getNumNonAMContainersPreempted())\n         .__(\"Total Number of AM Containers Preempted:\",\n           appMetrics \u003d\u003d null ? \"N/A\"\n               : appMetrics.getNumAMContainersPreempted())\n         .__(\"Resource Preempted from Current Attempt:\",\n           attemptResourcePreempted)\n         .__(\"Number of Non-AM Containers Preempted from Current Attempt:\",\n           attemptNumNonAMContainerPreempted)\n-        .__(\"Aggregate Resource Allocation:\",\n-          String.format(\"%d MB-seconds, %d vcore-seconds\",\n-              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getMemorySeconds(),\n-              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getVcoreSeconds()))\n+        .__(\"Aggregate Resource Allocation:\", appMetrics \u003d\u003d null ? \"N/A\" :\n+            StringHelper\n+                .getResourceSecondsString(appMetrics.getResourceSecondsMap()))\n         .__(\"Aggregate Preempted Resource Allocation:\",\n-          String.format(\"%d MB-seconds, %d vcore-seconds\",\n-            appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getPreemptedMemorySeconds(),\n-            appMetrics \u003d\u003d null ? \"N/A\" :\n-                appMetrics.getPreemptedVcoreSeconds()));\n+            appMetrics \u003d\u003d null ? \"N/A\" : StringHelper.getResourceSecondsString(\n+                appMetrics.getPreemptedResourceSecondsMap()));\n \n     pdiv.__();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void createApplicationMetricsTable(Block html){\n    RMApp rmApp \u003d this.rm.getRMContext().getRMApps().get(appID);\n    RMAppMetrics appMetrics \u003d rmApp \u003d\u003d null ? null : rmApp.getRMAppMetrics();\n    // Get attempt metrics and fields, it is possible currentAttempt of RMApp is\n    // null. In that case, we will assume resource preempted and number of Non\n    // AM container preempted on that attempt is 0\n    RMAppAttemptMetrics attemptMetrics;\n    if (rmApp \u003d\u003d null || null \u003d\u003d rmApp.getCurrentAppAttempt()) {\n      attemptMetrics \u003d null;\n    } else {\n      attemptMetrics \u003d rmApp.getCurrentAppAttempt().getRMAppAttemptMetrics();\n    }\n    Resource attemptResourcePreempted \u003d\n        attemptMetrics \u003d\u003d null ? Resources.none() : attemptMetrics\n          .getResourcePreempted();\n    int attemptNumNonAMContainerPreempted \u003d\n        attemptMetrics \u003d\u003d null ? 0 : attemptMetrics\n          .getNumNonAMContainersPreempted();\n    DIV\u003cHamlet\u003e pdiv \u003d html.\n        __(InfoBlock.class).\n        div(_INFO_WRAP);\n    info(\"Application Overview\").clear();\n    info(\"Application Metrics\")\n        .__(\"Total Resource Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getResourcePreempted())\n        .__(\"Total Number of Non-AM Containers Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\"\n              : appMetrics.getNumNonAMContainersPreempted())\n        .__(\"Total Number of AM Containers Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\"\n              : appMetrics.getNumAMContainersPreempted())\n        .__(\"Resource Preempted from Current Attempt:\",\n          attemptResourcePreempted)\n        .__(\"Number of Non-AM Containers Preempted from Current Attempt:\",\n          attemptNumNonAMContainerPreempted)\n        .__(\"Aggregate Resource Allocation:\", appMetrics \u003d\u003d null ? \"N/A\" :\n            StringHelper\n                .getResourceSecondsString(appMetrics.getResourceSecondsMap()))\n        .__(\"Aggregate Preempted Resource Allocation:\",\n            appMetrics \u003d\u003d null ? \"N/A\" : StringHelper.getResourceSecondsString(\n                appMetrics.getPreemptedResourceSecondsMap()));\n\n    pdiv.__();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppBlock.java",
      "extendedDetails": {}
    },
    "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-11875. [JDK9] Adding a second copy of Hamlet without _ as a one-character identifier.\n",
      "commitDate": "27/07/17 5:10 PM",
      "commitName": "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "10/11/16 2:35 PM",
      "commitNameOld": "93eeb13164707d0e3556c2bf737bd2ee09a335c6",
      "commitAuthorOld": "Eric Payne",
      "daysBetweenCommits": 259.07,
      "commitsBetweenForRepo": 1357,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,47 +1,47 @@\n   protected void createApplicationMetricsTable(Block html){\n     RMApp rmApp \u003d this.rm.getRMContext().getRMApps().get(appID);\n     RMAppMetrics appMetrics \u003d rmApp \u003d\u003d null ? null : rmApp.getRMAppMetrics();\n     // Get attempt metrics and fields, it is possible currentAttempt of RMApp is\n     // null. In that case, we will assume resource preempted and number of Non\n     // AM container preempted on that attempt is 0\n     RMAppAttemptMetrics attemptMetrics;\n     if (rmApp \u003d\u003d null || null \u003d\u003d rmApp.getCurrentAppAttempt()) {\n       attemptMetrics \u003d null;\n     } else {\n       attemptMetrics \u003d rmApp.getCurrentAppAttempt().getRMAppAttemptMetrics();\n     }\n     Resource attemptResourcePreempted \u003d\n         attemptMetrics \u003d\u003d null ? Resources.none() : attemptMetrics\n           .getResourcePreempted();\n     int attemptNumNonAMContainerPreempted \u003d\n         attemptMetrics \u003d\u003d null ? 0 : attemptMetrics\n           .getNumNonAMContainersPreempted();\n     DIV\u003cHamlet\u003e pdiv \u003d html.\n-        _(InfoBlock.class).\n+        __(InfoBlock.class).\n         div(_INFO_WRAP);\n     info(\"Application Overview\").clear();\n     info(\"Application Metrics\")\n-        ._(\"Total Resource Preempted:\",\n+        .__(\"Total Resource Preempted:\",\n           appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getResourcePreempted())\n-        ._(\"Total Number of Non-AM Containers Preempted:\",\n+        .__(\"Total Number of Non-AM Containers Preempted:\",\n           appMetrics \u003d\u003d null ? \"N/A\"\n               : appMetrics.getNumNonAMContainersPreempted())\n-        ._(\"Total Number of AM Containers Preempted:\",\n+        .__(\"Total Number of AM Containers Preempted:\",\n           appMetrics \u003d\u003d null ? \"N/A\"\n               : appMetrics.getNumAMContainersPreempted())\n-        ._(\"Resource Preempted from Current Attempt:\",\n+        .__(\"Resource Preempted from Current Attempt:\",\n           attemptResourcePreempted)\n-        ._(\"Number of Non-AM Containers Preempted from Current Attempt:\",\n+        .__(\"Number of Non-AM Containers Preempted from Current Attempt:\",\n           attemptNumNonAMContainerPreempted)\n-        ._(\"Aggregate Resource Allocation:\",\n+        .__(\"Aggregate Resource Allocation:\",\n           String.format(\"%d MB-seconds, %d vcore-seconds\",\n               appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getMemorySeconds(),\n               appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getVcoreSeconds()))\n-        ._(\"Aggregate Preempted Resource Allocation:\",\n+        .__(\"Aggregate Preempted Resource Allocation:\",\n           String.format(\"%d MB-seconds, %d vcore-seconds\",\n             appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getPreemptedMemorySeconds(),\n             appMetrics \u003d\u003d null ? \"N/A\" :\n                 appMetrics.getPreemptedVcoreSeconds()));\n \n-    pdiv._();\n+    pdiv.__();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void createApplicationMetricsTable(Block html){\n    RMApp rmApp \u003d this.rm.getRMContext().getRMApps().get(appID);\n    RMAppMetrics appMetrics \u003d rmApp \u003d\u003d null ? null : rmApp.getRMAppMetrics();\n    // Get attempt metrics and fields, it is possible currentAttempt of RMApp is\n    // null. In that case, we will assume resource preempted and number of Non\n    // AM container preempted on that attempt is 0\n    RMAppAttemptMetrics attemptMetrics;\n    if (rmApp \u003d\u003d null || null \u003d\u003d rmApp.getCurrentAppAttempt()) {\n      attemptMetrics \u003d null;\n    } else {\n      attemptMetrics \u003d rmApp.getCurrentAppAttempt().getRMAppAttemptMetrics();\n    }\n    Resource attemptResourcePreempted \u003d\n        attemptMetrics \u003d\u003d null ? Resources.none() : attemptMetrics\n          .getResourcePreempted();\n    int attemptNumNonAMContainerPreempted \u003d\n        attemptMetrics \u003d\u003d null ? 0 : attemptMetrics\n          .getNumNonAMContainersPreempted();\n    DIV\u003cHamlet\u003e pdiv \u003d html.\n        __(InfoBlock.class).\n        div(_INFO_WRAP);\n    info(\"Application Overview\").clear();\n    info(\"Application Metrics\")\n        .__(\"Total Resource Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getResourcePreempted())\n        .__(\"Total Number of Non-AM Containers Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\"\n              : appMetrics.getNumNonAMContainersPreempted())\n        .__(\"Total Number of AM Containers Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\"\n              : appMetrics.getNumAMContainersPreempted())\n        .__(\"Resource Preempted from Current Attempt:\",\n          attemptResourcePreempted)\n        .__(\"Number of Non-AM Containers Preempted from Current Attempt:\",\n          attemptNumNonAMContainerPreempted)\n        .__(\"Aggregate Resource Allocation:\",\n          String.format(\"%d MB-seconds, %d vcore-seconds\",\n              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getMemorySeconds(),\n              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getVcoreSeconds()))\n        .__(\"Aggregate Preempted Resource Allocation:\",\n          String.format(\"%d MB-seconds, %d vcore-seconds\",\n            appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getPreemptedMemorySeconds(),\n            appMetrics \u003d\u003d null ? \"N/A\" :\n                appMetrics.getPreemptedVcoreSeconds()));\n\n    pdiv.__();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppBlock.java",
      "extendedDetails": {}
    },
    "93eeb13164707d0e3556c2bf737bd2ee09a335c6": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4218. Metric for resource*time that was preempted. Contributed by Chang Li.\n",
      "commitDate": "10/11/16 2:35 PM",
      "commitName": "93eeb13164707d0e3556c2bf737bd2ee09a335c6",
      "commitAuthor": "Eric Payne",
      "commitDateOld": "07/06/16 3:06 PM",
      "commitNameOld": "620325e81696fca140195b74929ed9eda2d5eb16",
      "commitAuthorOld": "Wangda Tan",
      "daysBetweenCommits": 156.02,
      "commitsBetweenForRepo": 1254,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,41 +1,47 @@\n   protected void createApplicationMetricsTable(Block html){\n     RMApp rmApp \u003d this.rm.getRMContext().getRMApps().get(appID);\n     RMAppMetrics appMetrics \u003d rmApp \u003d\u003d null ? null : rmApp.getRMAppMetrics();\n     // Get attempt metrics and fields, it is possible currentAttempt of RMApp is\n     // null. In that case, we will assume resource preempted and number of Non\n     // AM container preempted on that attempt is 0\n     RMAppAttemptMetrics attemptMetrics;\n     if (rmApp \u003d\u003d null || null \u003d\u003d rmApp.getCurrentAppAttempt()) {\n       attemptMetrics \u003d null;\n     } else {\n       attemptMetrics \u003d rmApp.getCurrentAppAttempt().getRMAppAttemptMetrics();\n     }\n     Resource attemptResourcePreempted \u003d\n         attemptMetrics \u003d\u003d null ? Resources.none() : attemptMetrics\n           .getResourcePreempted();\n     int attemptNumNonAMContainerPreempted \u003d\n         attemptMetrics \u003d\u003d null ? 0 : attemptMetrics\n           .getNumNonAMContainersPreempted();\n     DIV\u003cHamlet\u003e pdiv \u003d html.\n         _(InfoBlock.class).\n         div(_INFO_WRAP);\n     info(\"Application Overview\").clear();\n     info(\"Application Metrics\")\n         ._(\"Total Resource Preempted:\",\n           appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getResourcePreempted())\n         ._(\"Total Number of Non-AM Containers Preempted:\",\n           appMetrics \u003d\u003d null ? \"N/A\"\n               : appMetrics.getNumNonAMContainersPreempted())\n         ._(\"Total Number of AM Containers Preempted:\",\n           appMetrics \u003d\u003d null ? \"N/A\"\n               : appMetrics.getNumAMContainersPreempted())\n         ._(\"Resource Preempted from Current Attempt:\",\n           attemptResourcePreempted)\n         ._(\"Number of Non-AM Containers Preempted from Current Attempt:\",\n           attemptNumNonAMContainerPreempted)\n         ._(\"Aggregate Resource Allocation:\",\n           String.format(\"%d MB-seconds, %d vcore-seconds\",\n               appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getMemorySeconds(),\n-              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getVcoreSeconds()));\n+              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getVcoreSeconds()))\n+        ._(\"Aggregate Preempted Resource Allocation:\",\n+          String.format(\"%d MB-seconds, %d vcore-seconds\",\n+            appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getPreemptedMemorySeconds(),\n+            appMetrics \u003d\u003d null ? \"N/A\" :\n+                appMetrics.getPreemptedVcoreSeconds()));\n+\n     pdiv._();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void createApplicationMetricsTable(Block html){\n    RMApp rmApp \u003d this.rm.getRMContext().getRMApps().get(appID);\n    RMAppMetrics appMetrics \u003d rmApp \u003d\u003d null ? null : rmApp.getRMAppMetrics();\n    // Get attempt metrics and fields, it is possible currentAttempt of RMApp is\n    // null. In that case, we will assume resource preempted and number of Non\n    // AM container preempted on that attempt is 0\n    RMAppAttemptMetrics attemptMetrics;\n    if (rmApp \u003d\u003d null || null \u003d\u003d rmApp.getCurrentAppAttempt()) {\n      attemptMetrics \u003d null;\n    } else {\n      attemptMetrics \u003d rmApp.getCurrentAppAttempt().getRMAppAttemptMetrics();\n    }\n    Resource attemptResourcePreempted \u003d\n        attemptMetrics \u003d\u003d null ? Resources.none() : attemptMetrics\n          .getResourcePreempted();\n    int attemptNumNonAMContainerPreempted \u003d\n        attemptMetrics \u003d\u003d null ? 0 : attemptMetrics\n          .getNumNonAMContainersPreempted();\n    DIV\u003cHamlet\u003e pdiv \u003d html.\n        _(InfoBlock.class).\n        div(_INFO_WRAP);\n    info(\"Application Overview\").clear();\n    info(\"Application Metrics\")\n        ._(\"Total Resource Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getResourcePreempted())\n        ._(\"Total Number of Non-AM Containers Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\"\n              : appMetrics.getNumNonAMContainersPreempted())\n        ._(\"Total Number of AM Containers Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\"\n              : appMetrics.getNumAMContainersPreempted())\n        ._(\"Resource Preempted from Current Attempt:\",\n          attemptResourcePreempted)\n        ._(\"Number of Non-AM Containers Preempted from Current Attempt:\",\n          attemptNumNonAMContainerPreempted)\n        ._(\"Aggregate Resource Allocation:\",\n          String.format(\"%d MB-seconds, %d vcore-seconds\",\n              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getMemorySeconds(),\n              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getVcoreSeconds()))\n        ._(\"Aggregate Preempted Resource Allocation:\",\n          String.format(\"%d MB-seconds, %d vcore-seconds\",\n            appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getPreemptedMemorySeconds(),\n            appMetrics \u003d\u003d null ? \"N/A\" :\n                appMetrics.getPreemptedVcoreSeconds()));\n\n    pdiv._();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppBlock.java",
      "extendedDetails": {}
    },
    "4e886eb9cbd2dcb128bbfd17309c734083093a4c": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3379. Fixed missing data in localityTable and ResourceRequests table in RM WebUI. Contributed by Xuan Gong\n",
      "commitDate": "19/03/15 10:27 PM",
      "commitName": "4e886eb9cbd2dcb128bbfd17309c734083093a4c",
      "commitAuthor": "Jian He",
      "diff": "@@ -0,0 +1,41 @@\n+  protected void createApplicationMetricsTable(Block html){\n+    RMApp rmApp \u003d this.rm.getRMContext().getRMApps().get(appID);\n+    RMAppMetrics appMetrics \u003d rmApp \u003d\u003d null ? null : rmApp.getRMAppMetrics();\n+    // Get attempt metrics and fields, it is possible currentAttempt of RMApp is\n+    // null. In that case, we will assume resource preempted and number of Non\n+    // AM container preempted on that attempt is 0\n+    RMAppAttemptMetrics attemptMetrics;\n+    if (rmApp \u003d\u003d null || null \u003d\u003d rmApp.getCurrentAppAttempt()) {\n+      attemptMetrics \u003d null;\n+    } else {\n+      attemptMetrics \u003d rmApp.getCurrentAppAttempt().getRMAppAttemptMetrics();\n+    }\n+    Resource attemptResourcePreempted \u003d\n+        attemptMetrics \u003d\u003d null ? Resources.none() : attemptMetrics\n+          .getResourcePreempted();\n+    int attemptNumNonAMContainerPreempted \u003d\n+        attemptMetrics \u003d\u003d null ? 0 : attemptMetrics\n+          .getNumNonAMContainersPreempted();\n+    DIV\u003cHamlet\u003e pdiv \u003d html.\n+        _(InfoBlock.class).\n+        div(_INFO_WRAP);\n+    info(\"Application Overview\").clear();\n+    info(\"Application Metrics\")\n+        ._(\"Total Resource Preempted:\",\n+          appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getResourcePreempted())\n+        ._(\"Total Number of Non-AM Containers Preempted:\",\n+          appMetrics \u003d\u003d null ? \"N/A\"\n+              : appMetrics.getNumNonAMContainersPreempted())\n+        ._(\"Total Number of AM Containers Preempted:\",\n+          appMetrics \u003d\u003d null ? \"N/A\"\n+              : appMetrics.getNumAMContainersPreempted())\n+        ._(\"Resource Preempted from Current Attempt:\",\n+          attemptResourcePreempted)\n+        ._(\"Number of Non-AM Containers Preempted from Current Attempt:\",\n+          attemptNumNonAMContainerPreempted)\n+        ._(\"Aggregate Resource Allocation:\",\n+          String.format(\"%d MB-seconds, %d vcore-seconds\",\n+              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getMemorySeconds(),\n+              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getVcoreSeconds()));\n+    pdiv._();\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  protected void createApplicationMetricsTable(Block html){\n    RMApp rmApp \u003d this.rm.getRMContext().getRMApps().get(appID);\n    RMAppMetrics appMetrics \u003d rmApp \u003d\u003d null ? null : rmApp.getRMAppMetrics();\n    // Get attempt metrics and fields, it is possible currentAttempt of RMApp is\n    // null. In that case, we will assume resource preempted and number of Non\n    // AM container preempted on that attempt is 0\n    RMAppAttemptMetrics attemptMetrics;\n    if (rmApp \u003d\u003d null || null \u003d\u003d rmApp.getCurrentAppAttempt()) {\n      attemptMetrics \u003d null;\n    } else {\n      attemptMetrics \u003d rmApp.getCurrentAppAttempt().getRMAppAttemptMetrics();\n    }\n    Resource attemptResourcePreempted \u003d\n        attemptMetrics \u003d\u003d null ? Resources.none() : attemptMetrics\n          .getResourcePreempted();\n    int attemptNumNonAMContainerPreempted \u003d\n        attemptMetrics \u003d\u003d null ? 0 : attemptMetrics\n          .getNumNonAMContainersPreempted();\n    DIV\u003cHamlet\u003e pdiv \u003d html.\n        _(InfoBlock.class).\n        div(_INFO_WRAP);\n    info(\"Application Overview\").clear();\n    info(\"Application Metrics\")\n        ._(\"Total Resource Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getResourcePreempted())\n        ._(\"Total Number of Non-AM Containers Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\"\n              : appMetrics.getNumNonAMContainersPreempted())\n        ._(\"Total Number of AM Containers Preempted:\",\n          appMetrics \u003d\u003d null ? \"N/A\"\n              : appMetrics.getNumAMContainersPreempted())\n        ._(\"Resource Preempted from Current Attempt:\",\n          attemptResourcePreempted)\n        ._(\"Number of Non-AM Containers Preempted from Current Attempt:\",\n          attemptNumNonAMContainerPreempted)\n        ._(\"Aggregate Resource Allocation:\",\n          String.format(\"%d MB-seconds, %d vcore-seconds\",\n              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getMemorySeconds(),\n              appMetrics \u003d\u003d null ? \"N/A\" : appMetrics.getVcoreSeconds()));\n    pdiv._();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMAppBlock.java"
    }
  }
}