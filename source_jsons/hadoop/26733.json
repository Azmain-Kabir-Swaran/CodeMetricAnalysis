{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "TaskImpl.java",
  "functionName": "handle",
  "functionId": "handle___event-TaskEvent",
  "sourceFilePath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java",
  "functionStartLine": 649,
  "functionEndLine": 672,
  "numCommitsSeen": 45,
  "timeTaken": 7944,
  "changeHistory": [
    "19295b36d90e26616accee73b1f7743aab5df692",
    "022f7b4a25c73b8c43985e8d1bac717b96373ac6",
    "28a2eb9d722bb8cbbeee87a1c43b4dc4ef4467ce",
    "68615600985dfadf067a4967a5e08c1421e7a1c8",
    "53f921418d25cb232c7a0e1fa24c17bda729ac35",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517"
  ],
  "changeHistoryShort": {
    "19295b36d90e26616accee73b1f7743aab5df692": "Ybodychange",
    "022f7b4a25c73b8c43985e8d1bac717b96373ac6": "Ybodychange",
    "28a2eb9d722bb8cbbeee87a1c43b4dc4ef4467ce": "Ybodychange",
    "68615600985dfadf067a4967a5e08c1421e7a1c8": "Ybodychange",
    "53f921418d25cb232c7a0e1fa24c17bda729ac35": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": "Yintroduced"
  },
  "changeHistoryDetails": {
    "19295b36d90e26616accee73b1f7743aab5df692": {
      "type": "Ybodychange",
      "commitMessage": "YARN-3381. Fix typo InvalidStateTransitonException. Contributed by Brahma Reddy Battula.\n",
      "commitDate": "13/07/15 1:52 AM",
      "commitName": "19295b36d90e26616accee73b1f7743aab5df692",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "25/04/14 3:26 PM",
      "commitNameOld": "283a3a246a5d4dd75b220d0f2bc1d751855d5897",
      "commitAuthorOld": "Jason Darrell Lowe",
      "daysBetweenCommits": 443.43,
      "commitsBetweenForRepo": 3636,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,24 @@\n   public void handle(TaskEvent event) {\n     if (LOG.isDebugEnabled()) {\n       LOG.debug(\"Processing \" + event.getTaskID() + \" of type \"\n           + event.getType());\n     }\n     try {\n       writeLock.lock();\n       TaskStateInternal oldState \u003d getInternalState();\n       try {\n         stateMachine.doTransition(event.getType(), event);\n-      } catch (InvalidStateTransitonException e) {\n+      } catch (InvalidStateTransitionException e) {\n         LOG.error(\"Can\u0027t handle this event at current state for \"\n             + this.taskId, e);\n         internalError(event.getType());\n       }\n       if (oldState !\u003d getInternalState()) {\n         LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n             + getInternalState());\n       }\n \n     } finally {\n       writeLock.unlock();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void handle(TaskEvent event) {\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\"Processing \" + event.getTaskID() + \" of type \"\n          + event.getType());\n    }\n    try {\n      writeLock.lock();\n      TaskStateInternal oldState \u003d getInternalState();\n      try {\n        stateMachine.doTransition(event.getType(), event);\n      } catch (InvalidStateTransitionException e) {\n        LOG.error(\"Can\u0027t handle this event at current state for \"\n            + this.taskId, e);\n        internalError(event.getType());\n      }\n      if (oldState !\u003d getInternalState()) {\n        LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n            + getInternalState());\n      }\n\n    } finally {\n      writeLock.unlock();\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java",
      "extendedDetails": {}
    },
    "022f7b4a25c73b8c43985e8d1bac717b96373ac6": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-4596. Split StateMachine state from states seen by MRClientProtocol for Job, Task and TaskAttempt. Contributed by Siddarth Seth.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1399976 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/10/12 10:57 PM",
      "commitName": "022f7b4a25c73b8c43985e8d1bac717b96373ac6",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "11/09/12 7:04 AM",
      "commitNameOld": "3b46295c283cb73d9487d82a4102b77b3b362f03",
      "commitAuthorOld": "Thomas White",
      "daysBetweenCommits": 37.66,
      "commitsBetweenForRepo": 216,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,24 @@\n   public void handle(TaskEvent event) {\n     if (LOG.isDebugEnabled()) {\n       LOG.debug(\"Processing \" + event.getTaskID() + \" of type \"\n           + event.getType());\n     }\n     try {\n       writeLock.lock();\n-      TaskState oldState \u003d getState();\n+      TaskStateInternal oldState \u003d getInternalState();\n       try {\n         stateMachine.doTransition(event.getType(), event);\n       } catch (InvalidStateTransitonException e) {\n         LOG.error(\"Can\u0027t handle this event at current state for \"\n             + this.taskId, e);\n         internalError(event.getType());\n       }\n-      if (oldState !\u003d getState()) {\n+      if (oldState !\u003d getInternalState()) {\n         LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n-            + getState());\n+            + getInternalState());\n       }\n \n     } finally {\n       writeLock.unlock();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void handle(TaskEvent event) {\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\"Processing \" + event.getTaskID() + \" of type \"\n          + event.getType());\n    }\n    try {\n      writeLock.lock();\n      TaskStateInternal oldState \u003d getInternalState();\n      try {\n        stateMachine.doTransition(event.getType(), event);\n      } catch (InvalidStateTransitonException e) {\n        LOG.error(\"Can\u0027t handle this event at current state for \"\n            + this.taskId, e);\n        internalError(event.getType());\n      }\n      if (oldState !\u003d getInternalState()) {\n        LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n            + getInternalState());\n      }\n\n    } finally {\n      writeLock.unlock();\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java",
      "extendedDetails": {}
    },
    "28a2eb9d722bb8cbbeee87a1c43b4dc4ef4467ce": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-3810. Performance tweaks - reduced logging in AM and defined hascode/equals for ResourceRequest \u0026 Priority. Contributed by Vinod K V. \n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1241205 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/02/12 2:01 PM",
      "commitName": "28a2eb9d722bb8cbbeee87a1c43b4dc4ef4467ce",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "03/02/12 4:04 PM",
      "commitNameOld": "94242c93857a06fb9c56ee571a47d6ca18f00f48",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 2.91,
      "commitsBetweenForRepo": 18,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,24 @@\n   public void handle(TaskEvent event) {\n-    LOG.debug(\"Processing \" + event.getTaskID() + \" of type \" + event.getType());\n+    if (LOG.isDebugEnabled()) {\n+      LOG.debug(\"Processing \" + event.getTaskID() + \" of type \"\n+          + event.getType());\n+    }\n     try {\n       writeLock.lock();\n       TaskState oldState \u003d getState();\n       try {\n         stateMachine.doTransition(event.getType(), event);\n       } catch (InvalidStateTransitonException e) {\n         LOG.error(\"Can\u0027t handle this event at current state for \"\n             + this.taskId, e);\n         internalError(event.getType());\n       }\n       if (oldState !\u003d getState()) {\n         LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n             + getState());\n       }\n \n     } finally {\n       writeLock.unlock();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void handle(TaskEvent event) {\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\"Processing \" + event.getTaskID() + \" of type \"\n          + event.getType());\n    }\n    try {\n      writeLock.lock();\n      TaskState oldState \u003d getState();\n      try {\n        stateMachine.doTransition(event.getType(), event);\n      } catch (InvalidStateTransitonException e) {\n        LOG.error(\"Can\u0027t handle this event at current state for \"\n            + this.taskId, e);\n        internalError(event.getType());\n      }\n      if (oldState !\u003d getState()) {\n        LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n            + getState());\n      }\n\n    } finally {\n      writeLock.unlock();\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java",
      "extendedDetails": {}
    },
    "68615600985dfadf067a4967a5e08c1421e7a1c8": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-3692. yarn-resourcemanager out and log files can get big. Contributed by Eli Collins\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1233605 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/01/12 2:23 PM",
      "commitName": "68615600985dfadf067a4967a5e08c1421e7a1c8",
      "commitAuthor": "Eli Collins",
      "commitDateOld": "09/01/12 1:04 PM",
      "commitNameOld": "e8645636ce1721aa6dc3674fbc553a7bb3522fbe",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 10.05,
      "commitsBetweenForRepo": 46,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,21 @@\n   public void handle(TaskEvent event) {\n-    LOG.info(\"Processing \" + event.getTaskID() + \" of type \" + event.getType());\n+    LOG.debug(\"Processing \" + event.getTaskID() + \" of type \" + event.getType());\n     try {\n       writeLock.lock();\n       TaskState oldState \u003d getState();\n       try {\n         stateMachine.doTransition(event.getType(), event);\n       } catch (InvalidStateTransitonException e) {\n         LOG.error(\"Can\u0027t handle this event at current state for \"\n             + this.taskId, e);\n         internalError(event.getType());\n       }\n       if (oldState !\u003d getState()) {\n         LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n             + getState());\n       }\n \n     } finally {\n       writeLock.unlock();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void handle(TaskEvent event) {\n    LOG.debug(\"Processing \" + event.getTaskID() + \" of type \" + event.getType());\n    try {\n      writeLock.lock();\n      TaskState oldState \u003d getState();\n      try {\n        stateMachine.doTransition(event.getType(), event);\n      } catch (InvalidStateTransitonException e) {\n        LOG.error(\"Can\u0027t handle this event at current state for \"\n            + this.taskId, e);\n        internalError(event.getType());\n      }\n      if (oldState !\u003d getState()) {\n        LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n            + getState());\n      }\n\n    } finally {\n      writeLock.unlock();\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java",
      "extendedDetails": {}
    },
    "53f921418d25cb232c7a0e1fa24c17bda729ac35": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-2995. Better handling of expired containers in MapReduce ApplicationMaster. Contributed by Vinod K V.  \n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1170279 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/09/11 11:12 AM",
      "commitName": "53f921418d25cb232c7a0e1fa24c17bda729ac35",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "31/08/11 4:38 AM",
      "commitNameOld": "ade0f0560f729e50382c6992f713f29e2dd5b270",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 13.27,
      "commitsBetweenForRepo": 79,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,21 @@\n   public void handle(TaskEvent event) {\n     LOG.info(\"Processing \" + event.getTaskID() + \" of type \" + event.getType());\n     try {\n       writeLock.lock();\n       TaskState oldState \u003d getState();\n       try {\n         stateMachine.doTransition(event.getType(), event);\n       } catch (InvalidStateTransitonException e) {\n-        LOG.error(\"Can\u0027t handle this event at current state\", e);\n+        LOG.error(\"Can\u0027t handle this event at current state for \"\n+            + this.taskId, e);\n         internalError(event.getType());\n       }\n       if (oldState !\u003d getState()) {\n         LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n             + getState());\n       }\n \n     } finally {\n       writeLock.unlock();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void handle(TaskEvent event) {\n    LOG.info(\"Processing \" + event.getTaskID() + \" of type \" + event.getType());\n    try {\n      writeLock.lock();\n      TaskState oldState \u003d getState();\n      try {\n        stateMachine.doTransition(event.getType(), event);\n      } catch (InvalidStateTransitonException e) {\n        LOG.error(\"Can\u0027t handle this event at current state for \"\n            + this.taskId, e);\n        internalError(event.getType());\n      }\n      if (oldState !\u003d getState()) {\n        LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n            + getState());\n      }\n\n    } finally {\n      writeLock.unlock();\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public void handle(TaskEvent event) {\n    LOG.info(\"Processing \" + event.getTaskID() + \" of type \" + event.getType());\n    try {\n      writeLock.lock();\n      TaskState oldState \u003d getState();\n      try {\n        stateMachine.doTransition(event.getType(), event);\n      } catch (InvalidStateTransitonException e) {\n        LOG.error(\"Can\u0027t handle this event at current state\", e);\n        internalError(event.getType());\n      }\n      if (oldState !\u003d getState()) {\n        LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n            + getState());\n      }\n\n    } finally {\n      writeLock.unlock();\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java",
        "newPath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java"
      }
    },
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/08/11 4:07 AM",
      "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,20 @@\n+  public void handle(TaskEvent event) {\n+    LOG.info(\"Processing \" + event.getTaskID() + \" of type \" + event.getType());\n+    try {\n+      writeLock.lock();\n+      TaskState oldState \u003d getState();\n+      try {\n+        stateMachine.doTransition(event.getType(), event);\n+      } catch (InvalidStateTransitonException e) {\n+        LOG.error(\"Can\u0027t handle this event at current state\", e);\n+        internalError(event.getType());\n+      }\n+      if (oldState !\u003d getState()) {\n+        LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n+            + getState());\n+      }\n+\n+    } finally {\n+      writeLock.unlock();\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void handle(TaskEvent event) {\n    LOG.info(\"Processing \" + event.getTaskID() + \" of type \" + event.getType());\n    try {\n      writeLock.lock();\n      TaskState oldState \u003d getState();\n      try {\n        stateMachine.doTransition(event.getType(), event);\n      } catch (InvalidStateTransitonException e) {\n        LOG.error(\"Can\u0027t handle this event at current state\", e);\n        internalError(event.getType());\n      }\n      if (oldState !\u003d getState()) {\n        LOG.info(taskId + \" Task Transitioned from \" + oldState + \" to \"\n            + getState());\n      }\n\n    } finally {\n      writeLock.unlock();\n    }\n  }",
      "path": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/TaskImpl.java"
    }
  }
}