{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AzureBlobFileSystemStore.java",
  "functionName": "createFile",
  "functionId": "createFile___path-Path(modifiers-final)__statistics-FileSystem.Statistics(modifiers-final)__overwrite-boolean(modifiers-final)__permission-FsPermission(modifiers-final)__umask-FsPermission(modifiers-final)",
  "sourceFilePath": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
  "functionStartLine": 405,
  "functionEndLine": 433,
  "numCommitsSeen": 174,
  "timeTaken": 10945,
  "changeHistory": [
    "b214bbd2d92a0c02b71d352dba85f3b87317933c",
    "8031c66295b530dcaae9e00d4f656330bc3b3952",
    "c734d247b1ea16b7028de3a37ff556cb1ef8b7d6",
    "745a6c1e69b3699f6496a146afc48824dd735461",
    "28afdce00955a51bbea9bf46aa0f784764ec1329",
    "e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f",
    "3612317038196ee0cb6d7204056d54b7a7ed8bf7",
    "b033c681e4fc3ee1a38caa807e130aee481d99d5",
    "c0edc848a8e71b5e2a1586a589bbf2ac8685040d",
    "6b6f8cc2bedefc98028d875398ce022edaf77933",
    "9c1e4e81399913f180131f4faa95604087c6d962",
    "b54b0c1b676c616aef9574e4e88ea30c314c79dc",
    "ce03a93f78c4d97ccb48a3906fcd77ad0ac756be",
    "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462",
    "f044deedbbfee0812316d587139cb828f27172e9"
  ],
  "changeHistoryShort": {
    "b214bbd2d92a0c02b71d352dba85f3b87317933c": "Ybodychange",
    "8031c66295b530dcaae9e00d4f656330bc3b3952": "Ybodychange",
    "c734d247b1ea16b7028de3a37ff556cb1ef8b7d6": "Ymultichange(Yparameterchange,Ybodychange)",
    "745a6c1e69b3699f6496a146afc48824dd735461": "Ybodychange",
    "28afdce00955a51bbea9bf46aa0f784764ec1329": "Ymultichange(Yparameterchange,Ybodychange)",
    "e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f": "Ymultichange(Yparameterchange,Ybodychange)",
    "3612317038196ee0cb6d7204056d54b7a7ed8bf7": "Ybodychange",
    "b033c681e4fc3ee1a38caa807e130aee481d99d5": "Ybodychange",
    "c0edc848a8e71b5e2a1586a589bbf2ac8685040d": "Ybodychange",
    "6b6f8cc2bedefc98028d875398ce022edaf77933": "Ybodychange",
    "9c1e4e81399913f180131f4faa95604087c6d962": "Ymultichange(Yparameterchange,Ybodychange)",
    "b54b0c1b676c616aef9574e4e88ea30c314c79dc": "Ybodychange",
    "ce03a93f78c4d97ccb48a3906fcd77ad0ac756be": "Ybodychange",
    "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462": "Ymultichange(Yfilerename,Ybodychange,Yparameterchange)",
    "f044deedbbfee0812316d587139cb828f27172e9": "Yintroduced"
  },
  "changeHistoryDetails": {
    "b214bbd2d92a0c02b71d352dba85f3b87317933c": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16916: ABFS: Delegation SAS generator for integration with Ranger\n\nContributed by Thomas Marquardt.\n\nDETAILS:\n\nPreviously we had a SASGenerator class which generated Service SAS, but we need to add DelegationSASGenerator.\nI separated SASGenerator into a base class and two subclasses ServiceSASGenerator and DelegationSASGenreator.  The\ncode in ServiceSASGenerator is copied from SASGenerator but the DelegationSASGenrator code is new.  The\nDelegationSASGenerator code demonstrates how to use Delegation SAS with minimal permissions, as would be used\nby an authorization service such as Apache Ranger.  Adding this to the tests helps us lock in this behavior.\n\nAdded a MockDelegationSASTokenProvider for testing User Delegation SAS.\n\nFixed the ITestAzureBlobFileSystemCheckAccess tests to assume oauth client ID so that they are ignored when that\nis not configured.\n\nTo improve performance, AbfsInputStream/AbfsOutputStream re-use SAS tokens until the expiry is within 120 seconds.\nAfter this a new SAS will be requested.  The default period of 120 seconds can be changed using the configuration\nsetting \"fs.azure.sas.token.renew.period.for.streams\".\n\nThe SASTokenProvider operation names were updated to correspond better with the ADLS Gen2 REST API, since these\noperations must be provided tokens with appropriate SAS parameters to succeed.\n\nSupport for the version 2.0 AAD authentication endpoint was added to AzureADAuthenticator.\n\nThe getFileStatus method was mistakenly calling the ADLS Gen2 Get Properties API which requires read permission\nwhile the getFileStatus call only requires execute permission.  ADLS Gen2 Get Status API is supposed to be used\nfor this purpose, so the underlying AbfsClient.getPathStatus API was updated with a includeProperties\nparameter which is set to false for getFileStatus and true for getXAttr.\n\nAdded SASTokenProvider support for delete recursive.\n\nFixed bugs in AzureBlobFileSystem where public methods were not validating the Path by calling makeQualified.  This is\nnecessary to avoid passing null paths and to convert relative paths into absolute paths.\n\nCanonicalized the path used for root path internally so that root path can be used with SAS tokens, which requires\nthat the path in the URL and the path in the SAS token match.  Internally the code was using\n\"//\" instead of \"/\" for the root path, sometimes.  Also related to this, the AzureBlobFileSystemStore.getRelativePath\nAPI was updated so that we no longer remove and then add back a preceding forward / to paths.\n\nTo run ITestAzureBlobFileSystemDelegationSAS tests follow the instructions in testing_azure.md under the heading\n\"To run Delegation SAS test cases\".  You also need to set \"fs.azure.enable.check.access\" to true.\n\nTEST RESULTS:\n\nnamespace.enabled\u003dtrue\nauth.type\u003dSharedKey\n-------------------\n$mvn -T 1C -Dparallel-tests\u003dabfs -Dscale -DtestsThreadCount\u003d8 clean verify\nTests run: 63, Failures: 0, Errors: 0, Skipped: 0\nTests run: 432, Failures: 0, Errors: 0, Skipped: 41\nTests run: 206, Failures: 0, Errors: 0, Skipped: 24\n\nnamespace.enabled\u003dfalse\nauth.type\u003dSharedKey\n-------------------\n$mvn -T 1C -Dparallel-tests\u003dabfs -Dscale -DtestsThreadCount\u003d8 clean verify\nTests run: 63, Failures: 0, Errors: 0, Skipped: 0\nTests run: 432, Failures: 0, Errors: 0, Skipped: 244\nTests run: 206, Failures: 0, Errors: 0, Skipped: 24\n\nnamespace.enabled\u003dtrue\nauth.type\u003dSharedKey\nsas.token.provider.type\u003dMockDelegationSASTokenProvider\nenable.check.access\u003dtrue\n-------------------\n$mvn -T 1C -Dparallel-tests\u003dabfs -Dscale -DtestsThreadCount\u003d8 clean verify\nTests run: 63, Failures: 0, Errors: 0, Skipped: 0\nTests run: 432, Failures: 0, Errors: 0, Skipped: 33\nTests run: 206, Failures: 0, Errors: 0, Skipped: 24\n\nnamespace.enabled\u003dtrue\nauth.type\u003dOAuth\n-------------------\n$mvn -T 1C -Dparallel-tests\u003dabfs -Dscale -DtestsThreadCount\u003d8 clean verify\nTests run: 63, Failures: 0, Errors: 0, Skipped: 0\nTests run: 432, Failures: 0, Errors: 1, Skipped: 74\nTests run: 206, Failures: 0, Errors: 0, Skipped: 140\n",
      "commitDate": "12/05/20 11:35 AM",
      "commitName": "b214bbd2d92a0c02b71d352dba85f3b87317933c",
      "commitAuthor": "Thomas Marquardt",
      "commitDateOld": "23/04/20 5:46 PM",
      "commitNameOld": "30ef8d0f1a1463931fe581a46c739dad4c8260e4",
      "commitAuthorOld": "bilaharith",
      "daysBetweenCommits": 18.74,
      "commitsBetweenForRepo": 65,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,27 +1,29 @@\n   public OutputStream createFile(final Path path,\n       final FileSystem.Statistics statistics,\n       final boolean overwrite, final FsPermission permission,\n       final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n-      final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n+      String relativePath \u003d getRelativePath(path);\n+\n+      final AbfsRestOperation op \u003d client.createPath(relativePath, true, overwrite,\n               isNamespaceEnabled ? getOctalNotation(permission) : null,\n               isNamespaceEnabled ? getOctalNotation(umask) : null);\n       perfInfo.registerResult(op.getResult()).registerSuccess(true);\n \n       return new AbfsOutputStream(\n           client,\n           statistics,\n-          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n+          relativePath,\n           0,\n           populateAbfsOutputStreamContext());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final Path path,\n      final FileSystem.Statistics statistics,\n      final boolean overwrite, final FsPermission permission,\n      final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n      String relativePath \u003d getRelativePath(path);\n\n      final AbfsRestOperation op \u003d client.createPath(relativePath, true, overwrite,\n              isNamespaceEnabled ? getOctalNotation(permission) : null,\n              isNamespaceEnabled ? getOctalNotation(umask) : null);\n      perfInfo.registerResult(op.getResult()).registerSuccess(true);\n\n      return new AbfsOutputStream(\n          client,\n          statistics,\n          relativePath,\n          0,\n          populateAbfsOutputStreamContext());\n    }\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
      "extendedDetails": {}
    },
    "8031c66295b530dcaae9e00d4f656330bc3b3952": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16965. Refactor abfs stream configuration. (#1956)\n\n\r\nContributed by Mukund Thakur.",
      "commitDate": "21/04/20 9:27 AM",
      "commitName": "8031c66295b530dcaae9e00d4f656330bc3b3952",
      "commitAuthor": "Mukund Thakur",
      "commitDateOld": "31/03/20 5:49 AM",
      "commitNameOld": "c734d247b1ea16b7028de3a37ff556cb1ef8b7d6",
      "commitAuthorOld": "Mehakmeet Singh",
      "daysBetweenCommits": 21.15,
      "commitsBetweenForRepo": 67,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,29 +1,27 @@\n   public OutputStream createFile(final Path path,\n       final FileSystem.Statistics statistics,\n       final boolean overwrite, final FsPermission permission,\n       final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n       final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n               isNamespaceEnabled ? getOctalNotation(permission) : null,\n               isNamespaceEnabled ? getOctalNotation(umask) : null);\n       perfInfo.registerResult(op.getResult()).registerSuccess(true);\n \n       return new AbfsOutputStream(\n           client,\n           statistics,\n           AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n           0,\n-          abfsConfiguration.getWriteBufferSize(),\n-          abfsConfiguration.isFlushEnabled(),\n-          abfsConfiguration.isOutputStreamFlushDisabled());\n+          populateAbfsOutputStreamContext());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final Path path,\n      final FileSystem.Statistics statistics,\n      final boolean overwrite, final FsPermission permission,\n      final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n      final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n              isNamespaceEnabled ? getOctalNotation(permission) : null,\n              isNamespaceEnabled ? getOctalNotation(umask) : null);\n      perfInfo.registerResult(op.getResult()).registerSuccess(true);\n\n      return new AbfsOutputStream(\n          client,\n          statistics,\n          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n          0,\n          populateAbfsOutputStreamContext());\n    }\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
      "extendedDetails": {}
    },
    "c734d247b1ea16b7028de3a37ff556cb1ef8b7d6": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HADOOP-16910 : ABFS Streams to update FileSystem.Statistics counters on IO. (#1918). Contributed by Mehakmeet Singh.\n\n",
      "commitDate": "31/03/20 5:49 AM",
      "commitName": "c734d247b1ea16b7028de3a37ff556cb1ef8b7d6",
      "commitAuthor": "Mehakmeet Singh",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HADOOP-16910 : ABFS Streams to update FileSystem.Statistics counters on IO. (#1918). Contributed by Mehakmeet Singh.\n\n",
          "commitDate": "31/03/20 5:49 AM",
          "commitName": "c734d247b1ea16b7028de3a37ff556cb1ef8b7d6",
          "commitAuthor": "Mehakmeet Singh",
          "commitDateOld": "26/03/20 8:24 AM",
          "commitNameOld": "745a6c1e69b3699f6496a146afc48824dd735461",
          "commitAuthorOld": "Steve Loughran",
          "daysBetweenCommits": 4.89,
          "commitsBetweenForRepo": 10,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,26 +1,29 @@\n-  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n-                                 final FsPermission umask) throws AzureBlobFileSystemException {\n+  public OutputStream createFile(final Path path,\n+      final FileSystem.Statistics statistics,\n+      final boolean overwrite, final FsPermission permission,\n+      final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n       final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n               isNamespaceEnabled ? getOctalNotation(permission) : null,\n               isNamespaceEnabled ? getOctalNotation(umask) : null);\n       perfInfo.registerResult(op.getResult()).registerSuccess(true);\n \n       return new AbfsOutputStream(\n-              client,\n-              AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n-              0,\n-              abfsConfiguration.getWriteBufferSize(),\n-              abfsConfiguration.isFlushEnabled(),\n-              abfsConfiguration.isOutputStreamFlushDisabled());\n+          client,\n+          statistics,\n+          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n+          0,\n+          abfsConfiguration.getWriteBufferSize(),\n+          abfsConfiguration.isFlushEnabled(),\n+          abfsConfiguration.isOutputStreamFlushDisabled());\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path,\n      final FileSystem.Statistics statistics,\n      final boolean overwrite, final FsPermission permission,\n      final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n      final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n              isNamespaceEnabled ? getOctalNotation(permission) : null,\n              isNamespaceEnabled ? getOctalNotation(umask) : null);\n      perfInfo.registerResult(op.getResult()).registerSuccess(true);\n\n      return new AbfsOutputStream(\n          client,\n          statistics,\n          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n          0,\n          abfsConfiguration.getWriteBufferSize(),\n          abfsConfiguration.isFlushEnabled(),\n          abfsConfiguration.isOutputStreamFlushDisabled());\n    }\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {
            "oldValue": "[path-Path(modifiers-final), overwrite-boolean(modifiers-final), permission-FsPermission(modifiers-final), umask-FsPermission(modifiers-final)]",
            "newValue": "[path-Path(modifiers-final), statistics-FileSystem.Statistics(modifiers-final), overwrite-boolean(modifiers-final), permission-FsPermission(modifiers-final), umask-FsPermission(modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HADOOP-16910 : ABFS Streams to update FileSystem.Statistics counters on IO. (#1918). Contributed by Mehakmeet Singh.\n\n",
          "commitDate": "31/03/20 5:49 AM",
          "commitName": "c734d247b1ea16b7028de3a37ff556cb1ef8b7d6",
          "commitAuthor": "Mehakmeet Singh",
          "commitDateOld": "26/03/20 8:24 AM",
          "commitNameOld": "745a6c1e69b3699f6496a146afc48824dd735461",
          "commitAuthorOld": "Steve Loughran",
          "daysBetweenCommits": 4.89,
          "commitsBetweenForRepo": 10,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,26 +1,29 @@\n-  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n-                                 final FsPermission umask) throws AzureBlobFileSystemException {\n+  public OutputStream createFile(final Path path,\n+      final FileSystem.Statistics statistics,\n+      final boolean overwrite, final FsPermission permission,\n+      final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n       final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n               isNamespaceEnabled ? getOctalNotation(permission) : null,\n               isNamespaceEnabled ? getOctalNotation(umask) : null);\n       perfInfo.registerResult(op.getResult()).registerSuccess(true);\n \n       return new AbfsOutputStream(\n-              client,\n-              AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n-              0,\n-              abfsConfiguration.getWriteBufferSize(),\n-              abfsConfiguration.isFlushEnabled(),\n-              abfsConfiguration.isOutputStreamFlushDisabled());\n+          client,\n+          statistics,\n+          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n+          0,\n+          abfsConfiguration.getWriteBufferSize(),\n+          abfsConfiguration.isFlushEnabled(),\n+          abfsConfiguration.isOutputStreamFlushDisabled());\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path,\n      final FileSystem.Statistics statistics,\n      final boolean overwrite, final FsPermission permission,\n      final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n      final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n              isNamespaceEnabled ? getOctalNotation(permission) : null,\n              isNamespaceEnabled ? getOctalNotation(umask) : null);\n      perfInfo.registerResult(op.getResult()).registerSuccess(true);\n\n      return new AbfsOutputStream(\n          client,\n          statistics,\n          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n          0,\n          abfsConfiguration.getWriteBufferSize(),\n          abfsConfiguration.isFlushEnabled(),\n          abfsConfiguration.isOutputStreamFlushDisabled());\n    }\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {}
        }
      ]
    },
    "745a6c1e69b3699f6496a146afc48824dd735461": {
      "type": "Ybodychange",
      "commitMessage": "Revert \"HADOOP-16818. ABFS: Combine append+flush calls for blockblob \u0026 appendblob\"\n\nThis reverts commit 3612317038196ee0cb6d7204056d54b7a7ed8bf7.\n\nChange-Id: Ie0d36f25de0b55a937894f4d9963c495bae0576a\n",
      "commitDate": "26/03/20 8:24 AM",
      "commitName": "745a6c1e69b3699f6496a146afc48824dd735461",
      "commitAuthor": "Steve Loughran",
      "commitDateOld": "24/03/20 5:11 AM",
      "commitNameOld": "28afdce00955a51bbea9bf46aa0f784764ec1329",
      "commitAuthorOld": "Steve Loughran",
      "daysBetweenCommits": 2.13,
      "commitsBetweenForRepo": 18,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,26 @@\n   public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                  final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n-        boolean appendBlob \u003d false;\n-        if (isAppendBlobKey(path.toString())) {\n-          appendBlob \u003d true;\n-        }\n-\n-      client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n-          isNamespaceEnabled ? getOctalNotation(permission) : null,\n-          isNamespaceEnabled ? getOctalNotation(umask) : null,\n-          appendBlob);\n+      final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n+              isNamespaceEnabled ? getOctalNotation(permission) : null,\n+              isNamespaceEnabled ? getOctalNotation(umask) : null);\n+      perfInfo.registerResult(op.getResult()).registerSuccess(true);\n \n       return new AbfsOutputStream(\n-          client,\n-          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n-          0,\n-          abfsConfiguration.getWriteBufferSize(),\n-          abfsConfiguration.isFlushEnabled(),\n-          abfsConfiguration.isOutputStreamFlushDisabled(),\n-          abfsConfiguration.isAppendWithFlushEnabled(),\n-          appendBlob);\n+              client,\n+              AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n+              0,\n+              abfsConfiguration.getWriteBufferSize(),\n+              abfsConfiguration.isFlushEnabled(),\n+              abfsConfiguration.isOutputStreamFlushDisabled());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                 final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n      final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n              isNamespaceEnabled ? getOctalNotation(permission) : null,\n              isNamespaceEnabled ? getOctalNotation(umask) : null);\n      perfInfo.registerResult(op.getResult()).registerSuccess(true);\n\n      return new AbfsOutputStream(\n              client,\n              AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n              0,\n              abfsConfiguration.getWriteBufferSize(),\n              abfsConfiguration.isFlushEnabled(),\n              abfsConfiguration.isOutputStreamFlushDisabled());\n    }\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
      "extendedDetails": {}
    },
    "28afdce00955a51bbea9bf46aa0f784764ec1329": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Revert \"\"HADOOP-16910. ABFS Streams to update FileSystem.Statistics counters on IO.\"\n\nThis reverts commit e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f.\n\nChange-Id: I5b5a93f5a36cdb0c3d56d1b3f747c318f089de20\n",
      "commitDate": "24/03/20 5:11 AM",
      "commitName": "28afdce00955a51bbea9bf46aa0f784764ec1329",
      "commitAuthor": "Steve Loughran",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "Revert \"\"HADOOP-16910. ABFS Streams to update FileSystem.Statistics counters on IO.\"\n\nThis reverts commit e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f.\n\nChange-Id: I5b5a93f5a36cdb0c3d56d1b3f747c318f089de20\n",
          "commitDate": "24/03/20 5:11 AM",
          "commitName": "28afdce00955a51bbea9bf46aa0f784764ec1329",
          "commitAuthor": "Steve Loughran",
          "commitDateOld": "23/03/20 6:50 AM",
          "commitNameOld": "e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f",
          "commitAuthorOld": "Mehakmeet Singh",
          "daysBetweenCommits": 0.93,
          "commitsBetweenForRepo": 5,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,33 @@\n-  public OutputStream createFile(final Path path,\n-      final FileSystem.Statistics statistics,\n-      final boolean overwrite, final FsPermission permission,\n-      final FsPermission umask) throws AzureBlobFileSystemException {\n+  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n+                                 final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n         boolean appendBlob \u003d false;\n         if (isAppendBlobKey(path.toString())) {\n           appendBlob \u003d true;\n         }\n \n       client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n           isNamespaceEnabled ? getOctalNotation(permission) : null,\n           isNamespaceEnabled ? getOctalNotation(umask) : null,\n           appendBlob);\n \n       return new AbfsOutputStream(\n           client,\n-          statistics,\n           AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n           0,\n           abfsConfiguration.getWriteBufferSize(),\n           abfsConfiguration.isFlushEnabled(),\n           abfsConfiguration.isOutputStreamFlushDisabled(),\n           abfsConfiguration.isAppendWithFlushEnabled(),\n           appendBlob);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                 final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n        boolean appendBlob \u003d false;\n        if (isAppendBlobKey(path.toString())) {\n          appendBlob \u003d true;\n        }\n\n      client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n          isNamespaceEnabled ? getOctalNotation(permission) : null,\n          isNamespaceEnabled ? getOctalNotation(umask) : null,\n          appendBlob);\n\n      return new AbfsOutputStream(\n          client,\n          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n          0,\n          abfsConfiguration.getWriteBufferSize(),\n          abfsConfiguration.isFlushEnabled(),\n          abfsConfiguration.isOutputStreamFlushDisabled(),\n          abfsConfiguration.isAppendWithFlushEnabled(),\n          appendBlob);\n    }\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {
            "oldValue": "[path-Path(modifiers-final), statistics-FileSystem.Statistics(modifiers-final), overwrite-boolean(modifiers-final), permission-FsPermission(modifiers-final), umask-FsPermission(modifiers-final)]",
            "newValue": "[path-Path(modifiers-final), overwrite-boolean(modifiers-final), permission-FsPermission(modifiers-final), umask-FsPermission(modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Revert \"\"HADOOP-16910. ABFS Streams to update FileSystem.Statistics counters on IO.\"\n\nThis reverts commit e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f.\n\nChange-Id: I5b5a93f5a36cdb0c3d56d1b3f747c318f089de20\n",
          "commitDate": "24/03/20 5:11 AM",
          "commitName": "28afdce00955a51bbea9bf46aa0f784764ec1329",
          "commitAuthor": "Steve Loughran",
          "commitDateOld": "23/03/20 6:50 AM",
          "commitNameOld": "e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f",
          "commitAuthorOld": "Mehakmeet Singh",
          "daysBetweenCommits": 0.93,
          "commitsBetweenForRepo": 5,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,33 @@\n-  public OutputStream createFile(final Path path,\n-      final FileSystem.Statistics statistics,\n-      final boolean overwrite, final FsPermission permission,\n-      final FsPermission umask) throws AzureBlobFileSystemException {\n+  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n+                                 final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n         boolean appendBlob \u003d false;\n         if (isAppendBlobKey(path.toString())) {\n           appendBlob \u003d true;\n         }\n \n       client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n           isNamespaceEnabled ? getOctalNotation(permission) : null,\n           isNamespaceEnabled ? getOctalNotation(umask) : null,\n           appendBlob);\n \n       return new AbfsOutputStream(\n           client,\n-          statistics,\n           AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n           0,\n           abfsConfiguration.getWriteBufferSize(),\n           abfsConfiguration.isFlushEnabled(),\n           abfsConfiguration.isOutputStreamFlushDisabled(),\n           abfsConfiguration.isAppendWithFlushEnabled(),\n           appendBlob);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                 final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n        boolean appendBlob \u003d false;\n        if (isAppendBlobKey(path.toString())) {\n          appendBlob \u003d true;\n        }\n\n      client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n          isNamespaceEnabled ? getOctalNotation(permission) : null,\n          isNamespaceEnabled ? getOctalNotation(umask) : null,\n          appendBlob);\n\n      return new AbfsOutputStream(\n          client,\n          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n          0,\n          abfsConfiguration.getWriteBufferSize(),\n          abfsConfiguration.isFlushEnabled(),\n          abfsConfiguration.isOutputStreamFlushDisabled(),\n          abfsConfiguration.isAppendWithFlushEnabled(),\n          appendBlob);\n    }\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {}
        }
      ]
    },
    "e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "ABFS Streams to update FileSystem.Statistics counters on IO.\n\n\r\nContributed by Mehakmeet Singh",
      "commitDate": "23/03/20 6:50 AM",
      "commitName": "e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f",
      "commitAuthor": "Mehakmeet Singh",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "ABFS Streams to update FileSystem.Statistics counters on IO.\n\n\r\nContributed by Mehakmeet Singh",
          "commitDate": "23/03/20 6:50 AM",
          "commitName": "e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f",
          "commitAuthor": "Mehakmeet Singh",
          "commitDateOld": "20/03/20 3:27 AM",
          "commitNameOld": "3612317038196ee0cb6d7204056d54b7a7ed8bf7",
          "commitAuthorOld": "ishaniahuja",
          "daysBetweenCommits": 3.14,
          "commitsBetweenForRepo": 4,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,33 +1,36 @@\n-  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n-                                 final FsPermission umask) throws AzureBlobFileSystemException {\n+  public OutputStream createFile(final Path path,\n+      final FileSystem.Statistics statistics,\n+      final boolean overwrite, final FsPermission permission,\n+      final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n         boolean appendBlob \u003d false;\n         if (isAppendBlobKey(path.toString())) {\n           appendBlob \u003d true;\n         }\n \n       client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n           isNamespaceEnabled ? getOctalNotation(permission) : null,\n           isNamespaceEnabled ? getOctalNotation(umask) : null,\n           appendBlob);\n \n       return new AbfsOutputStream(\n           client,\n+          statistics,\n           AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n           0,\n           abfsConfiguration.getWriteBufferSize(),\n           abfsConfiguration.isFlushEnabled(),\n           abfsConfiguration.isOutputStreamFlushDisabled(),\n           abfsConfiguration.isAppendWithFlushEnabled(),\n           appendBlob);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path,\n      final FileSystem.Statistics statistics,\n      final boolean overwrite, final FsPermission permission,\n      final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n        boolean appendBlob \u003d false;\n        if (isAppendBlobKey(path.toString())) {\n          appendBlob \u003d true;\n        }\n\n      client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n          isNamespaceEnabled ? getOctalNotation(permission) : null,\n          isNamespaceEnabled ? getOctalNotation(umask) : null,\n          appendBlob);\n\n      return new AbfsOutputStream(\n          client,\n          statistics,\n          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n          0,\n          abfsConfiguration.getWriteBufferSize(),\n          abfsConfiguration.isFlushEnabled(),\n          abfsConfiguration.isOutputStreamFlushDisabled(),\n          abfsConfiguration.isAppendWithFlushEnabled(),\n          appendBlob);\n    }\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {
            "oldValue": "[path-Path(modifiers-final), overwrite-boolean(modifiers-final), permission-FsPermission(modifiers-final), umask-FsPermission(modifiers-final)]",
            "newValue": "[path-Path(modifiers-final), statistics-FileSystem.Statistics(modifiers-final), overwrite-boolean(modifiers-final), permission-FsPermission(modifiers-final), umask-FsPermission(modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "ABFS Streams to update FileSystem.Statistics counters on IO.\n\n\r\nContributed by Mehakmeet Singh",
          "commitDate": "23/03/20 6:50 AM",
          "commitName": "e2c7ac71b5ee47bb40294acd10c0c21dd6ee430f",
          "commitAuthor": "Mehakmeet Singh",
          "commitDateOld": "20/03/20 3:27 AM",
          "commitNameOld": "3612317038196ee0cb6d7204056d54b7a7ed8bf7",
          "commitAuthorOld": "ishaniahuja",
          "daysBetweenCommits": 3.14,
          "commitsBetweenForRepo": 4,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,33 +1,36 @@\n-  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n-                                 final FsPermission umask) throws AzureBlobFileSystemException {\n+  public OutputStream createFile(final Path path,\n+      final FileSystem.Statistics statistics,\n+      final boolean overwrite, final FsPermission permission,\n+      final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n         boolean appendBlob \u003d false;\n         if (isAppendBlobKey(path.toString())) {\n           appendBlob \u003d true;\n         }\n \n       client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n           isNamespaceEnabled ? getOctalNotation(permission) : null,\n           isNamespaceEnabled ? getOctalNotation(umask) : null,\n           appendBlob);\n \n       return new AbfsOutputStream(\n           client,\n+          statistics,\n           AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n           0,\n           abfsConfiguration.getWriteBufferSize(),\n           abfsConfiguration.isFlushEnabled(),\n           abfsConfiguration.isOutputStreamFlushDisabled(),\n           abfsConfiguration.isAppendWithFlushEnabled(),\n           appendBlob);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path,\n      final FileSystem.Statistics statistics,\n      final boolean overwrite, final FsPermission permission,\n      final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n        boolean appendBlob \u003d false;\n        if (isAppendBlobKey(path.toString())) {\n          appendBlob \u003d true;\n        }\n\n      client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n          isNamespaceEnabled ? getOctalNotation(permission) : null,\n          isNamespaceEnabled ? getOctalNotation(umask) : null,\n          appendBlob);\n\n      return new AbfsOutputStream(\n          client,\n          statistics,\n          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n          0,\n          abfsConfiguration.getWriteBufferSize(),\n          abfsConfiguration.isFlushEnabled(),\n          abfsConfiguration.isOutputStreamFlushDisabled(),\n          abfsConfiguration.isAppendWithFlushEnabled(),\n          appendBlob);\n    }\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {}
        }
      ]
    },
    "3612317038196ee0cb6d7204056d54b7a7ed8bf7": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16818. ABFS: Combine append+flush calls for blockblob \u0026 appendblob\n\n\r\nContributed by Ishani Ahuja.",
      "commitDate": "20/03/20 3:27 AM",
      "commitName": "3612317038196ee0cb6d7204056d54b7a7ed8bf7",
      "commitAuthor": "ishaniahuja",
      "commitDateOld": "18/03/20 7:14 AM",
      "commitNameOld": "6ce5f8734f1864a2d628b23479cf3f6621b2fcb4",
      "commitAuthorOld": "bilaharith",
      "daysBetweenCommits": 1.84,
      "commitsBetweenForRepo": 6,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,26 +1,33 @@\n   public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                  final FsPermission umask) throws AzureBlobFileSystemException {\n     try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n       boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n       LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n               client.getFileSystem(),\n               path,\n               overwrite,\n               permission.toString(),\n               umask.toString(),\n               isNamespaceEnabled);\n \n-      final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n-              isNamespaceEnabled ? getOctalNotation(permission) : null,\n-              isNamespaceEnabled ? getOctalNotation(umask) : null);\n-      perfInfo.registerResult(op.getResult()).registerSuccess(true);\n+        boolean appendBlob \u003d false;\n+        if (isAppendBlobKey(path.toString())) {\n+          appendBlob \u003d true;\n+        }\n+\n+      client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n+          isNamespaceEnabled ? getOctalNotation(permission) : null,\n+          isNamespaceEnabled ? getOctalNotation(umask) : null,\n+          appendBlob);\n \n       return new AbfsOutputStream(\n-              client,\n-              AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n-              0,\n-              abfsConfiguration.getWriteBufferSize(),\n-              abfsConfiguration.isFlushEnabled(),\n-              abfsConfiguration.isOutputStreamFlushDisabled());\n+          client,\n+          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n+          0,\n+          abfsConfiguration.getWriteBufferSize(),\n+          abfsConfiguration.isFlushEnabled(),\n+          abfsConfiguration.isOutputStreamFlushDisabled(),\n+          abfsConfiguration.isAppendWithFlushEnabled(),\n+          appendBlob);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                 final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n        boolean appendBlob \u003d false;\n        if (isAppendBlobKey(path.toString())) {\n          appendBlob \u003d true;\n        }\n\n      client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n          isNamespaceEnabled ? getOctalNotation(permission) : null,\n          isNamespaceEnabled ? getOctalNotation(umask) : null,\n          appendBlob);\n\n      return new AbfsOutputStream(\n          client,\n          AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n          0,\n          abfsConfiguration.getWriteBufferSize(),\n          abfsConfiguration.isFlushEnabled(),\n          abfsConfiguration.isOutputStreamFlushDisabled(),\n          abfsConfiguration.isAppendWithFlushEnabled(),\n          appendBlob);\n    }\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
      "extendedDetails": {}
    },
    "b033c681e4fc3ee1a38caa807e130aee481d99d5": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16612. Track Azure Blob File System client-perceived latency\n\nContributed by Jeetesh Mangwani.\n\nThis add the ability to track the end-to-end performance of ADLS Gen 2 REST APIs by measuring latency in the Hadoop ABFS driver.\nThe latency information is sent back to the ADLS Gen 2 REST API endpoints in the subsequent requests.\n",
      "commitDate": "19/11/19 9:00 AM",
      "commitName": "b033c681e4fc3ee1a38caa807e130aee481d99d5",
      "commitAuthor": "Jeetesh Mangwani",
      "commitDateOld": "28/09/19 8:39 PM",
      "commitNameOld": "c0edc848a8e71b5e2a1586a589bbf2ac8685040d",
      "commitAuthorOld": "Sneha Vijayarajan",
      "daysBetweenCommits": 51.56,
      "commitsBetweenForRepo": 252,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,23 +1,26 @@\n   public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                  final FsPermission umask) throws AzureBlobFileSystemException {\n-    boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n-    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n-            client.getFileSystem(),\n-            path,\n-            overwrite,\n-            permission.toString(),\n-            umask.toString(),\n-            isNamespaceEnabled);\n+    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n+      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n+      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n+              client.getFileSystem(),\n+              path,\n+              overwrite,\n+              permission.toString(),\n+              umask.toString(),\n+              isNamespaceEnabled);\n \n-    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n-        isNamespaceEnabled ? getOctalNotation(permission) : null,\n-        isNamespaceEnabled ? getOctalNotation(umask) : null);\n+      final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n+              isNamespaceEnabled ? getOctalNotation(permission) : null,\n+              isNamespaceEnabled ? getOctalNotation(umask) : null);\n+      perfInfo.registerResult(op.getResult()).registerSuccess(true);\n \n-    return new AbfsOutputStream(\n-        client,\n-        AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n-        0,\n-        abfsConfiguration.getWriteBufferSize(),\n-        abfsConfiguration.isFlushEnabled(),\n-        abfsConfiguration.isOutputStreamFlushDisabled());\n+      return new AbfsOutputStream(\n+              client,\n+              AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n+              0,\n+              abfsConfiguration.getWriteBufferSize(),\n+              abfsConfiguration.isFlushEnabled(),\n+              abfsConfiguration.isOutputStreamFlushDisabled());\n+    }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                 final FsPermission umask) throws AzureBlobFileSystemException {\n    try (AbfsPerfInfo perfInfo \u003d startTracking(\"createFile\", \"createPath\")) {\n      boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n      LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n              client.getFileSystem(),\n              path,\n              overwrite,\n              permission.toString(),\n              umask.toString(),\n              isNamespaceEnabled);\n\n      final AbfsRestOperation op \u003d client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n              isNamespaceEnabled ? getOctalNotation(permission) : null,\n              isNamespaceEnabled ? getOctalNotation(umask) : null);\n      perfInfo.registerResult(op.getResult()).registerSuccess(true);\n\n      return new AbfsOutputStream(\n              client,\n              AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n              0,\n              abfsConfiguration.getWriteBufferSize(),\n              abfsConfiguration.isFlushEnabled(),\n              abfsConfiguration.isOutputStreamFlushDisabled());\n    }\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
      "extendedDetails": {}
    },
    "c0edc848a8e71b5e2a1586a589bbf2ac8685040d": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16548 : Disable Flush() over config\n",
      "commitDate": "28/09/19 8:39 PM",
      "commitName": "c0edc848a8e71b5e2a1586a589bbf2ac8685040d",
      "commitAuthor": "Sneha Vijayarajan",
      "commitDateOld": "09/08/19 4:38 AM",
      "commitNameOld": "43a91f820a5fce75ea69f78a62331bdc58e09a37",
      "commitAuthorOld": "Da Zhou",
      "daysBetweenCommits": 50.67,
      "commitsBetweenForRepo": 459,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,22 +1,23 @@\n   public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                  final FsPermission umask) throws AzureBlobFileSystemException {\n     boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n     LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n             client.getFileSystem(),\n             path,\n             overwrite,\n             permission.toString(),\n             umask.toString(),\n             isNamespaceEnabled);\n \n     client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n         isNamespaceEnabled ? getOctalNotation(permission) : null,\n         isNamespaceEnabled ? getOctalNotation(umask) : null);\n \n     return new AbfsOutputStream(\n         client,\n         AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n         0,\n         abfsConfiguration.getWriteBufferSize(),\n-        abfsConfiguration.isFlushEnabled());\n+        abfsConfiguration.isFlushEnabled(),\n+        abfsConfiguration.isOutputStreamFlushDisabled());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                 final FsPermission umask) throws AzureBlobFileSystemException {\n    boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n            client.getFileSystem(),\n            path,\n            overwrite,\n            permission.toString(),\n            umask.toString(),\n            isNamespaceEnabled);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n        isNamespaceEnabled ? getOctalNotation(permission) : null,\n        isNamespaceEnabled ? getOctalNotation(umask) : null);\n\n    return new AbfsOutputStream(\n        client,\n        AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n        0,\n        abfsConfiguration.getWriteBufferSize(),\n        abfsConfiguration.isFlushEnabled(),\n        abfsConfiguration.isOutputStreamFlushDisabled());\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
      "extendedDetails": {}
    },
    "6b6f8cc2bedefc98028d875398ce022edaf77933": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP 15688. ABFS: InputStream wrapped in FSDataInputStream twice.\nContributed by Sean Mackrory.\n",
      "commitDate": "17/09/18 12:54 PM",
      "commitName": "6b6f8cc2bedefc98028d875398ce022edaf77933",
      "commitAuthor": "Thomas Marquardt",
      "commitDateOld": "17/09/18 12:54 PM",
      "commitNameOld": "9c1e4e81399913f180131f4faa95604087c6d962",
      "commitAuthorOld": "Thomas Marquardt",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,22 @@\n   public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                  final FsPermission umask) throws AzureBlobFileSystemException {\n     boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n     LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n             client.getFileSystem(),\n             path,\n             overwrite,\n             permission.toString(),\n             umask.toString(),\n             isNamespaceEnabled);\n \n     client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n         isNamespaceEnabled ? getOctalNotation(permission) : null,\n         isNamespaceEnabled ? getOctalNotation(umask) : null);\n \n-    final OutputStream outputStream;\n-    outputStream \u003d new FSDataOutputStream(\n-            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n-                    abfsConfiguration.getWriteBufferSize(), abfsConfiguration.isFlushEnabled()), null);\n-    return outputStream;\n+    return new AbfsOutputStream(\n+        client,\n+        AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n+        0,\n+        abfsConfiguration.getWriteBufferSize(),\n+        abfsConfiguration.isFlushEnabled());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                 final FsPermission umask) throws AzureBlobFileSystemException {\n    boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n            client.getFileSystem(),\n            path,\n            overwrite,\n            permission.toString(),\n            umask.toString(),\n            isNamespaceEnabled);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n        isNamespaceEnabled ? getOctalNotation(permission) : null,\n        isNamespaceEnabled ? getOctalNotation(umask) : null);\n\n    return new AbfsOutputStream(\n        client,\n        AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path),\n        0,\n        abfsConfiguration.getWriteBufferSize(),\n        abfsConfiguration.isFlushEnabled());\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
      "extendedDetails": {}
    },
    "9c1e4e81399913f180131f4faa95604087c6d962": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HADOOP-15661. ABFS: Add support for ACL.\nContributed by Junhua Gu and Da Zhou.\n",
      "commitDate": "17/09/18 12:54 PM",
      "commitName": "9c1e4e81399913f180131f4faa95604087c6d962",
      "commitAuthor": "Thomas Marquardt",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HADOOP-15661. ABFS: Add support for ACL.\nContributed by Junhua Gu and Da Zhou.\n",
          "commitDate": "17/09/18 12:54 PM",
          "commitName": "9c1e4e81399913f180131f4faa95604087c6d962",
          "commitAuthor": "Thomas Marquardt",
          "commitDateOld": "17/09/18 12:54 PM",
          "commitNameOld": "9149b9703e3ab09abdc087db129e82ad3f4cefa1",
          "commitAuthorOld": "Thomas Marquardt",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,14 +1,21 @@\n-  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n-    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {}\",\n+  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n+                                 final FsPermission umask) throws AzureBlobFileSystemException {\n+    boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n+    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n             client.getFileSystem(),\n             path,\n-            overwrite);\n+            overwrite,\n+            permission.toString(),\n+            umask.toString(),\n+            isNamespaceEnabled);\n \n-    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n+    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n+        isNamespaceEnabled ? getOctalNotation(permission) : null,\n+        isNamespaceEnabled ? getOctalNotation(umask) : null);\n \n     final OutputStream outputStream;\n     outputStream \u003d new FSDataOutputStream(\n             new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                     abfsConfiguration.getWriteBufferSize(), abfsConfiguration.isFlushEnabled()), null);\n     return outputStream;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                 final FsPermission umask) throws AzureBlobFileSystemException {\n    boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n            client.getFileSystem(),\n            path,\n            overwrite,\n            permission.toString(),\n            umask.toString(),\n            isNamespaceEnabled);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n        isNamespaceEnabled ? getOctalNotation(permission) : null,\n        isNamespaceEnabled ? getOctalNotation(umask) : null);\n\n    final OutputStream outputStream;\n    outputStream \u003d new FSDataOutputStream(\n            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                    abfsConfiguration.getWriteBufferSize(), abfsConfiguration.isFlushEnabled()), null);\n    return outputStream;\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {
            "oldValue": "[path-Path(modifiers-final), overwrite-boolean(modifiers-final)]",
            "newValue": "[path-Path(modifiers-final), overwrite-boolean(modifiers-final), permission-FsPermission(modifiers-final), umask-FsPermission(modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HADOOP-15661. ABFS: Add support for ACL.\nContributed by Junhua Gu and Da Zhou.\n",
          "commitDate": "17/09/18 12:54 PM",
          "commitName": "9c1e4e81399913f180131f4faa95604087c6d962",
          "commitAuthor": "Thomas Marquardt",
          "commitDateOld": "17/09/18 12:54 PM",
          "commitNameOld": "9149b9703e3ab09abdc087db129e82ad3f4cefa1",
          "commitAuthorOld": "Thomas Marquardt",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,14 +1,21 @@\n-  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n-    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {}\",\n+  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n+                                 final FsPermission umask) throws AzureBlobFileSystemException {\n+    boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n+    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n             client.getFileSystem(),\n             path,\n-            overwrite);\n+            overwrite,\n+            permission.toString(),\n+            umask.toString(),\n+            isNamespaceEnabled);\n \n-    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n+    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n+        isNamespaceEnabled ? getOctalNotation(permission) : null,\n+        isNamespaceEnabled ? getOctalNotation(umask) : null);\n \n     final OutputStream outputStream;\n     outputStream \u003d new FSDataOutputStream(\n             new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                     abfsConfiguration.getWriteBufferSize(), abfsConfiguration.isFlushEnabled()), null);\n     return outputStream;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite, final FsPermission permission,\n                                 final FsPermission umask) throws AzureBlobFileSystemException {\n    boolean isNamespaceEnabled \u003d getIsNamespaceEnabled();\n    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {} permission: {} umask: {} isNamespaceEnabled: {}\",\n            client.getFileSystem(),\n            path,\n            overwrite,\n            permission.toString(),\n            umask.toString(),\n            isNamespaceEnabled);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite,\n        isNamespaceEnabled ? getOctalNotation(permission) : null,\n        isNamespaceEnabled ? getOctalNotation(umask) : null);\n\n    final OutputStream outputStream;\n    outputStream \u003d new FSDataOutputStream(\n            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                    abfsConfiguration.getWriteBufferSize(), abfsConfiguration.isFlushEnabled()), null);\n    return outputStream;\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {}
        }
      ]
    },
    "b54b0c1b676c616aef9574e4e88ea30c314c79dc": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-15659. Code changes for bug fix and new tests.\nContributed by Da Zhou.\n",
      "commitDate": "17/09/18 12:54 PM",
      "commitName": "b54b0c1b676c616aef9574e4e88ea30c314c79dc",
      "commitAuthor": "Thomas Marquardt",
      "commitDateOld": "17/09/18 12:54 PM",
      "commitNameOld": "ce03a93f78c4d97ccb48a3906fcd77ad0ac756be",
      "commitAuthorOld": "Thomas Marquardt",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n   public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n     LOG.debug(\"createFile filesystem: {} path: {} overwrite: {}\",\n             client.getFileSystem(),\n             path,\n             overwrite);\n \n     client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n \n     final OutputStream outputStream;\n     outputStream \u003d new FSDataOutputStream(\n             new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n-                    abfsConfiguration.getWriteBufferSize()), null);\n+                    abfsConfiguration.getWriteBufferSize(), abfsConfiguration.isFlushEnabled()), null);\n     return outputStream;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {}\",\n            client.getFileSystem(),\n            path,\n            overwrite);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n\n    final OutputStream outputStream;\n    outputStream \u003d new FSDataOutputStream(\n            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                    abfsConfiguration.getWriteBufferSize(), abfsConfiguration.isFlushEnabled()), null);\n    return outputStream;\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
      "extendedDetails": {}
    },
    "ce03a93f78c4d97ccb48a3906fcd77ad0ac756be": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-15446. ABFS: tune imports \u0026 javadocs; stabilise tests.\nContributed by Steve Loughran and Da Zhou.\n",
      "commitDate": "17/09/18 12:54 PM",
      "commitName": "ce03a93f78c4d97ccb48a3906fcd77ad0ac756be",
      "commitAuthor": "Thomas Marquardt",
      "commitDateOld": "17/09/18 12:54 PM",
      "commitNameOld": "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462",
      "commitAuthorOld": "Steve Loughran",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,14 @@\n   public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n-    this.LOG.debug(\n-            \"createFile filesystem: {} path: {} overwrite: {}\",\n+    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {}\",\n             client.getFileSystem(),\n-            path.toString(),\n+            path,\n             overwrite);\n \n     client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n \n     final OutputStream outputStream;\n     outputStream \u003d new FSDataOutputStream(\n             new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                     abfsConfiguration.getWriteBufferSize()), null);\n     return outputStream;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n    LOG.debug(\"createFile filesystem: {} path: {} overwrite: {}\",\n            client.getFileSystem(),\n            path,\n            overwrite);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n\n    final OutputStream outputStream;\n    outputStream \u003d new FSDataOutputStream(\n            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                    abfsConfiguration.getWriteBufferSize()), null);\n    return outputStream;\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
      "extendedDetails": {}
    },
    "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462": {
      "type": "Ymultichange(Yfilerename,Ybodychange,Yparameterchange)",
      "commitMessage": "HADOOP-15560. ABFS: removed dependency injection and unnecessary dependencies.\nContributed by Da Zhou.\n",
      "commitDate": "17/09/18 12:54 PM",
      "commitName": "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462",
      "commitAuthor": "Steve Loughran",
      "subchanges": [
        {
          "type": "Yfilerename",
          "commitMessage": "HADOOP-15560. ABFS: removed dependency injection and unnecessary dependencies.\nContributed by Da Zhou.\n",
          "commitDate": "17/09/18 12:54 PM",
          "commitName": "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462",
          "commitAuthor": "Steve Loughran",
          "commitDateOld": "17/09/18 12:54 PM",
          "commitNameOld": "f044deedbbfee0812316d587139cb828f27172e9",
          "commitAuthorOld": "Steve Loughran",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,15 @@\n-  public OutputStream createFile(final AzureBlobFileSystem azureBlobFileSystem, final Path path, final boolean overwrite) throws\n-      AzureBlobFileSystemException {\n-    final AbfsClient client \u003d this.getOrCreateClient(azureBlobFileSystem);\n-\n+  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n     this.LOG.debug(\n-        \"createFile filesystem: {} path: {} overwrite: {}\",\n-        client.getFileSystem(),\n-        path.toString(),\n-        overwrite);\n+            \"createFile filesystem: {} path: {} overwrite: {}\",\n+            client.getFileSystem(),\n+            path.toString(),\n+            overwrite);\n \n     client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n \n     final OutputStream outputStream;\n     outputStream \u003d new FSDataOutputStream(\n-        new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n-            configurationService.getWriteBufferSize()), null);\n+            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n+                    abfsConfiguration.getWriteBufferSize()), null);\n     return outputStream;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n    this.LOG.debug(\n            \"createFile filesystem: {} path: {} overwrite: {}\",\n            client.getFileSystem(),\n            path.toString(),\n            overwrite);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n\n    final OutputStream outputStream;\n    outputStream \u003d new FSDataOutputStream(\n            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                    abfsConfiguration.getWriteBufferSize()), null);\n    return outputStream;\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {
            "oldPath": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/services/AbfsHttpServiceImpl.java",
            "newPath": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HADOOP-15560. ABFS: removed dependency injection and unnecessary dependencies.\nContributed by Da Zhou.\n",
          "commitDate": "17/09/18 12:54 PM",
          "commitName": "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462",
          "commitAuthor": "Steve Loughran",
          "commitDateOld": "17/09/18 12:54 PM",
          "commitNameOld": "f044deedbbfee0812316d587139cb828f27172e9",
          "commitAuthorOld": "Steve Loughran",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,15 @@\n-  public OutputStream createFile(final AzureBlobFileSystem azureBlobFileSystem, final Path path, final boolean overwrite) throws\n-      AzureBlobFileSystemException {\n-    final AbfsClient client \u003d this.getOrCreateClient(azureBlobFileSystem);\n-\n+  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n     this.LOG.debug(\n-        \"createFile filesystem: {} path: {} overwrite: {}\",\n-        client.getFileSystem(),\n-        path.toString(),\n-        overwrite);\n+            \"createFile filesystem: {} path: {} overwrite: {}\",\n+            client.getFileSystem(),\n+            path.toString(),\n+            overwrite);\n \n     client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n \n     final OutputStream outputStream;\n     outputStream \u003d new FSDataOutputStream(\n-        new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n-            configurationService.getWriteBufferSize()), null);\n+            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n+                    abfsConfiguration.getWriteBufferSize()), null);\n     return outputStream;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n    this.LOG.debug(\n            \"createFile filesystem: {} path: {} overwrite: {}\",\n            client.getFileSystem(),\n            path.toString(),\n            overwrite);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n\n    final OutputStream outputStream;\n    outputStream \u003d new FSDataOutputStream(\n            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                    abfsConfiguration.getWriteBufferSize()), null);\n    return outputStream;\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {}
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "HADOOP-15560. ABFS: removed dependency injection and unnecessary dependencies.\nContributed by Da Zhou.\n",
          "commitDate": "17/09/18 12:54 PM",
          "commitName": "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462",
          "commitAuthor": "Steve Loughran",
          "commitDateOld": "17/09/18 12:54 PM",
          "commitNameOld": "f044deedbbfee0812316d587139cb828f27172e9",
          "commitAuthorOld": "Steve Loughran",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,15 @@\n-  public OutputStream createFile(final AzureBlobFileSystem azureBlobFileSystem, final Path path, final boolean overwrite) throws\n-      AzureBlobFileSystemException {\n-    final AbfsClient client \u003d this.getOrCreateClient(azureBlobFileSystem);\n-\n+  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n     this.LOG.debug(\n-        \"createFile filesystem: {} path: {} overwrite: {}\",\n-        client.getFileSystem(),\n-        path.toString(),\n-        overwrite);\n+            \"createFile filesystem: {} path: {} overwrite: {}\",\n+            client.getFileSystem(),\n+            path.toString(),\n+            overwrite);\n \n     client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n \n     final OutputStream outputStream;\n     outputStream \u003d new FSDataOutputStream(\n-        new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n-            configurationService.getWriteBufferSize()), null);\n+            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n+                    abfsConfiguration.getWriteBufferSize()), null);\n     return outputStream;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public OutputStream createFile(final Path path, final boolean overwrite) throws AzureBlobFileSystemException {\n    this.LOG.debug(\n            \"createFile filesystem: {} path: {} overwrite: {}\",\n            client.getFileSystem(),\n            path.toString(),\n            overwrite);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n\n    final OutputStream outputStream;\n    outputStream \u003d new FSDataOutputStream(\n            new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n                    abfsConfiguration.getWriteBufferSize()), null);\n    return outputStream;\n  }",
          "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystemStore.java",
          "extendedDetails": {
            "oldValue": "[azureBlobFileSystem-AzureBlobFileSystem(modifiers-final), path-Path(modifiers-final), overwrite-boolean(modifiers-final)]",
            "newValue": "[path-Path(modifiers-final), overwrite-boolean(modifiers-final)]"
          }
        }
      ]
    },
    "f044deedbbfee0812316d587139cb828f27172e9": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-15407. HADOOP-15540. Support Windows Azure Storage - Blob file system \"ABFS\" in Hadoop: Core Commit.\n\nContributed by Shane Mainali, Thomas Marquardt, Zichen Sun, Georgi Chalakov, Esfandiar Manii, Amit Singh, Dana Kaban, Da Zhou, Junhua Gu, Saher Ahwal, Saurabh Pant, James Baker, Shaoyu Zhang, Lawrence Chen, Kevin Chen and Steve Loughran\n",
      "commitDate": "17/09/18 12:54 PM",
      "commitName": "f044deedbbfee0812316d587139cb828f27172e9",
      "commitAuthor": "Steve Loughran",
      "diff": "@@ -0,0 +1,18 @@\n+  public OutputStream createFile(final AzureBlobFileSystem azureBlobFileSystem, final Path path, final boolean overwrite) throws\n+      AzureBlobFileSystemException {\n+    final AbfsClient client \u003d this.getOrCreateClient(azureBlobFileSystem);\n+\n+    this.LOG.debug(\n+        \"createFile filesystem: {} path: {} overwrite: {}\",\n+        client.getFileSystem(),\n+        path.toString(),\n+        overwrite);\n+\n+    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n+\n+    final OutputStream outputStream;\n+    outputStream \u003d new FSDataOutputStream(\n+        new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n+            configurationService.getWriteBufferSize()), null);\n+    return outputStream;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public OutputStream createFile(final AzureBlobFileSystem azureBlobFileSystem, final Path path, final boolean overwrite) throws\n      AzureBlobFileSystemException {\n    final AbfsClient client \u003d this.getOrCreateClient(azureBlobFileSystem);\n\n    this.LOG.debug(\n        \"createFile filesystem: {} path: {} overwrite: {}\",\n        client.getFileSystem(),\n        path.toString(),\n        overwrite);\n\n    client.createPath(AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), true, overwrite);\n\n    final OutputStream outputStream;\n    outputStream \u003d new FSDataOutputStream(\n        new AbfsOutputStream(client, AbfsHttpConstants.FORWARD_SLASH + getRelativePath(path), 0,\n            configurationService.getWriteBufferSize()), null);\n    return outputStream;\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/services/AbfsHttpServiceImpl.java"
    }
  }
}