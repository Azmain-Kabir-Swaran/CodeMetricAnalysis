{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "UserGroupInformation.java",
  "functionName": "newLoginContext",
  "functionId": "newLoginContext___appName-String__subject-Subject__loginConf-HadoopConfiguration",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java",
  "functionStartLine": 505,
  "functionEndLine": 519,
  "numCommitsSeen": 203,
  "timeTaken": 4273,
  "changeHistory": [
    "59cf7588779145ad5850ad63426743dfe03d8347",
    "fb4a6ac9e995c79475af99aea044e0fc0558e9b6",
    "b7eb5334f5ca1fbc033084ffe9690a45e596b7bb",
    "d8930feeae116fc53cb0676dad8521992762528c"
  ],
  "changeHistoryShort": {
    "59cf7588779145ad5850ad63426743dfe03d8347": "Ymultichange(Yparameterchange,Yreturntypechange,Ybodychange)",
    "fb4a6ac9e995c79475af99aea044e0fc0558e9b6": "Ymultichange(Yparameterchange,Ybodychange)",
    "b7eb5334f5ca1fbc033084ffe9690a45e596b7bb": "Ybodychange",
    "d8930feeae116fc53cb0676dad8521992762528c": "Yintroduced"
  },
  "changeHistoryDetails": {
    "59cf7588779145ad5850ad63426743dfe03d8347": {
      "type": "Ymultichange(Yparameterchange,Yreturntypechange,Ybodychange)",
      "commitMessage": "HADOOP-9747. Reduce unnecessary UGI synchronization. Contributed by Daryn Sharp.\n",
      "commitDate": "23/02/18 11:10 AM",
      "commitName": "59cf7588779145ad5850ad63426743dfe03d8347",
      "commitAuthor": "Kihwal Lee",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HADOOP-9747. Reduce unnecessary UGI synchronization. Contributed by Daryn Sharp.\n",
          "commitDate": "23/02/18 11:10 AM",
          "commitName": "59cf7588779145ad5850ad63426743dfe03d8347",
          "commitAuthor": "Kihwal Lee",
          "commitDateOld": "27/12/17 11:17 PM",
          "commitNameOld": "d31c9d8c495794a803fb20729b5ed6b374e23eb4",
          "commitAuthorOld": "Jitendra Pandey",
          "daysBetweenCommits": 57.5,
          "commitsBetweenForRepo": 327,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,15 +1,15 @@\n   newLoginContext(String appName, Subject subject,\n-    javax.security.auth.login.Configuration loginConf)\n+                  HadoopConfiguration loginConf)\n       throws LoginException {\n     // Temporarily switch the thread\u0027s ContextClassLoader to match this\n     // class\u0027s classloader, so that we can properly load HadoopLoginModule\n     // from the JAAS libraries.\n     Thread t \u003d Thread.currentThread();\n     ClassLoader oldCCL \u003d t.getContextClassLoader();\n     t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n     try {\n-      return new LoginContext(appName, subject, null, loginConf);\n+      return new HadoopLoginContext(appName, subject, loginConf);\n     } finally {\n       t.setContextClassLoader(oldCCL);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  newLoginContext(String appName, Subject subject,\n                  HadoopConfiguration loginConf)\n      throws LoginException {\n    // Temporarily switch the thread\u0027s ContextClassLoader to match this\n    // class\u0027s classloader, so that we can properly load HadoopLoginModule\n    // from the JAAS libraries.\n    Thread t \u003d Thread.currentThread();\n    ClassLoader oldCCL \u003d t.getContextClassLoader();\n    t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n    try {\n      return new HadoopLoginContext(appName, subject, loginConf);\n    } finally {\n      t.setContextClassLoader(oldCCL);\n    }\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java",
          "extendedDetails": {
            "oldValue": "[appName-String, subject-Subject, loginConf-javax.security.auth.login.Configuration]",
            "newValue": "[appName-String, subject-Subject, loginConf-HadoopConfiguration]"
          }
        },
        {
          "type": "Yreturntypechange",
          "commitMessage": "HADOOP-9747. Reduce unnecessary UGI synchronization. Contributed by Daryn Sharp.\n",
          "commitDate": "23/02/18 11:10 AM",
          "commitName": "59cf7588779145ad5850ad63426743dfe03d8347",
          "commitAuthor": "Kihwal Lee",
          "commitDateOld": "27/12/17 11:17 PM",
          "commitNameOld": "d31c9d8c495794a803fb20729b5ed6b374e23eb4",
          "commitAuthorOld": "Jitendra Pandey",
          "daysBetweenCommits": 57.5,
          "commitsBetweenForRepo": 327,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,15 +1,15 @@\n   newLoginContext(String appName, Subject subject,\n-    javax.security.auth.login.Configuration loginConf)\n+                  HadoopConfiguration loginConf)\n       throws LoginException {\n     // Temporarily switch the thread\u0027s ContextClassLoader to match this\n     // class\u0027s classloader, so that we can properly load HadoopLoginModule\n     // from the JAAS libraries.\n     Thread t \u003d Thread.currentThread();\n     ClassLoader oldCCL \u003d t.getContextClassLoader();\n     t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n     try {\n-      return new LoginContext(appName, subject, null, loginConf);\n+      return new HadoopLoginContext(appName, subject, loginConf);\n     } finally {\n       t.setContextClassLoader(oldCCL);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  newLoginContext(String appName, Subject subject,\n                  HadoopConfiguration loginConf)\n      throws LoginException {\n    // Temporarily switch the thread\u0027s ContextClassLoader to match this\n    // class\u0027s classloader, so that we can properly load HadoopLoginModule\n    // from the JAAS libraries.\n    Thread t \u003d Thread.currentThread();\n    ClassLoader oldCCL \u003d t.getContextClassLoader();\n    t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n    try {\n      return new HadoopLoginContext(appName, subject, loginConf);\n    } finally {\n      t.setContextClassLoader(oldCCL);\n    }\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java",
          "extendedDetails": {
            "oldValue": "LoginContext",
            "newValue": "HadoopLoginContext"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HADOOP-9747. Reduce unnecessary UGI synchronization. Contributed by Daryn Sharp.\n",
          "commitDate": "23/02/18 11:10 AM",
          "commitName": "59cf7588779145ad5850ad63426743dfe03d8347",
          "commitAuthor": "Kihwal Lee",
          "commitDateOld": "27/12/17 11:17 PM",
          "commitNameOld": "d31c9d8c495794a803fb20729b5ed6b374e23eb4",
          "commitAuthorOld": "Jitendra Pandey",
          "daysBetweenCommits": 57.5,
          "commitsBetweenForRepo": 327,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,15 +1,15 @@\n   newLoginContext(String appName, Subject subject,\n-    javax.security.auth.login.Configuration loginConf)\n+                  HadoopConfiguration loginConf)\n       throws LoginException {\n     // Temporarily switch the thread\u0027s ContextClassLoader to match this\n     // class\u0027s classloader, so that we can properly load HadoopLoginModule\n     // from the JAAS libraries.\n     Thread t \u003d Thread.currentThread();\n     ClassLoader oldCCL \u003d t.getContextClassLoader();\n     t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n     try {\n-      return new LoginContext(appName, subject, null, loginConf);\n+      return new HadoopLoginContext(appName, subject, loginConf);\n     } finally {\n       t.setContextClassLoader(oldCCL);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  newLoginContext(String appName, Subject subject,\n                  HadoopConfiguration loginConf)\n      throws LoginException {\n    // Temporarily switch the thread\u0027s ContextClassLoader to match this\n    // class\u0027s classloader, so that we can properly load HadoopLoginModule\n    // from the JAAS libraries.\n    Thread t \u003d Thread.currentThread();\n    ClassLoader oldCCL \u003d t.getContextClassLoader();\n    t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n    try {\n      return new HadoopLoginContext(appName, subject, loginConf);\n    } finally {\n      t.setContextClassLoader(oldCCL);\n    }\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java",
          "extendedDetails": {}
        }
      ]
    },
    "fb4a6ac9e995c79475af99aea044e0fc0558e9b6": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-3568. fuse_dfs: add support for security. Contributed by Colin McCabe.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1359824 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/07/12 11:28 AM",
      "commitName": "fb4a6ac9e995c79475af99aea044e0fc0558e9b6",
      "commitAuthor": "Aaron Myers",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-3568. fuse_dfs: add support for security. Contributed by Colin McCabe.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1359824 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "10/07/12 11:28 AM",
          "commitName": "fb4a6ac9e995c79475af99aea044e0fc0558e9b6",
          "commitAuthor": "Aaron Myers",
          "commitDateOld": "23/04/12 8:59 PM",
          "commitNameOld": "858887e28921393f64132cf88c3276643f3e5338",
          "commitAuthorOld": "Eli Collins",
          "daysBetweenCommits": 77.6,
          "commitsBetweenForRepo": 404,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,15 @@\n-  newLoginContext(String appName, Subject subject) throws LoginException {\n+  newLoginContext(String appName, Subject subject,\n+    javax.security.auth.login.Configuration loginConf)\n+      throws LoginException {\n     // Temporarily switch the thread\u0027s ContextClassLoader to match this\n     // class\u0027s classloader, so that we can properly load HadoopLoginModule\n     // from the JAAS libraries.\n     Thread t \u003d Thread.currentThread();\n     ClassLoader oldCCL \u003d t.getContextClassLoader();\n     t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n     try {\n-      return new LoginContext(appName, subject, null, new HadoopConfiguration());\n+      return new LoginContext(appName, subject, null, loginConf);\n     } finally {\n       t.setContextClassLoader(oldCCL);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  newLoginContext(String appName, Subject subject,\n    javax.security.auth.login.Configuration loginConf)\n      throws LoginException {\n    // Temporarily switch the thread\u0027s ContextClassLoader to match this\n    // class\u0027s classloader, so that we can properly load HadoopLoginModule\n    // from the JAAS libraries.\n    Thread t \u003d Thread.currentThread();\n    ClassLoader oldCCL \u003d t.getContextClassLoader();\n    t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n    try {\n      return new LoginContext(appName, subject, null, loginConf);\n    } finally {\n      t.setContextClassLoader(oldCCL);\n    }\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java",
          "extendedDetails": {
            "oldValue": "[appName-String, subject-Subject]",
            "newValue": "[appName-String, subject-Subject, loginConf-javax.security.auth.login.Configuration]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-3568. fuse_dfs: add support for security. Contributed by Colin McCabe.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1359824 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "10/07/12 11:28 AM",
          "commitName": "fb4a6ac9e995c79475af99aea044e0fc0558e9b6",
          "commitAuthor": "Aaron Myers",
          "commitDateOld": "23/04/12 8:59 PM",
          "commitNameOld": "858887e28921393f64132cf88c3276643f3e5338",
          "commitAuthorOld": "Eli Collins",
          "daysBetweenCommits": 77.6,
          "commitsBetweenForRepo": 404,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,15 @@\n-  newLoginContext(String appName, Subject subject) throws LoginException {\n+  newLoginContext(String appName, Subject subject,\n+    javax.security.auth.login.Configuration loginConf)\n+      throws LoginException {\n     // Temporarily switch the thread\u0027s ContextClassLoader to match this\n     // class\u0027s classloader, so that we can properly load HadoopLoginModule\n     // from the JAAS libraries.\n     Thread t \u003d Thread.currentThread();\n     ClassLoader oldCCL \u003d t.getContextClassLoader();\n     t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n     try {\n-      return new LoginContext(appName, subject, null, new HadoopConfiguration());\n+      return new LoginContext(appName, subject, null, loginConf);\n     } finally {\n       t.setContextClassLoader(oldCCL);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  newLoginContext(String appName, Subject subject,\n    javax.security.auth.login.Configuration loginConf)\n      throws LoginException {\n    // Temporarily switch the thread\u0027s ContextClassLoader to match this\n    // class\u0027s classloader, so that we can properly load HadoopLoginModule\n    // from the JAAS libraries.\n    Thread t \u003d Thread.currentThread();\n    ClassLoader oldCCL \u003d t.getContextClassLoader();\n    t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n    try {\n      return new LoginContext(appName, subject, null, loginConf);\n    } finally {\n      t.setContextClassLoader(oldCCL);\n    }\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java",
          "extendedDetails": {}
        }
      ]
    },
    "b7eb5334f5ca1fbc033084ffe9690a45e596b7bb": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-7982. UserGroupInformation fails to login if thread\u0027s context classloader can\u0027t load HadoopLoginModule. Contributed by Todd Lipcon.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1233751 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/01/12 7:33 PM",
      "commitName": "b7eb5334f5ca1fbc033084ffe9690a45e596b7bb",
      "commitAuthor": "Todd Lipcon",
      "commitDateOld": "09/12/11 11:28 AM",
      "commitNameOld": "66fce20802653ebed492024b01441644e028036a",
      "commitAuthorOld": "Alejandro Abdelnur",
      "daysBetweenCommits": 41.34,
      "commitsBetweenForRepo": 190,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,3 +1,13 @@\n   newLoginContext(String appName, Subject subject) throws LoginException {\n-    return new LoginContext(appName, subject, null, new HadoopConfiguration());\n+    // Temporarily switch the thread\u0027s ContextClassLoader to match this\n+    // class\u0027s classloader, so that we can properly load HadoopLoginModule\n+    // from the JAAS libraries.\n+    Thread t \u003d Thread.currentThread();\n+    ClassLoader oldCCL \u003d t.getContextClassLoader();\n+    t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n+    try {\n+      return new LoginContext(appName, subject, null, new HadoopConfiguration());\n+    } finally {\n+      t.setContextClassLoader(oldCCL);\n+    }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  newLoginContext(String appName, Subject subject) throws LoginException {\n    // Temporarily switch the thread\u0027s ContextClassLoader to match this\n    // class\u0027s classloader, so that we can properly load HadoopLoginModule\n    // from the JAAS libraries.\n    Thread t \u003d Thread.currentThread();\n    ClassLoader oldCCL \u003d t.getContextClassLoader();\n    t.setContextClassLoader(HadoopLoginModule.class.getClassLoader());\n    try {\n      return new LoginContext(appName, subject, null, new HadoopConfiguration());\n    } finally {\n      t.setContextClassLoader(oldCCL);\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java",
      "extendedDetails": {}
    },
    "d8930feeae116fc53cb0676dad8521992762528c": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7853. multiple javax security configurations cause conflicts. (daryn via tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1208751 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "30/11/11 12:26 PM",
      "commitName": "d8930feeae116fc53cb0676dad8521992762528c",
      "commitAuthor": "Alejandro Abdelnur",
      "diff": "@@ -0,0 +1,3 @@\n+  newLoginContext(String appName, Subject subject) throws LoginException {\n+    return new LoginContext(appName, subject, null, new HadoopConfiguration());\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  newLoginContext(String appName, Subject subject) throws LoginException {\n    return new LoginContext(appName, subject, null, new HadoopConfiguration());\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/UserGroupInformation.java"
    }
  }
}