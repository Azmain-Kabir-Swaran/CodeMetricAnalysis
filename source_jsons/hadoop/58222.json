{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMDelegationTokenSelector.java",
  "functionName": "selectToken",
  "functionId": "selectToken___service-Text__tokens-Collection__Token__? extends TokenIdentifier____",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMDelegationTokenSelector.java",
  "functionStartLine": 49,
  "functionEndLine": 64,
  "numCommitsSeen": 7,
  "timeTaken": 1877,
  "changeHistory": [
    "2064ca015d1584263aac0cc20c60b925a3aff612",
    "88245b6a41171f939b22186c533ea2bc7994f9b3",
    "e3769ea1d2d088b169a78a1a1127848b2b2b8cbd",
    "e1fdf62123625e4ba399af02f8aad500637d29d1",
    "bc4b1f48d3aba7f7a324ae76ab65a0920b1e609e"
  ],
  "changeHistoryShort": {
    "2064ca015d1584263aac0cc20c60b925a3aff612": "Ybodychange",
    "88245b6a41171f939b22186c533ea2bc7994f9b3": "Ybodychange",
    "e3769ea1d2d088b169a78a1a1127848b2b2b8cbd": "Yfilerename",
    "e1fdf62123625e4ba399af02f8aad500637d29d1": "Yfilerename",
    "bc4b1f48d3aba7f7a324ae76ab65a0920b1e609e": "Yintroduced"
  },
  "changeHistoryDetails": {
    "2064ca015d1584263aac0cc20c60b925a3aff612": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9349.  Changed logging to use slf4j api.\n            Contributed by Prabhu Joseph\n",
      "commitDate": "15/03/19 4:20 PM",
      "commitName": "2064ca015d1584263aac0cc20c60b925a3aff612",
      "commitAuthor": "Eric Yang",
      "commitDateOld": "03/03/19 11:59 PM",
      "commitNameOld": "bd8d299ded742813cabd4b4e7ce1e33e0d1f9509",
      "commitAuthorOld": "Akira Ajisaka",
      "daysBetweenCommits": 11.64,
      "commitsBetweenForRepo": 118,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,16 @@\n   public Token\u003cRMDelegationTokenIdentifier\u003e selectToken(Text service,\n       Collection\u003cToken\u003c? extends TokenIdentifier\u003e\u003e tokens) {\n     if (service \u003d\u003d null) {\n       return null;\n     }\n-    LOG.debug(\"Looking for a token with service \" + service.toString());\n+    LOG.debug(\"Looking for a token with service {}\", service);\n     for (Token\u003c? extends TokenIdentifier\u003e token : tokens) {\n-      LOG.debug(\"Token kind is \" + token.getKind().toString()\n-          + \" and the token\u0027s service name is \" + token.getService());\n+      LOG.debug(\"Token kind is {} and the token\u0027s service name is {}\",\n+          token.getKind(), token.getService());\n       if (RMDelegationTokenIdentifier.KIND_NAME.equals(token.getKind())\n           \u0026\u0026 checkService(service, token)) {\n         return (Token\u003cRMDelegationTokenIdentifier\u003e) token;\n       }\n     }\n     return null;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Token\u003cRMDelegationTokenIdentifier\u003e selectToken(Text service,\n      Collection\u003cToken\u003c? extends TokenIdentifier\u003e\u003e tokens) {\n    if (service \u003d\u003d null) {\n      return null;\n    }\n    LOG.debug(\"Looking for a token with service {}\", service);\n    for (Token\u003c? extends TokenIdentifier\u003e token : tokens) {\n      LOG.debug(\"Token kind is {} and the token\u0027s service name is {}\",\n          token.getKind(), token.getService());\n      if (RMDelegationTokenIdentifier.KIND_NAME.equals(token.getKind())\n          \u0026\u0026 checkService(service, token)) {\n        return (Token\u003cRMDelegationTokenIdentifier\u003e) token;\n      }\n    }\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMDelegationTokenSelector.java",
      "extendedDetails": {}
    },
    "88245b6a41171f939b22186c533ea2bc7994f9b3": {
      "type": "Ybodychange",
      "commitMessage": "YARN-986. Changed client side to be able to figure out the right RM Delegation token for the right ResourceManager when HA is enabled. Contributed by Karthik Kambatla.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1574190 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "04/03/14 12:39 PM",
      "commitName": "88245b6a41171f939b22186c533ea2bc7994f9b3",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "16/06/13 8:32 PM",
      "commitNameOld": "f5f8f3bca4eeaedeff8181812452ec363c4db744",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 260.71,
      "commitsBetweenForRepo": 1665,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,16 @@\n   public Token\u003cRMDelegationTokenIdentifier\u003e selectToken(Text service,\n       Collection\u003cToken\u003c? extends TokenIdentifier\u003e\u003e tokens) {\n     if (service \u003d\u003d null) {\n       return null;\n     }\n     LOG.debug(\"Looking for a token with service \" + service.toString());\n     for (Token\u003c? extends TokenIdentifier\u003e token : tokens) {\n       LOG.debug(\"Token kind is \" + token.getKind().toString()\n           + \" and the token\u0027s service name is \" + token.getService());\n       if (RMDelegationTokenIdentifier.KIND_NAME.equals(token.getKind())\n-          \u0026\u0026 service.equals(token.getService())) {\n+          \u0026\u0026 checkService(service, token)) {\n         return (Token\u003cRMDelegationTokenIdentifier\u003e) token;\n       }\n     }\n     return null;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Token\u003cRMDelegationTokenIdentifier\u003e selectToken(Text service,\n      Collection\u003cToken\u003c? extends TokenIdentifier\u003e\u003e tokens) {\n    if (service \u003d\u003d null) {\n      return null;\n    }\n    LOG.debug(\"Looking for a token with service \" + service.toString());\n    for (Token\u003c? extends TokenIdentifier\u003e token : tokens) {\n      LOG.debug(\"Token kind is \" + token.getKind().toString()\n          + \" and the token\u0027s service name is \" + token.getService());\n      if (RMDelegationTokenIdentifier.KIND_NAME.equals(token.getKind())\n          \u0026\u0026 checkService(service, token)) {\n        return (Token\u003cRMDelegationTokenIdentifier\u003e) token;\n      }\n    }\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMDelegationTokenSelector.java",
      "extendedDetails": {}
    },
    "e3769ea1d2d088b169a78a1a1127848b2b2b8cbd": {
      "type": "Yfilerename",
      "commitMessage": "YARN-829. Renamed RMTokenSelector to be RMDelegationTokenSelector. Contributed by Zhijie Shen.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1493577 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/06/13 1:33 PM",
      "commitName": "e3769ea1d2d088b169a78a1a1127848b2b2b8cbd",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "16/06/13 12:09 PM",
      "commitNameOld": "7f96128e43f5fe9c71e649926b415e7a890587ad",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.06,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public Token\u003cRMDelegationTokenIdentifier\u003e selectToken(Text service,\n      Collection\u003cToken\u003c? extends TokenIdentifier\u003e\u003e tokens) {\n    if (service \u003d\u003d null) {\n      return null;\n    }\n    LOG.debug(\"Looking for a token with service \" + service.toString());\n    for (Token\u003c? extends TokenIdentifier\u003e token : tokens) {\n      LOG.debug(\"Token kind is \" + token.getKind().toString()\n          + \" and the token\u0027s service name is \" + token.getService());\n      if (RMDelegationTokenIdentifier.KIND_NAME.equals(token.getKind())\n          \u0026\u0026 service.equals(token.getService())) {\n        return (Token\u003cRMDelegationTokenIdentifier\u003e) token;\n      }\n    }\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMDelegationTokenSelector.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMTokenSelector.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMDelegationTokenSelector.java"
      }
    },
    "e1fdf62123625e4ba399af02f8aad500637d29d1": {
      "type": "Yfilerename",
      "commitMessage": "YARN-1. Promote YARN to be a sub-project of Apache Hadoop.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1370666 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/12 10:22 PM",
      "commitName": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/08/12 7:53 PM",
      "commitNameOld": "34554d1e11ee1d5b564d7d9ed3e6d55931d72749",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public Token\u003cRMDelegationTokenIdentifier\u003e selectToken(Text service,\n      Collection\u003cToken\u003c? extends TokenIdentifier\u003e\u003e tokens) {\n    if (service \u003d\u003d null) {\n      return null;\n    }\n    LOG.debug(\"Looking for a token with service \" + service.toString());\n    for (Token\u003c? extends TokenIdentifier\u003e token : tokens) {\n      LOG.debug(\"Token kind is \" + token.getKind().toString()\n          + \" and the token\u0027s service name is \" + token.getService());\n      if (RMDelegationTokenIdentifier.KIND_NAME.equals(token.getKind())\n          \u0026\u0026 service.equals(token.getService())) {\n        return (Token\u003cRMDelegationTokenIdentifier\u003e) token;\n      }\n    }\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMTokenSelector.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMTokenSelector.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMTokenSelector.java"
      }
    },
    "bc4b1f48d3aba7f7a324ae76ab65a0920b1e609e": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-3380. Token infrastructure for running clients which are not kerberos authenticated. (mahadev)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1229855 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/01/12 5:50 PM",
      "commitName": "bc4b1f48d3aba7f7a324ae76ab65a0920b1e609e",
      "commitAuthor": "Mahadev Konar",
      "diff": "@@ -0,0 +1,16 @@\n+  public Token\u003cRMDelegationTokenIdentifier\u003e selectToken(Text service,\n+      Collection\u003cToken\u003c? extends TokenIdentifier\u003e\u003e tokens) {\n+    if (service \u003d\u003d null) {\n+      return null;\n+    }\n+    LOG.debug(\"Looking for a token with service \" + service.toString());\n+    for (Token\u003c? extends TokenIdentifier\u003e token : tokens) {\n+      LOG.debug(\"Token kind is \" + token.getKind().toString()\n+          + \" and the token\u0027s service name is \" + token.getService());\n+      if (RMDelegationTokenIdentifier.KIND_NAME.equals(token.getKind())\n+          \u0026\u0026 service.equals(token.getService())) {\n+        return (Token\u003cRMDelegationTokenIdentifier\u003e) token;\n+      }\n+    }\n+    return null;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public Token\u003cRMDelegationTokenIdentifier\u003e selectToken(Text service,\n      Collection\u003cToken\u003c? extends TokenIdentifier\u003e\u003e tokens) {\n    if (service \u003d\u003d null) {\n      return null;\n    }\n    LOG.debug(\"Looking for a token with service \" + service.toString());\n    for (Token\u003c? extends TokenIdentifier\u003e token : tokens) {\n      LOG.debug(\"Token kind is \" + token.getKind().toString()\n          + \" and the token\u0027s service name is \" + token.getService());\n      if (RMDelegationTokenIdentifier.KIND_NAME.equals(token.getKind())\n          \u0026\u0026 service.equals(token.getService())) {\n        return (Token\u003cRMDelegationTokenIdentifier\u003e) token;\n      }\n    }\n    return null;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/security/client/RMTokenSelector.java"
    }
  }
}