{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "SecureIOUtils.java",
  "functionName": "forceSecureOpenForRead",
  "functionId": "forceSecureOpenForRead___f-File__expectedOwner-String__expectedGroup-String",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
  "functionStartLine": 208,
  "functionEndLine": 224,
  "numCommitsSeen": 11,
  "timeTaken": 1126,
  "changeHistory": [
    "bfc73613fc74c669efc9e4722e8f1bb48d5ced3a",
    "638801cce16fc1dc3259c541dc30a599faaddda1",
    "f8c486fbc8b9ea2380b6f7caa2fb8e2364774f5d",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
    "dc16490ad3f8ff42849647fa6150fa53d771809c"
  ],
  "changeHistoryShort": {
    "bfc73613fc74c669efc9e4722e8f1bb48d5ced3a": "Ymodifierchange",
    "638801cce16fc1dc3259c541dc30a599faaddda1": "Ybodychange",
    "f8c486fbc8b9ea2380b6f7caa2fb8e2364774f5d": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52": "Yfilerename",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yfilerename",
    "dc16490ad3f8ff42849647fa6150fa53d771809c": "Yintroduced"
  },
  "changeHistoryDetails": {
    "bfc73613fc74c669efc9e4722e8f1bb48d5ced3a": {
      "type": "Ymodifierchange",
      "commitMessage": "HADOOP-9511. Adding support for additional input streams (FSDataInputStream and RandomAccessFile) in SecureIOUtils so as to help YARN-578. Contributed by Omkar Vinit Joshi.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1479010 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/05/13 4:43 PM",
      "commitName": "bfc73613fc74c669efc9e4722e8f1bb48d5ced3a",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "06/03/13 11:15 AM",
      "commitNameOld": "638801cce16fc1dc3259c541dc30a599faaddda1",
      "commitAuthorOld": "Suresh Srinivas",
      "daysBetweenCommits": 58.19,
      "commitsBetweenForRepo": 338,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,17 @@\n-  static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n+  protected static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n       String expectedGroup) throws IOException {\n \n     FileInputStream fis \u003d new FileInputStream(f);\n     boolean success \u003d false;\n     try {\n       Stat stat \u003d NativeIO.POSIX.getFstat(fis.getFD());\n       checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n           expectedGroup);\n       success \u003d true;\n       return fis;\n     } finally {\n       if (!success) {\n         fis.close();\n       }\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n      String expectedGroup) throws IOException {\n\n    FileInputStream fis \u003d new FileInputStream(f);\n    boolean success \u003d false;\n    try {\n      Stat stat \u003d NativeIO.POSIX.getFstat(fis.getFD());\n      checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n          expectedGroup);\n      success \u003d true;\n      return fis;\n    } finally {\n      if (!success) {\n        fis.close();\n      }\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {
        "oldValue": "[static]",
        "newValue": "[protected, static]"
      }
    },
    "638801cce16fc1dc3259c541dc30a599faaddda1": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/03/13 11:15 AM",
      "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "09/11/12 10:25 AM",
      "commitNameOld": "f8c486fbc8b9ea2380b6f7caa2fb8e2364774f5d",
      "commitAuthorOld": "Alejandro Abdelnur",
      "daysBetweenCommits": 117.03,
      "commitsBetweenForRepo": 488,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,17 @@\n   static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n       String expectedGroup) throws IOException {\n \n     FileInputStream fis \u003d new FileInputStream(f);\n     boolean success \u003d false;\n     try {\n-      Stat stat \u003d NativeIO.getFstat(fis.getFD());\n+      Stat stat \u003d NativeIO.POSIX.getFstat(fis.getFD());\n       checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n           expectedGroup);\n       success \u003d true;\n       return fis;\n     } finally {\n       if (!success) {\n         fis.close();\n       }\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n      String expectedGroup) throws IOException {\n\n    FileInputStream fis \u003d new FileInputStream(f);\n    boolean success \u003d false;\n    try {\n      Stat stat \u003d NativeIO.POSIX.getFstat(fis.getFD());\n      checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n          expectedGroup);\n      success \u003d true;\n      return fis;\n    } finally {\n      if (!success) {\n        fis.close();\n      }\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {}
    },
    "f8c486fbc8b9ea2380b6f7caa2fb8e2364774f5d": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-7115. Add a cache for getpwuid_r and getpwgid_r calls (tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1407577 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/11/12 10:25 AM",
      "commitName": "f8c486fbc8b9ea2380b6f7caa2fb8e2364774f5d",
      "commitAuthor": "Alejandro Abdelnur",
      "commitDateOld": "24/08/12 6:03 PM",
      "commitNameOld": "deead78e35b0cb81af875b5a8032cbd06c9a2dae",
      "commitAuthorOld": "Suresh Srinivas",
      "daysBetweenCommits": 76.72,
      "commitsBetweenForRepo": 452,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,17 @@\n   static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n       String expectedGroup) throws IOException {\n \n     FileInputStream fis \u003d new FileInputStream(f);\n     boolean success \u003d false;\n     try {\n-      Stat stat \u003d NativeIO.fstat(fis.getFD());\n+      Stat stat \u003d NativeIO.getFstat(fis.getFD());\n       checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n           expectedGroup);\n       success \u003d true;\n       return fis;\n     } finally {\n       if (!success) {\n         fis.close();\n       }\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n      String expectedGroup) throws IOException {\n\n    FileInputStream fis \u003d new FileInputStream(f);\n    boolean success \u003d false;\n    try {\n      Stat stat \u003d NativeIO.getFstat(fis.getFD());\n      checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n          expectedGroup);\n      success \u003d true;\n      return fis;\n    } finally {\n      if (!success) {\n        fis.close();\n      }\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n      String expectedGroup) throws IOException {\n\n    FileInputStream fis \u003d new FileInputStream(f);\n    boolean success \u003d false;\n    try {\n      Stat stat \u003d NativeIO.fstat(fis.getFD());\n      checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n          expectedGroup);\n      success \u003d true;\n      return fis;\n    } finally {\n      if (!success) {\n        fis.close();\n      }\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {
        "oldPath": "hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
        "newPath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java"
      }
    },
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-6671. Use maven for hadoop common builds. Contributed by Alejandro Abdelnur.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1153184 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "02/08/11 9:37 AM",
      "commitName": "0f6dfeeacbab65a31a33927a4eb84871d371fe52",
      "commitAuthor": "Thomas White",
      "commitDateOld": "01/08/11 3:53 PM",
      "commitNameOld": "9bac807cedbcff34e1a144fb475eff267e5ed86d",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.74,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n      String expectedGroup) throws IOException {\n\n    FileInputStream fis \u003d new FileInputStream(f);\n    boolean success \u003d false;\n    try {\n      Stat stat \u003d NativeIO.fstat(fis.getFD());\n      checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n          expectedGroup);\n      success \u003d true;\n      return fis;\n    } finally {\n      if (!success) {\n        fis.close();\n      }\n    }\n  }",
      "path": "hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {
        "oldPath": "common/src/java/org/apache/hadoop/io/SecureIOUtils.java",
        "newPath": "hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java"
      }
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "commitDateOld": "11/06/11 9:13 PM",
      "commitNameOld": "a285fb5effe9ba3be4ec5f942afaf5ddd1186151",
      "commitAuthorOld": "Eli Collins",
      "daysBetweenCommits": 0.74,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n      String expectedGroup) throws IOException {\n\n    FileInputStream fis \u003d new FileInputStream(f);\n    boolean success \u003d false;\n    try {\n      Stat stat \u003d NativeIO.fstat(fis.getFD());\n      checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n          expectedGroup);\n      success \u003d true;\n      return fis;\n    } finally {\n      if (!success) {\n        fis.close();\n      }\n    }\n  }",
      "path": "common/src/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {
        "oldPath": "src/java/org/apache/hadoop/io/SecureIOUtils.java",
        "newPath": "common/src/java/org/apache/hadoop/io/SecureIOUtils.java"
      }
    },
    "dc16490ad3f8ff42849647fa6150fa53d771809c": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7172. SecureIO should not check owner on non-secure clusters that have no native support. Contributed by Todd Lipcon\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1095958 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "22/04/11 9:19 AM",
      "commitName": "dc16490ad3f8ff42849647fa6150fa53d771809c",
      "commitAuthor": "Eli Collins",
      "diff": "@@ -0,0 +1,17 @@\n+  static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n+      String expectedGroup) throws IOException {\n+\n+    FileInputStream fis \u003d new FileInputStream(f);\n+    boolean success \u003d false;\n+    try {\n+      Stat stat \u003d NativeIO.fstat(fis.getFD());\n+      checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n+          expectedGroup);\n+      success \u003d true;\n+      return fis;\n+    } finally {\n+      if (!success) {\n+        fis.close();\n+      }\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  static FileInputStream forceSecureOpenForRead(File f, String expectedOwner,\n      String expectedGroup) throws IOException {\n\n    FileInputStream fis \u003d new FileInputStream(f);\n    boolean success \u003d false;\n    try {\n      Stat stat \u003d NativeIO.fstat(fis.getFD());\n      checkStat(f, stat.getOwner(), stat.getGroup(), expectedOwner,\n          expectedGroup);\n      success \u003d true;\n      return fis;\n    } finally {\n      if (!success) {\n        fis.close();\n      }\n    }\n  }",
      "path": "src/java/org/apache/hadoop/io/SecureIOUtils.java"
    }
  }
}