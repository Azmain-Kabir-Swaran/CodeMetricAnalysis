{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ResourceManager.java",
  "functionName": "serviceStop",
  "functionId": "serviceStop",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
  "functionStartLine": 1410,
  "functionEndLine": 1427,
  "numCommitsSeen": 192,
  "timeTaken": 6105,
  "changeHistory": [
    "ed45c13f67da06befcd4a70acb16fcf6d844ef2b",
    "bbbf0e2a4136b30cad9dfd36ef138650a1adea60",
    "890a2ebd1af51d24ccbbc5d1d65d17b24ad8ab9b",
    "1fa6ab249b0fa63cab550e1b7703339c4d888c5d",
    "4931545f76f6c76e80e65c3bf6773e1983248044",
    "94e2e78ab751d1da775d0acf6e5ee6c0694ed746",
    "bcb865314f8ce89fc03a3e3de487fb6d75ddddd8",
    "7d0c43d7cff6d250613a04fea9449f139988e901",
    "f0eb4bc342370ec87d1f2665ffaf48ff4b3fbacb",
    "0928502029ef141759008997335ea2cd836a7154"
  ],
  "changeHistoryShort": {
    "ed45c13f67da06befcd4a70acb16fcf6d844ef2b": "Ybodychange",
    "bbbf0e2a4136b30cad9dfd36ef138650a1adea60": "Ybodychange",
    "890a2ebd1af51d24ccbbc5d1d65d17b24ad8ab9b": "Ybodychange",
    "1fa6ab249b0fa63cab550e1b7703339c4d888c5d": "Ybodychange",
    "4931545f76f6c76e80e65c3bf6773e1983248044": "Ybodychange",
    "94e2e78ab751d1da775d0acf6e5ee6c0694ed746": "Ybodychange",
    "bcb865314f8ce89fc03a3e3de487fb6d75ddddd8": "Ybodychange",
    "7d0c43d7cff6d250613a04fea9449f139988e901": "Ybodychange",
    "f0eb4bc342370ec87d1f2665ffaf48ff4b3fbacb": "Ybodychange",
    "0928502029ef141759008997335ea2cd836a7154": "Yintroduced"
  },
  "changeHistoryDetails": {
    "ed45c13f67da06befcd4a70acb16fcf6d844ef2b": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2442. ResourceManager JMX UI does not give HA State. Contributed by Rohith Sharma and Cyrus Jackson.\n",
      "commitDate": "29/10/19 3:24 AM",
      "commitName": "ed45c13f67da06befcd4a70acb16fcf6d844ef2b",
      "commitAuthor": "Abhishek Modi",
      "commitDateOld": "16/10/19 6:13 PM",
      "commitNameOld": "3990ffa0834e6b24314a565a92e92d6e8fa37a1e",
      "commitAuthorOld": "Sunil G",
      "daysBetweenCommits": 12.38,
      "commitsBetweenForRepo": 36,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,18 @@\n   protected void serviceStop() throws Exception {\n     if (webApp !\u003d null) {\n       webApp.stop();\n     }\n     if (fetcher !\u003d null) {\n       fetcher.stop();\n     }\n     if (configurationProvider !\u003d null) {\n       configurationProvider.close();\n     }\n     super.serviceStop();\n     if (zkManager !\u003d null) {\n       zkManager.close();\n     }\n     transitionToStandby(false);\n     rmContext.setHAServiceState(HAServiceState.STOPPING);\n+    rmStatusInfoBean.unregister();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    if (webApp !\u003d null) {\n      webApp.stop();\n    }\n    if (fetcher !\u003d null) {\n      fetcher.stop();\n    }\n    if (configurationProvider !\u003d null) {\n      configurationProvider.close();\n    }\n    super.serviceStop();\n    if (zkManager !\u003d null) {\n      zkManager.close();\n    }\n    transitionToStandby(false);\n    rmContext.setHAServiceState(HAServiceState.STOPPING);\n    rmStatusInfoBean.unregister();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
      "extendedDetails": {}
    },
    "bbbf0e2a4136b30cad9dfd36ef138650a1adea60": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-14741. Refactor curator based ZooKeeper communication into common library. (Íñigo Goiri via Subru).\n",
      "commitDate": "11/08/17 1:58 PM",
      "commitName": "bbbf0e2a4136b30cad9dfd36ef138650a1adea60",
      "commitAuthor": "Subru Krishnan",
      "commitDateOld": "01/08/17 5:28 PM",
      "commitNameOld": "2797507d51566ab3b8328e5fb1d0beb9fbce5bae",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 9.85,
      "commitsBetweenForRepo": 107,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,17 @@\n   protected void serviceStop() throws Exception {\n     if (webApp !\u003d null) {\n       webApp.stop();\n     }\n     if (fetcher !\u003d null) {\n       fetcher.stop();\n     }\n     if (configurationProvider !\u003d null) {\n       configurationProvider.close();\n     }\n     super.serviceStop();\n-    if (curator !\u003d null) {\n-      curator.close();\n+    if (zkManager !\u003d null) {\n+      zkManager.close();\n     }\n     transitionToStandby(false);\n     rmContext.setHAServiceState(HAServiceState.STOPPING);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    if (webApp !\u003d null) {\n      webApp.stop();\n    }\n    if (fetcher !\u003d null) {\n      fetcher.stop();\n    }\n    if (configurationProvider !\u003d null) {\n      configurationProvider.close();\n    }\n    super.serviceStop();\n    if (zkManager !\u003d null) {\n      zkManager.close();\n    }\n    transitionToStandby(false);\n    rmContext.setHAServiceState(HAServiceState.STOPPING);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
      "extendedDetails": {}
    },
    "890a2ebd1af51d24ccbbc5d1d65d17b24ad8ab9b": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4559. Make leader elector and zk store share the same curator\nclient. Contributed by Jian He\n",
      "commitDate": "20/01/16 2:48 PM",
      "commitName": "890a2ebd1af51d24ccbbc5d1d65d17b24ad8ab9b",
      "commitAuthor": "Xuan",
      "commitDateOld": "11/01/16 10:12 PM",
      "commitNameOld": "da1e3e3c571e7cc76adff198bf433e3f23e8b683",
      "commitAuthorOld": "Akira Ajisaka",
      "daysBetweenCommits": 8.69,
      "commitsBetweenForRepo": 62,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,17 @@\n   protected void serviceStop() throws Exception {\n     if (webApp !\u003d null) {\n       webApp.stop();\n     }\n     if (fetcher !\u003d null) {\n       fetcher.stop();\n     }\n     if (configurationProvider !\u003d null) {\n       configurationProvider.close();\n     }\n     super.serviceStop();\n+    if (curator !\u003d null) {\n+      curator.close();\n+    }\n     transitionToStandby(false);\n     rmContext.setHAServiceState(HAServiceState.STOPPING);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    if (webApp !\u003d null) {\n      webApp.stop();\n    }\n    if (fetcher !\u003d null) {\n      fetcher.stop();\n    }\n    if (configurationProvider !\u003d null) {\n      configurationProvider.close();\n    }\n    super.serviceStop();\n    if (curator !\u003d null) {\n      curator.close();\n    }\n    transitionToStandby(false);\n    rmContext.setHAServiceState(HAServiceState.STOPPING);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
      "extendedDetails": {}
    },
    "1fa6ab249b0fa63cab550e1b7703339c4d888c5d": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1459. Changed ResourceManager to depend its service initialization on the configuration-provider mechanism during startup too. Contributed by Xuan Gong.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1566791 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/02/14 2:50 PM",
      "commitName": "1fa6ab249b0fa63cab550e1b7703339c4d888c5d",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "25/01/14 8:51 PM",
      "commitNameOld": "cbee889711eddc5c67a61df4a6531b4ab3cd205a",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 15.75,
      "commitsBetweenForRepo": 120,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,14 @@\n   protected void serviceStop() throws Exception {\n     if (webApp !\u003d null) {\n       webApp.stop();\n     }\n     if (fetcher !\u003d null) {\n       fetcher.stop();\n     }\n+    if (configurationProvider !\u003d null) {\n+      configurationProvider.close();\n+    }\n     super.serviceStop();\n     transitionToStandby(false);\n     rmContext.setHAServiceState(HAServiceState.STOPPING);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    if (webApp !\u003d null) {\n      webApp.stop();\n    }\n    if (fetcher !\u003d null) {\n      fetcher.stop();\n    }\n    if (configurationProvider !\u003d null) {\n      configurationProvider.close();\n    }\n    super.serviceStop();\n    transitionToStandby(false);\n    rmContext.setHAServiceState(HAServiceState.STOPPING);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
      "extendedDetails": {}
    },
    "4931545f76f6c76e80e65c3bf6773e1983248044": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1482. Modified WebApplicationProxy to make it work across ResourceManager fail-over. Contributed by Xuan Gong.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1556380 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/01/14 2:16 PM",
      "commitName": "4931545f76f6c76e80e65c3bf6773e1983248044",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "06/01/14 5:56 PM",
      "commitNameOld": "c3cc855d27470edca7ca0bdc0aa8907b544b636e",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 0.85,
      "commitsBetweenForRepo": 4,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,11 @@\n   protected void serviceStop() throws Exception {\n+    if (webApp !\u003d null) {\n+      webApp.stop();\n+    }\n+    if (fetcher !\u003d null) {\n+      fetcher.stop();\n+    }\n     super.serviceStop();\n     transitionToStandby(false);\n     rmContext.setHAServiceState(HAServiceState.STOPPING);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    if (webApp !\u003d null) {\n      webApp.stop();\n    }\n    if (fetcher !\u003d null) {\n      fetcher.stop();\n    }\n    super.serviceStop();\n    transitionToStandby(false);\n    rmContext.setHAServiceState(HAServiceState.STOPPING);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
      "extendedDetails": {}
    },
    "94e2e78ab751d1da775d0acf6e5ee6c0694ed746": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1481. Move internal services logic from AdminService to ResourceManager. (vinodkv via kasha)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1550167 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "11/12/13 7:13 AM",
      "commitName": "94e2e78ab751d1da775d0acf6e5ee6c0694ed746",
      "commitAuthor": "Karthik Kambatla",
      "commitDateOld": "07/12/13 8:30 PM",
      "commitNameOld": "48fb53bc4966acf42851a54df80f54ab27f8ac70",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 3.45,
      "commitsBetweenForRepo": 11,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,3 +1,5 @@\n   protected void serviceStop() throws Exception {\n     super.serviceStop();\n+    transitionToStandby(false);\n+    rmContext.setHAServiceState(HAServiceState.STOPPING);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    super.serviceStop();\n    transitionToStandby(false);\n    rmContext.setHAServiceState(HAServiceState.STOPPING);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
      "extendedDetails": {}
    },
    "bcb865314f8ce89fc03a3e3de487fb6d75ddddd8": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1098. Separate out RM services into Always On and Active (Karthik Kambatla via bikas)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1521560 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/09/13 10:43 AM",
      "commitName": "bcb865314f8ce89fc03a3e3de487fb6d75ddddd8",
      "commitAuthor": "Bikas Saha",
      "commitDateOld": "06/09/13 10:43 PM",
      "commitNameOld": "f35983b8056b7bd9ac4685acabef53f4dd0e355e",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 3.5,
      "commitsBetweenForRepo": 11,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,36 +1,3 @@\n   protected void serviceStop() throws Exception {\n-    if (webApp !\u003d null) {\n-      webApp.stop();\n-    }\n-    if (rmDTSecretManager !\u003d null) {\n-      rmDTSecretManager.stopThreads();\n-    }\n-\n-    if (amRmTokenSecretManager !\u003d null) {\n-      this.amRmTokenSecretManager.stop();\n-    }\n-    if (containerTokenSecretManager !\u003d null) {\n-      this.containerTokenSecretManager.stop();\n-    }\n-    if(nmTokenSecretManager !\u003d null) {\n-      nmTokenSecretManager.stop();\n-    }\n-\n-    /*synchronized(shutdown) {\n-      shutdown.set(true);\n-      shutdown.notifyAll();\n-    }*/\n-\n-    DefaultMetricsSystem.shutdown();\n-\n-    if (rmContext !\u003d null) {\n-      RMStateStore store \u003d rmContext.getStateStore();\n-      try {\n-        store.close();\n-      } catch (Exception e) {\n-        LOG.error(\"Error closing store.\", e);\n-      }\n-    }\n-\n     super.serviceStop();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    super.serviceStop();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
      "extendedDetails": {}
    },
    "7d0c43d7cff6d250613a04fea9449f139988e901": {
      "type": "Ybodychange",
      "commitMessage": "YARN-822. Renamed ApplicationToken to be AMRMToken, and similarly the corresponding TokenSelector and SecretManager. Contributed by Omkar Vinit Joshi.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1493889 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "17/06/13 12:11 PM",
      "commitName": "7d0c43d7cff6d250613a04fea9449f139988e901",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "16/06/13 11:39 PM",
      "commitNameOld": "b9efe6bd4a1277b4067ecde715a7713a85968886",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 0.52,
      "commitsBetweenForRepo": 6,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,36 +1,36 @@\n   protected void serviceStop() throws Exception {\n     if (webApp !\u003d null) {\n       webApp.stop();\n     }\n     if (rmDTSecretManager !\u003d null) {\n       rmDTSecretManager.stopThreads();\n     }\n \n-    if (appTokenSecretManager !\u003d null) {\n-      this.appTokenSecretManager.stop();\n+    if (amRmTokenSecretManager !\u003d null) {\n+      this.amRmTokenSecretManager.stop();\n     }\n     if (containerTokenSecretManager !\u003d null) {\n       this.containerTokenSecretManager.stop();\n     }\n     if(nmTokenSecretManager !\u003d null) {\n       nmTokenSecretManager.stop();\n     }\n \n     /*synchronized(shutdown) {\n       shutdown.set(true);\n       shutdown.notifyAll();\n     }*/\n \n     DefaultMetricsSystem.shutdown();\n \n     if (rmContext !\u003d null) {\n       RMStateStore store \u003d rmContext.getStateStore();\n       try {\n         store.close();\n       } catch (Exception e) {\n         LOG.error(\"Error closing store.\", e);\n       }\n     }\n \n     super.serviceStop();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    if (webApp !\u003d null) {\n      webApp.stop();\n    }\n    if (rmDTSecretManager !\u003d null) {\n      rmDTSecretManager.stopThreads();\n    }\n\n    if (amRmTokenSecretManager !\u003d null) {\n      this.amRmTokenSecretManager.stop();\n    }\n    if (containerTokenSecretManager !\u003d null) {\n      this.containerTokenSecretManager.stop();\n    }\n    if(nmTokenSecretManager !\u003d null) {\n      nmTokenSecretManager.stop();\n    }\n\n    /*synchronized(shutdown) {\n      shutdown.set(true);\n      shutdown.notifyAll();\n    }*/\n\n    DefaultMetricsSystem.shutdown();\n\n    if (rmContext !\u003d null) {\n      RMStateStore store \u003d rmContext.getStateStore();\n      try {\n        store.close();\n      } catch (Exception e) {\n        LOG.error(\"Error closing store.\", e);\n      }\n    }\n\n    super.serviceStop();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
      "extendedDetails": {}
    },
    "f0eb4bc342370ec87d1f2665ffaf48ff4b3fbacb": {
      "type": "Ybodychange",
      "commitMessage": "YARN-692. Creating NMToken master key on RM and sharing it with NM as a part of RM-NM heartbeat. Contributed by Omkar Vinit Joshi.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1492907 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/06/13 5:06 PM",
      "commitName": "f0eb4bc342370ec87d1f2665ffaf48ff4b3fbacb",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "13/06/13 4:25 PM",
      "commitNameOld": "c0cd68d8fbf5c8cafa6d563c7d0401e7a87a2d9e",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 0.03,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,36 @@\n   protected void serviceStop() throws Exception {\n     if (webApp !\u003d null) {\n       webApp.stop();\n     }\n     if (rmDTSecretManager !\u003d null) {\n       rmDTSecretManager.stopThreads();\n     }\n \n     if (appTokenSecretManager !\u003d null) {\n       this.appTokenSecretManager.stop();\n     }\n     if (containerTokenSecretManager !\u003d null) {\n       this.containerTokenSecretManager.stop();\n     }\n+    if(nmTokenSecretManager !\u003d null) {\n+      nmTokenSecretManager.stop();\n+    }\n \n     /*synchronized(shutdown) {\n       shutdown.set(true);\n       shutdown.notifyAll();\n     }*/\n \n     DefaultMetricsSystem.shutdown();\n \n     if (rmContext !\u003d null) {\n       RMStateStore store \u003d rmContext.getStateStore();\n       try {\n         store.close();\n       } catch (Exception e) {\n         LOG.error(\"Error closing store.\", e);\n       }\n     }\n \n     super.serviceStop();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    if (webApp !\u003d null) {\n      webApp.stop();\n    }\n    if (rmDTSecretManager !\u003d null) {\n      rmDTSecretManager.stopThreads();\n    }\n\n    if (appTokenSecretManager !\u003d null) {\n      this.appTokenSecretManager.stop();\n    }\n    if (containerTokenSecretManager !\u003d null) {\n      this.containerTokenSecretManager.stop();\n    }\n    if(nmTokenSecretManager !\u003d null) {\n      nmTokenSecretManager.stop();\n    }\n\n    /*synchronized(shutdown) {\n      shutdown.set(true);\n      shutdown.notifyAll();\n    }*/\n\n    DefaultMetricsSystem.shutdown();\n\n    if (rmContext !\u003d null) {\n      RMStateStore store \u003d rmContext.getStateStore();\n      try {\n        store.close();\n      } catch (Exception e) {\n        LOG.error(\"Error closing store.\", e);\n      }\n    }\n\n    super.serviceStop();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java",
      "extendedDetails": {}
    },
    "0928502029ef141759008997335ea2cd836a7154": {
      "type": "Yintroduced",
      "commitMessage": "YARN-530. Defined Service model strictly, implemented AbstractService for robust subclassing and migrated yarn-common services. Contributed by Steve Loughran.\nYARN-117. Migrated rest of YARN to the new service model. Contributed by Steve Louhran.\nMAPREDUCE-5298. Moved MapReduce services to YARN-530 stricter lifecycle. Contributed by Steve Loughran.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1492718 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/06/13 8:54 AM",
      "commitName": "0928502029ef141759008997335ea2cd836a7154",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,33 @@\n+  protected void serviceStop() throws Exception {\n+    if (webApp !\u003d null) {\n+      webApp.stop();\n+    }\n+    if (rmDTSecretManager !\u003d null) {\n+      rmDTSecretManager.stopThreads();\n+    }\n+\n+    if (appTokenSecretManager !\u003d null) {\n+      this.appTokenSecretManager.stop();\n+    }\n+    if (containerTokenSecretManager !\u003d null) {\n+      this.containerTokenSecretManager.stop();\n+    }\n+\n+    /*synchronized(shutdown) {\n+      shutdown.set(true);\n+      shutdown.notifyAll();\n+    }*/\n+\n+    DefaultMetricsSystem.shutdown();\n+\n+    if (rmContext !\u003d null) {\n+      RMStateStore store \u003d rmContext.getStateStore();\n+      try {\n+        store.close();\n+      } catch (Exception e) {\n+        LOG.error(\"Error closing store.\", e);\n+      }\n+    }\n+\n+    super.serviceStop();\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceStop() throws Exception {\n    if (webApp !\u003d null) {\n      webApp.stop();\n    }\n    if (rmDTSecretManager !\u003d null) {\n      rmDTSecretManager.stopThreads();\n    }\n\n    if (appTokenSecretManager !\u003d null) {\n      this.appTokenSecretManager.stop();\n    }\n    if (containerTokenSecretManager !\u003d null) {\n      this.containerTokenSecretManager.stop();\n    }\n\n    /*synchronized(shutdown) {\n      shutdown.set(true);\n      shutdown.notifyAll();\n    }*/\n\n    DefaultMetricsSystem.shutdown();\n\n    if (rmContext !\u003d null) {\n      RMStateStore store \u003d rmContext.getStateStore();\n      try {\n        store.close();\n      } catch (Exception e) {\n        LOG.error(\"Error closing store.\", e);\n      }\n    }\n\n    super.serviceStop();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java"
    }
  }
}