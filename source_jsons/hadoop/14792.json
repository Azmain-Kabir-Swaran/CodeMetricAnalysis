{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "OfflineEditsVisitorFactory.java",
  "functionName": "getEditsVisitor",
  "functionId": "getEditsVisitor___filename-String__processor-String__printToScreen-boolean",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
  "functionStartLine": 46,
  "functionEndLine": 78,
  "numCommitsSeen": 10,
  "timeTaken": 7013,
  "changeHistory": [
    "e424392a62418fad401fe80bf6517e375911c08c",
    "7a3188d054481b9bd563e337901e93476303ce7f",
    "d1c6accb6f87b08975175580e15f1ff1fe29ab04",
    "9cedad11d8d2197a54732667a15344983de5c437",
    "946456c6d88780abe0251b098dd771e9e1e93ab3",
    "4f6e0a5a659064e0af3bec315e7c25d5e43b47f5",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "d86f3183d93714ba078416af4f609d26376eadb0",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc"
  ],
  "changeHistoryShort": {
    "e424392a62418fad401fe80bf6517e375911c08c": "Ybodychange",
    "7a3188d054481b9bd563e337901e93476303ce7f": "Ybodychange",
    "d1c6accb6f87b08975175580e15f1ff1fe29ab04": "Ybodychange",
    "9cedad11d8d2197a54732667a15344983de5c437": "Ybodychange",
    "946456c6d88780abe0251b098dd771e9e1e93ab3": "Ybodychange",
    "4f6e0a5a659064e0af3bec315e7c25d5e43b47f5": "Ymultichange(Ymovefromfile,Yreturntypechange,Ybodychange,Yparameterchange)",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "d86f3183d93714ba078416af4f609d26376eadb0": "Yfilerename",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yintroduced"
  },
  "changeHistoryDetails": {
    "e424392a62418fad401fe80bf6517e375911c08c": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-14438. Fix typo in OfflineEditsVisitorFactory. Contributed by bianqi.\n",
      "commitDate": "05/05/19 1:08 AM",
      "commitName": "e424392a62418fad401fe80bf6517e375911c08c",
      "commitAuthor": "Surendra Singh Lilhore",
      "commitDateOld": "02/05/19 12:58 PM",
      "commitNameOld": "7a3188d054481b9bd563e337901e93476303ce7f",
      "commitAuthorOld": "Giovanni Matteo Fumarola",
      "daysBetweenCommits": 2.51,
      "commitsBetweenForRepo": 7,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,33 @@\n   static public OfflineEditsVisitor getEditsVisitor(String filename,\n     String processor, boolean printToScreen) throws IOException {\n     if(StringUtils.equalsIgnoreCase(\"binary\", processor)) {\n       return new BinaryEditsVisitor(filename);\n     }\n     OfflineEditsVisitor vis;\n     OutputStream fout \u003d Files.newOutputStream(Paths.get(filename));\n     OutputStream out \u003d null;\n     try {\n       if (!printToScreen) {\n         out \u003d fout;\n       }\n       else {\n         OutputStream outs[] \u003d new OutputStream[2];\n         outs[0] \u003d fout;\n         outs[1] \u003d System.out;\n         out \u003d new TeeOutputStream(outs);\n       }\n       if(StringUtils.equalsIgnoreCase(\"xml\", processor)) {\n         vis \u003d new XmlEditsVisitor(out);\n       } else if(StringUtils.equalsIgnoreCase(\"stats\", processor)) {\n         vis \u003d new StatisticsEditsVisitor(out);\n       } else {\n-        throw new IOException(\"Unknown proccesor \" + processor +\n+        throw new IOException(\"Unknown processor \" + processor +\n           \" (valid processors: xml, binary, stats)\");\n       }\n       out \u003d fout \u003d null;\n       return vis;\n     } finally {\n       IOUtils.closeStream(fout);\n       IOUtils.closeStream(out);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static public OfflineEditsVisitor getEditsVisitor(String filename,\n    String processor, boolean printToScreen) throws IOException {\n    if(StringUtils.equalsIgnoreCase(\"binary\", processor)) {\n      return new BinaryEditsVisitor(filename);\n    }\n    OfflineEditsVisitor vis;\n    OutputStream fout \u003d Files.newOutputStream(Paths.get(filename));\n    OutputStream out \u003d null;\n    try {\n      if (!printToScreen) {\n        out \u003d fout;\n      }\n      else {\n        OutputStream outs[] \u003d new OutputStream[2];\n        outs[0] \u003d fout;\n        outs[1] \u003d System.out;\n        out \u003d new TeeOutputStream(outs);\n      }\n      if(StringUtils.equalsIgnoreCase(\"xml\", processor)) {\n        vis \u003d new XmlEditsVisitor(out);\n      } else if(StringUtils.equalsIgnoreCase(\"stats\", processor)) {\n        vis \u003d new StatisticsEditsVisitor(out);\n      } else {\n        throw new IOException(\"Unknown processor \" + processor +\n          \" (valid processors: xml, binary, stats)\");\n      }\n      out \u003d fout \u003d null;\n      return vis;\n    } finally {\n      IOUtils.closeStream(fout);\n      IOUtils.closeStream(out);\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
      "extendedDetails": {}
    },
    "7a3188d054481b9bd563e337901e93476303ce7f": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16282. Avoid FileStream to improve performance. Contributed by Ayush Saxena.\n",
      "commitDate": "02/05/19 12:58 PM",
      "commitName": "7a3188d054481b9bd563e337901e93476303ce7f",
      "commitAuthor": "Giovanni Matteo Fumarola",
      "commitDateOld": "02/03/15 9:17 PM",
      "commitNameOld": "d1c6accb6f87b08975175580e15f1ff1fe29ab04",
      "commitAuthorOld": "Tsuyoshi Ozawa",
      "daysBetweenCommits": 1521.61,
      "commitsBetweenForRepo": 11565,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,33 @@\n   static public OfflineEditsVisitor getEditsVisitor(String filename,\n     String processor, boolean printToScreen) throws IOException {\n     if(StringUtils.equalsIgnoreCase(\"binary\", processor)) {\n       return new BinaryEditsVisitor(filename);\n     }\n     OfflineEditsVisitor vis;\n-    OutputStream fout \u003d new FileOutputStream(filename);\n+    OutputStream fout \u003d Files.newOutputStream(Paths.get(filename));\n     OutputStream out \u003d null;\n     try {\n       if (!printToScreen) {\n         out \u003d fout;\n       }\n       else {\n         OutputStream outs[] \u003d new OutputStream[2];\n         outs[0] \u003d fout;\n         outs[1] \u003d System.out;\n         out \u003d new TeeOutputStream(outs);\n       }\n       if(StringUtils.equalsIgnoreCase(\"xml\", processor)) {\n         vis \u003d new XmlEditsVisitor(out);\n       } else if(StringUtils.equalsIgnoreCase(\"stats\", processor)) {\n         vis \u003d new StatisticsEditsVisitor(out);\n       } else {\n         throw new IOException(\"Unknown proccesor \" + processor +\n           \" (valid processors: xml, binary, stats)\");\n       }\n       out \u003d fout \u003d null;\n       return vis;\n     } finally {\n       IOUtils.closeStream(fout);\n       IOUtils.closeStream(out);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static public OfflineEditsVisitor getEditsVisitor(String filename,\n    String processor, boolean printToScreen) throws IOException {\n    if(StringUtils.equalsIgnoreCase(\"binary\", processor)) {\n      return new BinaryEditsVisitor(filename);\n    }\n    OfflineEditsVisitor vis;\n    OutputStream fout \u003d Files.newOutputStream(Paths.get(filename));\n    OutputStream out \u003d null;\n    try {\n      if (!printToScreen) {\n        out \u003d fout;\n      }\n      else {\n        OutputStream outs[] \u003d new OutputStream[2];\n        outs[0] \u003d fout;\n        outs[1] \u003d System.out;\n        out \u003d new TeeOutputStream(outs);\n      }\n      if(StringUtils.equalsIgnoreCase(\"xml\", processor)) {\n        vis \u003d new XmlEditsVisitor(out);\n      } else if(StringUtils.equalsIgnoreCase(\"stats\", processor)) {\n        vis \u003d new StatisticsEditsVisitor(out);\n      } else {\n        throw new IOException(\"Unknown proccesor \" + processor +\n          \" (valid processors: xml, binary, stats)\");\n      }\n      out \u003d fout \u003d null;\n      return vis;\n    } finally {\n      IOUtils.closeStream(fout);\n      IOUtils.closeStream(out);\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
      "extendedDetails": {}
    },
    "d1c6accb6f87b08975175580e15f1ff1fe29ab04": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-11602. Fix toUpperCase/toLowerCase to use Locale.ENGLISH. (ozawa)\n",
      "commitDate": "02/03/15 9:17 PM",
      "commitName": "d1c6accb6f87b08975175580e15f1ff1fe29ab04",
      "commitAuthor": "Tsuyoshi Ozawa",
      "commitDateOld": "24/02/15 7:32 AM",
      "commitNameOld": "9cedad11d8d2197a54732667a15344983de5c437",
      "commitAuthorOld": "Tsuyoshi Ozawa",
      "daysBetweenCommits": 6.57,
      "commitsBetweenForRepo": 57,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,33 @@\n   static public OfflineEditsVisitor getEditsVisitor(String filename,\n     String processor, boolean printToScreen) throws IOException {\n-    if(processor.toLowerCase().equals(\"binary\")) {\n+    if(StringUtils.equalsIgnoreCase(\"binary\", processor)) {\n       return new BinaryEditsVisitor(filename);\n     }\n     OfflineEditsVisitor vis;\n     OutputStream fout \u003d new FileOutputStream(filename);\n     OutputStream out \u003d null;\n     try {\n       if (!printToScreen) {\n         out \u003d fout;\n       }\n       else {\n         OutputStream outs[] \u003d new OutputStream[2];\n         outs[0] \u003d fout;\n         outs[1] \u003d System.out;\n         out \u003d new TeeOutputStream(outs);\n       }\n-      if(processor.toLowerCase().equals(\"xml\")) {\n+      if(StringUtils.equalsIgnoreCase(\"xml\", processor)) {\n         vis \u003d new XmlEditsVisitor(out);\n-      } else if(processor.toLowerCase().equals(\"stats\")) {\n+      } else if(StringUtils.equalsIgnoreCase(\"stats\", processor)) {\n         vis \u003d new StatisticsEditsVisitor(out);\n       } else {\n         throw new IOException(\"Unknown proccesor \" + processor +\n           \" (valid processors: xml, binary, stats)\");\n       }\n       out \u003d fout \u003d null;\n       return vis;\n     } finally {\n       IOUtils.closeStream(fout);\n       IOUtils.closeStream(out);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static public OfflineEditsVisitor getEditsVisitor(String filename,\n    String processor, boolean printToScreen) throws IOException {\n    if(StringUtils.equalsIgnoreCase(\"binary\", processor)) {\n      return new BinaryEditsVisitor(filename);\n    }\n    OfflineEditsVisitor vis;\n    OutputStream fout \u003d new FileOutputStream(filename);\n    OutputStream out \u003d null;\n    try {\n      if (!printToScreen) {\n        out \u003d fout;\n      }\n      else {\n        OutputStream outs[] \u003d new OutputStream[2];\n        outs[0] \u003d fout;\n        outs[1] \u003d System.out;\n        out \u003d new TeeOutputStream(outs);\n      }\n      if(StringUtils.equalsIgnoreCase(\"xml\", processor)) {\n        vis \u003d new XmlEditsVisitor(out);\n      } else if(StringUtils.equalsIgnoreCase(\"stats\", processor)) {\n        vis \u003d new StatisticsEditsVisitor(out);\n      } else {\n        throw new IOException(\"Unknown proccesor \" + processor +\n          \" (valid processors: xml, binary, stats)\");\n      }\n      out \u003d fout \u003d null;\n      return vis;\n    } finally {\n      IOUtils.closeStream(fout);\n      IOUtils.closeStream(out);\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
      "extendedDetails": {}
    },
    "9cedad11d8d2197a54732667a15344983de5c437": {
      "type": "Ybodychange",
      "commitMessage": "Revert \"HADOOP-11602. Fix toUpperCase/toLowerCase to use Locale.ENGLISH. (ozawa)\"\n\nThis reverts commit 946456c6d88780abe0251b098dd771e9e1e93ab3.\n\nConflicts:\n\thadoop-common-project/hadoop-common/CHANGES.txt\n\thadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/QuotaByStorageTypeEntry.java\n",
      "commitDate": "24/02/15 7:32 AM",
      "commitName": "9cedad11d8d2197a54732667a15344983de5c437",
      "commitAuthor": "Tsuyoshi Ozawa",
      "commitDateOld": "18/02/15 8:06 PM",
      "commitNameOld": "946456c6d88780abe0251b098dd771e9e1e93ab3",
      "commitAuthorOld": "Tsuyoshi Ozawa",
      "daysBetweenCommits": 5.48,
      "commitsBetweenForRepo": 31,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,33 @@\n   static public OfflineEditsVisitor getEditsVisitor(String filename,\n     String processor, boolean printToScreen) throws IOException {\n-    if(processor.toLowerCase(Locale.ENGLISH).equals(\"binary\")) {\n+    if(processor.toLowerCase().equals(\"binary\")) {\n       return new BinaryEditsVisitor(filename);\n     }\n     OfflineEditsVisitor vis;\n     OutputStream fout \u003d new FileOutputStream(filename);\n     OutputStream out \u003d null;\n     try {\n       if (!printToScreen) {\n         out \u003d fout;\n       }\n       else {\n         OutputStream outs[] \u003d new OutputStream[2];\n         outs[0] \u003d fout;\n         outs[1] \u003d System.out;\n         out \u003d new TeeOutputStream(outs);\n       }\n-      if(processor.toLowerCase(Locale.ENGLISH).equals(\"xml\")) {\n+      if(processor.toLowerCase().equals(\"xml\")) {\n         vis \u003d new XmlEditsVisitor(out);\n-      } else if(processor.toLowerCase(Locale.ENGLISH).equals(\"stats\")) {\n+      } else if(processor.toLowerCase().equals(\"stats\")) {\n         vis \u003d new StatisticsEditsVisitor(out);\n       } else {\n         throw new IOException(\"Unknown proccesor \" + processor +\n           \" (valid processors: xml, binary, stats)\");\n       }\n       out \u003d fout \u003d null;\n       return vis;\n     } finally {\n       IOUtils.closeStream(fout);\n       IOUtils.closeStream(out);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static public OfflineEditsVisitor getEditsVisitor(String filename,\n    String processor, boolean printToScreen) throws IOException {\n    if(processor.toLowerCase().equals(\"binary\")) {\n      return new BinaryEditsVisitor(filename);\n    }\n    OfflineEditsVisitor vis;\n    OutputStream fout \u003d new FileOutputStream(filename);\n    OutputStream out \u003d null;\n    try {\n      if (!printToScreen) {\n        out \u003d fout;\n      }\n      else {\n        OutputStream outs[] \u003d new OutputStream[2];\n        outs[0] \u003d fout;\n        outs[1] \u003d System.out;\n        out \u003d new TeeOutputStream(outs);\n      }\n      if(processor.toLowerCase().equals(\"xml\")) {\n        vis \u003d new XmlEditsVisitor(out);\n      } else if(processor.toLowerCase().equals(\"stats\")) {\n        vis \u003d new StatisticsEditsVisitor(out);\n      } else {\n        throw new IOException(\"Unknown proccesor \" + processor +\n          \" (valid processors: xml, binary, stats)\");\n      }\n      out \u003d fout \u003d null;\n      return vis;\n    } finally {\n      IOUtils.closeStream(fout);\n      IOUtils.closeStream(out);\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
      "extendedDetails": {}
    },
    "946456c6d88780abe0251b098dd771e9e1e93ab3": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-11602. Fix toUpperCase/toLowerCase to use Locale.ENGLISH. (ozawa)\n",
      "commitDate": "18/02/15 8:06 PM",
      "commitName": "946456c6d88780abe0251b098dd771e9e1e93ab3",
      "commitAuthor": "Tsuyoshi Ozawa",
      "commitDateOld": "04/04/12 5:02 PM",
      "commitNameOld": "4f6e0a5a659064e0af3bec315e7c25d5e43b47f5",
      "commitAuthorOld": "Eli Collins",
      "daysBetweenCommits": 1050.17,
      "commitsBetweenForRepo": 7081,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,33 @@\n   static public OfflineEditsVisitor getEditsVisitor(String filename,\n     String processor, boolean printToScreen) throws IOException {\n-    if(processor.toLowerCase().equals(\"binary\")) {\n+    if(processor.toLowerCase(Locale.ENGLISH).equals(\"binary\")) {\n       return new BinaryEditsVisitor(filename);\n     }\n     OfflineEditsVisitor vis;\n     OutputStream fout \u003d new FileOutputStream(filename);\n     OutputStream out \u003d null;\n     try {\n       if (!printToScreen) {\n         out \u003d fout;\n       }\n       else {\n         OutputStream outs[] \u003d new OutputStream[2];\n         outs[0] \u003d fout;\n         outs[1] \u003d System.out;\n         out \u003d new TeeOutputStream(outs);\n       }\n-      if(processor.toLowerCase().equals(\"xml\")) {\n+      if(processor.toLowerCase(Locale.ENGLISH).equals(\"xml\")) {\n         vis \u003d new XmlEditsVisitor(out);\n-      } else if(processor.toLowerCase().equals(\"stats\")) {\n+      } else if(processor.toLowerCase(Locale.ENGLISH).equals(\"stats\")) {\n         vis \u003d new StatisticsEditsVisitor(out);\n       } else {\n         throw new IOException(\"Unknown proccesor \" + processor +\n           \" (valid processors: xml, binary, stats)\");\n       }\n       out \u003d fout \u003d null;\n       return vis;\n     } finally {\n       IOUtils.closeStream(fout);\n       IOUtils.closeStream(out);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static public OfflineEditsVisitor getEditsVisitor(String filename,\n    String processor, boolean printToScreen) throws IOException {\n    if(processor.toLowerCase(Locale.ENGLISH).equals(\"binary\")) {\n      return new BinaryEditsVisitor(filename);\n    }\n    OfflineEditsVisitor vis;\n    OutputStream fout \u003d new FileOutputStream(filename);\n    OutputStream out \u003d null;\n    try {\n      if (!printToScreen) {\n        out \u003d fout;\n      }\n      else {\n        OutputStream outs[] \u003d new OutputStream[2];\n        outs[0] \u003d fout;\n        outs[1] \u003d System.out;\n        out \u003d new TeeOutputStream(outs);\n      }\n      if(processor.toLowerCase(Locale.ENGLISH).equals(\"xml\")) {\n        vis \u003d new XmlEditsVisitor(out);\n      } else if(processor.toLowerCase(Locale.ENGLISH).equals(\"stats\")) {\n        vis \u003d new StatisticsEditsVisitor(out);\n      } else {\n        throw new IOException(\"Unknown proccesor \" + processor +\n          \" (valid processors: xml, binary, stats)\");\n      }\n      out \u003d fout \u003d null;\n      return vis;\n    } finally {\n      IOUtils.closeStream(fout);\n      IOUtils.closeStream(out);\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
      "extendedDetails": {}
    },
    "4f6e0a5a659064e0af3bec315e7c25d5e43b47f5": {
      "type": "Ymultichange(Ymovefromfile,Yreturntypechange,Ybodychange,Yparameterchange)",
      "commitMessage": "HDFS-3050. rework OEV to share more code with the NameNode. Contributed by Colin Patrick McCabe\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1309629 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "04/04/12 5:02 PM",
      "commitName": "4f6e0a5a659064e0af3bec315e7c25d5e43b47f5",
      "commitAuthor": "Eli Collins",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "HDFS-3050. rework OEV to share more code with the NameNode. Contributed by Colin Patrick McCabe\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1309629 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "04/04/12 5:02 PM",
          "commitName": "4f6e0a5a659064e0af3bec315e7c25d5e43b47f5",
          "commitAuthor": "Eli Collins",
          "commitDateOld": "04/04/12 4:36 PM",
          "commitNameOld": "8a109ebebbf01e26339016aff9e77397b7b6b87f",
          "commitAuthorOld": "Aaron Myers",
          "daysBetweenCommits": 0.02,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,16 +1,33 @@\n-  static public EditsVisitor getEditsVisitor(String filename,\n-    String processor,\n-    Tokenizer tokenizer,\n-    boolean printToScreen) throws IOException {\n-\n-    if(processor.toLowerCase().equals(\"xml\")) {\n-      return new XmlEditsVisitor(filename, tokenizer, printToScreen);\n-    } else if(processor.toLowerCase().equals(\"stats\")) {\n-      return new StatisticsEditsVisitor(filename, tokenizer, printToScreen);\n-    } else if(processor.toLowerCase().equals(\"binary\")) {\n-      return new BinaryEditsVisitor(filename, tokenizer, printToScreen);\n-    } else {\n-      throw new IOException(\"Unknown proccesor \" + processor +\n-        \" (valid processors: xml, binary, stats)\");\n+  static public OfflineEditsVisitor getEditsVisitor(String filename,\n+    String processor, boolean printToScreen) throws IOException {\n+    if(processor.toLowerCase().equals(\"binary\")) {\n+      return new BinaryEditsVisitor(filename);\n+    }\n+    OfflineEditsVisitor vis;\n+    OutputStream fout \u003d new FileOutputStream(filename);\n+    OutputStream out \u003d null;\n+    try {\n+      if (!printToScreen) {\n+        out \u003d fout;\n+      }\n+      else {\n+        OutputStream outs[] \u003d new OutputStream[2];\n+        outs[0] \u003d fout;\n+        outs[1] \u003d System.out;\n+        out \u003d new TeeOutputStream(outs);\n+      }\n+      if(processor.toLowerCase().equals(\"xml\")) {\n+        vis \u003d new XmlEditsVisitor(out);\n+      } else if(processor.toLowerCase().equals(\"stats\")) {\n+        vis \u003d new StatisticsEditsVisitor(out);\n+      } else {\n+        throw new IOException(\"Unknown proccesor \" + processor +\n+          \" (valid processors: xml, binary, stats)\");\n+      }\n+      out \u003d fout \u003d null;\n+      return vis;\n+    } finally {\n+      IOUtils.closeStream(fout);\n+      IOUtils.closeStream(out);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static public OfflineEditsVisitor getEditsVisitor(String filename,\n    String processor, boolean printToScreen) throws IOException {\n    if(processor.toLowerCase().equals(\"binary\")) {\n      return new BinaryEditsVisitor(filename);\n    }\n    OfflineEditsVisitor vis;\n    OutputStream fout \u003d new FileOutputStream(filename);\n    OutputStream out \u003d null;\n    try {\n      if (!printToScreen) {\n        out \u003d fout;\n      }\n      else {\n        OutputStream outs[] \u003d new OutputStream[2];\n        outs[0] \u003d fout;\n        outs[1] \u003d System.out;\n        out \u003d new TeeOutputStream(outs);\n      }\n      if(processor.toLowerCase().equals(\"xml\")) {\n        vis \u003d new XmlEditsVisitor(out);\n      } else if(processor.toLowerCase().equals(\"stats\")) {\n        vis \u003d new StatisticsEditsVisitor(out);\n      } else {\n        throw new IOException(\"Unknown proccesor \" + processor +\n          \" (valid processors: xml, binary, stats)\");\n      }\n      out \u003d fout \u003d null;\n      return vis;\n    } finally {\n      IOUtils.closeStream(fout);\n      IOUtils.closeStream(out);\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/EditsVisitorFactory.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
            "oldMethodName": "getEditsVisitor",
            "newMethodName": "getEditsVisitor"
          }
        },
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-3050. rework OEV to share more code with the NameNode. Contributed by Colin Patrick McCabe\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1309629 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "04/04/12 5:02 PM",
          "commitName": "4f6e0a5a659064e0af3bec315e7c25d5e43b47f5",
          "commitAuthor": "Eli Collins",
          "commitDateOld": "04/04/12 4:36 PM",
          "commitNameOld": "8a109ebebbf01e26339016aff9e77397b7b6b87f",
          "commitAuthorOld": "Aaron Myers",
          "daysBetweenCommits": 0.02,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,16 +1,33 @@\n-  static public EditsVisitor getEditsVisitor(String filename,\n-    String processor,\n-    Tokenizer tokenizer,\n-    boolean printToScreen) throws IOException {\n-\n-    if(processor.toLowerCase().equals(\"xml\")) {\n-      return new XmlEditsVisitor(filename, tokenizer, printToScreen);\n-    } else if(processor.toLowerCase().equals(\"stats\")) {\n-      return new StatisticsEditsVisitor(filename, tokenizer, printToScreen);\n-    } else if(processor.toLowerCase().equals(\"binary\")) {\n-      return new BinaryEditsVisitor(filename, tokenizer, printToScreen);\n-    } else {\n-      throw new IOException(\"Unknown proccesor \" + processor +\n-        \" (valid processors: xml, binary, stats)\");\n+  static public OfflineEditsVisitor getEditsVisitor(String filename,\n+    String processor, boolean printToScreen) throws IOException {\n+    if(processor.toLowerCase().equals(\"binary\")) {\n+      return new BinaryEditsVisitor(filename);\n+    }\n+    OfflineEditsVisitor vis;\n+    OutputStream fout \u003d new FileOutputStream(filename);\n+    OutputStream out \u003d null;\n+    try {\n+      if (!printToScreen) {\n+        out \u003d fout;\n+      }\n+      else {\n+        OutputStream outs[] \u003d new OutputStream[2];\n+        outs[0] \u003d fout;\n+        outs[1] \u003d System.out;\n+        out \u003d new TeeOutputStream(outs);\n+      }\n+      if(processor.toLowerCase().equals(\"xml\")) {\n+        vis \u003d new XmlEditsVisitor(out);\n+      } else if(processor.toLowerCase().equals(\"stats\")) {\n+        vis \u003d new StatisticsEditsVisitor(out);\n+      } else {\n+        throw new IOException(\"Unknown proccesor \" + processor +\n+          \" (valid processors: xml, binary, stats)\");\n+      }\n+      out \u003d fout \u003d null;\n+      return vis;\n+    } finally {\n+      IOUtils.closeStream(fout);\n+      IOUtils.closeStream(out);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static public OfflineEditsVisitor getEditsVisitor(String filename,\n    String processor, boolean printToScreen) throws IOException {\n    if(processor.toLowerCase().equals(\"binary\")) {\n      return new BinaryEditsVisitor(filename);\n    }\n    OfflineEditsVisitor vis;\n    OutputStream fout \u003d new FileOutputStream(filename);\n    OutputStream out \u003d null;\n    try {\n      if (!printToScreen) {\n        out \u003d fout;\n      }\n      else {\n        OutputStream outs[] \u003d new OutputStream[2];\n        outs[0] \u003d fout;\n        outs[1] \u003d System.out;\n        out \u003d new TeeOutputStream(outs);\n      }\n      if(processor.toLowerCase().equals(\"xml\")) {\n        vis \u003d new XmlEditsVisitor(out);\n      } else if(processor.toLowerCase().equals(\"stats\")) {\n        vis \u003d new StatisticsEditsVisitor(out);\n      } else {\n        throw new IOException(\"Unknown proccesor \" + processor +\n          \" (valid processors: xml, binary, stats)\");\n      }\n      out \u003d fout \u003d null;\n      return vis;\n    } finally {\n      IOUtils.closeStream(fout);\n      IOUtils.closeStream(out);\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
          "extendedDetails": {
            "oldValue": "EditsVisitor",
            "newValue": "OfflineEditsVisitor"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-3050. rework OEV to share more code with the NameNode. Contributed by Colin Patrick McCabe\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1309629 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "04/04/12 5:02 PM",
          "commitName": "4f6e0a5a659064e0af3bec315e7c25d5e43b47f5",
          "commitAuthor": "Eli Collins",
          "commitDateOld": "04/04/12 4:36 PM",
          "commitNameOld": "8a109ebebbf01e26339016aff9e77397b7b6b87f",
          "commitAuthorOld": "Aaron Myers",
          "daysBetweenCommits": 0.02,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,16 +1,33 @@\n-  static public EditsVisitor getEditsVisitor(String filename,\n-    String processor,\n-    Tokenizer tokenizer,\n-    boolean printToScreen) throws IOException {\n-\n-    if(processor.toLowerCase().equals(\"xml\")) {\n-      return new XmlEditsVisitor(filename, tokenizer, printToScreen);\n-    } else if(processor.toLowerCase().equals(\"stats\")) {\n-      return new StatisticsEditsVisitor(filename, tokenizer, printToScreen);\n-    } else if(processor.toLowerCase().equals(\"binary\")) {\n-      return new BinaryEditsVisitor(filename, tokenizer, printToScreen);\n-    } else {\n-      throw new IOException(\"Unknown proccesor \" + processor +\n-        \" (valid processors: xml, binary, stats)\");\n+  static public OfflineEditsVisitor getEditsVisitor(String filename,\n+    String processor, boolean printToScreen) throws IOException {\n+    if(processor.toLowerCase().equals(\"binary\")) {\n+      return new BinaryEditsVisitor(filename);\n+    }\n+    OfflineEditsVisitor vis;\n+    OutputStream fout \u003d new FileOutputStream(filename);\n+    OutputStream out \u003d null;\n+    try {\n+      if (!printToScreen) {\n+        out \u003d fout;\n+      }\n+      else {\n+        OutputStream outs[] \u003d new OutputStream[2];\n+        outs[0] \u003d fout;\n+        outs[1] \u003d System.out;\n+        out \u003d new TeeOutputStream(outs);\n+      }\n+      if(processor.toLowerCase().equals(\"xml\")) {\n+        vis \u003d new XmlEditsVisitor(out);\n+      } else if(processor.toLowerCase().equals(\"stats\")) {\n+        vis \u003d new StatisticsEditsVisitor(out);\n+      } else {\n+        throw new IOException(\"Unknown proccesor \" + processor +\n+          \" (valid processors: xml, binary, stats)\");\n+      }\n+      out \u003d fout \u003d null;\n+      return vis;\n+    } finally {\n+      IOUtils.closeStream(fout);\n+      IOUtils.closeStream(out);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static public OfflineEditsVisitor getEditsVisitor(String filename,\n    String processor, boolean printToScreen) throws IOException {\n    if(processor.toLowerCase().equals(\"binary\")) {\n      return new BinaryEditsVisitor(filename);\n    }\n    OfflineEditsVisitor vis;\n    OutputStream fout \u003d new FileOutputStream(filename);\n    OutputStream out \u003d null;\n    try {\n      if (!printToScreen) {\n        out \u003d fout;\n      }\n      else {\n        OutputStream outs[] \u003d new OutputStream[2];\n        outs[0] \u003d fout;\n        outs[1] \u003d System.out;\n        out \u003d new TeeOutputStream(outs);\n      }\n      if(processor.toLowerCase().equals(\"xml\")) {\n        vis \u003d new XmlEditsVisitor(out);\n      } else if(processor.toLowerCase().equals(\"stats\")) {\n        vis \u003d new StatisticsEditsVisitor(out);\n      } else {\n        throw new IOException(\"Unknown proccesor \" + processor +\n          \" (valid processors: xml, binary, stats)\");\n      }\n      out \u003d fout \u003d null;\n      return vis;\n    } finally {\n      IOUtils.closeStream(fout);\n      IOUtils.closeStream(out);\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
          "extendedDetails": {}
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-3050. rework OEV to share more code with the NameNode. Contributed by Colin Patrick McCabe\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1309629 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "04/04/12 5:02 PM",
          "commitName": "4f6e0a5a659064e0af3bec315e7c25d5e43b47f5",
          "commitAuthor": "Eli Collins",
          "commitDateOld": "04/04/12 4:36 PM",
          "commitNameOld": "8a109ebebbf01e26339016aff9e77397b7b6b87f",
          "commitAuthorOld": "Aaron Myers",
          "daysBetweenCommits": 0.02,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,16 +1,33 @@\n-  static public EditsVisitor getEditsVisitor(String filename,\n-    String processor,\n-    Tokenizer tokenizer,\n-    boolean printToScreen) throws IOException {\n-\n-    if(processor.toLowerCase().equals(\"xml\")) {\n-      return new XmlEditsVisitor(filename, tokenizer, printToScreen);\n-    } else if(processor.toLowerCase().equals(\"stats\")) {\n-      return new StatisticsEditsVisitor(filename, tokenizer, printToScreen);\n-    } else if(processor.toLowerCase().equals(\"binary\")) {\n-      return new BinaryEditsVisitor(filename, tokenizer, printToScreen);\n-    } else {\n-      throw new IOException(\"Unknown proccesor \" + processor +\n-        \" (valid processors: xml, binary, stats)\");\n+  static public OfflineEditsVisitor getEditsVisitor(String filename,\n+    String processor, boolean printToScreen) throws IOException {\n+    if(processor.toLowerCase().equals(\"binary\")) {\n+      return new BinaryEditsVisitor(filename);\n+    }\n+    OfflineEditsVisitor vis;\n+    OutputStream fout \u003d new FileOutputStream(filename);\n+    OutputStream out \u003d null;\n+    try {\n+      if (!printToScreen) {\n+        out \u003d fout;\n+      }\n+      else {\n+        OutputStream outs[] \u003d new OutputStream[2];\n+        outs[0] \u003d fout;\n+        outs[1] \u003d System.out;\n+        out \u003d new TeeOutputStream(outs);\n+      }\n+      if(processor.toLowerCase().equals(\"xml\")) {\n+        vis \u003d new XmlEditsVisitor(out);\n+      } else if(processor.toLowerCase().equals(\"stats\")) {\n+        vis \u003d new StatisticsEditsVisitor(out);\n+      } else {\n+        throw new IOException(\"Unknown proccesor \" + processor +\n+          \" (valid processors: xml, binary, stats)\");\n+      }\n+      out \u003d fout \u003d null;\n+      return vis;\n+    } finally {\n+      IOUtils.closeStream(fout);\n+      IOUtils.closeStream(out);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static public OfflineEditsVisitor getEditsVisitor(String filename,\n    String processor, boolean printToScreen) throws IOException {\n    if(processor.toLowerCase().equals(\"binary\")) {\n      return new BinaryEditsVisitor(filename);\n    }\n    OfflineEditsVisitor vis;\n    OutputStream fout \u003d new FileOutputStream(filename);\n    OutputStream out \u003d null;\n    try {\n      if (!printToScreen) {\n        out \u003d fout;\n      }\n      else {\n        OutputStream outs[] \u003d new OutputStream[2];\n        outs[0] \u003d fout;\n        outs[1] \u003d System.out;\n        out \u003d new TeeOutputStream(outs);\n      }\n      if(processor.toLowerCase().equals(\"xml\")) {\n        vis \u003d new XmlEditsVisitor(out);\n      } else if(processor.toLowerCase().equals(\"stats\")) {\n        vis \u003d new StatisticsEditsVisitor(out);\n      } else {\n        throw new IOException(\"Unknown proccesor \" + processor +\n          \" (valid processors: xml, binary, stats)\");\n      }\n      out \u003d fout \u003d null;\n      return vis;\n    } finally {\n      IOUtils.closeStream(fout);\n      IOUtils.closeStream(out);\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/OfflineEditsVisitorFactory.java",
          "extendedDetails": {
            "oldValue": "[filename-String, processor-String, tokenizer-Tokenizer, printToScreen-boolean]",
            "newValue": "[filename-String, processor-String, printToScreen-boolean]"
          }
        }
      ]
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  static public EditsVisitor getEditsVisitor(String filename,\n    String processor,\n    Tokenizer tokenizer,\n    boolean printToScreen) throws IOException {\n\n    if(processor.toLowerCase().equals(\"xml\")) {\n      return new XmlEditsVisitor(filename, tokenizer, printToScreen);\n    } else if(processor.toLowerCase().equals(\"stats\")) {\n      return new StatisticsEditsVisitor(filename, tokenizer, printToScreen);\n    } else if(processor.toLowerCase().equals(\"binary\")) {\n      return new BinaryEditsVisitor(filename, tokenizer, printToScreen);\n    } else {\n      throw new IOException(\"Unknown proccesor \" + processor +\n        \" (valid processors: xml, binary, stats)\");\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/EditsVisitorFactory.java",
      "extendedDetails": {
        "oldPath": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/EditsVisitorFactory.java",
        "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/EditsVisitorFactory.java"
      }
    },
    "d86f3183d93714ba078416af4f609d26376eadb0": {
      "type": "Yfilerename",
      "commitMessage": "HDFS-2096. Mavenization of hadoop-hdfs. Contributed by Alejandro Abdelnur.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159702 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/08/11 10:36 AM",
      "commitName": "d86f3183d93714ba078416af4f609d26376eadb0",
      "commitAuthor": "Thomas White",
      "commitDateOld": "19/08/11 10:26 AM",
      "commitNameOld": "6ee5a73e0e91a2ef27753a32c576835e951d8119",
      "commitAuthorOld": "Thomas White",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  static public EditsVisitor getEditsVisitor(String filename,\n    String processor,\n    Tokenizer tokenizer,\n    boolean printToScreen) throws IOException {\n\n    if(processor.toLowerCase().equals(\"xml\")) {\n      return new XmlEditsVisitor(filename, tokenizer, printToScreen);\n    } else if(processor.toLowerCase().equals(\"stats\")) {\n      return new StatisticsEditsVisitor(filename, tokenizer, printToScreen);\n    } else if(processor.toLowerCase().equals(\"binary\")) {\n      return new BinaryEditsVisitor(filename, tokenizer, printToScreen);\n    } else {\n      throw new IOException(\"Unknown proccesor \" + processor +\n        \" (valid processors: xml, binary, stats)\");\n    }\n  }",
      "path": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/EditsVisitorFactory.java",
      "extendedDetails": {
        "oldPath": "hdfs/src/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/EditsVisitorFactory.java",
        "newPath": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/EditsVisitorFactory.java"
      }
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "diff": "@@ -0,0 +1,16 @@\n+  static public EditsVisitor getEditsVisitor(String filename,\n+    String processor,\n+    Tokenizer tokenizer,\n+    boolean printToScreen) throws IOException {\n+\n+    if(processor.toLowerCase().equals(\"xml\")) {\n+      return new XmlEditsVisitor(filename, tokenizer, printToScreen);\n+    } else if(processor.toLowerCase().equals(\"stats\")) {\n+      return new StatisticsEditsVisitor(filename, tokenizer, printToScreen);\n+    } else if(processor.toLowerCase().equals(\"binary\")) {\n+      return new BinaryEditsVisitor(filename, tokenizer, printToScreen);\n+    } else {\n+      throw new IOException(\"Unknown proccesor \" + processor +\n+        \" (valid processors: xml, binary, stats)\");\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  static public EditsVisitor getEditsVisitor(String filename,\n    String processor,\n    Tokenizer tokenizer,\n    boolean printToScreen) throws IOException {\n\n    if(processor.toLowerCase().equals(\"xml\")) {\n      return new XmlEditsVisitor(filename, tokenizer, printToScreen);\n    } else if(processor.toLowerCase().equals(\"stats\")) {\n      return new StatisticsEditsVisitor(filename, tokenizer, printToScreen);\n    } else if(processor.toLowerCase().equals(\"binary\")) {\n      return new BinaryEditsVisitor(filename, tokenizer, printToScreen);\n    } else {\n      throw new IOException(\"Unknown proccesor \" + processor +\n        \" (valid processors: xml, binary, stats)\");\n    }\n  }",
      "path": "hdfs/src/java/org/apache/hadoop/hdfs/tools/offlineEditsViewer/EditsVisitorFactory.java"
    }
  }
}