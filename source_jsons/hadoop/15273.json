{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "CryptoAdmin.java",
  "functionName": "run",
  "functionId": "run___args-String[]",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/CryptoAdmin.java",
  "functionStartLine": 58,
  "functionEndLine": 85,
  "numCommitsSeen": 15,
  "timeTaken": 1307,
  "changeHistory": [
    "754f15bae61b81ad3c2e3f722d1feaebf374e2c4",
    "6f3a63a41b90157c3e46ea20ca6170b854ea902e",
    "26763657999765d08cc2de609d5f7860dfd14137"
  ],
  "changeHistoryShort": {
    "754f15bae61b81ad3c2e3f722d1feaebf374e2c4": "Ybodychange",
    "6f3a63a41b90157c3e46ea20ca6170b854ea902e": "Ybodychange",
    "26763657999765d08cc2de609d5f7860dfd14137": "Yintroduced"
  },
  "changeHistoryDetails": {
    "754f15bae61b81ad3c2e3f722d1feaebf374e2c4": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-11226. cacheadmin, cryptoadmin and storagepolicyadmin should support generic options. Contributed by Brahma Reddy Battula\n",
      "commitDate": "12/12/16 6:21 PM",
      "commitName": "754f15bae61b81ad3c2e3f722d1feaebf374e2c4",
      "commitAuthor": "Mingliang Liu",
      "commitDateOld": "03/10/16 4:01 PM",
      "commitNameOld": "853d65a157362661ccab10379c2d82e780382f83",
      "commitAuthorOld": "Xiao Chen",
      "daysBetweenCommits": 70.14,
      "commitsBetweenForRepo": 554,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,26 +1,28 @@\n   public int run(String[] args) throws IOException {\n     if (args.length \u003d\u003d 0) {\n       AdminHelper.printUsage(false, \"crypto\", COMMANDS);\n+      ToolRunner.printGenericCommandUsage(System.err);\n       return 1;\n     }\n     final AdminHelper.Command command \u003d AdminHelper.determineCommand(args[0],\n         COMMANDS);\n     if (command \u003d\u003d null) {\n       System.err.println(\"Can\u0027t understand command \u0027\" + args[0] + \"\u0027\");\n       if (!args[0].startsWith(\"-\")) {\n         System.err.println(\"Command names must start with dashes.\");\n       }\n       AdminHelper.printUsage(false, \"crypto\", COMMANDS);\n+      ToolRunner.printGenericCommandUsage(System.err);\n       return 1;\n     }\n     final List\u003cString\u003e argsList \u003d new LinkedList\u003cString\u003e();\n     for (int j \u003d 1; j \u003c args.length; j++) {\n       argsList.add(args[j]);\n     }\n     try {\n       return command.run(getConf(), argsList);\n     } catch (IllegalArgumentException e) {\n       System.err.println(prettifyException(e));\n       return -1;\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public int run(String[] args) throws IOException {\n    if (args.length \u003d\u003d 0) {\n      AdminHelper.printUsage(false, \"crypto\", COMMANDS);\n      ToolRunner.printGenericCommandUsage(System.err);\n      return 1;\n    }\n    final AdminHelper.Command command \u003d AdminHelper.determineCommand(args[0],\n        COMMANDS);\n    if (command \u003d\u003d null) {\n      System.err.println(\"Can\u0027t understand command \u0027\" + args[0] + \"\u0027\");\n      if (!args[0].startsWith(\"-\")) {\n        System.err.println(\"Command names must start with dashes.\");\n      }\n      AdminHelper.printUsage(false, \"crypto\", COMMANDS);\n      ToolRunner.printGenericCommandUsage(System.err);\n      return 1;\n    }\n    final List\u003cString\u003e argsList \u003d new LinkedList\u003cString\u003e();\n    for (int j \u003d 1; j \u003c args.length; j++) {\n      argsList.add(args[j]);\n    }\n    try {\n      return command.run(getConf(), argsList);\n    } catch (IllegalArgumentException e) {\n      System.err.println(prettifyException(e));\n      return -1;\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/CryptoAdmin.java",
      "extendedDetails": {}
    },
    "6f3a63a41b90157c3e46ea20ca6170b854ea902e": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7600. Refine hdfs admin classes to reuse common code. Contributed by Jing Zhao.\n",
      "commitDate": "12/01/15 5:32 PM",
      "commitName": "6f3a63a41b90157c3e46ea20ca6170b854ea902e",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "05/08/14 2:49 PM",
      "commitNameOld": "ac47ad11de83013eacbe303a39d1cc9593da6785",
      "commitAuthorOld": "Andrew Wang",
      "daysBetweenCommits": 160.15,
      "commitsBetweenForRepo": 1358,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,25 +1,26 @@\n   public int run(String[] args) throws IOException {\n     if (args.length \u003d\u003d 0) {\n-      printUsage(false);\n+      AdminHelper.printUsage(false, \"crypto\", COMMANDS);\n       return 1;\n     }\n-    final Command command \u003d determineCommand(args[0]);\n+    final AdminHelper.Command command \u003d AdminHelper.determineCommand(args[0],\n+        COMMANDS);\n     if (command \u003d\u003d null) {\n       System.err.println(\"Can\u0027t understand command \u0027\" + args[0] + \"\u0027\");\n       if (!args[0].startsWith(\"-\")) {\n         System.err.println(\"Command names must start with dashes.\");\n       }\n-      printUsage(false);\n+      AdminHelper.printUsage(false, \"crypto\", COMMANDS);\n       return 1;\n     }\n     final List\u003cString\u003e argsList \u003d new LinkedList\u003cString\u003e();\n     for (int j \u003d 1; j \u003c args.length; j++) {\n       argsList.add(args[j]);\n     }\n     try {\n       return command.run(getConf(), argsList);\n     } catch (IllegalArgumentException e) {\n       System.err.println(prettifyException(e));\n       return -1;\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public int run(String[] args) throws IOException {\n    if (args.length \u003d\u003d 0) {\n      AdminHelper.printUsage(false, \"crypto\", COMMANDS);\n      return 1;\n    }\n    final AdminHelper.Command command \u003d AdminHelper.determineCommand(args[0],\n        COMMANDS);\n    if (command \u003d\u003d null) {\n      System.err.println(\"Can\u0027t understand command \u0027\" + args[0] + \"\u0027\");\n      if (!args[0].startsWith(\"-\")) {\n        System.err.println(\"Command names must start with dashes.\");\n      }\n      AdminHelper.printUsage(false, \"crypto\", COMMANDS);\n      return 1;\n    }\n    final List\u003cString\u003e argsList \u003d new LinkedList\u003cString\u003e();\n    for (int j \u003d 1; j \u003c args.length; j++) {\n      argsList.add(args[j]);\n    }\n    try {\n      return command.run(getConf(), argsList);\n    } catch (IllegalArgumentException e) {\n      System.err.println(prettifyException(e));\n      return -1;\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/CryptoAdmin.java",
      "extendedDetails": {}
    },
    "26763657999765d08cc2de609d5f7860dfd14137": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-6387. HDFS CLI admin tool for creating \u0026 deleting an encryption zone. (clamb)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/fs-encryption@1605518 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "25/06/14 10:42 AM",
      "commitName": "26763657999765d08cc2de609d5f7860dfd14137",
      "commitAuthor": "Charles Lamb",
      "diff": "@@ -0,0 +1,25 @@\n+  public int run(String[] args) throws IOException {\n+    if (args.length \u003d\u003d 0) {\n+      printUsage(false);\n+      return 1;\n+    }\n+    final Command command \u003d determineCommand(args[0]);\n+    if (command \u003d\u003d null) {\n+      System.err.println(\"Can\u0027t understand command \u0027\" + args[0] + \"\u0027\");\n+      if (!args[0].startsWith(\"-\")) {\n+        System.err.println(\"Command names must start with dashes.\");\n+      }\n+      printUsage(false);\n+      return 1;\n+    }\n+    final List\u003cString\u003e argsList \u003d new LinkedList\u003cString\u003e();\n+    for (int j \u003d 1; j \u003c args.length; j++) {\n+      argsList.add(args[j]);\n+    }\n+    try {\n+      return command.run(getConf(), argsList);\n+    } catch (IllegalArgumentException e) {\n+      System.err.println(prettifyException(e));\n+      return -1;\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public int run(String[] args) throws IOException {\n    if (args.length \u003d\u003d 0) {\n      printUsage(false);\n      return 1;\n    }\n    final Command command \u003d determineCommand(args[0]);\n    if (command \u003d\u003d null) {\n      System.err.println(\"Can\u0027t understand command \u0027\" + args[0] + \"\u0027\");\n      if (!args[0].startsWith(\"-\")) {\n        System.err.println(\"Command names must start with dashes.\");\n      }\n      printUsage(false);\n      return 1;\n    }\n    final List\u003cString\u003e argsList \u003d new LinkedList\u003cString\u003e();\n    for (int j \u003d 1; j \u003c args.length; j++) {\n      argsList.add(args[j]);\n    }\n    try {\n      return command.run(getConf(), argsList);\n    } catch (IllegalArgumentException e) {\n      System.err.println(prettifyException(e));\n      return -1;\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/CryptoAdmin.java"
    }
  }
}