{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSDirConcatOp.java",
  "functionName": "verifyTargetFile",
  "functionId": "verifyTargetFile___fsd-FSDirectory__target-String(modifiers-final)__targetIIP-INodesInPath(modifiers-final)",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirConcatOp.java",
  "functionStartLine": 104,
  "functionEndLine": 117,
  "numCommitsSeen": 24,
  "timeTaken": 2682,
  "changeHistory": [
    "71a81b6257c0000475ad62eb69292a20d45d269c",
    "2848db814a98b83e7546f65a2751e56fb5b2dbe0"
  ],
  "changeHistoryShort": {
    "71a81b6257c0000475ad62eb69292a20d45d269c": "Ybodychange",
    "2848db814a98b83e7546f65a2751e56fb5b2dbe0": "Yintroduced"
  },
  "changeHistoryDetails": {
    "71a81b6257c0000475ad62eb69292a20d45d269c": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7529. Consolidate encryption zone related implementation into a single class. Contributed by Rakesh R.\n",
      "commitDate": "24/09/15 8:34 AM",
      "commitName": "71a81b6257c0000475ad62eb69292a20d45d269c",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "22/08/15 12:09 AM",
      "commitNameOld": "745d04be59accf80feda0ad38efcc74ba362f2ca",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 33.35,
      "commitsBetweenForRepo": 208,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n   private static void verifyTargetFile(FSDirectory fsd, final String target,\n       final INodesInPath targetIIP) throws IOException {\n     // check the target\n-    if (fsd.getEZForPath(targetIIP) !\u003d null) {\n+    if (FSDirEncryptionZoneOp.getEZForPath(fsd, targetIIP) !\u003d null) {\n       throw new HadoopIllegalArgumentException(\n           \"concat can not be called for files in an encryption zone.\");\n     }\n     final INodeFile targetINode \u003d INodeFile.valueOf(targetIIP.getLastINode(),\n         target);\n     if(targetINode.isUnderConstruction()) {\n       throw new HadoopIllegalArgumentException(\"concat: target file \"\n           + target + \" is under construction\");\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static void verifyTargetFile(FSDirectory fsd, final String target,\n      final INodesInPath targetIIP) throws IOException {\n    // check the target\n    if (FSDirEncryptionZoneOp.getEZForPath(fsd, targetIIP) !\u003d null) {\n      throw new HadoopIllegalArgumentException(\n          \"concat can not be called for files in an encryption zone.\");\n    }\n    final INodeFile targetINode \u003d INodeFile.valueOf(targetIIP.getLastINode(),\n        target);\n    if(targetINode.isUnderConstruction()) {\n      throw new HadoopIllegalArgumentException(\"concat: target file \"\n          + target + \" is under construction\");\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirConcatOp.java",
      "extendedDetails": {}
    },
    "2848db814a98b83e7546f65a2751e56fb5b2dbe0": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-3689. Add support for variable length block. Contributed by Jing Zhao.\n",
      "commitDate": "27/01/15 12:58 PM",
      "commitName": "2848db814a98b83e7546f65a2751e56fb5b2dbe0",
      "commitAuthor": "Jing Zhao",
      "diff": "@@ -0,0 +1,14 @@\n+  private static void verifyTargetFile(FSDirectory fsd, final String target,\n+      final INodesInPath targetIIP) throws IOException {\n+    // check the target\n+    if (fsd.getEZForPath(targetIIP) !\u003d null) {\n+      throw new HadoopIllegalArgumentException(\n+          \"concat can not be called for files in an encryption zone.\");\n+    }\n+    final INodeFile targetINode \u003d INodeFile.valueOf(targetIIP.getLastINode(),\n+        target);\n+    if(targetINode.isUnderConstruction()) {\n+      throw new HadoopIllegalArgumentException(\"concat: target file \"\n+          + target + \" is under construction\");\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static void verifyTargetFile(FSDirectory fsd, final String target,\n      final INodesInPath targetIIP) throws IOException {\n    // check the target\n    if (fsd.getEZForPath(targetIIP) !\u003d null) {\n      throw new HadoopIllegalArgumentException(\n          \"concat can not be called for files in an encryption zone.\");\n    }\n    final INodeFile targetINode \u003d INodeFile.valueOf(targetIIP.getLastINode(),\n        target);\n    if(targetINode.isUnderConstruction()) {\n      throw new HadoopIllegalArgumentException(\"concat: target file \"\n          + target + \" is under construction\");\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirConcatOp.java"
    }
  }
}