{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "DFSStripedInputStream.java",
  "functionName": "copyToTargetBuf",
  "functionId": "copyToTargetBuf___strategy-ReaderStrategy__length-int",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSStripedInputStream.java",
  "functionStartLine": 439,
  "functionEndLine": 445,
  "numCommitsSeen": 37,
  "timeTaken": 1166,
  "changeHistory": [
    "793447f79924c97c2b562d5e41fa85adf19673fe"
  ],
  "changeHistoryShort": {
    "793447f79924c97c2b562d5e41fa85adf19673fe": "Ymultichange(Yparameterchange,Ybodychange)"
  },
  "changeHistoryDetails": {
    "793447f79924c97c2b562d5e41fa85adf19673fe": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-8905. Refactor DFSInputStream#ReaderStrategy. Contributed by Kai Zheng and Sammi Chen\n",
      "commitDate": "24/08/16 6:57 AM",
      "commitName": "793447f79924c97c2b562d5e41fa85adf19673fe",
      "commitAuthor": "Kai Zheng",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-8905. Refactor DFSInputStream#ReaderStrategy. Contributed by Kai Zheng and Sammi Chen\n",
          "commitDate": "24/08/16 6:57 AM",
          "commitName": "793447f79924c97c2b562d5e41fa85adf19673fe",
          "commitAuthor": "Kai Zheng",
          "commitDateOld": "12/08/16 10:52 PM",
          "commitNameOld": "b5af9be72c72734d668f817c99d889031922a951",
          "commitAuthorOld": "Kai Zheng",
          "daysBetweenCommits": 11.34,
          "commitsBetweenForRepo": 76,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,7 +1,7 @@\n-  private int copyToTargetBuf(ReaderStrategy strategy, int offset, int length) {\n+  private int copyToTargetBuf(ReaderStrategy strategy, int length) {\n     final long offsetInBlk \u003d getOffsetInBlockGroup();\n     int bufOffset \u003d getStripedBufOffset(offsetInBlk);\n     curStripeBuf.position(bufOffset);\n-    return strategy.copyFrom(curStripeBuf, offset,\n+    return strategy.readFromBuffer(curStripeBuf,\n         Math.min(length, curStripeBuf.remaining()));\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int copyToTargetBuf(ReaderStrategy strategy, int length) {\n    final long offsetInBlk \u003d getOffsetInBlockGroup();\n    int bufOffset \u003d getStripedBufOffset(offsetInBlk);\n    curStripeBuf.position(bufOffset);\n    return strategy.readFromBuffer(curStripeBuf,\n        Math.min(length, curStripeBuf.remaining()));\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSStripedInputStream.java",
          "extendedDetails": {
            "oldValue": "[strategy-ReaderStrategy, offset-int, length-int]",
            "newValue": "[strategy-ReaderStrategy, length-int]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-8905. Refactor DFSInputStream#ReaderStrategy. Contributed by Kai Zheng and Sammi Chen\n",
          "commitDate": "24/08/16 6:57 AM",
          "commitName": "793447f79924c97c2b562d5e41fa85adf19673fe",
          "commitAuthor": "Kai Zheng",
          "commitDateOld": "12/08/16 10:52 PM",
          "commitNameOld": "b5af9be72c72734d668f817c99d889031922a951",
          "commitAuthorOld": "Kai Zheng",
          "daysBetweenCommits": 11.34,
          "commitsBetweenForRepo": 76,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,7 +1,7 @@\n-  private int copyToTargetBuf(ReaderStrategy strategy, int offset, int length) {\n+  private int copyToTargetBuf(ReaderStrategy strategy, int length) {\n     final long offsetInBlk \u003d getOffsetInBlockGroup();\n     int bufOffset \u003d getStripedBufOffset(offsetInBlk);\n     curStripeBuf.position(bufOffset);\n-    return strategy.copyFrom(curStripeBuf, offset,\n+    return strategy.readFromBuffer(curStripeBuf,\n         Math.min(length, curStripeBuf.remaining()));\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int copyToTargetBuf(ReaderStrategy strategy, int length) {\n    final long offsetInBlk \u003d getOffsetInBlockGroup();\n    int bufOffset \u003d getStripedBufOffset(offsetInBlk);\n    curStripeBuf.position(bufOffset);\n    return strategy.readFromBuffer(curStripeBuf,\n        Math.min(length, curStripeBuf.remaining()));\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSStripedInputStream.java",
          "extendedDetails": {}
        }
      ]
    }
  }
}