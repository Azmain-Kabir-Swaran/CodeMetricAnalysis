{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "DockerLinuxContainerRuntime.java",
  "functionName": "addCGroupParentIfRequired",
  "functionId": "addCGroupParentIfRequired___resourcesOptions-String__containerIdStr-String__runCommand-DockerRunCommand",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java",
  "functionStartLine": 540,
  "functionEndLine": 562,
  "numCommitsSeen": 91,
  "timeTaken": 3797,
  "changeHistory": [
    "2064ca015d1584263aac0cc20c60b925a3aff612",
    "7f05ff7a4e654693eaaa216ee5fc6e24112e0e23",
    "b2661765a5a48392a5691cee15904ed2de147b00",
    "3ddb92bd30d4a267c5c35b410b21c6ea42a7238b",
    "3e6fce91a471b4a5099de109582e7c6417e8a822"
  ],
  "changeHistoryShort": {
    "2064ca015d1584263aac0cc20c60b925a3aff612": "Ybodychange",
    "7f05ff7a4e654693eaaa216ee5fc6e24112e0e23": "Ymultichange(Ymodifierchange,Yexceptionschange,Ybodychange)",
    "b2661765a5a48392a5691cee15904ed2de147b00": "Ybodychange",
    "3ddb92bd30d4a267c5c35b410b21c6ea42a7238b": "Ybodychange",
    "3e6fce91a471b4a5099de109582e7c6417e8a822": "Yintroduced"
  },
  "changeHistoryDetails": {
    "2064ca015d1584263aac0cc20c60b925a3aff612": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9349.  Changed logging to use slf4j api.\n            Contributed by Prabhu Joseph\n",
      "commitDate": "15/03/19 4:20 PM",
      "commitName": "2064ca015d1584263aac0cc20c60b925a3aff612",
      "commitAuthor": "Eric Yang",
      "commitDateOld": "12/02/19 1:16 PM",
      "commitNameOld": "3dc252326693170ac1b31bf2914bae72ca73d31a",
      "commitAuthorOld": "Eric Yang",
      "daysBetweenCommits": 31.09,
      "commitsBetweenForRepo": 294,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,31 +1,23 @@\n   protected void addCGroupParentIfRequired(String resourcesOptions,\n       String containerIdStr, DockerRunCommand runCommand) {\n     if (cGroupsHandler \u003d\u003d null) {\n-      if (LOG.isDebugEnabled()) {\n-        LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n+      LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n             + \" do.\");\n-      }\n       return;\n     }\n \n     if (resourcesOptions.equals(PrivilegedOperation.CGROUP_ARG_PREFIX\n             + PrivilegedOperation.CGROUP_ARG_NO_TASKS)) {\n-      if (LOG.isDebugEnabled()) {\n-        LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n-            + \"cgroup options\");\n-      }\n+      LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n+          + \"cgroup options\");\n     } else {\n-      if (LOG.isDebugEnabled()) {\n-        LOG.debug(\"using docker\u0027s cgroups options\");\n-      }\n+      LOG.debug(\"using docker\u0027s cgroups options\");\n \n       String cGroupPath \u003d \"/\"\n           + cGroupsHandler.getRelativePathForCGroup(containerIdStr);\n \n-      if (LOG.isDebugEnabled()) {\n-        LOG.debug(\"using cgroup parent: \" + cGroupPath);\n-      }\n+      LOG.debug(\"using cgroup parent: {}\", cGroupPath);\n \n       runCommand.setCGroupParent(cGroupPath);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void addCGroupParentIfRequired(String resourcesOptions,\n      String containerIdStr, DockerRunCommand runCommand) {\n    if (cGroupsHandler \u003d\u003d null) {\n      LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n            + \" do.\");\n      return;\n    }\n\n    if (resourcesOptions.equals(PrivilegedOperation.CGROUP_ARG_PREFIX\n            + PrivilegedOperation.CGROUP_ARG_NO_TASKS)) {\n      LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n          + \"cgroup options\");\n    } else {\n      LOG.debug(\"using docker\u0027s cgroups options\");\n\n      String cGroupPath \u003d \"/\"\n          + cGroupsHandler.getRelativePathForCGroup(containerIdStr);\n\n      LOG.debug(\"using cgroup parent: {}\", cGroupPath);\n\n      runCommand.setCGroupParent(cGroupPath);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java",
      "extendedDetails": {}
    },
    "7f05ff7a4e654693eaaa216ee5fc6e24112e0e23": {
      "type": "Ymultichange(Ymodifierchange,Yexceptionschange,Ybodychange)",
      "commitMessage": "YARN-5455. Update Javadocs for LinuxContainerExecutor. Contributed by Daniel Templeton.\n",
      "commitDate": "17/08/16 3:04 AM",
      "commitName": "7f05ff7a4e654693eaaa216ee5fc6e24112e0e23",
      "commitAuthor": "Varun Vasudev",
      "subchanges": [
        {
          "type": "Ymodifierchange",
          "commitMessage": "YARN-5455. Update Javadocs for LinuxContainerExecutor. Contributed by Daniel Templeton.\n",
          "commitDate": "17/08/16 3:04 AM",
          "commitName": "7f05ff7a4e654693eaaa216ee5fc6e24112e0e23",
          "commitAuthor": "Varun Vasudev",
          "commitDateOld": "09/08/16 3:34 AM",
          "commitNameOld": "522ddbde79cd453cac066b6136f004f54e2123b0",
          "commitAuthorOld": "Varun Vasudev",
          "daysBetweenCommits": 7.98,
          "commitsBetweenForRepo": 60,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,33 +1,31 @@\n-  public void addCGroupParentIfRequired(String resourcesOptions,\n-      String containerIdStr, DockerRunCommand runCommand)\n-      throws ContainerExecutionException {\n+  protected void addCGroupParentIfRequired(String resourcesOptions,\n+      String containerIdStr, DockerRunCommand runCommand) {\n     if (cGroupsHandler \u003d\u003d null) {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n             + \" do.\");\n       }\n       return;\n     }\n \n-    if (resourcesOptions.equals(\n-        (PrivilegedOperation.CGROUP_ARG_PREFIX + PrivilegedOperation\n-            .CGROUP_ARG_NO_TASKS))) {\n+    if (resourcesOptions.equals(PrivilegedOperation.CGROUP_ARG_PREFIX\n+            + PrivilegedOperation.CGROUP_ARG_NO_TASKS)) {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n             + \"cgroup options\");\n       }\n     } else {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"using docker\u0027s cgroups options\");\n       }\n \n-      String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n-          containerIdStr);\n+      String cGroupPath \u003d \"/\"\n+          + cGroupsHandler.getRelativePathForCGroup(containerIdStr);\n \n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"using cgroup parent: \" + cGroupPath);\n       }\n \n       runCommand.setCGroupParent(cGroupPath);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  protected void addCGroupParentIfRequired(String resourcesOptions,\n      String containerIdStr, DockerRunCommand runCommand) {\n    if (cGroupsHandler \u003d\u003d null) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n            + \" do.\");\n      }\n      return;\n    }\n\n    if (resourcesOptions.equals(PrivilegedOperation.CGROUP_ARG_PREFIX\n            + PrivilegedOperation.CGROUP_ARG_NO_TASKS)) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n            + \"cgroup options\");\n      }\n    } else {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using docker\u0027s cgroups options\");\n      }\n\n      String cGroupPath \u003d \"/\"\n          + cGroupsHandler.getRelativePathForCGroup(containerIdStr);\n\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using cgroup parent: \" + cGroupPath);\n      }\n\n      runCommand.setCGroupParent(cGroupPath);\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java",
          "extendedDetails": {
            "oldValue": "[public]",
            "newValue": "[protected]"
          }
        },
        {
          "type": "Yexceptionschange",
          "commitMessage": "YARN-5455. Update Javadocs for LinuxContainerExecutor. Contributed by Daniel Templeton.\n",
          "commitDate": "17/08/16 3:04 AM",
          "commitName": "7f05ff7a4e654693eaaa216ee5fc6e24112e0e23",
          "commitAuthor": "Varun Vasudev",
          "commitDateOld": "09/08/16 3:34 AM",
          "commitNameOld": "522ddbde79cd453cac066b6136f004f54e2123b0",
          "commitAuthorOld": "Varun Vasudev",
          "daysBetweenCommits": 7.98,
          "commitsBetweenForRepo": 60,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,33 +1,31 @@\n-  public void addCGroupParentIfRequired(String resourcesOptions,\n-      String containerIdStr, DockerRunCommand runCommand)\n-      throws ContainerExecutionException {\n+  protected void addCGroupParentIfRequired(String resourcesOptions,\n+      String containerIdStr, DockerRunCommand runCommand) {\n     if (cGroupsHandler \u003d\u003d null) {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n             + \" do.\");\n       }\n       return;\n     }\n \n-    if (resourcesOptions.equals(\n-        (PrivilegedOperation.CGROUP_ARG_PREFIX + PrivilegedOperation\n-            .CGROUP_ARG_NO_TASKS))) {\n+    if (resourcesOptions.equals(PrivilegedOperation.CGROUP_ARG_PREFIX\n+            + PrivilegedOperation.CGROUP_ARG_NO_TASKS)) {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n             + \"cgroup options\");\n       }\n     } else {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"using docker\u0027s cgroups options\");\n       }\n \n-      String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n-          containerIdStr);\n+      String cGroupPath \u003d \"/\"\n+          + cGroupsHandler.getRelativePathForCGroup(containerIdStr);\n \n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"using cgroup parent: \" + cGroupPath);\n       }\n \n       runCommand.setCGroupParent(cGroupPath);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  protected void addCGroupParentIfRequired(String resourcesOptions,\n      String containerIdStr, DockerRunCommand runCommand) {\n    if (cGroupsHandler \u003d\u003d null) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n            + \" do.\");\n      }\n      return;\n    }\n\n    if (resourcesOptions.equals(PrivilegedOperation.CGROUP_ARG_PREFIX\n            + PrivilegedOperation.CGROUP_ARG_NO_TASKS)) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n            + \"cgroup options\");\n      }\n    } else {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using docker\u0027s cgroups options\");\n      }\n\n      String cGroupPath \u003d \"/\"\n          + cGroupsHandler.getRelativePathForCGroup(containerIdStr);\n\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using cgroup parent: \" + cGroupPath);\n      }\n\n      runCommand.setCGroupParent(cGroupPath);\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java",
          "extendedDetails": {
            "oldValue": "[ContainerExecutionException]",
            "newValue": "[]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-5455. Update Javadocs for LinuxContainerExecutor. Contributed by Daniel Templeton.\n",
          "commitDate": "17/08/16 3:04 AM",
          "commitName": "7f05ff7a4e654693eaaa216ee5fc6e24112e0e23",
          "commitAuthor": "Varun Vasudev",
          "commitDateOld": "09/08/16 3:34 AM",
          "commitNameOld": "522ddbde79cd453cac066b6136f004f54e2123b0",
          "commitAuthorOld": "Varun Vasudev",
          "daysBetweenCommits": 7.98,
          "commitsBetweenForRepo": 60,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,33 +1,31 @@\n-  public void addCGroupParentIfRequired(String resourcesOptions,\n-      String containerIdStr, DockerRunCommand runCommand)\n-      throws ContainerExecutionException {\n+  protected void addCGroupParentIfRequired(String resourcesOptions,\n+      String containerIdStr, DockerRunCommand runCommand) {\n     if (cGroupsHandler \u003d\u003d null) {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n             + \" do.\");\n       }\n       return;\n     }\n \n-    if (resourcesOptions.equals(\n-        (PrivilegedOperation.CGROUP_ARG_PREFIX + PrivilegedOperation\n-            .CGROUP_ARG_NO_TASKS))) {\n+    if (resourcesOptions.equals(PrivilegedOperation.CGROUP_ARG_PREFIX\n+            + PrivilegedOperation.CGROUP_ARG_NO_TASKS)) {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n             + \"cgroup options\");\n       }\n     } else {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"using docker\u0027s cgroups options\");\n       }\n \n-      String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n-          containerIdStr);\n+      String cGroupPath \u003d \"/\"\n+          + cGroupsHandler.getRelativePathForCGroup(containerIdStr);\n \n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"using cgroup parent: \" + cGroupPath);\n       }\n \n       runCommand.setCGroupParent(cGroupPath);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  protected void addCGroupParentIfRequired(String resourcesOptions,\n      String containerIdStr, DockerRunCommand runCommand) {\n    if (cGroupsHandler \u003d\u003d null) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n            + \" do.\");\n      }\n      return;\n    }\n\n    if (resourcesOptions.equals(PrivilegedOperation.CGROUP_ARG_PREFIX\n            + PrivilegedOperation.CGROUP_ARG_NO_TASKS)) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n            + \"cgroup options\");\n      }\n    } else {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using docker\u0027s cgroups options\");\n      }\n\n      String cGroupPath \u003d \"/\"\n          + cGroupsHandler.getRelativePathForCGroup(containerIdStr);\n\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using cgroup parent: \" + cGroupPath);\n      }\n\n      runCommand.setCGroupParent(cGroupPath);\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java",
          "extendedDetails": {}
        }
      ]
    },
    "b2661765a5a48392a5691cee15904ed2de147b00": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4762. Fixed CgroupHandler\u0027s creation and usage to avoid NodeManagers crashing when LinuxContainerExecutor is enabled. (Sidharta Seethana via vinodkv)\n",
      "commitDate": "07/03/16 11:08 AM",
      "commitName": "b2661765a5a48392a5691cee15904ed2de147b00",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "07/03/16 7:40 AM",
      "commitNameOld": "059caf99891943d9587cac19b48e82efbed06b2d",
      "commitAuthorOld": "Jason Lowe",
      "daysBetweenCommits": 0.14,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,25 +1,33 @@\n   public void addCGroupParentIfRequired(String resourcesOptions,\n       String containerIdStr, DockerRunCommand runCommand)\n       throws ContainerExecutionException {\n+    if (cGroupsHandler \u003d\u003d null) {\n+      if (LOG.isDebugEnabled()) {\n+        LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n+            + \" do.\");\n+      }\n+      return;\n+    }\n+\n     if (resourcesOptions.equals(\n         (PrivilegedOperation.CGROUP_ARG_PREFIX + PrivilegedOperation\n             .CGROUP_ARG_NO_TASKS))) {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n             + \"cgroup options\");\n       }\n     } else {\n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"using docker\u0027s cgroups options\");\n       }\n \n       String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n           containerIdStr);\n \n       if (LOG.isDebugEnabled()) {\n         LOG.debug(\"using cgroup parent: \" + cGroupPath);\n       }\n \n       runCommand.setCGroupParent(cGroupPath);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void addCGroupParentIfRequired(String resourcesOptions,\n      String containerIdStr, DockerRunCommand runCommand)\n      throws ContainerExecutionException {\n    if (cGroupsHandler \u003d\u003d null) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"cGroupsHandler is null. cgroups are not in use. nothing to\"\n            + \" do.\");\n      }\n      return;\n    }\n\n    if (resourcesOptions.equals(\n        (PrivilegedOperation.CGROUP_ARG_PREFIX + PrivilegedOperation\n            .CGROUP_ARG_NO_TASKS))) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n            + \"cgroup options\");\n      }\n    } else {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using docker\u0027s cgroups options\");\n      }\n\n      String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n          containerIdStr);\n\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using cgroup parent: \" + cGroupPath);\n      }\n\n      runCommand.setCGroupParent(cGroupPath);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java",
      "extendedDetails": {}
    },
    "3ddb92bd30d4a267c5c35b410b21c6ea42a7238b": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4553. Add cgroups support for docker containers. Contributed by Sidharta Seethana.\n",
      "commitDate": "14/01/16 12:59 AM",
      "commitName": "3ddb92bd30d4a267c5c35b410b21c6ea42a7238b",
      "commitAuthor": "Varun Vasudev",
      "commitDateOld": "19/10/15 7:49 AM",
      "commitNameOld": "e39ae0e676f77fab216e2281ae946ab8c647733f",
      "commitAuthorOld": "Varun Vasudev",
      "daysBetweenCommits": 86.76,
      "commitsBetweenForRepo": 577,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,25 @@\n   public void addCGroupParentIfRequired(String resourcesOptions,\n       String containerIdStr, DockerRunCommand runCommand)\n       throws ContainerExecutionException {\n     if (resourcesOptions.equals(\n         (PrivilegedOperation.CGROUP_ARG_PREFIX + PrivilegedOperation\n             .CGROUP_ARG_NO_TASKS))) {\n-      if (LOG.isInfoEnabled()) {\n-        LOG.info(\"no resource restrictions specified. not using docker\u0027s \"\n+      if (LOG.isDebugEnabled()) {\n+        LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n             + \"cgroup options\");\n       }\n     } else {\n-      if (LOG.isInfoEnabled()) {\n-        LOG.info(\"using docker\u0027s cgroups options\");\n+      if (LOG.isDebugEnabled()) {\n+        LOG.debug(\"using docker\u0027s cgroups options\");\n       }\n \n-      try {\n-        CGroupsHandler cGroupsHandler \u003d ResourceHandlerModule\n-            .getCGroupsHandler(conf);\n-        String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n-            containerIdStr);\n+      String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n+          containerIdStr);\n \n-        if (LOG.isInfoEnabled()) {\n-          LOG.info(\"using cgroup parent: \" + cGroupPath);\n-        }\n-\n-        runCommand.setCGroupParent(cGroupPath);\n-      } catch (ResourceHandlerException e) {\n-        LOG.warn(\"unable to use cgroups handler. Exception: \", e);\n-        throw new ContainerExecutionException(e);\n+      if (LOG.isDebugEnabled()) {\n+        LOG.debug(\"using cgroup parent: \" + cGroupPath);\n       }\n+\n+      runCommand.setCGroupParent(cGroupPath);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void addCGroupParentIfRequired(String resourcesOptions,\n      String containerIdStr, DockerRunCommand runCommand)\n      throws ContainerExecutionException {\n    if (resourcesOptions.equals(\n        (PrivilegedOperation.CGROUP_ARG_PREFIX + PrivilegedOperation\n            .CGROUP_ARG_NO_TASKS))) {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"no resource restrictions specified. not using docker\u0027s \"\n            + \"cgroup options\");\n      }\n    } else {\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using docker\u0027s cgroups options\");\n      }\n\n      String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n          containerIdStr);\n\n      if (LOG.isDebugEnabled()) {\n        LOG.debug(\"using cgroup parent: \" + cGroupPath);\n      }\n\n      runCommand.setCGroupParent(cGroupPath);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java",
      "extendedDetails": {}
    },
    "3e6fce91a471b4a5099de109582e7c6417e8a822": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3853. Add docker container runtime support to LinuxContainterExecutor. Contributed by Sidharta Seethana.\n",
      "commitDate": "27/07/15 11:57 AM",
      "commitName": "3e6fce91a471b4a5099de109582e7c6417e8a822",
      "commitAuthor": "Varun Vasudev",
      "diff": "@@ -0,0 +1,32 @@\n+  public void addCGroupParentIfRequired(String resourcesOptions,\n+      String containerIdStr, DockerRunCommand runCommand)\n+      throws ContainerExecutionException {\n+    if (resourcesOptions.equals(\n+        (PrivilegedOperation.CGROUP_ARG_PREFIX + PrivilegedOperation\n+            .CGROUP_ARG_NO_TASKS))) {\n+      if (LOG.isInfoEnabled()) {\n+        LOG.info(\"no resource restrictions specified. not using docker\u0027s \"\n+            + \"cgroup options\");\n+      }\n+    } else {\n+      if (LOG.isInfoEnabled()) {\n+        LOG.info(\"using docker\u0027s cgroups options\");\n+      }\n+\n+      try {\n+        CGroupsHandler cGroupsHandler \u003d ResourceHandlerModule\n+            .getCGroupsHandler(conf);\n+        String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n+            containerIdStr);\n+\n+        if (LOG.isInfoEnabled()) {\n+          LOG.info(\"using cgroup parent: \" + cGroupPath);\n+        }\n+\n+        runCommand.setCGroupParent(cGroupPath);\n+      } catch (ResourceHandlerException e) {\n+        LOG.warn(\"unable to use cgroups handler. Exception: \", e);\n+        throw new ContainerExecutionException(e);\n+      }\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void addCGroupParentIfRequired(String resourcesOptions,\n      String containerIdStr, DockerRunCommand runCommand)\n      throws ContainerExecutionException {\n    if (resourcesOptions.equals(\n        (PrivilegedOperation.CGROUP_ARG_PREFIX + PrivilegedOperation\n            .CGROUP_ARG_NO_TASKS))) {\n      if (LOG.isInfoEnabled()) {\n        LOG.info(\"no resource restrictions specified. not using docker\u0027s \"\n            + \"cgroup options\");\n      }\n    } else {\n      if (LOG.isInfoEnabled()) {\n        LOG.info(\"using docker\u0027s cgroups options\");\n      }\n\n      try {\n        CGroupsHandler cGroupsHandler \u003d ResourceHandlerModule\n            .getCGroupsHandler(conf);\n        String cGroupPath \u003d \"/\" + cGroupsHandler.getRelativePathForCGroup(\n            containerIdStr);\n\n        if (LOG.isInfoEnabled()) {\n          LOG.info(\"using cgroup parent: \" + cGroupPath);\n        }\n\n        runCommand.setCGroupParent(cGroupPath);\n      } catch (ResourceHandlerException e) {\n        LOG.warn(\"unable to use cgroups handler. Exception: \", e);\n        throw new ContainerExecutionException(e);\n      }\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/linux/runtime/DockerLinuxContainerRuntime.java"
    }
  }
}