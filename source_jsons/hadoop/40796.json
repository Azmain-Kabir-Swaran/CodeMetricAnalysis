{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "QueueMetrics.java",
  "functionName": "getAllocatedResources",
  "functionId": "getAllocatedResources",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/QueueMetrics.java",
  "functionStartLine": 1077,
  "functionEndLine": 1084,
  "numCommitsSeen": 39,
  "timeTaken": 2616,
  "changeHistory": [
    "84e22a6af46db2859d7d2caf192861cae9b6a1a8",
    "819224dcf9c683aa52f58633ac8e13663f1916d8",
    "e75ee47fc9358d6088eaa4de98b3c85ec2ca9667",
    "51ccb87031eda6a2b75be098a88f1d89ea82c610"
  ],
  "changeHistoryShort": {
    "84e22a6af46db2859d7d2caf192861cae9b6a1a8": "Ybodychange",
    "819224dcf9c683aa52f58633ac8e13663f1916d8": "Ybodychange",
    "e75ee47fc9358d6088eaa4de98b3c85ec2ca9667": "Ybodychange",
    "51ccb87031eda6a2b75be098a88f1d89ea82c610": "Yintroduced"
  },
  "changeHistoryDetails": {
    "84e22a6af46db2859d7d2caf192861cae9b6a1a8": {
      "type": "Ybodychange",
      "commitMessage": "YARN-8842. Expose metrics for custom resource types in QueueMetrics. (Contributed by Szilard Nemeth)\n",
      "commitDate": "16/10/18 2:14 PM",
      "commitName": "84e22a6af46db2859d7d2caf192861cae9b6a1a8",
      "commitAuthor": "Haibo Chen",
      "commitDateOld": "25/01/18 1:02 AM",
      "commitNameOld": "82cc6f6968d2897ae006c5ef29eba74023f3483e",
      "commitAuthorOld": "Sunil G",
      "daysBetweenCommits": 264.51,
      "commitsBetweenForRepo": 2657,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,4 +1,8 @@\n   public Resource getAllocatedResources() {\n-    return BuilderUtils.newResource(allocatedMB.value(),\n-        (int) allocatedVCores.value());\n+    if (queueMetricsForCustomResources !\u003d null) {\n+      return Resource.newInstance(allocatedMB.value(), allocatedVCores.value(),\n+              queueMetricsForCustomResources.getAllocatedValues());\n+    }\n+    return Resource.newInstance(allocatedMB.value(),\n+            allocatedVCores.value());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Resource getAllocatedResources() {\n    if (queueMetricsForCustomResources !\u003d null) {\n      return Resource.newInstance(allocatedMB.value(), allocatedVCores.value(),\n              queueMetricsForCustomResources.getAllocatedValues());\n    }\n    return Resource.newInstance(allocatedMB.value(),\n            allocatedVCores.value());\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/QueueMetrics.java",
      "extendedDetails": {}
    },
    "819224dcf9c683aa52f58633ac8e13663f1916d8": {
      "type": "Ybodychange",
      "commitMessage": "YARN-5270. Solve miscellaneous issues caused by YARN-4844. Contributed by Wangda Tan\n",
      "commitDate": "11/07/16 10:36 PM",
      "commitName": "819224dcf9c683aa52f58633ac8e13663f1916d8",
      "commitAuthor": "Jian He",
      "commitDateOld": "29/05/16 8:54 AM",
      "commitNameOld": "42f90ab885d9693fcc1e52f9637f7de4111110ae",
      "commitAuthorOld": "Varun Vasudev",
      "daysBetweenCommits": 43.57,
      "commitsBetweenForRepo": 400,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,3 +1,4 @@\n   public Resource getAllocatedResources() {\n-    return BuilderUtils.newResource(allocatedMB.value(), allocatedVCores.value());\n+    return BuilderUtils.newResource(allocatedMB.value(),\n+        (int) allocatedVCores.value());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Resource getAllocatedResources() {\n    return BuilderUtils.newResource(allocatedMB.value(),\n        (int) allocatedVCores.value());\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/QueueMetrics.java",
      "extendedDetails": {}
    },
    "e75ee47fc9358d6088eaa4de98b3c85ec2ca9667": {
      "type": "Ybodychange",
      "commitMessage": "YARN-795. Fair scheduler queue metrics should subtract allocated vCores from available vCores. (ywskycn via tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1492021 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "11/06/13 5:25 PM",
      "commitName": "e75ee47fc9358d6088eaa4de98b3c85ec2ca9667",
      "commitAuthor": "Alejandro Abdelnur",
      "commitDateOld": "11/06/13 3:15 PM",
      "commitNameOld": "25946da4133a3784f1ec280cccac36b24db273a6",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.09,
      "commitsBetweenForRepo": 2,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,3 +1,3 @@\n   public Resource getAllocatedResources() {\n-    return BuilderUtils.newResource(allocatedMB.value(), 0);\n+    return BuilderUtils.newResource(allocatedMB.value(), allocatedVCores.value());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Resource getAllocatedResources() {\n    return BuilderUtils.newResource(allocatedMB.value(), allocatedVCores.value());\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/QueueMetrics.java",
      "extendedDetails": {}
    },
    "51ccb87031eda6a2b75be098a88f1d89ea82c610": {
      "type": "Yintroduced",
      "commitMessage": "YARN-655. Fair scheduler metrics should subtract allocated memory from available memory. (sandyr via tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1480809 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/05/13 3:15 PM",
      "commitName": "51ccb87031eda6a2b75be098a88f1d89ea82c610",
      "commitAuthor": "Alejandro Abdelnur",
      "diff": "@@ -0,0 +1,3 @@\n+  public Resource getAllocatedResources() {\n+    return BuilderUtils.newResource(allocatedMB.value(), 0);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public Resource getAllocatedResources() {\n    return BuilderUtils.newResource(allocatedMB.value(), 0);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/QueueMetrics.java"
    }
  }
}