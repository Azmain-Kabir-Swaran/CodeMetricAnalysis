{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AbstractPreemptableResourceCalculator.java",
  "functionName": "compare",
  "functionId": "compare___tq1-TempQueuePerPartition__tq2-TempQueuePerPartition",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/AbstractPreemptableResourceCalculator.java",
  "functionStartLine": 57,
  "functionEndLine": 63,
  "numCommitsSeen": 48,
  "timeTaken": 3960,
  "changeHistory": [
    "ce832059db077fa95922198b066a737ed4f609fe",
    "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
    "60e4116bf1d00afed91010e57357fe54057e4e39",
    "d497f6ea2be559aa31ed76f37ae949dbfabe2a51",
    "4b130821995a3cfe20c71e38e0f63294085c0491"
  ],
  "changeHistoryShort": {
    "ce832059db077fa95922198b066a737ed4f609fe": "Ybodychange",
    "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9": "Ymovefromfile",
    "60e4116bf1d00afed91010e57357fe54057e4e39": "Ymovefromfile",
    "d497f6ea2be559aa31ed76f37ae949dbfabe2a51": "Yparameterchange",
    "4b130821995a3cfe20c71e38e0f63294085c0491": "Yintroduced"
  },
  "changeHistoryDetails": {
    "ce832059db077fa95922198b066a737ed4f609fe": {
      "type": "Ybodychange",
      "commitMessage": "YARN-5864. Capacity Scheduler - Queue Priorities. (wangda)\n",
      "commitDate": "23/01/17 10:52 AM",
      "commitName": "ce832059db077fa95922198b066a737ed4f609fe",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "31/10/16 3:18 PM",
      "commitNameOld": "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
      "commitAuthorOld": "Wangda Tan",
      "daysBetweenCommits": 83.86,
      "commitsBetweenForRepo": 501,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,7 @@\n     public int compare(TempQueuePerPartition tq1, TempQueuePerPartition tq2) {\n-      if (getIdealPctOfGuaranteed(tq1) \u003c getIdealPctOfGuaranteed(tq2)) {\n-        return -1;\n-      }\n-      if (getIdealPctOfGuaranteed(tq1) \u003e getIdealPctOfGuaranteed(tq2)) {\n-        return 1;\n-      }\n-      return 0;\n+      double assigned1 \u003d getIdealPctOfGuaranteed(tq1);\n+      double assigned2 \u003d getIdealPctOfGuaranteed(tq2);\n+\n+      return PriorityUtilizationQueueOrderingPolicy.compare(assigned1,\n+          assigned2, tq1.relativePriority, tq2.relativePriority);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public int compare(TempQueuePerPartition tq1, TempQueuePerPartition tq2) {\n      double assigned1 \u003d getIdealPctOfGuaranteed(tq1);\n      double assigned2 \u003d getIdealPctOfGuaranteed(tq2);\n\n      return PriorityUtilizationQueueOrderingPolicy.compare(assigned1,\n          assigned2, tq1.relativePriority, tq2.relativePriority);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/AbstractPreemptableResourceCalculator.java",
      "extendedDetails": {}
    },
    "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9": {
      "type": "Ymovefromfile",
      "commitMessage": "YARN-2009. CapacityScheduler: Add intra-queue preemption for app priority support. (Sunil G via wangda)\n",
      "commitDate": "31/10/16 3:18 PM",
      "commitName": "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "31/10/16 2:47 PM",
      "commitNameOld": "773c60bd7bd00651dc3016799b424b9bd2233eb3",
      "commitAuthorOld": "Daniel Templeton",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    public int compare(TempQueuePerPartition tq1, TempQueuePerPartition tq2) {\n      if (getIdealPctOfGuaranteed(tq1) \u003c getIdealPctOfGuaranteed(tq2)) {\n        return -1;\n      }\n      if (getIdealPctOfGuaranteed(tq1) \u003e getIdealPctOfGuaranteed(tq2)) {\n        return 1;\n      }\n      return 0;\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/AbstractPreemptableResourceCalculator.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/PreemptableResourceCalculator.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/AbstractPreemptableResourceCalculator.java",
        "oldMethodName": "compare",
        "newMethodName": "compare"
      }
    },
    "60e4116bf1d00afed91010e57357fe54057e4e39": {
      "type": "Ymovefromfile",
      "commitMessage": "YARN-4822. Refactor existing Preemption Policy of CS for easier adding new approach to select preemption candidates. Contributed by Wangda Tan\n",
      "commitDate": "30/03/16 12:43 PM",
      "commitName": "60e4116bf1d00afed91010e57357fe54057e4e39",
      "commitAuthor": "Jian He",
      "commitDateOld": "29/03/16 11:22 PM",
      "commitNameOld": "09d63d5a192b5d6b172f94ff6c94da348fd49ea6",
      "commitAuthorOld": "Vinayakumar B",
      "daysBetweenCommits": 0.56,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    public int compare(TempQueuePerPartition tq1, TempQueuePerPartition tq2) {\n      if (getIdealPctOfGuaranteed(tq1) \u003c getIdealPctOfGuaranteed(tq2)) {\n        return -1;\n      }\n      if (getIdealPctOfGuaranteed(tq1) \u003e getIdealPctOfGuaranteed(tq2)) {\n        return 1;\n      }\n      return 0;\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/PreemptableResourceCalculator.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/PreemptableResourceCalculator.java",
        "oldMethodName": "compare",
        "newMethodName": "compare"
      }
    },
    "d497f6ea2be559aa31ed76f37ae949dbfabe2a51": {
      "type": "Yparameterchange",
      "commitMessage": "YARN-2498. Respect labels in preemption policy of capacity scheduler for inter-queue preemption. Contributed by Wangda Tan\n",
      "commitDate": "24/04/15 5:03 PM",
      "commitName": "d497f6ea2be559aa31ed76f37ae949dbfabe2a51",
      "commitAuthor": "Jian He",
      "commitDateOld": "20/04/15 5:12 PM",
      "commitNameOld": "44872b76fcc0ddfbc7b0a4e54eef50fe8708e0f5",
      "commitAuthorOld": "Wangda Tan",
      "daysBetweenCommits": 3.99,
      "commitsBetweenForRepo": 60,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n-    public int compare(TempQueue tq1, TempQueue tq2) {\n+    public int compare(TempQueuePerPartition tq1, TempQueuePerPartition tq2) {\n       if (getIdealPctOfGuaranteed(tq1) \u003c getIdealPctOfGuaranteed(tq2)) {\n         return -1;\n       }\n       if (getIdealPctOfGuaranteed(tq1) \u003e getIdealPctOfGuaranteed(tq2)) {\n         return 1;\n       }\n       return 0;\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public int compare(TempQueuePerPartition tq1, TempQueuePerPartition tq2) {\n      if (getIdealPctOfGuaranteed(tq1) \u003c getIdealPctOfGuaranteed(tq2)) {\n        return -1;\n      }\n      if (getIdealPctOfGuaranteed(tq1) \u003e getIdealPctOfGuaranteed(tq2)) {\n        return 1;\n      }\n      return 0;\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java",
      "extendedDetails": {
        "oldValue": "[tq1-TempQueue, tq2-TempQueue]",
        "newValue": "[tq1-TempQueuePerPartition, tq2-TempQueuePerPartition]"
      }
    },
    "4b130821995a3cfe20c71e38e0f63294085c0491": {
      "type": "Yintroduced",
      "commitMessage": "YARN-2056. Disable preemption at Queue level. Contributed by Eric Payne\n",
      "commitDate": "05/12/14 1:06 PM",
      "commitName": "4b130821995a3cfe20c71e38e0f63294085c0491",
      "commitAuthor": "Jason Lowe",
      "diff": "@@ -0,0 +1,9 @@\n+    public int compare(TempQueue tq1, TempQueue tq2) {\n+      if (getIdealPctOfGuaranteed(tq1) \u003c getIdealPctOfGuaranteed(tq2)) {\n+        return -1;\n+      }\n+      if (getIdealPctOfGuaranteed(tq1) \u003e getIdealPctOfGuaranteed(tq2)) {\n+        return 1;\n+      }\n+      return 0;\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    public int compare(TempQueue tq1, TempQueue tq2) {\n      if (getIdealPctOfGuaranteed(tq1) \u003c getIdealPctOfGuaranteed(tq2)) {\n        return -1;\n      }\n      if (getIdealPctOfGuaranteed(tq1) \u003e getIdealPctOfGuaranteed(tq2)) {\n        return 1;\n      }\n      return 0;\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java"
    }
  }
}