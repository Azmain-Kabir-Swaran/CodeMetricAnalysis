{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "EventReader.java",
  "functionName": "getNextEvent",
  "functionId": "getNextEvent",
  "sourceFilePath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java",
  "functionStartLine": 98,
  "functionEndLine": 174,
  "numCommitsSeen": 13,
  "timeTaken": 5174,
  "changeHistory": [
    "6afe20a7a4bbfa30fce3e3c9873ad43201987998",
    "db807057193311fc06caf912e13000193edd1bd8",
    "2d614a916cc5958b709bddbee71d2dcb9cbb2bf9",
    "13e4562924a6cb3d16c262e0f595b2ffbf9e0546",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc"
  ],
  "changeHistoryShort": {
    "6afe20a7a4bbfa30fce3e3c9873ad43201987998": "Ybodychange",
    "db807057193311fc06caf912e13000193edd1bd8": "Ybodychange",
    "2d614a916cc5958b709bddbee71d2dcb9cbb2bf9": "Ybodychange",
    "13e4562924a6cb3d16c262e0f595b2ffbf9e0546": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": "Yfilerename",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yintroduced"
  },
  "changeHistoryDetails": {
    "6afe20a7a4bbfa30fce3e3c9873ad43201987998": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-6388. Remove deprecation warnings from JobHistoryServer classes. Contributed by Ray Chiang.\n",
      "commitDate": "08/06/15 3:06 PM",
      "commitName": "6afe20a7a4bbfa30fce3e3c9873ad43201987998",
      "commitAuthor": "Tsuyoshi Ozawa",
      "commitDateOld": "20/05/14 8:46 AM",
      "commitNameOld": "1f8bb1001a41fe53ca40c6897f1515f5306d214d",
      "commitAuthorOld": "Jason Darrell Lowe",
      "daysBetweenCommits": 384.26,
      "commitsBetweenForRepo": 3290,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,77 +1,77 @@\n   public HistoryEvent getNextEvent() throws IOException {\n     Event wrapper;\n     try {\n       wrapper \u003d (Event)reader.read(null, decoder);\n     } catch (EOFException e) {            // at EOF\n       return null;\n     }\n     HistoryEvent result;\n-    switch (wrapper.type) {\n+    switch (wrapper.getType()) {\n     case JOB_SUBMITTED:\n       result \u003d new JobSubmittedEvent(); break;\n     case JOB_INITED:\n       result \u003d new JobInitedEvent(); break;\n     case JOB_FINISHED:\n       result \u003d new JobFinishedEvent(); break;\n     case JOB_PRIORITY_CHANGED:\n       result \u003d new JobPriorityChangeEvent(); break;\n     case JOB_QUEUE_CHANGED:\n       result \u003d new JobQueueChangeEvent(); break;\n     case JOB_STATUS_CHANGED:\n       result \u003d new JobStatusChangedEvent(); break;\n     case JOB_FAILED:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_KILLED:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_ERROR:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_INFO_CHANGED:\n       result \u003d new JobInfoChangeEvent(); break;\n     case TASK_STARTED:\n       result \u003d new TaskStartedEvent(); break;\n     case TASK_FINISHED:\n       result \u003d new TaskFinishedEvent(); break;\n     case TASK_FAILED:\n       result \u003d new TaskFailedEvent(); break;\n     case TASK_UPDATED:\n       result \u003d new TaskUpdatedEvent(); break;\n     case MAP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case MAP_ATTEMPT_FINISHED:\n       result \u003d new MapAttemptFinishedEvent(); break;\n     case MAP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case MAP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case REDUCE_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case REDUCE_ATTEMPT_FINISHED:\n       result \u003d new ReduceAttemptFinishedEvent(); break;\n     case REDUCE_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case REDUCE_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case SETUP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case SETUP_ATTEMPT_FINISHED:\n       result \u003d new TaskAttemptFinishedEvent(); break;\n     case SETUP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case SETUP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case CLEANUP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case CLEANUP_ATTEMPT_FINISHED:\n       result \u003d new TaskAttemptFinishedEvent(); break;\n     case CLEANUP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case CLEANUP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case AM_STARTED:\n       result \u003d new AMStartedEvent(); break;\n     default:\n-      throw new RuntimeException(\"unexpected event type: \" + wrapper.type);\n+      throw new RuntimeException(\"unexpected event type: \" + wrapper.getType());\n     }\n-    result.setDatum(wrapper.event);\n+    result.setDatum(wrapper.getEvent());\n     return result;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public HistoryEvent getNextEvent() throws IOException {\n    Event wrapper;\n    try {\n      wrapper \u003d (Event)reader.read(null, decoder);\n    } catch (EOFException e) {            // at EOF\n      return null;\n    }\n    HistoryEvent result;\n    switch (wrapper.getType()) {\n    case JOB_SUBMITTED:\n      result \u003d new JobSubmittedEvent(); break;\n    case JOB_INITED:\n      result \u003d new JobInitedEvent(); break;\n    case JOB_FINISHED:\n      result \u003d new JobFinishedEvent(); break;\n    case JOB_PRIORITY_CHANGED:\n      result \u003d new JobPriorityChangeEvent(); break;\n    case JOB_QUEUE_CHANGED:\n      result \u003d new JobQueueChangeEvent(); break;\n    case JOB_STATUS_CHANGED:\n      result \u003d new JobStatusChangedEvent(); break;\n    case JOB_FAILED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_KILLED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_ERROR:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_INFO_CHANGED:\n      result \u003d new JobInfoChangeEvent(); break;\n    case TASK_STARTED:\n      result \u003d new TaskStartedEvent(); break;\n    case TASK_FINISHED:\n      result \u003d new TaskFinishedEvent(); break;\n    case TASK_FAILED:\n      result \u003d new TaskFailedEvent(); break;\n    case TASK_UPDATED:\n      result \u003d new TaskUpdatedEvent(); break;\n    case MAP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case MAP_ATTEMPT_FINISHED:\n      result \u003d new MapAttemptFinishedEvent(); break;\n    case MAP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case MAP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case REDUCE_ATTEMPT_FINISHED:\n      result \u003d new ReduceAttemptFinishedEvent(); break;\n    case REDUCE_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case SETUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case SETUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case CLEANUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case CLEANUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case AM_STARTED:\n      result \u003d new AMStartedEvent(); break;\n    default:\n      throw new RuntimeException(\"unexpected event type: \" + wrapper.getType());\n    }\n    result.setDatum(wrapper.getEvent());\n    return result;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java",
      "extendedDetails": {}
    },
    "db807057193311fc06caf912e13000193edd1bd8": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-5732. Report proper queue when job has been automatically placed (Sandy Ryza)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1562641 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/01/14 3:51 PM",
      "commitName": "db807057193311fc06caf912e13000193edd1bd8",
      "commitAuthor": "Sanford Ryza",
      "commitDateOld": "21/08/13 11:16 AM",
      "commitNameOld": "2d614a916cc5958b709bddbee71d2dcb9cbb2bf9",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 161.23,
      "commitsBetweenForRepo": 966,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,75 +1,77 @@\n   public HistoryEvent getNextEvent() throws IOException {\n     Event wrapper;\n     try {\n       wrapper \u003d (Event)reader.read(null, decoder);\n     } catch (EOFException e) {            // at EOF\n       return null;\n     }\n     HistoryEvent result;\n     switch (wrapper.type) {\n     case JOB_SUBMITTED:\n       result \u003d new JobSubmittedEvent(); break;\n     case JOB_INITED:\n       result \u003d new JobInitedEvent(); break;\n     case JOB_FINISHED:\n       result \u003d new JobFinishedEvent(); break;\n     case JOB_PRIORITY_CHANGED:\n       result \u003d new JobPriorityChangeEvent(); break;\n+    case JOB_QUEUE_CHANGED:\n+      result \u003d new JobQueueChangeEvent(); break;\n     case JOB_STATUS_CHANGED:\n       result \u003d new JobStatusChangedEvent(); break;\n     case JOB_FAILED:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_KILLED:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_ERROR:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_INFO_CHANGED:\n       result \u003d new JobInfoChangeEvent(); break;\n     case TASK_STARTED:\n       result \u003d new TaskStartedEvent(); break;\n     case TASK_FINISHED:\n       result \u003d new TaskFinishedEvent(); break;\n     case TASK_FAILED:\n       result \u003d new TaskFailedEvent(); break;\n     case TASK_UPDATED:\n       result \u003d new TaskUpdatedEvent(); break;\n     case MAP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case MAP_ATTEMPT_FINISHED:\n       result \u003d new MapAttemptFinishedEvent(); break;\n     case MAP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case MAP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case REDUCE_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case REDUCE_ATTEMPT_FINISHED:\n       result \u003d new ReduceAttemptFinishedEvent(); break;\n     case REDUCE_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case REDUCE_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case SETUP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case SETUP_ATTEMPT_FINISHED:\n       result \u003d new TaskAttemptFinishedEvent(); break;\n     case SETUP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case SETUP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case CLEANUP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case CLEANUP_ATTEMPT_FINISHED:\n       result \u003d new TaskAttemptFinishedEvent(); break;\n     case CLEANUP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case CLEANUP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case AM_STARTED:\n       result \u003d new AMStartedEvent(); break;\n     default:\n       throw new RuntimeException(\"unexpected event type: \" + wrapper.type);\n     }\n     result.setDatum(wrapper.event);\n     return result;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public HistoryEvent getNextEvent() throws IOException {\n    Event wrapper;\n    try {\n      wrapper \u003d (Event)reader.read(null, decoder);\n    } catch (EOFException e) {            // at EOF\n      return null;\n    }\n    HistoryEvent result;\n    switch (wrapper.type) {\n    case JOB_SUBMITTED:\n      result \u003d new JobSubmittedEvent(); break;\n    case JOB_INITED:\n      result \u003d new JobInitedEvent(); break;\n    case JOB_FINISHED:\n      result \u003d new JobFinishedEvent(); break;\n    case JOB_PRIORITY_CHANGED:\n      result \u003d new JobPriorityChangeEvent(); break;\n    case JOB_QUEUE_CHANGED:\n      result \u003d new JobQueueChangeEvent(); break;\n    case JOB_STATUS_CHANGED:\n      result \u003d new JobStatusChangedEvent(); break;\n    case JOB_FAILED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_KILLED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_ERROR:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_INFO_CHANGED:\n      result \u003d new JobInfoChangeEvent(); break;\n    case TASK_STARTED:\n      result \u003d new TaskStartedEvent(); break;\n    case TASK_FINISHED:\n      result \u003d new TaskFinishedEvent(); break;\n    case TASK_FAILED:\n      result \u003d new TaskFailedEvent(); break;\n    case TASK_UPDATED:\n      result \u003d new TaskUpdatedEvent(); break;\n    case MAP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case MAP_ATTEMPT_FINISHED:\n      result \u003d new MapAttemptFinishedEvent(); break;\n    case MAP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case MAP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case REDUCE_ATTEMPT_FINISHED:\n      result \u003d new ReduceAttemptFinishedEvent(); break;\n    case REDUCE_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case SETUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case SETUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case CLEANUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case CLEANUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case AM_STARTED:\n      result \u003d new AMStartedEvent(); break;\n    default:\n      throw new RuntimeException(\"unexpected event type: \" + wrapper.type);\n    }\n    result.setDatum(wrapper.event);\n    return result;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java",
      "extendedDetails": {}
    },
    "2d614a916cc5958b709bddbee71d2dcb9cbb2bf9": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-5466. Changed MR AM to not promote history files of intermediate AMs in case they are exiting because of errors and thus help history-server pick up the right history file for the last successful AM. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1516238 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "21/08/13 11:16 AM",
      "commitName": "2d614a916cc5958b709bddbee71d2dcb9cbb2bf9",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "23/10/12 1:57 PM",
      "commitNameOld": "def0b949d442ecd27ff1a9623405624db691ecfe",
      "commitAuthorOld": "Daryn Sharp",
      "daysBetweenCommits": 301.89,
      "commitsBetweenForRepo": 1723,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,73 +1,75 @@\n   public HistoryEvent getNextEvent() throws IOException {\n     Event wrapper;\n     try {\n       wrapper \u003d (Event)reader.read(null, decoder);\n     } catch (EOFException e) {            // at EOF\n       return null;\n     }\n     HistoryEvent result;\n     switch (wrapper.type) {\n     case JOB_SUBMITTED:\n       result \u003d new JobSubmittedEvent(); break;\n     case JOB_INITED:\n       result \u003d new JobInitedEvent(); break;\n     case JOB_FINISHED:\n       result \u003d new JobFinishedEvent(); break;\n     case JOB_PRIORITY_CHANGED:\n       result \u003d new JobPriorityChangeEvent(); break;\n     case JOB_STATUS_CHANGED:\n       result \u003d new JobStatusChangedEvent(); break;\n     case JOB_FAILED:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_KILLED:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n+    case JOB_ERROR:\n+      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_INFO_CHANGED:\n       result \u003d new JobInfoChangeEvent(); break;\n     case TASK_STARTED:\n       result \u003d new TaskStartedEvent(); break;\n     case TASK_FINISHED:\n       result \u003d new TaskFinishedEvent(); break;\n     case TASK_FAILED:\n       result \u003d new TaskFailedEvent(); break;\n     case TASK_UPDATED:\n       result \u003d new TaskUpdatedEvent(); break;\n     case MAP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case MAP_ATTEMPT_FINISHED:\n       result \u003d new MapAttemptFinishedEvent(); break;\n     case MAP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case MAP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case REDUCE_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case REDUCE_ATTEMPT_FINISHED:\n       result \u003d new ReduceAttemptFinishedEvent(); break;\n     case REDUCE_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case REDUCE_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case SETUP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case SETUP_ATTEMPT_FINISHED:\n       result \u003d new TaskAttemptFinishedEvent(); break;\n     case SETUP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case SETUP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case CLEANUP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case CLEANUP_ATTEMPT_FINISHED:\n       result \u003d new TaskAttemptFinishedEvent(); break;\n     case CLEANUP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case CLEANUP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case AM_STARTED:\n       result \u003d new AMStartedEvent(); break;\n     default:\n       throw new RuntimeException(\"unexpected event type: \" + wrapper.type);\n     }\n     result.setDatum(wrapper.event);\n     return result;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public HistoryEvent getNextEvent() throws IOException {\n    Event wrapper;\n    try {\n      wrapper \u003d (Event)reader.read(null, decoder);\n    } catch (EOFException e) {            // at EOF\n      return null;\n    }\n    HistoryEvent result;\n    switch (wrapper.type) {\n    case JOB_SUBMITTED:\n      result \u003d new JobSubmittedEvent(); break;\n    case JOB_INITED:\n      result \u003d new JobInitedEvent(); break;\n    case JOB_FINISHED:\n      result \u003d new JobFinishedEvent(); break;\n    case JOB_PRIORITY_CHANGED:\n      result \u003d new JobPriorityChangeEvent(); break;\n    case JOB_STATUS_CHANGED:\n      result \u003d new JobStatusChangedEvent(); break;\n    case JOB_FAILED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_KILLED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_ERROR:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_INFO_CHANGED:\n      result \u003d new JobInfoChangeEvent(); break;\n    case TASK_STARTED:\n      result \u003d new TaskStartedEvent(); break;\n    case TASK_FINISHED:\n      result \u003d new TaskFinishedEvent(); break;\n    case TASK_FAILED:\n      result \u003d new TaskFailedEvent(); break;\n    case TASK_UPDATED:\n      result \u003d new TaskUpdatedEvent(); break;\n    case MAP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case MAP_ATTEMPT_FINISHED:\n      result \u003d new MapAttemptFinishedEvent(); break;\n    case MAP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case MAP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case REDUCE_ATTEMPT_FINISHED:\n      result \u003d new ReduceAttemptFinishedEvent(); break;\n    case REDUCE_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case SETUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case SETUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case CLEANUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case CLEANUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case AM_STARTED:\n      result \u003d new AMStartedEvent(); break;\n    default:\n      throw new RuntimeException(\"unexpected event type: \" + wrapper.type);\n    }\n    result.setDatum(wrapper.event);\n    return result;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java",
      "extendedDetails": {}
    },
    "13e4562924a6cb3d16c262e0f595b2ffbf9e0546": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-3144. Augmented JobHistory with the information needed for serving aggregated logs. Contributed by Siddharth Seth.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1185976 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/10/11 10:21 PM",
      "commitName": "13e4562924a6cb3d16c262e0f595b2ffbf9e0546",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "24/08/11 5:14 PM",
      "commitNameOld": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 55.21,
      "commitsBetweenForRepo": 375,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,71 +1,73 @@\n   public HistoryEvent getNextEvent() throws IOException {\n     Event wrapper;\n     try {\n       wrapper \u003d (Event)reader.read(null, decoder);\n     } catch (EOFException e) {            // at EOF\n       return null;\n     }\n     HistoryEvent result;\n     switch (wrapper.type) {\n     case JOB_SUBMITTED:\n       result \u003d new JobSubmittedEvent(); break;\n     case JOB_INITED:\n       result \u003d new JobInitedEvent(); break;\n     case JOB_FINISHED:\n       result \u003d new JobFinishedEvent(); break;\n     case JOB_PRIORITY_CHANGED:\n       result \u003d new JobPriorityChangeEvent(); break;\n     case JOB_STATUS_CHANGED:\n       result \u003d new JobStatusChangedEvent(); break;\n     case JOB_FAILED:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_KILLED:\n       result \u003d new JobUnsuccessfulCompletionEvent(); break;\n     case JOB_INFO_CHANGED:\n       result \u003d new JobInfoChangeEvent(); break;\n     case TASK_STARTED:\n       result \u003d new TaskStartedEvent(); break;\n     case TASK_FINISHED:\n       result \u003d new TaskFinishedEvent(); break;\n     case TASK_FAILED:\n       result \u003d new TaskFailedEvent(); break;\n     case TASK_UPDATED:\n       result \u003d new TaskUpdatedEvent(); break;\n     case MAP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case MAP_ATTEMPT_FINISHED:\n       result \u003d new MapAttemptFinishedEvent(); break;\n     case MAP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case MAP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case REDUCE_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case REDUCE_ATTEMPT_FINISHED:\n       result \u003d new ReduceAttemptFinishedEvent(); break;\n     case REDUCE_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case REDUCE_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case SETUP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case SETUP_ATTEMPT_FINISHED:\n       result \u003d new TaskAttemptFinishedEvent(); break;\n     case SETUP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case SETUP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case CLEANUP_ATTEMPT_STARTED:\n       result \u003d new TaskAttemptStartedEvent(); break;\n     case CLEANUP_ATTEMPT_FINISHED:\n       result \u003d new TaskAttemptFinishedEvent(); break;\n     case CLEANUP_ATTEMPT_FAILED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n     case CLEANUP_ATTEMPT_KILLED:\n       result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n+    case AM_STARTED:\n+      result \u003d new AMStartedEvent(); break;\n     default:\n-      throw new RuntimeException(\"unexpected event type!\");\n+      throw new RuntimeException(\"unexpected event type: \" + wrapper.type);\n     }\n     result.setDatum(wrapper.event);\n     return result;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public HistoryEvent getNextEvent() throws IOException {\n    Event wrapper;\n    try {\n      wrapper \u003d (Event)reader.read(null, decoder);\n    } catch (EOFException e) {            // at EOF\n      return null;\n    }\n    HistoryEvent result;\n    switch (wrapper.type) {\n    case JOB_SUBMITTED:\n      result \u003d new JobSubmittedEvent(); break;\n    case JOB_INITED:\n      result \u003d new JobInitedEvent(); break;\n    case JOB_FINISHED:\n      result \u003d new JobFinishedEvent(); break;\n    case JOB_PRIORITY_CHANGED:\n      result \u003d new JobPriorityChangeEvent(); break;\n    case JOB_STATUS_CHANGED:\n      result \u003d new JobStatusChangedEvent(); break;\n    case JOB_FAILED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_KILLED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_INFO_CHANGED:\n      result \u003d new JobInfoChangeEvent(); break;\n    case TASK_STARTED:\n      result \u003d new TaskStartedEvent(); break;\n    case TASK_FINISHED:\n      result \u003d new TaskFinishedEvent(); break;\n    case TASK_FAILED:\n      result \u003d new TaskFailedEvent(); break;\n    case TASK_UPDATED:\n      result \u003d new TaskUpdatedEvent(); break;\n    case MAP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case MAP_ATTEMPT_FINISHED:\n      result \u003d new MapAttemptFinishedEvent(); break;\n    case MAP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case MAP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case REDUCE_ATTEMPT_FINISHED:\n      result \u003d new ReduceAttemptFinishedEvent(); break;\n    case REDUCE_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case SETUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case SETUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case CLEANUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case CLEANUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case AM_STARTED:\n      result \u003d new AMStartedEvent(); break;\n    default:\n      throw new RuntimeException(\"unexpected event type: \" + wrapper.type);\n    }\n    result.setDatum(wrapper.event);\n    return result;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public HistoryEvent getNextEvent() throws IOException {\n    Event wrapper;\n    try {\n      wrapper \u003d (Event)reader.read(null, decoder);\n    } catch (EOFException e) {            // at EOF\n      return null;\n    }\n    HistoryEvent result;\n    switch (wrapper.type) {\n    case JOB_SUBMITTED:\n      result \u003d new JobSubmittedEvent(); break;\n    case JOB_INITED:\n      result \u003d new JobInitedEvent(); break;\n    case JOB_FINISHED:\n      result \u003d new JobFinishedEvent(); break;\n    case JOB_PRIORITY_CHANGED:\n      result \u003d new JobPriorityChangeEvent(); break;\n    case JOB_STATUS_CHANGED:\n      result \u003d new JobStatusChangedEvent(); break;\n    case JOB_FAILED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_KILLED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_INFO_CHANGED:\n      result \u003d new JobInfoChangeEvent(); break;\n    case TASK_STARTED:\n      result \u003d new TaskStartedEvent(); break;\n    case TASK_FINISHED:\n      result \u003d new TaskFinishedEvent(); break;\n    case TASK_FAILED:\n      result \u003d new TaskFailedEvent(); break;\n    case TASK_UPDATED:\n      result \u003d new TaskUpdatedEvent(); break;\n    case MAP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case MAP_ATTEMPT_FINISHED:\n      result \u003d new MapAttemptFinishedEvent(); break;\n    case MAP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case MAP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case REDUCE_ATTEMPT_FINISHED:\n      result \u003d new ReduceAttemptFinishedEvent(); break;\n    case REDUCE_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case SETUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case SETUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case CLEANUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case CLEANUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    default:\n      throw new RuntimeException(\"unexpected event type!\");\n    }\n    result.setDatum(wrapper.event);\n    return result;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java",
        "newPath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java"
      }
    },
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": {
      "type": "Yfilerename",
      "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/08/11 4:07 AM",
      "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "17/08/11 8:02 PM",
      "commitNameOld": "dd86860633d2ed64705b669a75bf318442ed6225",
      "commitAuthorOld": "Todd Lipcon",
      "daysBetweenCommits": 0.34,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public HistoryEvent getNextEvent() throws IOException {\n    Event wrapper;\n    try {\n      wrapper \u003d (Event)reader.read(null, decoder);\n    } catch (EOFException e) {            // at EOF\n      return null;\n    }\n    HistoryEvent result;\n    switch (wrapper.type) {\n    case JOB_SUBMITTED:\n      result \u003d new JobSubmittedEvent(); break;\n    case JOB_INITED:\n      result \u003d new JobInitedEvent(); break;\n    case JOB_FINISHED:\n      result \u003d new JobFinishedEvent(); break;\n    case JOB_PRIORITY_CHANGED:\n      result \u003d new JobPriorityChangeEvent(); break;\n    case JOB_STATUS_CHANGED:\n      result \u003d new JobStatusChangedEvent(); break;\n    case JOB_FAILED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_KILLED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_INFO_CHANGED:\n      result \u003d new JobInfoChangeEvent(); break;\n    case TASK_STARTED:\n      result \u003d new TaskStartedEvent(); break;\n    case TASK_FINISHED:\n      result \u003d new TaskFinishedEvent(); break;\n    case TASK_FAILED:\n      result \u003d new TaskFailedEvent(); break;\n    case TASK_UPDATED:\n      result \u003d new TaskUpdatedEvent(); break;\n    case MAP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case MAP_ATTEMPT_FINISHED:\n      result \u003d new MapAttemptFinishedEvent(); break;\n    case MAP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case MAP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case REDUCE_ATTEMPT_FINISHED:\n      result \u003d new ReduceAttemptFinishedEvent(); break;\n    case REDUCE_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case SETUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case SETUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case CLEANUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case CLEANUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    default:\n      throw new RuntimeException(\"unexpected event type!\");\n    }\n    result.setDatum(wrapper.event);\n    return result;\n  }",
      "path": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java",
      "extendedDetails": {
        "oldPath": "mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java",
        "newPath": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java"
      }
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "diff": "@@ -0,0 +1,71 @@\n+  public HistoryEvent getNextEvent() throws IOException {\n+    Event wrapper;\n+    try {\n+      wrapper \u003d (Event)reader.read(null, decoder);\n+    } catch (EOFException e) {            // at EOF\n+      return null;\n+    }\n+    HistoryEvent result;\n+    switch (wrapper.type) {\n+    case JOB_SUBMITTED:\n+      result \u003d new JobSubmittedEvent(); break;\n+    case JOB_INITED:\n+      result \u003d new JobInitedEvent(); break;\n+    case JOB_FINISHED:\n+      result \u003d new JobFinishedEvent(); break;\n+    case JOB_PRIORITY_CHANGED:\n+      result \u003d new JobPriorityChangeEvent(); break;\n+    case JOB_STATUS_CHANGED:\n+      result \u003d new JobStatusChangedEvent(); break;\n+    case JOB_FAILED:\n+      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n+    case JOB_KILLED:\n+      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n+    case JOB_INFO_CHANGED:\n+      result \u003d new JobInfoChangeEvent(); break;\n+    case TASK_STARTED:\n+      result \u003d new TaskStartedEvent(); break;\n+    case TASK_FINISHED:\n+      result \u003d new TaskFinishedEvent(); break;\n+    case TASK_FAILED:\n+      result \u003d new TaskFailedEvent(); break;\n+    case TASK_UPDATED:\n+      result \u003d new TaskUpdatedEvent(); break;\n+    case MAP_ATTEMPT_STARTED:\n+      result \u003d new TaskAttemptStartedEvent(); break;\n+    case MAP_ATTEMPT_FINISHED:\n+      result \u003d new MapAttemptFinishedEvent(); break;\n+    case MAP_ATTEMPT_FAILED:\n+      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n+    case MAP_ATTEMPT_KILLED:\n+      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n+    case REDUCE_ATTEMPT_STARTED:\n+      result \u003d new TaskAttemptStartedEvent(); break;\n+    case REDUCE_ATTEMPT_FINISHED:\n+      result \u003d new ReduceAttemptFinishedEvent(); break;\n+    case REDUCE_ATTEMPT_FAILED:\n+      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n+    case REDUCE_ATTEMPT_KILLED:\n+      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n+    case SETUP_ATTEMPT_STARTED:\n+      result \u003d new TaskAttemptStartedEvent(); break;\n+    case SETUP_ATTEMPT_FINISHED:\n+      result \u003d new TaskAttemptFinishedEvent(); break;\n+    case SETUP_ATTEMPT_FAILED:\n+      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n+    case SETUP_ATTEMPT_KILLED:\n+      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n+    case CLEANUP_ATTEMPT_STARTED:\n+      result \u003d new TaskAttemptStartedEvent(); break;\n+    case CLEANUP_ATTEMPT_FINISHED:\n+      result \u003d new TaskAttemptFinishedEvent(); break;\n+    case CLEANUP_ATTEMPT_FAILED:\n+      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n+    case CLEANUP_ATTEMPT_KILLED:\n+      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n+    default:\n+      throw new RuntimeException(\"unexpected event type!\");\n+    }\n+    result.setDatum(wrapper.event);\n+    return result;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public HistoryEvent getNextEvent() throws IOException {\n    Event wrapper;\n    try {\n      wrapper \u003d (Event)reader.read(null, decoder);\n    } catch (EOFException e) {            // at EOF\n      return null;\n    }\n    HistoryEvent result;\n    switch (wrapper.type) {\n    case JOB_SUBMITTED:\n      result \u003d new JobSubmittedEvent(); break;\n    case JOB_INITED:\n      result \u003d new JobInitedEvent(); break;\n    case JOB_FINISHED:\n      result \u003d new JobFinishedEvent(); break;\n    case JOB_PRIORITY_CHANGED:\n      result \u003d new JobPriorityChangeEvent(); break;\n    case JOB_STATUS_CHANGED:\n      result \u003d new JobStatusChangedEvent(); break;\n    case JOB_FAILED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_KILLED:\n      result \u003d new JobUnsuccessfulCompletionEvent(); break;\n    case JOB_INFO_CHANGED:\n      result \u003d new JobInfoChangeEvent(); break;\n    case TASK_STARTED:\n      result \u003d new TaskStartedEvent(); break;\n    case TASK_FINISHED:\n      result \u003d new TaskFinishedEvent(); break;\n    case TASK_FAILED:\n      result \u003d new TaskFailedEvent(); break;\n    case TASK_UPDATED:\n      result \u003d new TaskUpdatedEvent(); break;\n    case MAP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case MAP_ATTEMPT_FINISHED:\n      result \u003d new MapAttemptFinishedEvent(); break;\n    case MAP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case MAP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case REDUCE_ATTEMPT_FINISHED:\n      result \u003d new ReduceAttemptFinishedEvent(); break;\n    case REDUCE_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case REDUCE_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case SETUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case SETUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case SETUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_STARTED:\n      result \u003d new TaskAttemptStartedEvent(); break;\n    case CLEANUP_ATTEMPT_FINISHED:\n      result \u003d new TaskAttemptFinishedEvent(); break;\n    case CLEANUP_ATTEMPT_FAILED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    case CLEANUP_ATTEMPT_KILLED:\n      result \u003d new TaskAttemptUnsuccessfulCompletionEvent(); break;\n    default:\n      throw new RuntimeException(\"unexpected event type!\");\n    }\n    result.setDatum(wrapper.event);\n    return result;\n  }",
      "path": "mapreduce/src/java/org/apache/hadoop/mapreduce/jobhistory/EventReader.java"
    }
  }
}