{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "Dispatcher.java",
  "functionName": "receiveResponse",
  "functionId": "receiveResponse___in-DataInputStream",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
  "functionStartLine": 449,
  "functionEndLine": 464,
  "numCommitsSeen": 110,
  "timeTaken": 8091,
  "changeHistory": [
    "e24a923db50879f7dbe5d2afac0e6757089fb07d",
    "f6367c5f44a88cb5eb7edffb015b10b657504a61",
    "673280df24f0228bf01777035ceeab8807da8c40",
    "67ed59348d638d56e6752ba2c71fdcd69567546d",
    "195961a7c1da86421761162836766b1de07930fd",
    "6554994fab2d8a2a139fb71ed54be144f4057e08",
    "471b1368e2a81b4d9850f0f4d98d31df1451354c",
    "c3cf331dc91e2beef2afeed11105084843b02858",
    "c46876982ed90d0819a94b518f6135b82334d10d",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "d86f3183d93714ba078416af4f609d26376eadb0",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc"
  ],
  "changeHistoryShort": {
    "e24a923db50879f7dbe5d2afac0e6757089fb07d": "Ybodychange",
    "f6367c5f44a88cb5eb7edffb015b10b657504a61": "Ybodychange",
    "673280df24f0228bf01777035ceeab8807da8c40": "Ybodychange",
    "67ed59348d638d56e6752ba2c71fdcd69567546d": "Ybodychange",
    "195961a7c1da86421761162836766b1de07930fd": "Ybodychange",
    "6554994fab2d8a2a139fb71ed54be144f4057e08": "Ybodychange",
    "471b1368e2a81b4d9850f0f4d98d31df1451354c": "Ybodychange",
    "c3cf331dc91e2beef2afeed11105084843b02858": "Ymultichange(Ymovefromfile,Ybodychange)",
    "c46876982ed90d0819a94b518f6135b82334d10d": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "d86f3183d93714ba078416af4f609d26376eadb0": "Yfilerename",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yintroduced"
  },
  "changeHistoryDetails": {
    "e24a923db50879f7dbe5d2afac0e6757089fb07d": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-11164: Mover should avoid unnecessary retries if the block is pinned. Contributed by Rakesh R\n",
      "commitDate": "13/12/16 5:09 PM",
      "commitName": "e24a923db50879f7dbe5d2afac0e6757089fb07d",
      "commitAuthor": "Uma Maheswara Rao G",
      "commitDateOld": "21/11/16 8:13 AM",
      "commitNameOld": "49a09179e3fadae090126261be0a7fe0aa48798e",
      "commitAuthorOld": "Kihwal Lee",
      "daysBetweenCommits": 22.37,
      "commitsBetweenForRepo": 143,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,16 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n       long startTime \u003d Time.monotonicNow();\n       BlockOpResponseProto response \u003d\n           BlockOpResponseProto.parseFrom(vintPrefixed(in));\n       while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n         // read intermediate responses\n         response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n         // Stop waiting for slow block moves. Even if it stops waiting,\n         // the actual move may continue.\n         if (stopWaitingForResponse(startTime)) {\n           throw new IOException(\"Block move timed out\");\n         }\n       }\n       String logInfo \u003d \"reportedBlock move is failed\";\n-      DataTransferProtoUtil.checkBlockOpStatus(response, logInfo);\n+      DataTransferProtoUtil.checkBlockOpStatus(response, logInfo, true);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      long startTime \u003d Time.monotonicNow();\n      BlockOpResponseProto response \u003d\n          BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n        // read intermediate responses\n        response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n        // Stop waiting for slow block moves. Even if it stops waiting,\n        // the actual move may continue.\n        if (stopWaitingForResponse(startTime)) {\n          throw new IOException(\"Block move timed out\");\n        }\n      }\n      String logInfo \u003d \"reportedBlock move is failed\";\n      DataTransferProtoUtil.checkBlockOpStatus(response, logInfo, true);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
      "extendedDetails": {}
    },
    "f6367c5f44a88cb5eb7edffb015b10b657504a61": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-11015. Enforce timeout in balancer. Contributed by Kihwal Lee.\n",
      "commitDate": "25/10/16 10:19 AM",
      "commitName": "f6367c5f44a88cb5eb7edffb015b10b657504a61",
      "commitAuthor": "Zhe Zhang",
      "commitDateOld": "17/10/16 5:45 PM",
      "commitNameOld": "b61fb267b92b2736920b4bd0c673d31e7632ebb9",
      "commitAuthorOld": "Ming Ma",
      "daysBetweenCommits": 7.69,
      "commitsBetweenForRepo": 53,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,16 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n+      long startTime \u003d Time.monotonicNow();\n       BlockOpResponseProto response \u003d\n           BlockOpResponseProto.parseFrom(vintPrefixed(in));\n       while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n         // read intermediate responses\n         response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n+        // Stop waiting for slow block moves. Even if it stops waiting,\n+        // the actual move may continue.\n+        if (stopWaitingForResponse(startTime)) {\n+          throw new IOException(\"Block move timed out\");\n+        }\n       }\n       String logInfo \u003d \"reportedBlock move is failed\";\n       DataTransferProtoUtil.checkBlockOpStatus(response, logInfo);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      long startTime \u003d Time.monotonicNow();\n      BlockOpResponseProto response \u003d\n          BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n        // read intermediate responses\n        response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n        // Stop waiting for slow block moves. Even if it stops waiting,\n        // the actual move may continue.\n        if (stopWaitingForResponse(startTime)) {\n          throw new IOException(\"Block move timed out\");\n        }\n      }\n      String logInfo \u003d \"reportedBlock move is failed\";\n      DataTransferProtoUtil.checkBlockOpStatus(response, logInfo);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
      "extendedDetails": {}
    },
    "673280df24f0228bf01777035ceeab8807da8c40": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7621. Erasure Coding: update the Balancer/Mover data migration logic. Contributed by Walter Su.\n",
      "commitDate": "03/06/15 11:51 AM",
      "commitName": "673280df24f0228bf01777035ceeab8807da8c40",
      "commitAuthor": "Zhe Zhang",
      "commitDateOld": "05/05/15 3:41 PM",
      "commitNameOld": "4da8490b512a33a255ed27309860859388d7c168",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 28.84,
      "commitsBetweenForRepo": 380,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n       BlockOpResponseProto response \u003d\n           BlockOpResponseProto.parseFrom(vintPrefixed(in));\n       while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n         // read intermediate responses\n         response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n       }\n-      String logInfo \u003d \"block move is failed\";\n+      String logInfo \u003d \"reportedBlock move is failed\";\n       DataTransferProtoUtil.checkBlockOpStatus(response, logInfo);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d\n          BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n        // read intermediate responses\n        response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      }\n      String logInfo \u003d \"reportedBlock move is failed\";\n      DataTransferProtoUtil.checkBlockOpStatus(response, logInfo);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
      "extendedDetails": {}
    },
    "67ed59348d638d56e6752ba2c71fdcd69567546d": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7439. Add BlockOpResponseProto\u0027s message to the exception messages.  Contributed by Takanobu Asanuma\n",
      "commitDate": "01/03/15 11:03 PM",
      "commitName": "67ed59348d638d56e6752ba2c71fdcd69567546d",
      "commitAuthor": "Tsz-Wo Nicholas Sze",
      "commitDateOld": "21/02/15 3:38 PM",
      "commitNameOld": "8b465b4b8caed31ca9daeaae108f9a868a30a455",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 8.31,
      "commitsBetweenForRepo": 60,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,10 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n       BlockOpResponseProto response \u003d\n           BlockOpResponseProto.parseFrom(vintPrefixed(in));\n       while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n         // read intermediate responses\n         response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n       }\n-      if (response.getStatus() !\u003d Status.SUCCESS) {\n-        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n-          throw new IOException(\"block move failed due to access token error\");\n-        }\n-        throw new IOException(\"block move is failed: \" + response.getMessage());\n-      }\n+      String logInfo \u003d \"block move is failed\";\n+      DataTransferProtoUtil.checkBlockOpStatus(response, logInfo);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d\n          BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n        // read intermediate responses\n        response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      }\n      String logInfo \u003d \"block move is failed\";\n      DataTransferProtoUtil.checkBlockOpStatus(response, logInfo);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
      "extendedDetails": {}
    },
    "195961a7c1da86421761162836766b1de07930fd": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6247. Avoid timeouts for replaceBlock() call by sending intermediate responses to Balancer (vinayakumarb)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1617799 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/08/14 11:43 AM",
      "commitName": "195961a7c1da86421761162836766b1de07930fd",
      "commitAuthor": "Vinayakumar B",
      "commitDateOld": "13/08/14 11:36 AM",
      "commitNameOld": "6554994fab2d8a2a139fb71ed54be144f4057e08",
      "commitAuthorOld": "Vinayakumar B",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,14 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n-      BlockOpResponseProto response \u003d BlockOpResponseProto\n-          .parseFrom(vintPrefixed(in));\n+      BlockOpResponseProto response \u003d\n+          BlockOpResponseProto.parseFrom(vintPrefixed(in));\n+      while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n+        // read intermediate responses\n+        response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n+      }\n       if (response.getStatus() !\u003d Status.SUCCESS) {\n         if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n           throw new IOException(\"block move failed due to access token error\");\n         }\n         throw new IOException(\"block move is failed: \" + response.getMessage());\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d\n          BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n        // read intermediate responses\n        response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      }\n      if (response.getStatus() !\u003d Status.SUCCESS) {\n        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n          throw new IOException(\"block move failed due to access token error\");\n        }\n        throw new IOException(\"block move is failed: \" + response.getMessage());\n      }\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
      "extendedDetails": {}
    },
    "6554994fab2d8a2a139fb71ed54be144f4057e08": {
      "type": "Ybodychange",
      "commitMessage": "Reverted\nMerged revision(s) 1617784 from hadoop/common/trunk:\nHDFS-6847. Avoid timeouts for replaceBlock() call by sending intermediate responses to Balancer (Contributed by Vinayakumar B.)\n........\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1617794 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/08/14 11:36 AM",
      "commitName": "6554994fab2d8a2a139fb71ed54be144f4057e08",
      "commitAuthor": "Vinayakumar B",
      "commitDateOld": "13/08/14 11:06 AM",
      "commitNameOld": "471b1368e2a81b4d9850f0f4d98d31df1451354c",
      "commitAuthorOld": "Vinayakumar B",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,10 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n-      BlockOpResponseProto response \u003d\n-          BlockOpResponseProto.parseFrom(vintPrefixed(in));\n-      while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n-        // read intermediate responses\n-        response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n-      }\n+      BlockOpResponseProto response \u003d BlockOpResponseProto\n+          .parseFrom(vintPrefixed(in));\n       if (response.getStatus() !\u003d Status.SUCCESS) {\n         if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n           throw new IOException(\"block move failed due to access token error\");\n         }\n         throw new IOException(\"block move is failed: \" + response.getMessage());\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d BlockOpResponseProto\n          .parseFrom(vintPrefixed(in));\n      if (response.getStatus() !\u003d Status.SUCCESS) {\n        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n          throw new IOException(\"block move failed due to access token error\");\n        }\n        throw new IOException(\"block move is failed: \" + response.getMessage());\n      }\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
      "extendedDetails": {}
    },
    "471b1368e2a81b4d9850f0f4d98d31df1451354c": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6847. Avoid timeouts for replaceBlock() call by sending intermediate responses to Balancer (Contributed by Vinayakumar B.)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1617784 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/08/14 11:06 AM",
      "commitName": "471b1368e2a81b4d9850f0f4d98d31df1451354c",
      "commitAuthor": "Vinayakumar B",
      "commitDateOld": "11/08/14 11:01 AM",
      "commitNameOld": "e60673697d5046c29c52bbabdfe80506f99773e4",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 2.0,
      "commitsBetweenForRepo": 19,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,14 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n-      BlockOpResponseProto response \u003d BlockOpResponseProto\n-          .parseFrom(vintPrefixed(in));\n+      BlockOpResponseProto response \u003d\n+          BlockOpResponseProto.parseFrom(vintPrefixed(in));\n+      while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n+        // read intermediate responses\n+        response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n+      }\n       if (response.getStatus() !\u003d Status.SUCCESS) {\n         if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n           throw new IOException(\"block move failed due to access token error\");\n         }\n         throw new IOException(\"block move is failed: \" + response.getMessage());\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d\n          BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      while (response.getStatus() \u003d\u003d Status.IN_PROGRESS) {\n        // read intermediate responses\n        response \u003d BlockOpResponseProto.parseFrom(vintPrefixed(in));\n      }\n      if (response.getStatus() !\u003d Status.SUCCESS) {\n        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n          throw new IOException(\"block move failed due to access token error\");\n        }\n        throw new IOException(\"block move is failed: \" + response.getMessage());\n      }\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
      "extendedDetails": {}
    },
    "c3cf331dc91e2beef2afeed11105084843b02858": {
      "type": "Ymultichange(Ymovefromfile,Ybodychange)",
      "commitMessage": "HDFS-6828. Separate block replica dispatching from Balancer. Contributed by Tsz Wo Nicholas Sze.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1616889 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "08/08/14 2:33 PM",
      "commitName": "c3cf331dc91e2beef2afeed11105084843b02858",
      "commitAuthor": "Jing Zhao",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "HDFS-6828. Separate block replica dispatching from Balancer. Contributed by Tsz Wo Nicholas Sze.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1616889 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "08/08/14 2:33 PM",
          "commitName": "c3cf331dc91e2beef2afeed11105084843b02858",
          "commitAuthor": "Jing Zhao",
          "commitDateOld": "08/08/14 2:22 PM",
          "commitNameOld": "05d1bf4157e6660610f11951845e59899260596e",
          "commitAuthorOld": "Arpit Agarwal",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n-      BlockOpResponseProto response \u003d BlockOpResponseProto.parseFrom(\n-          vintPrefixed(in));\n+      BlockOpResponseProto response \u003d BlockOpResponseProto\n+          .parseFrom(vintPrefixed(in));\n       if (response.getStatus() !\u003d Status.SUCCESS) {\n-        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN)\n+        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n           throw new IOException(\"block move failed due to access token error\");\n-        throw new IOException(\"block move is failed: \" +\n-            response.getMessage());\n+        }\n+        throw new IOException(\"block move is failed: \" + response.getMessage());\n       }\n     }\n\\ No newline at end of file\n",
          "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d BlockOpResponseProto\n          .parseFrom(vintPrefixed(in));\n      if (response.getStatus() !\u003d Status.SUCCESS) {\n        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n          throw new IOException(\"block move failed due to access token error\");\n        }\n        throw new IOException(\"block move is failed: \" + response.getMessage());\n      }\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
            "oldMethodName": "receiveResponse",
            "newMethodName": "receiveResponse"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-6828. Separate block replica dispatching from Balancer. Contributed by Tsz Wo Nicholas Sze.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1616889 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "08/08/14 2:33 PM",
          "commitName": "c3cf331dc91e2beef2afeed11105084843b02858",
          "commitAuthor": "Jing Zhao",
          "commitDateOld": "08/08/14 2:22 PM",
          "commitNameOld": "05d1bf4157e6660610f11951845e59899260596e",
          "commitAuthorOld": "Arpit Agarwal",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n-      BlockOpResponseProto response \u003d BlockOpResponseProto.parseFrom(\n-          vintPrefixed(in));\n+      BlockOpResponseProto response \u003d BlockOpResponseProto\n+          .parseFrom(vintPrefixed(in));\n       if (response.getStatus() !\u003d Status.SUCCESS) {\n-        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN)\n+        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n           throw new IOException(\"block move failed due to access token error\");\n-        throw new IOException(\"block move is failed: \" +\n-            response.getMessage());\n+        }\n+        throw new IOException(\"block move is failed: \" + response.getMessage());\n       }\n     }\n\\ No newline at end of file\n",
          "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d BlockOpResponseProto\n          .parseFrom(vintPrefixed(in));\n      if (response.getStatus() !\u003d Status.SUCCESS) {\n        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN) {\n          throw new IOException(\"block move failed due to access token error\");\n        }\n        throw new IOException(\"block move is failed: \" + response.getMessage());\n      }\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Dispatcher.java",
          "extendedDetails": {}
        }
      ]
    },
    "c46876982ed90d0819a94b518f6135b82334d10d": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-2512. Add textual error message to data transfer protocol responses. Contributed by Todd Lipcon.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1195693 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "31/10/11 2:53 PM",
      "commitName": "c46876982ed90d0819a94b518f6135b82334d10d",
      "commitAuthor": "Todd Lipcon",
      "commitDateOld": "22/10/11 5:35 PM",
      "commitNameOld": "7dd869c2a98998aea457e522ad4b7c5403312482",
      "commitAuthorOld": "Konstantin Shvachko",
      "daysBetweenCommits": 8.89,
      "commitsBetweenForRepo": 103,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,10 @@\n     private void receiveResponse(DataInputStream in) throws IOException {\n       BlockOpResponseProto response \u003d BlockOpResponseProto.parseFrom(\n           vintPrefixed(in));\n       if (response.getStatus() !\u003d Status.SUCCESS) {\n         if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN)\n           throw new IOException(\"block move failed due to access token error\");\n-        throw new IOException(\"block move is failed\");\n+        throw new IOException(\"block move is failed: \" +\n+            response.getMessage());\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d BlockOpResponseProto.parseFrom(\n          vintPrefixed(in));\n      if (response.getStatus() !\u003d Status.SUCCESS) {\n        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN)\n          throw new IOException(\"block move failed due to access token error\");\n        throw new IOException(\"block move is failed: \" +\n            response.getMessage());\n      }\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d BlockOpResponseProto.parseFrom(\n          vintPrefixed(in));\n      if (response.getStatus() !\u003d Status.SUCCESS) {\n        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN)\n          throw new IOException(\"block move failed due to access token error\");\n        throw new IOException(\"block move is failed\");\n      }\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java",
      "extendedDetails": {
        "oldPath": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java",
        "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java"
      }
    },
    "d86f3183d93714ba078416af4f609d26376eadb0": {
      "type": "Yfilerename",
      "commitMessage": "HDFS-2096. Mavenization of hadoop-hdfs. Contributed by Alejandro Abdelnur.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159702 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/08/11 10:36 AM",
      "commitName": "d86f3183d93714ba078416af4f609d26376eadb0",
      "commitAuthor": "Thomas White",
      "commitDateOld": "19/08/11 10:26 AM",
      "commitNameOld": "6ee5a73e0e91a2ef27753a32c576835e951d8119",
      "commitAuthorOld": "Thomas White",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d BlockOpResponseProto.parseFrom(\n          vintPrefixed(in));\n      if (response.getStatus() !\u003d Status.SUCCESS) {\n        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN)\n          throw new IOException(\"block move failed due to access token error\");\n        throw new IOException(\"block move is failed\");\n      }\n    }",
      "path": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java",
      "extendedDetails": {
        "oldPath": "hdfs/src/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java",
        "newPath": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java"
      }
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "diff": "@@ -0,0 +1,9 @@\n+    private void receiveResponse(DataInputStream in) throws IOException {\n+      BlockOpResponseProto response \u003d BlockOpResponseProto.parseFrom(\n+          vintPrefixed(in));\n+      if (response.getStatus() !\u003d Status.SUCCESS) {\n+        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN)\n+          throw new IOException(\"block move failed due to access token error\");\n+        throw new IOException(\"block move is failed\");\n+      }\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    private void receiveResponse(DataInputStream in) throws IOException {\n      BlockOpResponseProto response \u003d BlockOpResponseProto.parseFrom(\n          vintPrefixed(in));\n      if (response.getStatus() !\u003d Status.SUCCESS) {\n        if (response.getStatus() \u003d\u003d Status.ERROR_ACCESS_TOKEN)\n          throw new IOException(\"block move failed due to access token error\");\n        throw new IOException(\"block move is failed\");\n      }\n    }",
      "path": "hdfs/src/java/org/apache/hadoop/hdfs/server/balancer/Balancer.java"
    }
  }
}