{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "NamenodeWebHdfsMethods.java",
  "functionName": "get",
  "functionId": "get___ugi-UserGroupInformation(annotations-@Context__modifiers-final)__delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final)__username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final)__doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final)__path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final)__op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final)__offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final)__length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final)__renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final)__bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final)__xattrNames-List__XAttrNameParam__(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final)__xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final)__excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final)__fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final)__snapshotName-SnapshotNameParam(annotations-@QueryParam(SnapshotNameParam.NAME)-@DefaultValue(SnapshotNameParam.DEFAULT)__modifiers-final)__oldSnapshotName-OldSnapshotNameParam(annotations-@QueryParam(OldSnapshotNameParam.NAME)-@DefaultValue(OldSnapshotNameParam.DEFAULT)__modifiers-final)__tokenKind-TokenKindParam(annotations-@QueryParam(TokenKindParam.NAME)-@DefaultValue(TokenKindParam.DEFAULT)__modifiers-final)__tokenService-TokenServiceParam(annotations-@QueryParam(TokenServiceParam.NAME)-@DefaultValue(TokenServiceParam.DEFAULT)__modifiers-final)__noredirect-NoRedirectParam(annotations-@QueryParam(NoRedirectParam.NAME)-@DefaultValue(NoRedirectParam.DEFAULT)__modifiers-final)__startAfter-StartAfterParam(annotations-@QueryParam(StartAfterParam.NAME)-@DefaultValue(StartAfterParam.DEFAULT)__modifiers-final)",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
  "functionStartLine": 1059,
  "functionEndLine": 1113,
  "numCommitsSeen": 611,
  "timeTaken": 12337,
  "changeHistory": [
    "da0006fe0473e353ee2d489156248a01aa982dfd",
    "46d29e3d7ee8dc9bb1818b886d9cc5336b1d67a4",
    "1e84e46f1621fe694f806bfc41d3b2a06c9500b6",
    "85cd06f6636f295ad1f3bf2a90063f4714c9cca7",
    "85bab5fb572194fda38854f1f21c670925058009",
    "4b0f55b6ea1665e2118fd573f72a6fcd1fce20d6",
    "e2be3337448ec0f6772a2ba463da376e7089b1fa",
    "535fe14dedbf919442ec03ac573315c7a16a6dbe",
    "7c18f8d55b899dc4a6e118d3b54447a9b36b960a",
    "6a4f6d6b3e41e660c214b77c9ed43d4c65200b6a",
    "ac23a55547716df29b3e25c98a113399e184d9d1",
    "02d0f0ba549e584f98b4606c7cea325c9c1afb6c",
    "eeec4dc72abf4c540146a81c5419828520b80fa4",
    "dacbeb5f6711b83bd293928b5329f7b846f2e66e",
    "9b1f47226b076bf912a922aba293218dcadc7024",
    "09a156fcce2bc1be4081717bf7ef7d290e80d818",
    "6afe3e0d22caa2b0752d52ddf7794c25a66cc9c8",
    "8cb0d4b380e0fd4437310c1dd6ef8b8995cc383d",
    "7d1a5078b73c8523d63c1250812238dcc0963530",
    "676f488efffd50eb47e75cd750f9bc948b9e12fb",
    "a2d7287873685249c2ceeda49f9feadfb307f5c2",
    "dc8464f943b61b795df0cc8baec171bf07355763",
    "4dc4e9e63f7385ddd1d64ae1345e0d32a4acb9de",
    "78e3821b819b441d1faf4bc66c659cdeddc6006c",
    "6c3b59505b863f03629da52a1e9b886fe9b496d0",
    "61d0b7530c8978c095ab6f62d9d38e168bd829c6"
  ],
  "changeHistoryShort": {
    "da0006fe0473e353ee2d489156248a01aa982dfd": "Ybodychange",
    "46d29e3d7ee8dc9bb1818b886d9cc5336b1d67a4": "Ybodychange",
    "1e84e46f1621fe694f806bfc41d3b2a06c9500b6": "Ymultichange(Yparameterchange,Ybodychange)",
    "85cd06f6636f295ad1f3bf2a90063f4714c9cca7": "Ybodychange",
    "85bab5fb572194fda38854f1f21c670925058009": "Ymultichange(Yparameterchange,Ybodychange)",
    "4b0f55b6ea1665e2118fd573f72a6fcd1fce20d6": "Ymultichange(Yparameterchange,Ybodychange)",
    "e2be3337448ec0f6772a2ba463da376e7089b1fa": "Ymultichange(Yparameterchange,Ybodychange)",
    "535fe14dedbf919442ec03ac573315c7a16a6dbe": "Ymultichange(Yparameterchange,Ybodychange)",
    "7c18f8d55b899dc4a6e118d3b54447a9b36b960a": "Ymultichange(Yparameterchange,Ybodychange)",
    "6a4f6d6b3e41e660c214b77c9ed43d4c65200b6a": "Ymultichange(Yparameterchange,Ybodychange)",
    "ac23a55547716df29b3e25c98a113399e184d9d1": "Ymultichange(Yparameterchange,Ybodychange)",
    "02d0f0ba549e584f98b4606c7cea325c9c1afb6c": "Ybodychange",
    "eeec4dc72abf4c540146a81c5419828520b80fa4": "Ybodychange",
    "dacbeb5f6711b83bd293928b5329f7b846f2e66e": "Ybodychange",
    "9b1f47226b076bf912a922aba293218dcadc7024": "Ybodychange",
    "09a156fcce2bc1be4081717bf7ef7d290e80d818": "Ymultichange(Yparameterchange,Ybodychange)",
    "6afe3e0d22caa2b0752d52ddf7794c25a66cc9c8": "Ybodychange",
    "8cb0d4b380e0fd4437310c1dd6ef8b8995cc383d": "Ybodychange",
    "7d1a5078b73c8523d63c1250812238dcc0963530": "Ybodychange",
    "676f488efffd50eb47e75cd750f9bc948b9e12fb": "Ybodychange",
    "a2d7287873685249c2ceeda49f9feadfb307f5c2": "Yexceptionschange",
    "dc8464f943b61b795df0cc8baec171bf07355763": "Ybodychange",
    "4dc4e9e63f7385ddd1d64ae1345e0d32a4acb9de": "Ymultichange(Yparameterchange,Ybodychange)",
    "78e3821b819b441d1faf4bc66c659cdeddc6006c": "Ymultichange(Yparameterchange,Yexceptionschange,Ybodychange)",
    "6c3b59505b863f03629da52a1e9b886fe9b496d0": "Ymultichange(Yparameterchange,Yexceptionschange,Ybodychange)",
    "61d0b7530c8978c095ab6f62d9d38e168bd829c6": "Yintroduced"
  },
  "changeHistoryDetails": {
    "da0006fe0473e353ee2d489156248a01aa982dfd": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-14423. Percent (%) and plus (+) characters no longer work in WebHDFS.\n\nSigned-off-by: Masatake Iwasaki \u003ciwasakims@apache.org\u003e\n",
      "commitDate": "13/08/19 4:39 PM",
      "commitName": "da0006fe0473e353ee2d489156248a01aa982dfd",
      "commitAuthor": "Masatake Iwasaki",
      "commitDateOld": "30/07/19 4:01 PM",
      "commitNameOld": "3ae775d74029b6ae82263739f598ceb25c597dcd",
      "commitAuthorOld": "Chao Sun",
      "daysBetweenCommits": 14.03,
      "commitsBetweenForRepo": 138,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,57 +1,55 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n           final FsActionParam fsAction,\n       @QueryParam(SnapshotNameParam.NAME) @DefaultValue(SnapshotNameParam.DEFAULT)\n           final SnapshotNameParam snapshotName,\n       @QueryParam(OldSnapshotNameParam.NAME) @DefaultValue(OldSnapshotNameParam.DEFAULT)\n           final OldSnapshotNameParam oldSnapshotName,\n       @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n           final TokenKindParam tokenKind,\n       @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n           final TokenServiceParam tokenService,\n       @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n           final NoRedirectParam noredirect,\n       @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n           final StartAfterParam startAfter\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n         renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n         snapshotName, oldSnapshotName, tokenKind, tokenService, startAfter);\n \n     return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n-        String absolutePath \u003d path.getAbsolutePath() \u003d\u003d null ? null :\n-            URLDecoder.decode(path.getAbsolutePath(), \"UTF-8\");\n-        return get(ugi, delegation, username, doAsUser, absolutePath,\n+        return get(ugi, delegation, username, doAsUser, path.getAbsolutePath(),\n             op, offset, length, renewer, bufferSize, xattrNames, xattrEncoding,\n             excludeDatanodes, fsAction, snapshotName, oldSnapshotName,\n             tokenKind, tokenService, noredirect, startAfter);\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(SnapshotNameParam.NAME) @DefaultValue(SnapshotNameParam.DEFAULT)\n          final SnapshotNameParam snapshotName,\n      @QueryParam(OldSnapshotNameParam.NAME) @DefaultValue(OldSnapshotNameParam.DEFAULT)\n          final OldSnapshotNameParam oldSnapshotName,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService,\n      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n          final NoRedirectParam noredirect,\n      @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n          final StartAfterParam startAfter\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        snapshotName, oldSnapshotName, tokenKind, tokenService, startAfter);\n\n    return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        return get(ugi, delegation, username, doAsUser, path.getAbsolutePath(),\n            op, offset, length, renewer, bufferSize, xattrNames, xattrEncoding,\n            excludeDatanodes, fsAction, snapshotName, oldSnapshotName,\n            tokenKind, tokenService, noredirect, startAfter);\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "46d29e3d7ee8dc9bb1818b886d9cc5336b1d67a4": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-13176. WebHdfs file path gets truncated when having semicolon (;) inside. Contributed by Zsolt Venczel.\n",
      "commitDate": "07/03/18 12:33 PM",
      "commitName": "46d29e3d7ee8dc9bb1818b886d9cc5336b1d67a4",
      "commitAuthor": "Sean Mackrory",
      "commitDateOld": "24/02/18 2:41 PM",
      "commitNameOld": "2fa7963c3d8cdfc65f90efabc6fe51a160be5c78",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 10.91,
      "commitsBetweenForRepo": 78,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,55 +1,57 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n           final FsActionParam fsAction,\n       @QueryParam(SnapshotNameParam.NAME) @DefaultValue(SnapshotNameParam.DEFAULT)\n           final SnapshotNameParam snapshotName,\n       @QueryParam(OldSnapshotNameParam.NAME) @DefaultValue(OldSnapshotNameParam.DEFAULT)\n           final OldSnapshotNameParam oldSnapshotName,\n       @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n           final TokenKindParam tokenKind,\n       @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n           final TokenServiceParam tokenService,\n       @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n           final NoRedirectParam noredirect,\n       @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n           final StartAfterParam startAfter\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n         renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n         snapshotName, oldSnapshotName, tokenKind, tokenService, startAfter);\n \n     return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n-        return get(ugi, delegation, username, doAsUser, path.getAbsolutePath(),\n+        String absolutePath \u003d path.getAbsolutePath() \u003d\u003d null ? null :\n+            URLDecoder.decode(path.getAbsolutePath(), \"UTF-8\");\n+        return get(ugi, delegation, username, doAsUser, absolutePath,\n             op, offset, length, renewer, bufferSize, xattrNames, xattrEncoding,\n             excludeDatanodes, fsAction, snapshotName, oldSnapshotName,\n             tokenKind, tokenService, noredirect, startAfter);\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(SnapshotNameParam.NAME) @DefaultValue(SnapshotNameParam.DEFAULT)\n          final SnapshotNameParam snapshotName,\n      @QueryParam(OldSnapshotNameParam.NAME) @DefaultValue(OldSnapshotNameParam.DEFAULT)\n          final OldSnapshotNameParam oldSnapshotName,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService,\n      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n          final NoRedirectParam noredirect,\n      @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n          final StartAfterParam startAfter\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        snapshotName, oldSnapshotName, tokenKind, tokenService, startAfter);\n\n    return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        String absolutePath \u003d path.getAbsolutePath() \u003d\u003d null ? null :\n            URLDecoder.decode(path.getAbsolutePath(), \"UTF-8\");\n        return get(ugi, delegation, username, doAsUser, absolutePath,\n            op, offset, length, renewer, bufferSize, xattrNames, xattrEncoding,\n            excludeDatanodes, fsAction, snapshotName, oldSnapshotName,\n            tokenKind, tokenService, noredirect, startAfter);\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "1e84e46f1621fe694f806bfc41d3b2a06c9500b6": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-13052. WebHDFS: Add support for snasphot diff. Contributed by Lokesh Jain.\n",
      "commitDate": "23/02/18 7:35 PM",
      "commitName": "1e84e46f1621fe694f806bfc41d3b2a06c9500b6",
      "commitAuthor": "Xiaoyu Yao",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-13052. WebHDFS: Add support for snasphot diff. Contributed by Lokesh Jain.\n",
          "commitDate": "23/02/18 7:35 PM",
          "commitName": "1e84e46f1621fe694f806bfc41d3b2a06c9500b6",
          "commitAuthor": "Xiaoyu Yao",
          "commitDateOld": "29/01/18 3:23 PM",
          "commitNameOld": "fde95d463c3123b315b3d07cb5b7b7dc19f7cb73",
          "commitAuthorOld": "Kihwal Lee",
          "daysBetweenCommits": 25.17,
          "commitsBetweenForRepo": 175,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,51 +1,55 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n           final FsActionParam fsAction,\n+      @QueryParam(SnapshotNameParam.NAME) @DefaultValue(SnapshotNameParam.DEFAULT)\n+          final SnapshotNameParam snapshotName,\n+      @QueryParam(OldSnapshotNameParam.NAME) @DefaultValue(OldSnapshotNameParam.DEFAULT)\n+          final OldSnapshotNameParam oldSnapshotName,\n       @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n           final TokenKindParam tokenKind,\n       @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n           final TokenServiceParam tokenService,\n       @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n           final NoRedirectParam noredirect,\n       @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n           final StartAfterParam startAfter\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n         renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n-        tokenKind, tokenService, startAfter);\n+        snapshotName, oldSnapshotName, tokenKind, tokenService, startAfter);\n \n     return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n-          return get(ugi, delegation, username, doAsUser,\n-              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n-              tokenService, noredirect, startAfter);\n+        return get(ugi, delegation, username, doAsUser, path.getAbsolutePath(),\n+            op, offset, length, renewer, bufferSize, xattrNames, xattrEncoding,\n+            excludeDatanodes, fsAction, snapshotName, oldSnapshotName,\n+            tokenKind, tokenService, noredirect, startAfter);\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(SnapshotNameParam.NAME) @DefaultValue(SnapshotNameParam.DEFAULT)\n          final SnapshotNameParam snapshotName,\n      @QueryParam(OldSnapshotNameParam.NAME) @DefaultValue(OldSnapshotNameParam.DEFAULT)\n          final OldSnapshotNameParam oldSnapshotName,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService,\n      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n          final NoRedirectParam noredirect,\n      @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n          final StartAfterParam startAfter\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        snapshotName, oldSnapshotName, tokenKind, tokenService, startAfter);\n\n    return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        return get(ugi, delegation, username, doAsUser, path.getAbsolutePath(),\n            op, offset, length, renewer, bufferSize, xattrNames, xattrEncoding,\n            excludeDatanodes, fsAction, snapshotName, oldSnapshotName,\n            tokenKind, tokenService, noredirect, startAfter);\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final), fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final), tokenKind-TokenKindParam(annotations-@QueryParam(TokenKindParam.NAME)-@DefaultValue(TokenKindParam.DEFAULT)__modifiers-final), tokenService-TokenServiceParam(annotations-@QueryParam(TokenServiceParam.NAME)-@DefaultValue(TokenServiceParam.DEFAULT)__modifiers-final), noredirect-NoRedirectParam(annotations-@QueryParam(NoRedirectParam.NAME)-@DefaultValue(NoRedirectParam.DEFAULT)__modifiers-final), startAfter-StartAfterParam(annotations-@QueryParam(StartAfterParam.NAME)-@DefaultValue(StartAfterParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final), fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final), snapshotName-SnapshotNameParam(annotations-@QueryParam(SnapshotNameParam.NAME)-@DefaultValue(SnapshotNameParam.DEFAULT)__modifiers-final), oldSnapshotName-OldSnapshotNameParam(annotations-@QueryParam(OldSnapshotNameParam.NAME)-@DefaultValue(OldSnapshotNameParam.DEFAULT)__modifiers-final), tokenKind-TokenKindParam(annotations-@QueryParam(TokenKindParam.NAME)-@DefaultValue(TokenKindParam.DEFAULT)__modifiers-final), tokenService-TokenServiceParam(annotations-@QueryParam(TokenServiceParam.NAME)-@DefaultValue(TokenServiceParam.DEFAULT)__modifiers-final), noredirect-NoRedirectParam(annotations-@QueryParam(NoRedirectParam.NAME)-@DefaultValue(NoRedirectParam.DEFAULT)__modifiers-final), startAfter-StartAfterParam(annotations-@QueryParam(StartAfterParam.NAME)-@DefaultValue(StartAfterParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-13052. WebHDFS: Add support for snasphot diff. Contributed by Lokesh Jain.\n",
          "commitDate": "23/02/18 7:35 PM",
          "commitName": "1e84e46f1621fe694f806bfc41d3b2a06c9500b6",
          "commitAuthor": "Xiaoyu Yao",
          "commitDateOld": "29/01/18 3:23 PM",
          "commitNameOld": "fde95d463c3123b315b3d07cb5b7b7dc19f7cb73",
          "commitAuthorOld": "Kihwal Lee",
          "daysBetweenCommits": 25.17,
          "commitsBetweenForRepo": 175,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,51 +1,55 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n           final FsActionParam fsAction,\n+      @QueryParam(SnapshotNameParam.NAME) @DefaultValue(SnapshotNameParam.DEFAULT)\n+          final SnapshotNameParam snapshotName,\n+      @QueryParam(OldSnapshotNameParam.NAME) @DefaultValue(OldSnapshotNameParam.DEFAULT)\n+          final OldSnapshotNameParam oldSnapshotName,\n       @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n           final TokenKindParam tokenKind,\n       @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n           final TokenServiceParam tokenService,\n       @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n           final NoRedirectParam noredirect,\n       @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n           final StartAfterParam startAfter\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n         renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n-        tokenKind, tokenService, startAfter);\n+        snapshotName, oldSnapshotName, tokenKind, tokenService, startAfter);\n \n     return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n-          return get(ugi, delegation, username, doAsUser,\n-              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n-              tokenService, noredirect, startAfter);\n+        return get(ugi, delegation, username, doAsUser, path.getAbsolutePath(),\n+            op, offset, length, renewer, bufferSize, xattrNames, xattrEncoding,\n+            excludeDatanodes, fsAction, snapshotName, oldSnapshotName,\n+            tokenKind, tokenService, noredirect, startAfter);\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(SnapshotNameParam.NAME) @DefaultValue(SnapshotNameParam.DEFAULT)\n          final SnapshotNameParam snapshotName,\n      @QueryParam(OldSnapshotNameParam.NAME) @DefaultValue(OldSnapshotNameParam.DEFAULT)\n          final OldSnapshotNameParam oldSnapshotName,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService,\n      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n          final NoRedirectParam noredirect,\n      @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n          final StartAfterParam startAfter\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        snapshotName, oldSnapshotName, tokenKind, tokenService, startAfter);\n\n    return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        return get(ugi, delegation, username, doAsUser, path.getAbsolutePath(),\n            op, offset, length, renewer, bufferSize, xattrNames, xattrEncoding,\n            excludeDatanodes, fsAction, snapshotName, oldSnapshotName,\n            tokenKind, tokenService, noredirect, startAfter);\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "85cd06f6636f295ad1f3bf2a90063f4714c9cca7": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10789. Route webhdfs through the RPC call queue. Contributed by Daryn Sharp and Rushabh S Shah.\n",
      "commitDate": "12/10/16 1:11 PM",
      "commitName": "85cd06f6636f295ad1f3bf2a90063f4714c9cca7",
      "commitAuthor": "Kihwal Lee",
      "commitDateOld": "06/09/16 11:02 AM",
      "commitNameOld": "f0d5382ff3e31a47d13e4cb6c3a244cca82b17ce",
      "commitAuthorOld": "Chris Nauroth",
      "daysBetweenCommits": 36.09,
      "commitsBetweenForRepo": 241,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,55 +1,51 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n           final FsActionParam fsAction,\n       @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n           final TokenKindParam tokenKind,\n       @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n           final TokenServiceParam tokenService,\n       @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n           final NoRedirectParam noredirect,\n       @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n           final StartAfterParam startAfter\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n         renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n         tokenKind, tokenService, startAfter);\n \n-    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n+    return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n-        try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n               xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n               tokenService, noredirect, startAfter);\n-        } finally {\n-          reset();\n-        }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService,\n      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n          final NoRedirectParam noredirect,\n      @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n          final StartAfterParam startAfter\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        tokenKind, tokenService, startAfter);\n\n    return doAs(ugi, new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n              tokenService, noredirect, startAfter);\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "85bab5fb572194fda38854f1f21c670925058009": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-10784. Implement WebHdfsFileSystem#listStatusIterator.\n",
      "commitDate": "31/08/16 2:29 PM",
      "commitName": "85bab5fb572194fda38854f1f21c670925058009",
      "commitAuthor": "Andrew Wang",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-10784. Implement WebHdfsFileSystem#listStatusIterator.\n",
          "commitDate": "31/08/16 2:29 PM",
          "commitName": "85bab5fb572194fda38854f1f21c670925058009",
          "commitAuthor": "Andrew Wang",
          "commitDateOld": "28/06/16 1:55 PM",
          "commitNameOld": "c0829f449337b78ac0b995e216f7324843e74dd2",
          "commitAuthorOld": "Andrew Wang",
          "daysBetweenCommits": 64.02,
          "commitsBetweenForRepo": 534,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,53 +1,55 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n           final FsActionParam fsAction,\n       @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n           final TokenKindParam tokenKind,\n       @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n           final TokenServiceParam tokenService,\n       @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n-          final NoRedirectParam noredirect\n+          final NoRedirectParam noredirect,\n+      @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n+          final StartAfterParam startAfter\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n         renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n-        tokenKind, tokenService);\n+        tokenKind, tokenService, startAfter);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n               xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n-              tokenService, noredirect);\n+              tokenService, noredirect, startAfter);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService,\n      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n          final NoRedirectParam noredirect,\n      @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n          final StartAfterParam startAfter\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        tokenKind, tokenService, startAfter);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n              tokenService, noredirect, startAfter);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final), fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final), tokenKind-TokenKindParam(annotations-@QueryParam(TokenKindParam.NAME)-@DefaultValue(TokenKindParam.DEFAULT)__modifiers-final), tokenService-TokenServiceParam(annotations-@QueryParam(TokenServiceParam.NAME)-@DefaultValue(TokenServiceParam.DEFAULT)__modifiers-final), noredirect-NoRedirectParam(annotations-@QueryParam(NoRedirectParam.NAME)-@DefaultValue(NoRedirectParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final), fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final), tokenKind-TokenKindParam(annotations-@QueryParam(TokenKindParam.NAME)-@DefaultValue(TokenKindParam.DEFAULT)__modifiers-final), tokenService-TokenServiceParam(annotations-@QueryParam(TokenServiceParam.NAME)-@DefaultValue(TokenServiceParam.DEFAULT)__modifiers-final), noredirect-NoRedirectParam(annotations-@QueryParam(NoRedirectParam.NAME)-@DefaultValue(NoRedirectParam.DEFAULT)__modifiers-final), startAfter-StartAfterParam(annotations-@QueryParam(StartAfterParam.NAME)-@DefaultValue(StartAfterParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-10784. Implement WebHdfsFileSystem#listStatusIterator.\n",
          "commitDate": "31/08/16 2:29 PM",
          "commitName": "85bab5fb572194fda38854f1f21c670925058009",
          "commitAuthor": "Andrew Wang",
          "commitDateOld": "28/06/16 1:55 PM",
          "commitNameOld": "c0829f449337b78ac0b995e216f7324843e74dd2",
          "commitAuthorOld": "Andrew Wang",
          "daysBetweenCommits": 64.02,
          "commitsBetweenForRepo": 534,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,53 +1,55 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n           final FsActionParam fsAction,\n       @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n           final TokenKindParam tokenKind,\n       @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n           final TokenServiceParam tokenService,\n       @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n-          final NoRedirectParam noredirect\n+          final NoRedirectParam noredirect,\n+      @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n+          final StartAfterParam startAfter\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n         renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n-        tokenKind, tokenService);\n+        tokenKind, tokenService, startAfter);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n               xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n-              tokenService, noredirect);\n+              tokenService, noredirect, startAfter);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService,\n      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n          final NoRedirectParam noredirect,\n      @QueryParam(StartAfterParam.NAME) @DefaultValue(StartAfterParam.DEFAULT)\n          final StartAfterParam startAfter\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        tokenKind, tokenService, startAfter);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n              tokenService, noredirect, startAfter);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "4b0f55b6ea1665e2118fd573f72a6fcd1fce20d6": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-7766. Add a flag to WebHDFS op\u003dCREATE to not respond with a 307 redirect (Ravi Prakash via aw)\n",
      "commitDate": "23/05/16 3:52 PM",
      "commitName": "4b0f55b6ea1665e2118fd573f72a6fcd1fce20d6",
      "commitAuthor": "Allen Wittenauer",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-7766. Add a flag to WebHDFS op\u003dCREATE to not respond with a 307 redirect (Ravi Prakash via aw)\n",
          "commitDate": "23/05/16 3:52 PM",
          "commitName": "4b0f55b6ea1665e2118fd573f72a6fcd1fce20d6",
          "commitAuthor": "Allen Wittenauer",
          "commitDateOld": "04/05/16 5:02 PM",
          "commitNameOld": "1268cf5fbe4458fa75ad0662512d352f9e8d3470",
          "commitAuthorOld": "Ming Ma",
          "daysBetweenCommits": 18.95,
          "commitsBetweenForRepo": 134,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,51 +1,53 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n           final FsActionParam fsAction,\n       @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n           final TokenKindParam tokenKind,\n       @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n-          final TokenServiceParam tokenService\n+          final TokenServiceParam tokenService,\n+      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n+          final NoRedirectParam noredirect\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n         renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n         tokenKind, tokenService);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n               xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n-              tokenService);\n+              tokenService, noredirect);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService,\n      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n          final NoRedirectParam noredirect\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        tokenKind, tokenService);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n              tokenService, noredirect);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final), fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final), tokenKind-TokenKindParam(annotations-@QueryParam(TokenKindParam.NAME)-@DefaultValue(TokenKindParam.DEFAULT)__modifiers-final), tokenService-TokenServiceParam(annotations-@QueryParam(TokenServiceParam.NAME)-@DefaultValue(TokenServiceParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final), fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final), tokenKind-TokenKindParam(annotations-@QueryParam(TokenKindParam.NAME)-@DefaultValue(TokenKindParam.DEFAULT)__modifiers-final), tokenService-TokenServiceParam(annotations-@QueryParam(TokenServiceParam.NAME)-@DefaultValue(TokenServiceParam.DEFAULT)__modifiers-final), noredirect-NoRedirectParam(annotations-@QueryParam(NoRedirectParam.NAME)-@DefaultValue(NoRedirectParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-7766. Add a flag to WebHDFS op\u003dCREATE to not respond with a 307 redirect (Ravi Prakash via aw)\n",
          "commitDate": "23/05/16 3:52 PM",
          "commitName": "4b0f55b6ea1665e2118fd573f72a6fcd1fce20d6",
          "commitAuthor": "Allen Wittenauer",
          "commitDateOld": "04/05/16 5:02 PM",
          "commitNameOld": "1268cf5fbe4458fa75ad0662512d352f9e8d3470",
          "commitAuthorOld": "Ming Ma",
          "daysBetweenCommits": 18.95,
          "commitsBetweenForRepo": 134,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,51 +1,53 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n           final FsActionParam fsAction,\n       @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n           final TokenKindParam tokenKind,\n       @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n-          final TokenServiceParam tokenService\n+          final TokenServiceParam tokenService,\n+      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n+          final NoRedirectParam noredirect\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n         renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n         tokenKind, tokenService);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n               xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n-              tokenService);\n+              tokenService, noredirect);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService,\n      @QueryParam(NoRedirectParam.NAME) @DefaultValue(NoRedirectParam.DEFAULT)\n          final NoRedirectParam noredirect\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        tokenKind, tokenService);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n              tokenService, noredirect);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "e2be3337448ec0f6772a2ba463da376e7089b1fa": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-6904. YARN unable to renew delegation token fetched via webhdfs due to incorrect service port.\n",
      "commitDate": "24/10/14 11:35 AM",
      "commitName": "e2be3337448ec0f6772a2ba463da376e7089b1fa",
      "commitAuthor": "Jitendra Pandey",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-6904. YARN unable to renew delegation token fetched via webhdfs due to incorrect service port.\n",
          "commitDate": "24/10/14 11:35 AM",
          "commitName": "e2be3337448ec0f6772a2ba463da376e7089b1fa",
          "commitAuthor": "Jitendra Pandey",
          "commitDateOld": "11/09/14 12:23 AM",
          "commitNameOld": "70dfe9cfab73fc1ff0ed4dd37027a77b19ac3104",
          "commitAuthorOld": "",
          "daysBetweenCommits": 43.47,
          "commitsBetweenForRepo": 438,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,45 +1,51 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n-          final FsActionParam fsAction\n+          final FsActionParam fsAction,\n+      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n+          final TokenKindParam tokenKind,\n+      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n+          final TokenServiceParam tokenService\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n-        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction);\n+        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n+        tokenKind, tokenService);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrNames, xattrEncoding, excludeDatanodes, fsAction);\n+              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n+              tokenService);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        tokenKind, tokenService);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n              tokenService);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final), fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final), fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final), tokenKind-TokenKindParam(annotations-@QueryParam(TokenKindParam.NAME)-@DefaultValue(TokenKindParam.DEFAULT)__modifiers-final), tokenService-TokenServiceParam(annotations-@QueryParam(TokenServiceParam.NAME)-@DefaultValue(TokenServiceParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-6904. YARN unable to renew delegation token fetched via webhdfs due to incorrect service port.\n",
          "commitDate": "24/10/14 11:35 AM",
          "commitName": "e2be3337448ec0f6772a2ba463da376e7089b1fa",
          "commitAuthor": "Jitendra Pandey",
          "commitDateOld": "11/09/14 12:23 AM",
          "commitNameOld": "70dfe9cfab73fc1ff0ed4dd37027a77b19ac3104",
          "commitAuthorOld": "",
          "daysBetweenCommits": 43.47,
          "commitsBetweenForRepo": 438,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,45 +1,51 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n           final ExcludeDatanodesParam excludeDatanodes,\n       @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n-          final FsActionParam fsAction\n+          final FsActionParam fsAction,\n+      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n+          final TokenKindParam tokenKind,\n+      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n+          final TokenServiceParam tokenService\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n-        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction);\n+        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n+        tokenKind, tokenService);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrNames, xattrEncoding, excludeDatanodes, fsAction);\n+              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n+              tokenService);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction,\n      @QueryParam(TokenKindParam.NAME) @DefaultValue(TokenKindParam.DEFAULT)\n          final TokenKindParam tokenKind,\n      @QueryParam(TokenServiceParam.NAME) @DefaultValue(TokenServiceParam.DEFAULT)\n          final TokenServiceParam tokenService\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction,\n        tokenKind, tokenService);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes, fsAction, tokenKind,\n              tokenService);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "535fe14dedbf919442ec03ac573315c7a16a6dbe": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-6570. add api that enables checking if a user has certain permissions on a file. Contributed by Jitendra Pandey.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1614723 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "30/07/14 10:49 AM",
      "commitName": "535fe14dedbf919442ec03ac573315c7a16a6dbe",
      "commitAuthor": "Chris Nauroth",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-6570. add api that enables checking if a user has certain permissions on a file. Contributed by Jitendra Pandey.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1614723 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "30/07/14 10:49 AM",
          "commitName": "535fe14dedbf919442ec03ac573315c7a16a6dbe",
          "commitAuthor": "Chris Nauroth",
          "commitDateOld": "24/07/14 11:28 AM",
          "commitNameOld": "8c6e172a0ad8f06a4f9b70d61d9f3f7789405815",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 5.97,
          "commitsBetweenForRepo": 29,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,43 +1,45 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n-          final ExcludeDatanodesParam excludeDatanodes\n+          final ExcludeDatanodesParam excludeDatanodes,\n+      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n+          final FsActionParam fsAction\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n-        renewer, bufferSize, xattrEncoding, excludeDatanodes);\n+        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrNames, xattrEncoding, excludeDatanodes);\n+              xattrNames, xattrEncoding, excludeDatanodes, fsAction);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes, fsAction);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final), fsAction-FsActionParam(annotations-@QueryParam(FsActionParam.NAME)-@DefaultValue(FsActionParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-6570. add api that enables checking if a user has certain permissions on a file. Contributed by Jitendra Pandey.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1614723 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "30/07/14 10:49 AM",
          "commitName": "535fe14dedbf919442ec03ac573315c7a16a6dbe",
          "commitAuthor": "Chris Nauroth",
          "commitDateOld": "24/07/14 11:28 AM",
          "commitNameOld": "8c6e172a0ad8f06a4f9b70d61d9f3f7789405815",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 5.97,
          "commitsBetweenForRepo": 29,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,43 +1,45 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding,\n       @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n-          final ExcludeDatanodesParam excludeDatanodes\n+          final ExcludeDatanodesParam excludeDatanodes,\n+      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n+          final FsActionParam fsAction\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n-        renewer, bufferSize, xattrEncoding, excludeDatanodes);\n+        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrNames, xattrEncoding, excludeDatanodes);\n+              xattrNames, xattrEncoding, excludeDatanodes, fsAction);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes,\n      @QueryParam(FsActionParam.NAME) @DefaultValue(FsActionParam.DEFAULT)\n          final FsActionParam fsAction\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes, fsAction);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes, fsAction);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "7c18f8d55b899dc4a6e118d3b54447a9b36b960a": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-6616. Add exclude-datanodes feature to WebHDFS redirection so that it will not redirect retries to the same datanode. Contributed by zhaoyunjiong\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1611750 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/07/14 11:20 AM",
      "commitName": "7c18f8d55b899dc4a6e118d3b54447a9b36b960a",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-6616. Add exclude-datanodes feature to WebHDFS redirection so that it will not redirect retries to the same datanode. Contributed by zhaoyunjiong\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1611750 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "18/07/14 11:20 AM",
          "commitName": "7c18f8d55b899dc4a6e118d3b54447a9b36b960a",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "05/06/14 8:48 PM",
          "commitNameOld": "6a4f6d6b3e41e660c214b77c9ed43d4c65200b6a",
          "commitAuthorOld": "Uma Maheswara Rao G",
          "daysBetweenCommits": 42.61,
          "commitsBetweenForRepo": 298,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,41 +1,43 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n-          final XAttrEncodingParam xattrEncoding\n+          final XAttrEncodingParam xattrEncoding,\n+      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n+          final ExcludeDatanodesParam excludeDatanodes\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n-        renewer, bufferSize, xattrEncoding);\n+        renewer, bufferSize, xattrEncoding, excludeDatanodes);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrNames, xattrEncoding);\n+              xattrNames, xattrEncoding, excludeDatanodes);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final), excludeDatanodes-ExcludeDatanodesParam(annotations-@QueryParam(ExcludeDatanodesParam.NAME)-@DefaultValue(ExcludeDatanodesParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-6616. Add exclude-datanodes feature to WebHDFS redirection so that it will not redirect retries to the same datanode. Contributed by zhaoyunjiong\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1611750 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "18/07/14 11:20 AM",
          "commitName": "7c18f8d55b899dc4a6e118d3b54447a9b36b960a",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "05/06/14 8:48 PM",
          "commitNameOld": "6a4f6d6b3e41e660c214b77c9ed43d4c65200b6a",
          "commitAuthorOld": "Uma Maheswara Rao G",
          "daysBetweenCommits": 42.61,
          "commitsBetweenForRepo": 298,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,41 +1,43 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n           final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n-          final XAttrEncodingParam xattrEncoding\n+          final XAttrEncodingParam xattrEncoding,\n+      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n+          final ExcludeDatanodesParam excludeDatanodes\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n-        renewer, bufferSize, xattrEncoding);\n+        renewer, bufferSize, xattrEncoding, excludeDatanodes);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrNames, xattrEncoding);\n+              xattrNames, xattrEncoding, excludeDatanodes);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding,\n      @QueryParam(ExcludeDatanodesParam.NAME) @DefaultValue(ExcludeDatanodesParam.DEFAULT)\n          final ExcludeDatanodesParam excludeDatanodes\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding, excludeDatanodes);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding, excludeDatanodes);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "6a4f6d6b3e41e660c214b77c9ed43d4c65200b6a": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-6464. Support multiple xattr.name parameters for WebHDFS getXAttrs. Contributed by Yi Liu.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1600810 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "05/06/14 8:48 PM",
      "commitName": "6a4f6d6b3e41e660c214b77c9ed43d4c65200b6a",
      "commitAuthor": "Uma Maheswara Rao G",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-6464. Support multiple xattr.name parameters for WebHDFS getXAttrs. Contributed by Yi Liu.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1600810 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "05/06/14 8:48 PM",
          "commitName": "6a4f6d6b3e41e660c214b77c9ed43d4c65200b6a",
          "commitAuthor": "Uma Maheswara Rao G",
          "commitDateOld": "30/05/14 5:12 PM",
          "commitNameOld": "880a0c673c74a128a01c72b60695f05327f5e961",
          "commitAuthorOld": "Andrew Wang",
          "daysBetweenCommits": 6.15,
          "commitsBetweenForRepo": 18,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,41 +1,41 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n-          final XAttrNameParam xattrName,\n+          final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n-        renewer, bufferSize, xattrName, xattrEncoding);\n+        renewer, bufferSize, xattrEncoding);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrName, xattrEncoding);\n+              xattrNames, xattrEncoding);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrName-XAttrNameParam(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrNames-List\u003cXAttrNameParam\u003e(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-6464. Support multiple xattr.name parameters for WebHDFS getXAttrs. Contributed by Yi Liu.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1600810 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "05/06/14 8:48 PM",
          "commitName": "6a4f6d6b3e41e660c214b77c9ed43d4c65200b6a",
          "commitAuthor": "Uma Maheswara Rao G",
          "commitDateOld": "30/05/14 5:12 PM",
          "commitNameOld": "880a0c673c74a128a01c72b60695f05327f5e961",
          "commitAuthorOld": "Andrew Wang",
          "daysBetweenCommits": 6.15,
          "commitsBetweenForRepo": 18,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,41 +1,41 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize,\n       @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n-          final XAttrNameParam xattrName,\n+          final List\u003cXAttrNameParam\u003e xattrNames,\n       @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n           final XAttrEncodingParam xattrEncoding\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op, offset, length,\n-        renewer, bufferSize, xattrName, xattrEncoding);\n+        renewer, bufferSize, xattrEncoding);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n-              xattrName, xattrEncoding);\n+              xattrNames, xattrEncoding);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final List\u003cXAttrNameParam\u003e xattrNames,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrEncoding);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrNames, xattrEncoding);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "ac23a55547716df29b3e25c98a113399e184d9d1": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Merge HDFS-2006 HDFS XAttrs branch to Trunk\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1596575 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "21/05/14 6:57 AM",
      "commitName": "ac23a55547716df29b3e25c98a113399e184d9d1",
      "commitAuthor": "Uma Maheswara Rao G",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "Merge HDFS-2006 HDFS XAttrs branch to Trunk\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1596575 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "21/05/14 6:57 AM",
          "commitName": "ac23a55547716df29b3e25c98a113399e184d9d1",
          "commitAuthor": "Uma Maheswara Rao G",
          "commitDateOld": "20/05/14 10:33 AM",
          "commitNameOld": "44e9d346e974d0d862b2cc7ef406ac9e5a321c17",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 0.85,
          "commitsBetweenForRepo": 4,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,41 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n-          final BufferSizeParam bufferSize\n+          final BufferSizeParam bufferSize,\n+      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n+          final XAttrNameParam xattrName,\n+      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n+          final XAttrEncodingParam xattrEncoding\n       ) throws IOException, InterruptedException {\n \n-    init(ugi, delegation, username, doAsUser, path, op,\n-        offset, length, renewer, bufferSize);\n+    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n+        renewer, bufferSize, xattrName, xattrEncoding);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n-              path.getAbsolutePath(), op, offset, length, renewer, bufferSize);\n+              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n+              xattrName, xattrEncoding);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final XAttrNameParam xattrName,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrName, xattrEncoding);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrName, xattrEncoding);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final), xattrName-XAttrNameParam(annotations-@QueryParam(XAttrNameParam.NAME)-@DefaultValue(XAttrNameParam.DEFAULT)__modifiers-final), xattrEncoding-XAttrEncodingParam(annotations-@QueryParam(XAttrEncodingParam.NAME)-@DefaultValue(XAttrEncodingParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Merge HDFS-2006 HDFS XAttrs branch to Trunk\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1596575 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "21/05/14 6:57 AM",
          "commitName": "ac23a55547716df29b3e25c98a113399e184d9d1",
          "commitAuthor": "Uma Maheswara Rao G",
          "commitDateOld": "20/05/14 10:33 AM",
          "commitNameOld": "44e9d346e974d0d862b2cc7ef406ac9e5a321c17",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 0.85,
          "commitsBetweenForRepo": 4,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,41 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n-          final BufferSizeParam bufferSize\n+          final BufferSizeParam bufferSize,\n+      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n+          final XAttrNameParam xattrName,\n+      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n+          final XAttrEncodingParam xattrEncoding\n       ) throws IOException, InterruptedException {\n \n-    init(ugi, delegation, username, doAsUser, path, op,\n-        offset, length, renewer, bufferSize);\n+    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n+        renewer, bufferSize, xattrName, xattrEncoding);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         try {\n           return get(ugi, delegation, username, doAsUser,\n-              path.getAbsolutePath(), op, offset, length, renewer, bufferSize);\n+              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n+              xattrName, xattrEncoding);\n         } finally {\n           reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize,\n      @QueryParam(XAttrNameParam.NAME) @DefaultValue(XAttrNameParam.DEFAULT) \n          final XAttrNameParam xattrName,\n      @QueryParam(XAttrEncodingParam.NAME) @DefaultValue(XAttrEncodingParam.DEFAULT) \n          final XAttrEncodingParam xattrEncoding\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op, offset, length,\n        renewer, bufferSize, xattrName, xattrEncoding);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize,\n              xattrName, xattrEncoding);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "02d0f0ba549e584f98b4606c7cea325c9c1afb6c": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6218. Audit log should use true client IP for proxied webhdfs operations. Contributed by Daryn Sharp.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1590640 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "28/04/14 7:00 AM",
      "commitName": "02d0f0ba549e584f98b4606c7cea325c9c1afb6c",
      "commitAuthor": "Kihwal Lee",
      "commitDateOld": "19/03/14 10:29 AM",
      "commitNameOld": "7817245d88cb20ece994cc1c5afb3afa0da2661c",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 39.85,
      "commitsBetweenForRepo": 264,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,37 +1,36 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op,\n         offset, length, renewer, bufferSize);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n-        REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n           return get(ugi, delegation, username, doAsUser,\n               path.getAbsolutePath(), op, offset, length, renewer, bufferSize);\n         } finally {\n-          REMOTE_ADDRESS.set(null);\n+          reset();\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op,\n        offset, length, renewer, bufferSize);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize);\n        } finally {\n          reset();\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "eeec4dc72abf4c540146a81c5419828520b80fa4": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-3294. Fix code indentation in NamenodeWebHdfsMethods and DatanodeWebHdfsMethods.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1327365 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "17/04/12 8:25 PM",
      "commitName": "eeec4dc72abf4c540146a81c5419828520b80fa4",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "15/03/12 5:01 PM",
      "commitNameOld": "7e5b60116eede44d1cb5b6a263b4fec13da3c473",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 33.14,
      "commitsBetweenForRepo": 258,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,116 +1,37 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op,\n         offset, length, renewer, bufferSize);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n-\n-    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n-    final String fullpath \u003d path.getAbsolutePath();\n-    final NamenodeProtocols np \u003d namenode.getRpcServer();\n-\n-    switch(op.getValue()) {\n-    case OPEN:\n-    {\n-      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n-          fullpath, op.getValue(), offset.getValue(), offset, length, bufferSize);\n-      return Response.temporaryRedirect(uri).type(MediaType.APPLICATION_OCTET_STREAM).build();\n-    }\n-    case GET_BLOCK_LOCATIONS:\n-    {\n-      final long offsetValue \u003d offset.getValue();\n-      final Long lengthValue \u003d length.getValue();\n-      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n-          offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n-      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n-      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n-    }\n-    case GETFILESTATUS:\n-    {\n-      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n-      if (status \u003d\u003d null) {\n-        throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n-      }\n-\n-      final String js \u003d JsonUtil.toJsonString(status, true);\n-      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n-    }\n-    case LISTSTATUS:\n-    {\n-      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n-      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n-    }\n-    case GETCONTENTSUMMARY:\n-    {\n-      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n-      final String js \u003d JsonUtil.toJsonString(contentsummary);\n-      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n-    }\n-    case GETFILECHECKSUM:\n-    {\n-      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n-          fullpath, op.getValue(), -1L);\n-      return Response.temporaryRedirect(uri).type(MediaType.APPLICATION_OCTET_STREAM).build();\n-    }\n-    case GETDELEGATIONTOKEN:\n-    {\n-      if (delegation.getValue() !\u003d null) {\n-        throw new IllegalArgumentException(delegation.getName()\n-            + \" parameter is not null.\");\n-      }\n-      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n-          namenode, ugi, renewer.getValue());\n-      final String js \u003d JsonUtil.toJsonString(token);\n-      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n-    }\n-    case GETDELEGATIONTOKENS:\n-    {\n-      if (delegation.getValue() !\u003d null) {\n-        throw new IllegalArgumentException(delegation.getName()\n-            + \" parameter is not null.\");\n-      }\n-      final Token\u003c? extends TokenIdentifier\u003e[] tokens \u003d new Token\u003c?\u003e[1];\n-      tokens[0] \u003d generateDelegationToken(namenode, ugi, renewer.getValue());\n-      final String js \u003d JsonUtil.toJsonString(tokens);\n-      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n-    }\n-    case GETHOMEDIRECTORY:\n-    {\n-      final String js \u003d JsonUtil.toJsonString(\n-          org.apache.hadoop.fs.Path.class.getSimpleName(),\n-          WebHdfsFileSystem.getHomeDirectoryString(ugi));\n-      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n-    }\n-    default:\n-      throw new UnsupportedOperationException(op + \" is not supported\");\n-    }    \n-\n+          return get(ugi, delegation, username, doAsUser,\n+              path.getAbsolutePath(), op, offset, length, renewer, bufferSize);\n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op,\n        offset, length, renewer, bufferSize);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n          return get(ugi, delegation, username, doAsUser,\n              path.getAbsolutePath(), op, offset, length, renewer, bufferSize);\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "dacbeb5f6711b83bd293928b5329f7b846f2e66e": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-3006. In WebHDFS, when the return body is empty, set the Content-Type to application/octet-stream instead of application/json.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1293487 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/02/12 4:15 PM",
      "commitName": "dacbeb5f6711b83bd293928b5329f7b846f2e66e",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "13/12/11 5:47 PM",
      "commitNameOld": "433a6e78f69f1168979ff41ac684fba73a6bc2d2",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 72.94,
      "commitsBetweenForRepo": 397,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,116 +1,116 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op,\n         offset, length, renewer, bufferSize);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n           fullpath, op.getValue(), offset.getValue(), offset, length, bufferSize);\n-      return Response.temporaryRedirect(uri).build();\n+      return Response.temporaryRedirect(uri).type(MediaType.APPLICATION_OCTET_STREAM).build();\n     }\n     case GET_BLOCK_LOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n           offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       if (status \u003d\u003d null) {\n         throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n       }\n \n       final String js \u003d JsonUtil.toJsonString(status, true);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETCONTENTSUMMARY:\n     {\n       final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n       final String js \u003d JsonUtil.toJsonString(contentsummary);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILECHECKSUM:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n           fullpath, op.getValue(), -1L);\n-      return Response.temporaryRedirect(uri).build();\n+      return Response.temporaryRedirect(uri).type(MediaType.APPLICATION_OCTET_STREAM).build();\n     }\n     case GETDELEGATIONTOKEN:\n     {\n       if (delegation.getValue() !\u003d null) {\n         throw new IllegalArgumentException(delegation.getName()\n             + \" parameter is not null.\");\n       }\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETDELEGATIONTOKENS:\n     {\n       if (delegation.getValue() !\u003d null) {\n         throw new IllegalArgumentException(delegation.getName()\n             + \" parameter is not null.\");\n       }\n       final Token\u003c? extends TokenIdentifier\u003e[] tokens \u003d new Token\u003c?\u003e[1];\n       tokens[0] \u003d generateDelegationToken(namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(tokens);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETHOMEDIRECTORY:\n     {\n       final String js \u003d JsonUtil.toJsonString(\n           org.apache.hadoop.fs.Path.class.getSimpleName(),\n           WebHdfsFileSystem.getHomeDirectoryString(ugi));\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op,\n        offset, length, renewer, bufferSize);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n          fullpath, op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).type(MediaType.APPLICATION_OCTET_STREAM).build();\n    }\n    case GET_BLOCK_LOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      if (status \u003d\u003d null) {\n        throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n      }\n\n      final String js \u003d JsonUtil.toJsonString(status, true);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n          fullpath, op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).type(MediaType.APPLICATION_OCTET_STREAM).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      if (delegation.getValue() !\u003d null) {\n        throw new IllegalArgumentException(delegation.getName()\n            + \" parameter is not null.\");\n      }\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETDELEGATIONTOKENS:\n    {\n      if (delegation.getValue() !\u003d null) {\n        throw new IllegalArgumentException(delegation.getName()\n            + \" parameter is not null.\");\n      }\n      final Token\u003c? extends TokenIdentifier\u003e[] tokens \u003d new Token\u003c?\u003e[1];\n      tokens[0] \u003d generateDelegationToken(namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(tokens);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETHOMEDIRECTORY:\n    {\n      final String js \u003d JsonUtil.toJsonString(\n          org.apache.hadoop.fs.Path.class.getSimpleName(),\n          WebHdfsFileSystem.getHomeDirectoryString(ugi));\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "9b1f47226b076bf912a922aba293218dcadc7024": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-2594. Support getDelegationTokens and createSymlink in WebHDFS.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1212299 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/12/11 1:26 AM",
      "commitName": "9b1f47226b076bf912a922aba293218dcadc7024",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "10/11/11 8:19 PM",
      "commitNameOld": "09a156fcce2bc1be4081717bf7ef7d290e80d818",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 28.21,
      "commitsBetweenForRepo": 145,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,105 +1,116 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n           final UserParam username,\n       @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n           final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n     init(ugi, delegation, username, doAsUser, path, op,\n         offset, length, renewer, bufferSize);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n           fullpath, op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GET_BLOCK_LOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n           offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       if (status \u003d\u003d null) {\n         throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n       }\n \n       final String js \u003d JsonUtil.toJsonString(status, true);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETCONTENTSUMMARY:\n     {\n       final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n       final String js \u003d JsonUtil.toJsonString(contentsummary);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILECHECKSUM:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n           fullpath, op.getValue(), -1L);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETDELEGATIONTOKEN:\n     {\n       if (delegation.getValue() !\u003d null) {\n         throw new IllegalArgumentException(delegation.getName()\n             + \" parameter is not null.\");\n       }\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n+    case GETDELEGATIONTOKENS:\n+    {\n+      if (delegation.getValue() !\u003d null) {\n+        throw new IllegalArgumentException(delegation.getName()\n+            + \" parameter is not null.\");\n+      }\n+      final Token\u003c? extends TokenIdentifier\u003e[] tokens \u003d new Token\u003c?\u003e[1];\n+      tokens[0] \u003d generateDelegationToken(namenode, ugi, renewer.getValue());\n+      final String js \u003d JsonUtil.toJsonString(tokens);\n+      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n+    }\n     case GETHOMEDIRECTORY:\n     {\n       final String js \u003d JsonUtil.toJsonString(\n           org.apache.hadoop.fs.Path.class.getSimpleName(),\n           WebHdfsFileSystem.getHomeDirectoryString(ugi));\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op,\n        offset, length, renewer, bufferSize);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n          fullpath, op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GET_BLOCK_LOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      if (status \u003d\u003d null) {\n        throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n      }\n\n      final String js \u003d JsonUtil.toJsonString(status, true);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n          fullpath, op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      if (delegation.getValue() !\u003d null) {\n        throw new IllegalArgumentException(delegation.getName()\n            + \" parameter is not null.\");\n      }\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETDELEGATIONTOKENS:\n    {\n      if (delegation.getValue() !\u003d null) {\n        throw new IllegalArgumentException(delegation.getName()\n            + \" parameter is not null.\");\n      }\n      final Token\u003c? extends TokenIdentifier\u003e[] tokens \u003d new Token\u003c?\u003e[1];\n      tokens[0] \u003d generateDelegationToken(namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(tokens);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETHOMEDIRECTORY:\n    {\n      final String js \u003d JsonUtil.toJsonString(\n          org.apache.hadoop.fs.Path.class.getSimpleName(),\n          WebHdfsFileSystem.getHomeDirectoryString(ugi));\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "09a156fcce2bc1be4081717bf7ef7d290e80d818": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-2539. Support doAs and GETHOMEDIRECTORY in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1200731 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/11/11 8:19 PM",
      "commitName": "09a156fcce2bc1be4081717bf7ef7d290e80d818",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-2539. Support doAs and GETHOMEDIRECTORY in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1200731 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "10/11/11 8:19 PM",
          "commitName": "09a156fcce2bc1be4081717bf7ef7d290e80d818",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "08/11/11 11:25 AM",
          "commitNameOld": "94c631af1fc49f5ae5881fcd5f0e80b17308d15d",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 2.37,
          "commitsBetweenForRepo": 6,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,95 +1,105 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n+      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n+          final UserParam username,\n+      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n+          final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n-    if (LOG.isTraceEnabled()) {\n-      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n-          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n-    }\n-\n-    //clear content type\n-    response.setContentType(null);\n+    init(ugi, delegation, username, doAsUser, path, op,\n+        offset, length, renewer, bufferSize);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n-      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n-          op.getValue(), offset.getValue(), offset, length, bufferSize);\n+      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n+          fullpath, op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GET_BLOCK_LOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n           offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       if (status \u003d\u003d null) {\n         throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n       }\n \n       final String js \u003d JsonUtil.toJsonString(status, true);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETCONTENTSUMMARY:\n     {\n       final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n       final String js \u003d JsonUtil.toJsonString(contentsummary);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILECHECKSUM:\n     {\n-      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n-          op.getValue(), -1L);\n+      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n+          fullpath, op.getValue(), -1L);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETDELEGATIONTOKEN:\n     {\n+      if (delegation.getValue() !\u003d null) {\n+        throw new IllegalArgumentException(delegation.getName()\n+            + \" parameter is not null.\");\n+      }\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n+    case GETHOMEDIRECTORY:\n+    {\n+      final String js \u003d JsonUtil.toJsonString(\n+          org.apache.hadoop.fs.Path.class.getSimpleName(),\n+          WebHdfsFileSystem.getHomeDirectoryString(ugi));\n+      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n+    }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op,\n        offset, length, renewer, bufferSize);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n          fullpath, op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GET_BLOCK_LOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      if (status \u003d\u003d null) {\n        throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n      }\n\n      final String js \u003d JsonUtil.toJsonString(status, true);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n          fullpath, op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      if (delegation.getValue() !\u003d null) {\n        throw new IllegalArgumentException(delegation.getName()\n            + \" parameter is not null.\");\n      }\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETHOMEDIRECTORY:\n    {\n      final String js \u003d JsonUtil.toJsonString(\n          org.apache.hadoop.fs.Path.class.getSimpleName(),\n          WebHdfsFileSystem.getHomeDirectoryString(ugi));\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), username-UserParam(annotations-@QueryParam(UserParam.NAME)-@DefaultValue(UserParam.DEFAULT)__modifiers-final), doAsUser-DoAsParam(annotations-@QueryParam(DoAsParam.NAME)-@DefaultValue(DoAsParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-2539. Support doAs and GETHOMEDIRECTORY in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1200731 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "10/11/11 8:19 PM",
          "commitName": "09a156fcce2bc1be4081717bf7ef7d290e80d818",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "08/11/11 11:25 AM",
          "commitNameOld": "94c631af1fc49f5ae5881fcd5f0e80b17308d15d",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 2.37,
          "commitsBetweenForRepo": 6,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,95 +1,105 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n+      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n+          final UserParam username,\n+      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n+          final DoAsParam doAsUser,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n-    if (LOG.isTraceEnabled()) {\n-      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n-          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n-    }\n-\n-    //clear content type\n-    response.setContentType(null);\n+    init(ugi, delegation, username, doAsUser, path, op,\n+        offset, length, renewer, bufferSize);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n-      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n-          op.getValue(), offset.getValue(), offset, length, bufferSize);\n+      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n+          fullpath, op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GET_BLOCK_LOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n           offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       if (status \u003d\u003d null) {\n         throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n       }\n \n       final String js \u003d JsonUtil.toJsonString(status, true);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETCONTENTSUMMARY:\n     {\n       final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n       final String js \u003d JsonUtil.toJsonString(contentsummary);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILECHECKSUM:\n     {\n-      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n-          op.getValue(), -1L);\n+      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n+          fullpath, op.getValue(), -1L);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETDELEGATIONTOKEN:\n     {\n+      if (delegation.getValue() !\u003d null) {\n+        throw new IllegalArgumentException(delegation.getName()\n+            + \" parameter is not null.\");\n+      }\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n+    case GETHOMEDIRECTORY:\n+    {\n+      final String js \u003d JsonUtil.toJsonString(\n+          org.apache.hadoop.fs.Path.class.getSimpleName(),\n+          WebHdfsFileSystem.getHomeDirectoryString(ugi));\n+      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n+    }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @QueryParam(UserParam.NAME) @DefaultValue(UserParam.DEFAULT)\n          final UserParam username,\n      @QueryParam(DoAsParam.NAME) @DefaultValue(DoAsParam.DEFAULT)\n          final DoAsParam doAsUser,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    init(ugi, delegation, username, doAsUser, path, op,\n        offset, length, renewer, bufferSize);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n          fullpath, op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GET_BLOCK_LOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      if (status \u003d\u003d null) {\n        throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n      }\n\n      final String js \u003d JsonUtil.toJsonString(status, true);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, username, doAsUser,\n          fullpath, op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      if (delegation.getValue() !\u003d null) {\n        throw new IllegalArgumentException(delegation.getName()\n            + \" parameter is not null.\");\n      }\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETHOMEDIRECTORY:\n    {\n      final String js \u003d JsonUtil.toJsonString(\n          org.apache.hadoop.fs.Path.class.getSimpleName(),\n          WebHdfsFileSystem.getHomeDirectoryString(ugi));\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "6afe3e0d22caa2b0752d52ddf7794c25a66cc9c8": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-2527. WebHdfs: remove the use of \"Range\" header in Open; use ugi username if renewer parameter is null in GetDelegationToken; response OK when setting replication for non-files; rename GETFILEBLOCKLOCATIONS to GET_BLOCK_LOCATIONS and state that it is a private unstable API; replace isDirectory and isSymlink with enum {FILE, DIRECTORY, SYMLINK} in HdfsFileStatus JSON object. \n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1197329 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/11/11 3:34 PM",
      "commitName": "6afe3e0d22caa2b0752d52ddf7794c25a66cc9c8",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "02/11/11 11:54 PM",
      "commitNameOld": "40fe96546fcd68696076db67053f30d38a39a0d5",
      "commitAuthorOld": "Todd Lipcon",
      "daysBetweenCommits": 0.65,
      "commitsBetweenForRepo": 5,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,95 +1,95 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n           + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n     }\n \n     //clear content type\n     response.setContentType(null);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n-    case GETFILEBLOCKLOCATIONS:\n+    case GET_BLOCK_LOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n           offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       if (status \u003d\u003d null) {\n         throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n       }\n \n       final String js \u003d JsonUtil.toJsonString(status, true);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETCONTENTSUMMARY:\n     {\n       final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n       final String js \u003d JsonUtil.toJsonString(contentsummary);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILECHECKSUM:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), -1L);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETDELEGATIONTOKEN:\n     {\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n    }\n\n    //clear content type\n    response.setContentType(null);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GET_BLOCK_LOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      if (status \u003d\u003d null) {\n        throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n      }\n\n      final String js \u003d JsonUtil.toJsonString(status, true);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "8cb0d4b380e0fd4437310c1dd6ef8b8995cc383d": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-2432. Webhdfs: response FORBIDDEN when setReplication on non-files; clear umask before creating a flie; throw IllegalArgumentException if setOwner with both owner and group empty; throw FileNotFoundException if getFileStatus on non-existing files; fix bugs in getBlockLocations; and changed getFileChecksum json response root to \"FileChecksum\".\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1190077 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "27/10/11 4:13 PM",
      "commitName": "8cb0d4b380e0fd4437310c1dd6ef8b8995cc383d",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "25/10/11 10:16 PM",
      "commitNameOld": "8335995630e2c4288795fa0dfa9b670090a6790b",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 1.75,
      "commitsBetweenForRepo": 30,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,91 +1,95 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n           + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n     }\n \n     //clear content type\n     response.setContentType(null);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETFILEBLOCKLOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n-          offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n+          offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n+      if (status \u003d\u003d null) {\n+        throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n+      }\n+\n       final String js \u003d JsonUtil.toJsonString(status, true);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETCONTENTSUMMARY:\n     {\n       final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n       final String js \u003d JsonUtil.toJsonString(contentsummary);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILECHECKSUM:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), -1L);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETDELEGATIONTOKEN:\n     {\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n    }\n\n    //clear content type\n    response.setContentType(null);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILEBLOCKLOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: Long.MAX_VALUE);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      if (status \u003d\u003d null) {\n        throw new FileNotFoundException(\"File does not exist: \" + fullpath);\n      }\n\n      final String js \u003d JsonUtil.toJsonString(status, true);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "7d1a5078b73c8523d63c1250812238dcc0963530": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-2441. Remove the Content-Type set by HttpServer.QuotingInputFilter in webhdfs responses.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1183081 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/10/11 1:41 PM",
      "commitName": "7d1a5078b73c8523d63c1250812238dcc0963530",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "09/10/11 6:49 PM",
      "commitNameOld": "676f488efffd50eb47e75cd750f9bc948b9e12fb",
      "commitAuthorOld": "Suresh Srinivas",
      "daysBetweenCommits": 3.79,
      "commitsBetweenForRepo": 34,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,89 +1,91 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n           + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n     }\n \n+    //clear content type\n+    response.setContentType(null);\n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETFILEBLOCKLOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n           offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status, true);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETCONTENTSUMMARY:\n     {\n       final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n       final String js \u003d JsonUtil.toJsonString(contentsummary);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILECHECKSUM:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), -1L);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETDELEGATIONTOKEN:\n     {\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n    }\n\n    //clear content type\n    response.setContentType(null);\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILEBLOCKLOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status, true);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "676f488efffd50eb47e75cd750f9bc948b9e12fb": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-2404. webhdfs liststatus json response is not correct. Contributed by Suresh Srinivas.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1180757 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/10/11 6:49 PM",
      "commitName": "676f488efffd50eb47e75cd750f9bc948b9e12fb",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "06/10/11 2:17 PM",
      "commitNameOld": "a2d7287873685249c2ceeda49f9feadfb307f5c2",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 3.19,
      "commitsBetweenForRepo": 25,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,89 +1,89 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n           + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n     }\n \n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETFILEBLOCKLOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n           offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n-      final String js \u003d JsonUtil.toJsonString(status);\n+      final String js \u003d JsonUtil.toJsonString(status, true);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETCONTENTSUMMARY:\n     {\n       final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n       final String js \u003d JsonUtil.toJsonString(contentsummary);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILECHECKSUM:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), -1L);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETDELEGATIONTOKEN:\n     {\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n    }\n\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILEBLOCKLOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status, true);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "a2d7287873685249c2ceeda49f9feadfb307f5c2": {
      "type": "Yexceptionschange",
      "commitMessage": "HDFS-2403. NamenodeWebHdfsMethods.generateDelegationToken(..) does not use the renewer parameter.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1179856 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/10/11 2:17 PM",
      "commitName": "a2d7287873685249c2ceeda49f9feadfb307f5c2",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "05/10/11 4:29 AM",
      "commitNameOld": "1b1016beeb716bef8dad93bb2c7c4631a14b3d57",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 1.41,
      "commitsBetweenForRepo": 10,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,89 +1,89 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n-      ) throws IOException, URISyntaxException, InterruptedException {\n+      ) throws IOException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n           + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n     }\n \n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETFILEBLOCKLOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n           offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETCONTENTSUMMARY:\n     {\n       final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n       final String js \u003d JsonUtil.toJsonString(contentsummary);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILECHECKSUM:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), -1L);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETDELEGATIONTOKEN:\n     {\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n    }\n\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILEBLOCKLOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {
        "oldValue": "[IOException, URISyntaxException, InterruptedException]",
        "newValue": "[IOException, InterruptedException]"
      }
    },
    "dc8464f943b61b795df0cc8baec171bf07355763": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-2348. Support getContentSummary and getFileChecksum in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1177905 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "30/09/11 9:49 PM",
      "commitName": "dc8464f943b61b795df0cc8baec171bf07355763",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "30/09/11 11:01 AM",
      "commitNameOld": "f48280ac56108ccb1c2903012542e2ae982647da",
      "commitAuthorOld": "Doug Cutting",
      "daysBetweenCommits": 0.45,
      "commitsBetweenForRepo": 5,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,77 +1,89 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n           final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, URISyntaxException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n           + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n     }\n \n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n         REMOTE_ADDRESS.set(request.getRemoteAddr());\n         try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETFILEBLOCKLOCATIONS:\n     {\n       final long offsetValue \u003d offset.getValue();\n       final Long lengthValue \u003d length.getValue();\n       final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n           offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n       final String js \u003d JsonUtil.toJsonString(locatedblocks);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n+    case GETCONTENTSUMMARY:\n+    {\n+      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n+      final String js \u003d JsonUtil.toJsonString(contentsummary);\n+      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n+    }\n+    case GETFILECHECKSUM:\n+    {\n+      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n+          op.getValue(), -1L);\n+      return Response.temporaryRedirect(uri).build();\n+    }\n     case GETDELEGATIONTOKEN:\n     {\n       final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n           namenode, ugi, renewer.getValue());\n       final String js \u003d JsonUtil.toJsonString(token);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n \n         } finally {\n           REMOTE_ADDRESS.set(null);\n         }\n       }\n     });\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, URISyntaxException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n    }\n\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILEBLOCKLOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETCONTENTSUMMARY:\n    {\n      final ContentSummary contentsummary \u003d np.getContentSummary(fullpath);\n      final String js \u003d JsonUtil.toJsonString(contentsummary);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILECHECKSUM:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), -1L);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
      "extendedDetails": {}
    },
    "4dc4e9e63f7385ddd1d64ae1345e0d32a4acb9de": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-2340. Support getFileBlockLocations and getDelegationToken in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1173468 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "20/09/11 7:56 PM",
      "commitName": "4dc4e9e63f7385ddd1d64ae1345e0d32a4acb9de",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-2340. Support getFileBlockLocations and getDelegationToken in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1173468 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "20/09/11 7:56 PM",
          "commitName": "4dc4e9e63f7385ddd1d64ae1345e0d32a4acb9de",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "16/09/11 8:02 AM",
          "commitNameOld": "78e3821b819b441d1faf4bc66c659cdeddc6006c",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 4.5,
          "commitsBetweenForRepo": 31,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,53 +1,77 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n+      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n+          final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, URISyntaxException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n-          + Param.toSortedString(\", \", offset, length, bufferSize));\n+          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n     }\n \n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n+        REMOTE_ADDRESS.set(request.getRemoteAddr());\n+        try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n+    case GETFILEBLOCKLOCATIONS:\n+    {\n+      final long offsetValue \u003d offset.getValue();\n+      final Long lengthValue \u003d length.getValue();\n+      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n+          offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n+      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n+      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n+    }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n+    case GETDELEGATIONTOKEN:\n+    {\n+      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n+          namenode, ugi, renewer.getValue());\n+      final String js \u003d JsonUtil.toJsonString(token);\n+      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n+    }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n+\n+        } finally {\n+          REMOTE_ADDRESS.set(null);\n+        }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, URISyntaxException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n    }\n\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILEBLOCKLOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), renewer-RenewerParam(annotations-@QueryParam(RenewerParam.NAME)-@DefaultValue(RenewerParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-2340. Support getFileBlockLocations and getDelegationToken in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1173468 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "20/09/11 7:56 PM",
          "commitName": "4dc4e9e63f7385ddd1d64ae1345e0d32a4acb9de",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "16/09/11 8:02 AM",
          "commitNameOld": "78e3821b819b441d1faf4bc66c659cdeddc6006c",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 4.5,
          "commitsBetweenForRepo": 31,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,53 +1,77 @@\n   public Response get(\n       @Context final UserGroupInformation ugi,\n       @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n           final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n+      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n+          final RenewerParam renewer,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n       ) throws IOException, URISyntaxException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n-          + Param.toSortedString(\", \", offset, length, bufferSize));\n+          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n     }\n \n \n     return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n       @Override\n       public Response run() throws IOException, URISyntaxException {\n+        REMOTE_ADDRESS.set(request.getRemoteAddr());\n+        try {\n \n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n       final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n           op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n+    case GETFILEBLOCKLOCATIONS:\n+    {\n+      final long offsetValue \u003d offset.getValue();\n+      final Long lengthValue \u003d length.getValue();\n+      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n+          offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n+      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n+      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n+    }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n+    case GETDELEGATIONTOKEN:\n+    {\n+      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n+          namenode, ugi, renewer.getValue());\n+      final String js \u003d JsonUtil.toJsonString(token);\n+      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n+    }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n+\n+        } finally {\n+          REMOTE_ADDRESS.set(null);\n+        }\n       }\n     });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(RenewerParam.NAME) @DefaultValue(RenewerParam.DEFAULT)\n          final RenewerParam renewer,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, URISyntaxException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, renewer, bufferSize));\n    }\n\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n        REMOTE_ADDRESS.set(request.getRemoteAddr());\n        try {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILEBLOCKLOCATIONS:\n    {\n      final long offsetValue \u003d offset.getValue();\n      final Long lengthValue \u003d length.getValue();\n      final LocatedBlocks locatedblocks \u003d np.getBlockLocations(fullpath,\n          offsetValue, lengthValue !\u003d null? lengthValue: offsetValue + 1);\n      final String js \u003d JsonUtil.toJsonString(locatedblocks);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    case GETDELEGATIONTOKEN:\n    {\n      final Token\u003c? extends TokenIdentifier\u003e token \u003d generateDelegationToken(\n          namenode, ugi, renewer.getValue());\n      final String js \u003d JsonUtil.toJsonString(token);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n\n        } finally {\n          REMOTE_ADDRESS.set(null);\n        }\n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "78e3821b819b441d1faf4bc66c659cdeddc6006c": {
      "type": "Ymultichange(Yparameterchange,Yexceptionschange,Ybodychange)",
      "commitMessage": "HDFS-2318. Provide authentication to webhdfs using SPNEGO and delegation tokens.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1171611 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/09/11 8:02 AM",
      "commitName": "78e3821b819b441d1faf4bc66c659cdeddc6006c",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-2318. Provide authentication to webhdfs using SPNEGO and delegation tokens.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1171611 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "16/09/11 8:02 AM",
          "commitName": "78e3821b819b441d1faf4bc66c659cdeddc6006c",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "13/09/11 1:34 AM",
          "commitNameOld": "6c3b59505b863f03629da52a1e9b886fe9b496d0",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 3.27,
          "commitsBetweenForRepo": 20,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,43 +1,53 @@\n   public Response get(\n+      @Context final UserGroupInformation ugi,\n+      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n+          final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n-      ) throws IOException, URISyntaxException {\n+      ) throws IOException, URISyntaxException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n-      LOG.trace(op + \", \" + path\n+      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n           + Param.toSortedString(\", \", offset, length, bufferSize));\n     }\n \n+\n+    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n+      @Override\n+      public Response run() throws IOException, URISyntaxException {\n+\n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n-      final URI uri \u003d redirectURI(namenode, fullpath, op.getValue(),\n-          offset.getValue(), offset, length, bufferSize);\n+      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n+          op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n+      }\n+    });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, URISyntaxException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, bufferSize));\n    }\n\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final)]",
            "newValue": "[ugi-UserGroupInformation(annotations-@Context__modifiers-final), delegation-DelegationParam(annotations-@QueryParam(DelegationParam.NAME)-@DefaultValue(DelegationParam.DEFAULT)__modifiers-final), path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Yexceptionschange",
          "commitMessage": "HDFS-2318. Provide authentication to webhdfs using SPNEGO and delegation tokens.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1171611 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "16/09/11 8:02 AM",
          "commitName": "78e3821b819b441d1faf4bc66c659cdeddc6006c",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "13/09/11 1:34 AM",
          "commitNameOld": "6c3b59505b863f03629da52a1e9b886fe9b496d0",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 3.27,
          "commitsBetweenForRepo": 20,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,43 +1,53 @@\n   public Response get(\n+      @Context final UserGroupInformation ugi,\n+      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n+          final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n-      ) throws IOException, URISyntaxException {\n+      ) throws IOException, URISyntaxException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n-      LOG.trace(op + \", \" + path\n+      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n           + Param.toSortedString(\", \", offset, length, bufferSize));\n     }\n \n+\n+    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n+      @Override\n+      public Response run() throws IOException, URISyntaxException {\n+\n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n-      final URI uri \u003d redirectURI(namenode, fullpath, op.getValue(),\n-          offset.getValue(), offset, length, bufferSize);\n+      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n+          op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n+      }\n+    });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, URISyntaxException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, bufferSize));\n    }\n\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[IOException, URISyntaxException]",
            "newValue": "[IOException, URISyntaxException, InterruptedException]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-2318. Provide authentication to webhdfs using SPNEGO and delegation tokens.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1171611 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "16/09/11 8:02 AM",
          "commitName": "78e3821b819b441d1faf4bc66c659cdeddc6006c",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "13/09/11 1:34 AM",
          "commitNameOld": "6c3b59505b863f03629da52a1e9b886fe9b496d0",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 3.27,
          "commitsBetweenForRepo": 20,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,43 +1,53 @@\n   public Response get(\n+      @Context final UserGroupInformation ugi,\n+      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n+          final DelegationParam delegation,\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n           final GetOpParam op,\n       @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n           final OffsetParam offset,\n       @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n           final LengthParam length,\n       @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n           final BufferSizeParam bufferSize\n-      ) throws IOException, URISyntaxException {\n+      ) throws IOException, URISyntaxException, InterruptedException {\n \n     if (LOG.isTraceEnabled()) {\n-      LOG.trace(op + \", \" + path\n+      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n           + Param.toSortedString(\", \", offset, length, bufferSize));\n     }\n \n+\n+    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n+      @Override\n+      public Response run() throws IOException, URISyntaxException {\n+\n     final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n     final String fullpath \u003d path.getAbsolutePath();\n     final NamenodeProtocols np \u003d namenode.getRpcServer();\n \n     switch(op.getValue()) {\n     case OPEN:\n     {\n-      final URI uri \u003d redirectURI(namenode, fullpath, op.getValue(),\n-          offset.getValue(), offset, length, bufferSize);\n+      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n+          op.getValue(), offset.getValue(), offset, length, bufferSize);\n       return Response.temporaryRedirect(uri).build();\n     }\n     case GETFILESTATUS:\n     {\n       final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n     }\n     case LISTSTATUS:\n     {\n       final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n       return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n     }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n+      }\n+    });\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @Context final UserGroupInformation ugi,\n      @QueryParam(DelegationParam.NAME) @DefaultValue(DelegationParam.DEFAULT)\n          final DelegationParam delegation,\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, URISyntaxException, InterruptedException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \": \" + path + \", ugi\u003d\" + ugi\n          + Param.toSortedString(\", \", offset, length, bufferSize));\n    }\n\n\n    return ugi.doAs(new PrivilegedExceptionAction\u003cResponse\u003e() {\n      @Override\n      public Response run() throws IOException, URISyntaxException {\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, ugi, delegation, fullpath,\n          op.getValue(), offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n      }\n    });\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "6c3b59505b863f03629da52a1e9b886fe9b496d0": {
      "type": "Ymultichange(Yparameterchange,Yexceptionschange,Ybodychange)",
      "commitMessage": "HDFS-2317. Support read access to HDFS in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1170085 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/09/11 1:34 AM",
      "commitName": "6c3b59505b863f03629da52a1e9b886fe9b496d0",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-2317. Support read access to HDFS in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1170085 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "13/09/11 1:34 AM",
          "commitName": "6c3b59505b863f03629da52a1e9b886fe9b496d0",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "10/09/11 6:41 PM",
          "commitNameOld": "61d0b7530c8978c095ab6f62d9d38e168bd829c6",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 2.29,
          "commitsBetweenForRepo": 14,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,23 +1,43 @@\n   public Response get(\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n-          final GetOpParam op\n-      ) throws IOException {\n+          final GetOpParam op,\n+      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n+          final OffsetParam offset,\n+      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n+          final LengthParam length,\n+      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n+          final BufferSizeParam bufferSize\n+      ) throws IOException, URISyntaxException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \", \" + path\n-          + Param.toSortedString(\", \"));\n+          + Param.toSortedString(\", \", offset, length, bufferSize));\n     }\n \n+    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n+    final String fullpath \u003d path.getAbsolutePath();\n+    final NamenodeProtocols np \u003d namenode.getRpcServer();\n+\n     switch(op.getValue()) {\n+    case OPEN:\n+    {\n+      final URI uri \u003d redirectURI(namenode, fullpath, op.getValue(),\n+          offset.getValue(), offset, length, bufferSize);\n+      return Response.temporaryRedirect(uri).build();\n+    }\n     case GETFILESTATUS:\n-      final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n-      final String fullpath \u003d path.getAbsolutePath();\n-      final HdfsFileStatus status \u003d namenode.getRpcServer().getFileInfo(fullpath);\n+    {\n+      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n-\n+    }\n+    case LISTSTATUS:\n+    {\n+      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n+      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n+    }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, URISyntaxException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \", \" + path\n          + Param.toSortedString(\", \", offset, length, bufferSize));\n    }\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, fullpath, op.getValue(),\n          offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final)]",
            "newValue": "[path-UriFsPathParam(annotations-@PathParam(UriFsPathParam.NAME)__modifiers-final), op-GetOpParam(annotations-@QueryParam(GetOpParam.NAME)-@DefaultValue(GetOpParam.DEFAULT)__modifiers-final), offset-OffsetParam(annotations-@QueryParam(OffsetParam.NAME)-@DefaultValue(OffsetParam.DEFAULT)__modifiers-final), length-LengthParam(annotations-@QueryParam(LengthParam.NAME)-@DefaultValue(LengthParam.DEFAULT)__modifiers-final), bufferSize-BufferSizeParam(annotations-@QueryParam(BufferSizeParam.NAME)-@DefaultValue(BufferSizeParam.DEFAULT)__modifiers-final)]"
          }
        },
        {
          "type": "Yexceptionschange",
          "commitMessage": "HDFS-2317. Support read access to HDFS in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1170085 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "13/09/11 1:34 AM",
          "commitName": "6c3b59505b863f03629da52a1e9b886fe9b496d0",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "10/09/11 6:41 PM",
          "commitNameOld": "61d0b7530c8978c095ab6f62d9d38e168bd829c6",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 2.29,
          "commitsBetweenForRepo": 14,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,23 +1,43 @@\n   public Response get(\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n-          final GetOpParam op\n-      ) throws IOException {\n+          final GetOpParam op,\n+      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n+          final OffsetParam offset,\n+      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n+          final LengthParam length,\n+      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n+          final BufferSizeParam bufferSize\n+      ) throws IOException, URISyntaxException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \", \" + path\n-          + Param.toSortedString(\", \"));\n+          + Param.toSortedString(\", \", offset, length, bufferSize));\n     }\n \n+    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n+    final String fullpath \u003d path.getAbsolutePath();\n+    final NamenodeProtocols np \u003d namenode.getRpcServer();\n+\n     switch(op.getValue()) {\n+    case OPEN:\n+    {\n+      final URI uri \u003d redirectURI(namenode, fullpath, op.getValue(),\n+          offset.getValue(), offset, length, bufferSize);\n+      return Response.temporaryRedirect(uri).build();\n+    }\n     case GETFILESTATUS:\n-      final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n-      final String fullpath \u003d path.getAbsolutePath();\n-      final HdfsFileStatus status \u003d namenode.getRpcServer().getFileInfo(fullpath);\n+    {\n+      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n-\n+    }\n+    case LISTSTATUS:\n+    {\n+      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n+      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n+    }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, URISyntaxException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \", \" + path\n          + Param.toSortedString(\", \", offset, length, bufferSize));\n    }\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, fullpath, op.getValue(),\n          offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {
            "oldValue": "[IOException]",
            "newValue": "[IOException, URISyntaxException]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-2317. Support read access to HDFS in webhdfs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1170085 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "13/09/11 1:34 AM",
          "commitName": "6c3b59505b863f03629da52a1e9b886fe9b496d0",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "10/09/11 6:41 PM",
          "commitNameOld": "61d0b7530c8978c095ab6f62d9d38e168bd829c6",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 2.29,
          "commitsBetweenForRepo": 14,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,23 +1,43 @@\n   public Response get(\n       @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n       @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n-          final GetOpParam op\n-      ) throws IOException {\n+          final GetOpParam op,\n+      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n+          final OffsetParam offset,\n+      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n+          final LengthParam length,\n+      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n+          final BufferSizeParam bufferSize\n+      ) throws IOException, URISyntaxException {\n \n     if (LOG.isTraceEnabled()) {\n       LOG.trace(op + \", \" + path\n-          + Param.toSortedString(\", \"));\n+          + Param.toSortedString(\", \", offset, length, bufferSize));\n     }\n \n+    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n+    final String fullpath \u003d path.getAbsolutePath();\n+    final NamenodeProtocols np \u003d namenode.getRpcServer();\n+\n     switch(op.getValue()) {\n+    case OPEN:\n+    {\n+      final URI uri \u003d redirectURI(namenode, fullpath, op.getValue(),\n+          offset.getValue(), offset, length, bufferSize);\n+      return Response.temporaryRedirect(uri).build();\n+    }\n     case GETFILESTATUS:\n-      final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n-      final String fullpath \u003d path.getAbsolutePath();\n-      final HdfsFileStatus status \u003d namenode.getRpcServer().getFileInfo(fullpath);\n+    {\n+      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n       final String js \u003d JsonUtil.toJsonString(status);\n       return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n-\n+    }\n+    case LISTSTATUS:\n+    {\n+      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n+      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n+    }\n     default:\n       throw new UnsupportedOperationException(op + \" is not supported\");\n     }    \n   }\n\\ No newline at end of file\n",
          "actualSource": "  public Response get(\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op,\n      @QueryParam(OffsetParam.NAME) @DefaultValue(OffsetParam.DEFAULT)\n          final OffsetParam offset,\n      @QueryParam(LengthParam.NAME) @DefaultValue(LengthParam.DEFAULT)\n          final LengthParam length,\n      @QueryParam(BufferSizeParam.NAME) @DefaultValue(BufferSizeParam.DEFAULT)\n          final BufferSizeParam bufferSize\n      ) throws IOException, URISyntaxException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \", \" + path\n          + Param.toSortedString(\", \", offset, length, bufferSize));\n    }\n\n    final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n    final String fullpath \u003d path.getAbsolutePath();\n    final NamenodeProtocols np \u003d namenode.getRpcServer();\n\n    switch(op.getValue()) {\n    case OPEN:\n    {\n      final URI uri \u003d redirectURI(namenode, fullpath, op.getValue(),\n          offset.getValue(), offset, length, bufferSize);\n      return Response.temporaryRedirect(uri).build();\n    }\n    case GETFILESTATUS:\n    {\n      final HdfsFileStatus status \u003d np.getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n    }\n    case LISTSTATUS:\n    {\n      final StreamingOutput streaming \u003d getListingStream(np, fullpath);\n      return Response.ok(streaming).type(MediaType.APPLICATION_JSON).build();\n    }\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java",
          "extendedDetails": {}
        }
      ]
    },
    "61d0b7530c8978c095ab6f62d9d38e168bd829c6": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-2284. Add a new FileSystem, webhdfs://, for supporting write Http access to HDFS.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1167662 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/09/11 6:41 PM",
      "commitName": "61d0b7530c8978c095ab6f62d9d38e168bd829c6",
      "commitAuthor": "Tsz-wo Sze",
      "diff": "@@ -0,0 +1,23 @@\n+  public Response get(\n+      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n+      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n+          final GetOpParam op\n+      ) throws IOException {\n+\n+    if (LOG.isTraceEnabled()) {\n+      LOG.trace(op + \", \" + path\n+          + Param.toSortedString(\", \"));\n+    }\n+\n+    switch(op.getValue()) {\n+    case GETFILESTATUS:\n+      final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n+      final String fullpath \u003d path.getAbsolutePath();\n+      final HdfsFileStatus status \u003d namenode.getRpcServer().getFileInfo(fullpath);\n+      final String js \u003d JsonUtil.toJsonString(status);\n+      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n+\n+    default:\n+      throw new UnsupportedOperationException(op + \" is not supported\");\n+    }    \n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public Response get(\n      @PathParam(UriFsPathParam.NAME) final UriFsPathParam path,\n      @QueryParam(GetOpParam.NAME) @DefaultValue(GetOpParam.DEFAULT)\n          final GetOpParam op\n      ) throws IOException {\n\n    if (LOG.isTraceEnabled()) {\n      LOG.trace(op + \", \" + path\n          + Param.toSortedString(\", \"));\n    }\n\n    switch(op.getValue()) {\n    case GETFILESTATUS:\n      final NameNode namenode \u003d (NameNode)context.getAttribute(\"name.node\");\n      final String fullpath \u003d path.getAbsolutePath();\n      final HdfsFileStatus status \u003d namenode.getRpcServer().getFileInfo(fullpath);\n      final String js \u003d JsonUtil.toJsonString(status);\n      return Response.ok(js).type(MediaType.APPLICATION_JSON).build();\n\n    default:\n      throw new UnsupportedOperationException(op + \" is not supported\");\n    }    \n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/web/resources/NamenodeWebHdfsMethods.java"
    }
  }
}