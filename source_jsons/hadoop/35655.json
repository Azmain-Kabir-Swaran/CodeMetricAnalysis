{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "TimelineServiceV2Publisher.java",
  "functionName": "getTimelinelineAppMetrics",
  "functionId": "getTimelinelineAppMetrics___appMetrics-RMAppMetrics__timestamp-long",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/metrics/TimelineServiceV2Publisher.java",
  "functionStartLine": 205,
  "functionEndLine": 235,
  "numCommitsSeen": 27,
  "timeTaken": 1365,
  "changeHistory": [
    "93eeb13164707d0e3556c2bf737bd2ee09a335c6",
    "b154d3edcee95254d41c237142870f39e826a519"
  ],
  "changeHistoryShort": {
    "93eeb13164707d0e3556c2bf737bd2ee09a335c6": "Ybodychange",
    "b154d3edcee95254d41c237142870f39e826a519": "Yintroduced"
  },
  "changeHistoryDetails": {
    "93eeb13164707d0e3556c2bf737bd2ee09a335c6": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4218. Metric for resource*time that was preempted. Contributed by Chang Li.\n",
      "commitDate": "10/11/16 2:35 PM",
      "commitName": "93eeb13164707d0e3556c2bf737bd2ee09a335c6",
      "commitAuthor": "Eric Payne",
      "commitDateOld": "18/10/16 11:02 AM",
      "commitNameOld": "b154d3edcee95254d41c237142870f39e826a519",
      "commitAuthorOld": "Varun Saxena",
      "daysBetweenCommits": 23.19,
      "commitsBetweenForRepo": 251,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,25 +1,31 @@\n   private Set\u003cTimelineMetric\u003e getTimelinelineAppMetrics(\n       RMAppMetrics appMetrics, long timestamp) {\n     Set\u003cTimelineMetric\u003e entityMetrics \u003d new HashSet\u003cTimelineMetric\u003e();\n \n     entityMetrics.add(getTimelineMetric(\n         ApplicationMetricsConstants.APP_CPU_METRICS, timestamp,\n         appMetrics.getVcoreSeconds()));\n     entityMetrics.add(getTimelineMetric(\n         ApplicationMetricsConstants.APP_MEM_METRICS, timestamp,\n         appMetrics.getMemorySeconds()));\n     entityMetrics.add(getTimelineMetric(\n+            ApplicationMetricsConstants.APP_MEM_PREEMPT_METRICS, timestamp,\n+            appMetrics.getPreemptedMemorySeconds()));\n+    entityMetrics.add(getTimelineMetric(\n+            ApplicationMetricsConstants.APP_CPU_PREEMPT_METRICS, timestamp,\n+            appMetrics.getPreemptedVcoreSeconds()));\n+    entityMetrics.add(getTimelineMetric(\n         ApplicationMetricsConstants.APP_RESOURCE_PREEMPTED_CPU, timestamp,\n         appMetrics.getResourcePreempted().getVirtualCores()));\n     entityMetrics.add(getTimelineMetric(\n         ApplicationMetricsConstants.APP_RESOURCE_PREEMPTED_MEM, timestamp,\n         appMetrics.getResourcePreempted().getMemorySize()));\n     entityMetrics.add(getTimelineMetric(\n         ApplicationMetricsConstants.APP_NON_AM_CONTAINER_PREEMPTED, timestamp,\n         appMetrics.getNumNonAMContainersPreempted()));\n     entityMetrics.add(getTimelineMetric(\n         ApplicationMetricsConstants.APP_AM_CONTAINER_PREEMPTED, timestamp,\n         appMetrics.getNumAMContainersPreempted()));\n \n     return entityMetrics;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private Set\u003cTimelineMetric\u003e getTimelinelineAppMetrics(\n      RMAppMetrics appMetrics, long timestamp) {\n    Set\u003cTimelineMetric\u003e entityMetrics \u003d new HashSet\u003cTimelineMetric\u003e();\n\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_CPU_METRICS, timestamp,\n        appMetrics.getVcoreSeconds()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_MEM_METRICS, timestamp,\n        appMetrics.getMemorySeconds()));\n    entityMetrics.add(getTimelineMetric(\n            ApplicationMetricsConstants.APP_MEM_PREEMPT_METRICS, timestamp,\n            appMetrics.getPreemptedMemorySeconds()));\n    entityMetrics.add(getTimelineMetric(\n            ApplicationMetricsConstants.APP_CPU_PREEMPT_METRICS, timestamp,\n            appMetrics.getPreemptedVcoreSeconds()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_RESOURCE_PREEMPTED_CPU, timestamp,\n        appMetrics.getResourcePreempted().getVirtualCores()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_RESOURCE_PREEMPTED_MEM, timestamp,\n        appMetrics.getResourcePreempted().getMemorySize()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_NON_AM_CONTAINER_PREEMPTED, timestamp,\n        appMetrics.getNumNonAMContainersPreempted()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_AM_CONTAINER_PREEMPTED, timestamp,\n        appMetrics.getNumAMContainersPreempted()));\n\n    return entityMetrics;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/metrics/TimelineServiceV2Publisher.java",
      "extendedDetails": {}
    },
    "b154d3edcee95254d41c237142870f39e826a519": {
      "type": "Yintroduced",
      "commitMessage": "YARN-5743. [Atsv2] Publish queue name and RMAppMetrics to ATS (Rohith Sharma K S via Varun Saxena)\n",
      "commitDate": "18/10/16 11:02 AM",
      "commitName": "b154d3edcee95254d41c237142870f39e826a519",
      "commitAuthor": "Varun Saxena",
      "diff": "@@ -0,0 +1,25 @@\n+  private Set\u003cTimelineMetric\u003e getTimelinelineAppMetrics(\n+      RMAppMetrics appMetrics, long timestamp) {\n+    Set\u003cTimelineMetric\u003e entityMetrics \u003d new HashSet\u003cTimelineMetric\u003e();\n+\n+    entityMetrics.add(getTimelineMetric(\n+        ApplicationMetricsConstants.APP_CPU_METRICS, timestamp,\n+        appMetrics.getVcoreSeconds()));\n+    entityMetrics.add(getTimelineMetric(\n+        ApplicationMetricsConstants.APP_MEM_METRICS, timestamp,\n+        appMetrics.getMemorySeconds()));\n+    entityMetrics.add(getTimelineMetric(\n+        ApplicationMetricsConstants.APP_RESOURCE_PREEMPTED_CPU, timestamp,\n+        appMetrics.getResourcePreempted().getVirtualCores()));\n+    entityMetrics.add(getTimelineMetric(\n+        ApplicationMetricsConstants.APP_RESOURCE_PREEMPTED_MEM, timestamp,\n+        appMetrics.getResourcePreempted().getMemorySize()));\n+    entityMetrics.add(getTimelineMetric(\n+        ApplicationMetricsConstants.APP_NON_AM_CONTAINER_PREEMPTED, timestamp,\n+        appMetrics.getNumNonAMContainersPreempted()));\n+    entityMetrics.add(getTimelineMetric(\n+        ApplicationMetricsConstants.APP_AM_CONTAINER_PREEMPTED, timestamp,\n+        appMetrics.getNumAMContainersPreempted()));\n+\n+    return entityMetrics;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private Set\u003cTimelineMetric\u003e getTimelinelineAppMetrics(\n      RMAppMetrics appMetrics, long timestamp) {\n    Set\u003cTimelineMetric\u003e entityMetrics \u003d new HashSet\u003cTimelineMetric\u003e();\n\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_CPU_METRICS, timestamp,\n        appMetrics.getVcoreSeconds()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_MEM_METRICS, timestamp,\n        appMetrics.getMemorySeconds()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_RESOURCE_PREEMPTED_CPU, timestamp,\n        appMetrics.getResourcePreempted().getVirtualCores()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_RESOURCE_PREEMPTED_MEM, timestamp,\n        appMetrics.getResourcePreempted().getMemorySize()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_NON_AM_CONTAINER_PREEMPTED, timestamp,\n        appMetrics.getNumNonAMContainersPreempted()));\n    entityMetrics.add(getTimelineMetric(\n        ApplicationMetricsConstants.APP_AM_CONTAINER_PREEMPTED, timestamp,\n        appMetrics.getNumAMContainersPreempted()));\n\n    return entityMetrics;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/metrics/TimelineServiceV2Publisher.java"
    }
  }
}