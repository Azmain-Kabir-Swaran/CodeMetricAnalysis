{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "NativeIO.java",
  "functionName": "posixFadviseIfPossible",
  "functionId": "posixFadviseIfPossible___identifier-String__fd-FileDescriptor__offset-long__len-long__flags-int",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java",
  "functionStartLine": 293,
  "functionEndLine": 298,
  "numCommitsSeen": 48,
  "timeTaken": 2394,
  "changeHistory": [
    "21d10ccc6e463cf250414264c78acb4a6e7c83e3",
    "efea68dc3538de9aafae206d64903506e41fc9e1",
    "c1314eb2a382bd9ce045a2fcc4a9e5c1fc368a24",
    "78336e717be194683f863ca15a12cde90b9e936d"
  ],
  "changeHistoryShort": {
    "21d10ccc6e463cf250414264c78acb4a6e7c83e3": "Ybodychange",
    "efea68dc3538de9aafae206d64903506e41fc9e1": "Ymultichange(Ymodifierchange,Ybodychange)",
    "c1314eb2a382bd9ce045a2fcc4a9e5c1fc368a24": "Ymultichange(Yparameterchange,Ybodychange)",
    "78336e717be194683f863ca15a12cde90b9e936d": "Yintroduced"
  },
  "changeHistoryDetails": {
    "21d10ccc6e463cf250414264c78acb4a6e7c83e3": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-7824. NativeIO.java flags and identifiers must be set correctly for each platform, not hardcoded to their Linux values (Martin Walsh via Colin P. McCabe)\n",
      "commitDate": "31/07/15 3:01 PM",
      "commitName": "21d10ccc6e463cf250414264c78acb4a6e7c83e3",
      "commitAuthor": "Colin Patrick Mccabe",
      "commitDateOld": "22/07/15 11:34 AM",
      "commitNameOld": "1b3bceb58c8e536a75fa3f99cc3ceeaba91a07de",
      "commitAuthorOld": "Colin Patrick Mccabe",
      "daysBetweenCommits": 9.14,
      "commitsBetweenForRepo": 62,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,11 @@\n     static void posixFadviseIfPossible(String identifier,\n         FileDescriptor fd, long offset, long len, int flags)\n         throws NativeIOException {\n       if (nativeLoaded \u0026\u0026 fadvisePossible) {\n         try {\n           posix_fadvise(fd, offset, len, flags);\n-        } catch (UnsupportedOperationException uoe) {\n-          fadvisePossible \u003d false;\n         } catch (UnsatisfiedLinkError ule) {\n           fadvisePossible \u003d false;\n         }\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    static void posixFadviseIfPossible(String identifier,\n        FileDescriptor fd, long offset, long len, int flags)\n        throws NativeIOException {\n      if (nativeLoaded \u0026\u0026 fadvisePossible) {\n        try {\n          posix_fadvise(fd, offset, len, flags);\n        } catch (UnsatisfiedLinkError ule) {\n          fadvisePossible \u003d false;\n        }\n      }\n    }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java",
      "extendedDetails": {}
    },
    "efea68dc3538de9aafae206d64903506e41fc9e1": {
      "type": "Ymultichange(Ymodifierchange,Ybodychange)",
      "commitMessage": "HDFS-5511. improve CacheManipulator interface to allow better unit testing (cmccabe)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1543676 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/11/13 4:48 PM",
      "commitName": "efea68dc3538de9aafae206d64903506e41fc9e1",
      "commitAuthor": "Colin McCabe",
      "subchanges": [
        {
          "type": "Ymodifierchange",
          "commitMessage": "HDFS-5511. improve CacheManipulator interface to allow better unit testing (cmccabe)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1543676 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "19/11/13 4:48 PM",
          "commitName": "efea68dc3538de9aafae206d64903506e41fc9e1",
          "commitAuthor": "Colin McCabe",
          "commitDateOld": "13/11/13 10:18 AM",
          "commitNameOld": "3c591aa442d342bdd4a0c4abe9a43c64d8ef3e65",
          "commitAuthorOld": "Colin McCabe",
          "daysBetweenCommits": 6.27,
          "commitsBetweenForRepo": 55,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,16 +1,13 @@\n-    public static void posixFadviseIfPossible(String identifier,\n+    static void posixFadviseIfPossible(String identifier,\n         FileDescriptor fd, long offset, long len, int flags)\n         throws NativeIOException {\n-      if (cacheTracker !\u003d null) {\n-        cacheTracker.fadvise(identifier, offset, len, flags);\n-      }\n       if (nativeLoaded \u0026\u0026 fadvisePossible) {\n         try {\n           posix_fadvise(fd, offset, len, flags);\n         } catch (UnsupportedOperationException uoe) {\n           fadvisePossible \u003d false;\n         } catch (UnsatisfiedLinkError ule) {\n           fadvisePossible \u003d false;\n         }\n       }\n     }\n\\ No newline at end of file\n",
          "actualSource": "    static void posixFadviseIfPossible(String identifier,\n        FileDescriptor fd, long offset, long len, int flags)\n        throws NativeIOException {\n      if (nativeLoaded \u0026\u0026 fadvisePossible) {\n        try {\n          posix_fadvise(fd, offset, len, flags);\n        } catch (UnsupportedOperationException uoe) {\n          fadvisePossible \u003d false;\n        } catch (UnsatisfiedLinkError ule) {\n          fadvisePossible \u003d false;\n        }\n      }\n    }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java",
          "extendedDetails": {
            "oldValue": "[public, static]",
            "newValue": "[static]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-5511. improve CacheManipulator interface to allow better unit testing (cmccabe)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1543676 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "19/11/13 4:48 PM",
          "commitName": "efea68dc3538de9aafae206d64903506e41fc9e1",
          "commitAuthor": "Colin McCabe",
          "commitDateOld": "13/11/13 10:18 AM",
          "commitNameOld": "3c591aa442d342bdd4a0c4abe9a43c64d8ef3e65",
          "commitAuthorOld": "Colin McCabe",
          "daysBetweenCommits": 6.27,
          "commitsBetweenForRepo": 55,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,16 +1,13 @@\n-    public static void posixFadviseIfPossible(String identifier,\n+    static void posixFadviseIfPossible(String identifier,\n         FileDescriptor fd, long offset, long len, int flags)\n         throws NativeIOException {\n-      if (cacheTracker !\u003d null) {\n-        cacheTracker.fadvise(identifier, offset, len, flags);\n-      }\n       if (nativeLoaded \u0026\u0026 fadvisePossible) {\n         try {\n           posix_fadvise(fd, offset, len, flags);\n         } catch (UnsupportedOperationException uoe) {\n           fadvisePossible \u003d false;\n         } catch (UnsatisfiedLinkError ule) {\n           fadvisePossible \u003d false;\n         }\n       }\n     }\n\\ No newline at end of file\n",
          "actualSource": "    static void posixFadviseIfPossible(String identifier,\n        FileDescriptor fd, long offset, long len, int flags)\n        throws NativeIOException {\n      if (nativeLoaded \u0026\u0026 fadvisePossible) {\n        try {\n          posix_fadvise(fd, offset, len, flags);\n        } catch (UnsupportedOperationException uoe) {\n          fadvisePossible \u003d false;\n        } catch (UnsatisfiedLinkError ule) {\n          fadvisePossible \u003d false;\n        }\n      }\n    }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java",
          "extendedDetails": {}
        }
      ]
    },
    "c1314eb2a382bd9ce045a2fcc4a9e5c1fc368a24": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-4817.  Make HDFS advisory caching configurable on a per-file basis.  (Colin Patrick McCabe)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1505753 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "22/07/13 11:15 AM",
      "commitName": "c1314eb2a382bd9ce045a2fcc4a9e5c1fc368a24",
      "commitAuthor": "Colin McCabe",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-4817.  Make HDFS advisory caching configurable on a per-file basis.  (Colin Patrick McCabe)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1505753 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "22/07/13 11:15 AM",
          "commitName": "c1314eb2a382bd9ce045a2fcc4a9e5c1fc368a24",
          "commitAuthor": "Colin McCabe",
          "commitDateOld": "24/06/13 9:21 AM",
          "commitNameOld": "ca35235b04b7eb60635a62a0f517d214adc32ba7",
          "commitAuthorOld": "Colin McCabe",
          "daysBetweenCommits": 28.08,
          "commitsBetweenForRepo": 136,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,16 @@\n-    public static void posixFadviseIfPossible(\n+    public static void posixFadviseIfPossible(String identifier,\n         FileDescriptor fd, long offset, long len, int flags)\n         throws NativeIOException {\n+      if (cacheTracker !\u003d null) {\n+        cacheTracker.fadvise(identifier, offset, len, flags);\n+      }\n       if (nativeLoaded \u0026\u0026 fadvisePossible) {\n         try {\n           posix_fadvise(fd, offset, len, flags);\n         } catch (UnsupportedOperationException uoe) {\n           fadvisePossible \u003d false;\n         } catch (UnsatisfiedLinkError ule) {\n           fadvisePossible \u003d false;\n         }\n       }\n     }\n\\ No newline at end of file\n",
          "actualSource": "    public static void posixFadviseIfPossible(String identifier,\n        FileDescriptor fd, long offset, long len, int flags)\n        throws NativeIOException {\n      if (cacheTracker !\u003d null) {\n        cacheTracker.fadvise(identifier, offset, len, flags);\n      }\n      if (nativeLoaded \u0026\u0026 fadvisePossible) {\n        try {\n          posix_fadvise(fd, offset, len, flags);\n        } catch (UnsupportedOperationException uoe) {\n          fadvisePossible \u003d false;\n        } catch (UnsatisfiedLinkError ule) {\n          fadvisePossible \u003d false;\n        }\n      }\n    }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java",
          "extendedDetails": {
            "oldValue": "[fd-FileDescriptor, offset-long, len-long, flags-int]",
            "newValue": "[identifier-String, fd-FileDescriptor, offset-long, len-long, flags-int]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-4817.  Make HDFS advisory caching configurable on a per-file basis.  (Colin Patrick McCabe)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1505753 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "22/07/13 11:15 AM",
          "commitName": "c1314eb2a382bd9ce045a2fcc4a9e5c1fc368a24",
          "commitAuthor": "Colin McCabe",
          "commitDateOld": "24/06/13 9:21 AM",
          "commitNameOld": "ca35235b04b7eb60635a62a0f517d214adc32ba7",
          "commitAuthorOld": "Colin McCabe",
          "daysBetweenCommits": 28.08,
          "commitsBetweenForRepo": 136,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,16 @@\n-    public static void posixFadviseIfPossible(\n+    public static void posixFadviseIfPossible(String identifier,\n         FileDescriptor fd, long offset, long len, int flags)\n         throws NativeIOException {\n+      if (cacheTracker !\u003d null) {\n+        cacheTracker.fadvise(identifier, offset, len, flags);\n+      }\n       if (nativeLoaded \u0026\u0026 fadvisePossible) {\n         try {\n           posix_fadvise(fd, offset, len, flags);\n         } catch (UnsupportedOperationException uoe) {\n           fadvisePossible \u003d false;\n         } catch (UnsatisfiedLinkError ule) {\n           fadvisePossible \u003d false;\n         }\n       }\n     }\n\\ No newline at end of file\n",
          "actualSource": "    public static void posixFadviseIfPossible(String identifier,\n        FileDescriptor fd, long offset, long len, int flags)\n        throws NativeIOException {\n      if (cacheTracker !\u003d null) {\n        cacheTracker.fadvise(identifier, offset, len, flags);\n      }\n      if (nativeLoaded \u0026\u0026 fadvisePossible) {\n        try {\n          posix_fadvise(fd, offset, len, flags);\n        } catch (UnsupportedOperationException uoe) {\n          fadvisePossible \u003d false;\n        } catch (UnsatisfiedLinkError ule) {\n          fadvisePossible \u003d false;\n        }\n      }\n    }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java",
          "extendedDetails": {}
        }
      ]
    },
    "78336e717be194683f863ca15a12cde90b9e936d": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7753. Support fadvise and sync_file_range in NativeIO. Add ReadaheadPool infrastructure for use in HDFS and MR. Contributed by Todd Lipcon.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1190067 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "27/10/11 3:19 PM",
      "commitName": "78336e717be194683f863ca15a12cde90b9e936d",
      "commitAuthor": "Todd Lipcon",
      "diff": "@@ -0,0 +1,13 @@\n+  public static void posixFadviseIfPossible(\n+      FileDescriptor fd, long offset, long len, int flags)\n+      throws NativeIOException {\n+    if (nativeLoaded \u0026\u0026 fadvisePossible) {\n+      try {\n+        posix_fadvise(fd, offset, len, flags);\n+      } catch (UnsupportedOperationException uoe) {\n+        fadvisePossible \u003d false;\n+      } catch (UnsatisfiedLinkError ule) {\n+        fadvisePossible \u003d false;\n+      }\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static void posixFadviseIfPossible(\n      FileDescriptor fd, long offset, long len, int flags)\n      throws NativeIOException {\n    if (nativeLoaded \u0026\u0026 fadvisePossible) {\n      try {\n        posix_fadvise(fd, offset, len, flags);\n      } catch (UnsupportedOperationException uoe) {\n        fadvisePossible \u003d false;\n      } catch (UnsatisfiedLinkError ule) {\n        fadvisePossible \u003d false;\n      }\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/nativeio/NativeIO.java"
    }
  }
}