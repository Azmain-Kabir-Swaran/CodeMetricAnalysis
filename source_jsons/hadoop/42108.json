{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMStateStore.java",
  "functionName": "storeNewApplicationAttempt",
  "functionId": "storeNewApplicationAttempt___appAttempt-RMAppAttempt",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
  "functionStartLine": 985,
  "functionEndLine": 1001,
  "numCommitsSeen": 95,
  "timeTaken": 5251,
  "changeHistory": [
    "6ce189c62132706d9aaee5abf020ae4dc783ba26",
    "dae65f3bef8ffa34d02a37041f1dfdfeeee91845",
    "d65603517e52843f11cd9d3b6f6e28fca9336ee3",
    "93eeb13164707d0e3556c2bf737bd2ee09a335c6",
    "6b9a5beb2b2f9589ef86670f2d763e8488ee5e90",
    "5805a81efbc024024d8172489dfdc6cf77879416",
    "83be3ad44484bf8a24cb90de4b9c26ab59d226a8",
    "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6",
    "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732",
    "74231f027607ff1a6fe7d72fad28108826963cf3",
    "6cd0736cc57849e4f7c5d38a3986432a9717fe39"
  ],
  "changeHistoryShort": {
    "6ce189c62132706d9aaee5abf020ae4dc783ba26": "Ybodychange",
    "dae65f3bef8ffa34d02a37041f1dfdfeeee91845": "Ybodychange",
    "d65603517e52843f11cd9d3b6f6e28fca9336ee3": "Ybodychange",
    "93eeb13164707d0e3556c2bf737bd2ee09a335c6": "Ybodychange",
    "6b9a5beb2b2f9589ef86670f2d763e8488ee5e90": "Ymodifierchange",
    "5805a81efbc024024d8172489dfdc6cf77879416": "Ybodychange",
    "83be3ad44484bf8a24cb90de4b9c26ab59d226a8": "Ybodychange",
    "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6": "Ymultichange(Yrename,Ybodychange)",
    "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732": "Ybodychange",
    "74231f027607ff1a6fe7d72fad28108826963cf3": "Ybodychange",
    "6cd0736cc57849e4f7c5d38a3986432a9717fe39": "Yintroduced"
  },
  "changeHistoryDetails": {
    "6ce189c62132706d9aaee5abf020ae4dc783ba26": {
      "type": "Ybodychange",
      "commitMessage": "YARN-10200. Add number of containers to RMAppManager summary\n",
      "commitDate": "25/03/20 10:41 AM",
      "commitName": "6ce189c62132706d9aaee5abf020ae4dc783ba26",
      "commitAuthor": "Jonathan Hung",
      "commitDateOld": "09/09/19 12:23 AM",
      "commitNameOld": "387c332b64e4b785e383162c9d6a3613aca4ac5c",
      "commitAuthorOld": "Jonathan Hung",
      "daysBetweenCommits": 198.43,
      "commitsBetweenForRepo": 855,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,17 @@\n   public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n     Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n     RMAppAttemptMetrics attempMetrics \u003d appAttempt.getRMAppAttemptMetrics();\n     AggregateAppResourceUsage resUsage \u003d\n         attempMetrics.getAggregateAppResourceUsage();\n     ApplicationAttemptStateData attemptState \u003d\n         ApplicationAttemptStateData.newInstance(\n             appAttempt.getAppAttemptId(),\n             appAttempt.getMasterContainer(),\n             credentials, appAttempt.getStartTime(),\n             resUsage.getResourceUsageSecondsMap(),\n-            attempMetrics.getPreemptedResourceSecondsMap());\n+            attempMetrics.getPreemptedResourceSecondsMap(),\n+            attempMetrics.getTotalAllocatedContainers());\n \n     getRMStateStoreEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n    RMAppAttemptMetrics attempMetrics \u003d appAttempt.getRMAppAttemptMetrics();\n    AggregateAppResourceUsage resUsage \u003d\n        attempMetrics.getAggregateAppResourceUsage();\n    ApplicationAttemptStateData attemptState \u003d\n        ApplicationAttemptStateData.newInstance(\n            appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(),\n            credentials, appAttempt.getStartTime(),\n            resUsage.getResourceUsageSecondsMap(),\n            attempMetrics.getPreemptedResourceSecondsMap(),\n            attempMetrics.getTotalAllocatedContainers());\n\n    getRMStateStoreEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "dae65f3bef8ffa34d02a37041f1dfdfeeee91845": {
      "type": "Ybodychange",
      "commitMessage": "YARN-6232. Update resource usage and preempted resource calculations to take into account all resource types. Contributed by Varun Vasudev.\n",
      "commitDate": "12/09/17 9:19 AM",
      "commitName": "dae65f3bef8ffa34d02a37041f1dfdfeeee91845",
      "commitAuthor": "Sunil G",
      "commitDateOld": "01/08/17 5:28 PM",
      "commitNameOld": "712e97d4cfab15bec4cf4b11cc067b8f85c8bec8",
      "commitAuthorOld": "Subru Krishnan",
      "daysBetweenCommits": 41.66,
      "commitsBetweenForRepo": 343,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,16 @@\n   public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n     Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n     RMAppAttemptMetrics attempMetrics \u003d appAttempt.getRMAppAttemptMetrics();\n     AggregateAppResourceUsage resUsage \u003d\n         attempMetrics.getAggregateAppResourceUsage();\n     ApplicationAttemptStateData attemptState \u003d\n         ApplicationAttemptStateData.newInstance(\n             appAttempt.getAppAttemptId(),\n             appAttempt.getMasterContainer(),\n             credentials, appAttempt.getStartTime(),\n-            resUsage.getMemorySeconds(),\n-            resUsage.getVcoreSeconds(),\n-            attempMetrics.getPreemptedMemory(),\n-            attempMetrics.getPreemptedVcore()\n-            );\n+            resUsage.getResourceUsageSecondsMap(),\n+            attempMetrics.getPreemptedResourceSecondsMap());\n \n     getRMStateStoreEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n    RMAppAttemptMetrics attempMetrics \u003d appAttempt.getRMAppAttemptMetrics();\n    AggregateAppResourceUsage resUsage \u003d\n        attempMetrics.getAggregateAppResourceUsage();\n    ApplicationAttemptStateData attemptState \u003d\n        ApplicationAttemptStateData.newInstance(\n            appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(),\n            credentials, appAttempt.getStartTime(),\n            resUsage.getResourceUsageSecondsMap(),\n            attempMetrics.getPreemptedResourceSecondsMap());\n\n    getRMStateStoreEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "d65603517e52843f11cd9d3b6f6e28fca9336ee3": {
      "type": "Ybodychange",
      "commitMessage": "YARN-5375. invoke MockRM#drainEvents implicitly in MockRM methods to reduce test failures. Contributed by sandflee.\n",
      "commitDate": "16/11/16 1:44 AM",
      "commitName": "d65603517e52843f11cd9d3b6f6e28fca9336ee3",
      "commitAuthor": "Rohith Sharma K S",
      "commitDateOld": "14/11/16 9:28 PM",
      "commitNameOld": "b7070f3308fc4c6a8a9a25021562169cae87d223",
      "commitAuthorOld": "Rohith Sharma K S",
      "daysBetweenCommits": 1.18,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,19 @@\n   public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n     Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n     RMAppAttemptMetrics attempMetrics \u003d appAttempt.getRMAppAttemptMetrics();\n     AggregateAppResourceUsage resUsage \u003d\n         attempMetrics.getAggregateAppResourceUsage();\n     ApplicationAttemptStateData attemptState \u003d\n         ApplicationAttemptStateData.newInstance(\n             appAttempt.getAppAttemptId(),\n             appAttempt.getMasterContainer(),\n             credentials, appAttempt.getStartTime(),\n             resUsage.getMemorySeconds(),\n             resUsage.getVcoreSeconds(),\n             attempMetrics.getPreemptedMemory(),\n             attempMetrics.getPreemptedVcore()\n             );\n \n-    dispatcher.getEventHandler().handle(\n+    getRMStateStoreEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n    RMAppAttemptMetrics attempMetrics \u003d appAttempt.getRMAppAttemptMetrics();\n    AggregateAppResourceUsage resUsage \u003d\n        attempMetrics.getAggregateAppResourceUsage();\n    ApplicationAttemptStateData attemptState \u003d\n        ApplicationAttemptStateData.newInstance(\n            appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(),\n            credentials, appAttempt.getStartTime(),\n            resUsage.getMemorySeconds(),\n            resUsage.getVcoreSeconds(),\n            attempMetrics.getPreemptedMemory(),\n            attempMetrics.getPreemptedVcore()\n            );\n\n    getRMStateStoreEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "93eeb13164707d0e3556c2bf737bd2ee09a335c6": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4218. Metric for resource*time that was preempted. Contributed by Chang Li.\n",
      "commitDate": "10/11/16 2:35 PM",
      "commitName": "93eeb13164707d0e3556c2bf737bd2ee09a335c6",
      "commitAuthor": "Eric Payne",
      "commitDateOld": "09/11/16 4:08 PM",
      "commitNameOld": "bcc15c6290b3912a054323695a6a931b0de163bd",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 0.94,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,19 @@\n   public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n     Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n-\n+    RMAppAttemptMetrics attempMetrics \u003d appAttempt.getRMAppAttemptMetrics();\n     AggregateAppResourceUsage resUsage \u003d\n-        appAttempt.getRMAppAttemptMetrics().getAggregateAppResourceUsage();\n+        attempMetrics.getAggregateAppResourceUsage();\n     ApplicationAttemptStateData attemptState \u003d\n         ApplicationAttemptStateData.newInstance(\n             appAttempt.getAppAttemptId(),\n             appAttempt.getMasterContainer(),\n             credentials, appAttempt.getStartTime(),\n             resUsage.getMemorySeconds(),\n-            resUsage.getVcoreSeconds());\n+            resUsage.getVcoreSeconds(),\n+            attempMetrics.getPreemptedMemory(),\n+            attempMetrics.getPreemptedVcore()\n+            );\n \n     dispatcher.getEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n    RMAppAttemptMetrics attempMetrics \u003d appAttempt.getRMAppAttemptMetrics();\n    AggregateAppResourceUsage resUsage \u003d\n        attempMetrics.getAggregateAppResourceUsage();\n    ApplicationAttemptStateData attemptState \u003d\n        ApplicationAttemptStateData.newInstance(\n            appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(),\n            credentials, appAttempt.getStartTime(),\n            resUsage.getMemorySeconds(),\n            resUsage.getVcoreSeconds(),\n            attempMetrics.getPreemptedMemory(),\n            attempMetrics.getPreemptedVcore()\n            );\n\n    dispatcher.getEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "6b9a5beb2b2f9589ef86670f2d763e8488ee5e90": {
      "type": "Ymodifierchange",
      "commitMessage": "YARN-4398. Remove unnecessary synchronization in RMStateStore. Contributed by Ning Ding\n",
      "commitDate": "02/12/15 11:07 AM",
      "commitName": "6b9a5beb2b2f9589ef86670f2d763e8488ee5e90",
      "commitAuthor": "Jian He",
      "commitDateOld": "23/11/15 5:19 PM",
      "commitNameOld": "8676a118a12165ae5a8b80a2a4596c133471ebc1",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 8.74,
      "commitsBetweenForRepo": 57,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,16 @@\n-  public synchronized void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n+  public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n     Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n \n     AggregateAppResourceUsage resUsage \u003d\n         appAttempt.getRMAppAttemptMetrics().getAggregateAppResourceUsage();\n     ApplicationAttemptStateData attemptState \u003d\n         ApplicationAttemptStateData.newInstance(\n             appAttempt.getAppAttemptId(),\n             appAttempt.getMasterContainer(),\n             credentials, appAttempt.getStartTime(),\n             resUsage.getMemorySeconds(),\n             resUsage.getVcoreSeconds());\n \n     dispatcher.getEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n\n    AggregateAppResourceUsage resUsage \u003d\n        appAttempt.getRMAppAttemptMetrics().getAggregateAppResourceUsage();\n    ApplicationAttemptStateData attemptState \u003d\n        ApplicationAttemptStateData.newInstance(\n            appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(),\n            credentials, appAttempt.getStartTime(),\n            resUsage.getMemorySeconds(),\n            resUsage.getVcoreSeconds());\n\n    dispatcher.getEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {
        "oldValue": "[public, synchronized]",
        "newValue": "[public]"
      }
    },
    "5805a81efbc024024d8172489dfdc6cf77879416": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2404. Removed ApplicationAttemptState and ApplicationState class in RMStateStore. Contributed by Tsuyoshi OZAWA\n",
      "commitDate": "25/11/14 12:48 PM",
      "commitName": "5805a81efbc024024d8172489dfdc6cf77879416",
      "commitAuthor": "Jian He",
      "commitDateOld": "14/11/14 5:24 PM",
      "commitNameOld": "9b860661a5754e829bd8c34ef092757421589bbe",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 10.81,
      "commitsBetweenForRepo": 55,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,16 @@\n   public synchronized void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n     Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n \n     AggregateAppResourceUsage resUsage \u003d\n         appAttempt.getRMAppAttemptMetrics().getAggregateAppResourceUsage();\n-    ApplicationAttemptState attemptState \u003d\n-        new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n-          appAttempt.getMasterContainer(), credentials,\n-          appAttempt.getStartTime(), resUsage.getMemorySeconds(),\n-          resUsage.getVcoreSeconds());\n+    ApplicationAttemptStateData attemptState \u003d\n+        ApplicationAttemptStateData.newInstance(\n+            appAttempt.getAppAttemptId(),\n+            appAttempt.getMasterContainer(),\n+            credentials, appAttempt.getStartTime(),\n+            resUsage.getMemorySeconds(),\n+            resUsage.getVcoreSeconds());\n \n     dispatcher.getEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n\n    AggregateAppResourceUsage resUsage \u003d\n        appAttempt.getRMAppAttemptMetrics().getAggregateAppResourceUsage();\n    ApplicationAttemptStateData attemptState \u003d\n        ApplicationAttemptStateData.newInstance(\n            appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(),\n            credentials, appAttempt.getStartTime(),\n            resUsage.getMemorySeconds(),\n            resUsage.getVcoreSeconds());\n\n    dispatcher.getEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "83be3ad44484bf8a24cb90de4b9c26ab59d226a8": {
      "type": "Ybodychange",
      "commitMessage": "YARN-415. Capture aggregate memory allocation at the app-level for chargeback. Contributed by Eric Payne \u0026 Andrey Klochkov\n",
      "commitDate": "10/09/14 6:20 PM",
      "commitName": "83be3ad44484bf8a24cb90de4b9c26ab59d226a8",
      "commitAuthor": "Jian He",
      "commitDateOld": "11/08/14 11:24 AM",
      "commitNameOld": "c4dc6853439d54076c6875e66accfc61dddf74d1",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 30.29,
      "commitsBetweenForRepo": 242,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,14 @@\n   public synchronized void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n     Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n \n+    AggregateAppResourceUsage resUsage \u003d\n+        appAttempt.getRMAppAttemptMetrics().getAggregateAppResourceUsage();\n     ApplicationAttemptState attemptState \u003d\n         new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n           appAttempt.getMasterContainer(), credentials,\n-          appAttempt.getStartTime());\n+          appAttempt.getStartTime(), resUsage.getMemorySeconds(),\n+          resUsage.getVcoreSeconds());\n \n     dispatcher.getEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n\n    AggregateAppResourceUsage resUsage \u003d\n        appAttempt.getRMAppAttemptMetrics().getAggregateAppResourceUsage();\n    ApplicationAttemptState attemptState \u003d\n        new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n          appAttempt.getMasterContainer(), credentials,\n          appAttempt.getStartTime(), resUsage.getMemorySeconds(),\n          resUsage.getVcoreSeconds());\n\n    dispatcher.getEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6": {
      "type": "Ymultichange(Yrename,Ybodychange)",
      "commitMessage": "YARN-891. Modified ResourceManager state-store to remember completed applications so that clients can get information about them post RM-restart. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1537560 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "31/10/13 10:25 AM",
      "commitName": "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "YARN-891. Modified ResourceManager state-store to remember completed applications so that clients can get information about them post RM-restart. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1537560 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "31/10/13 10:25 AM",
          "commitName": "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "19/09/13 1:39 PM",
          "commitNameOld": "8628c1704b7d8c1a0ac01cea679c03245d11d330",
          "commitAuthorOld": "Hitesh Shah",
          "daysBetweenCommits": 41.87,
          "commitsBetweenForRepo": 291,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,11 @@\n-  public synchronized void storeApplicationAttempt(RMAppAttempt appAttempt) {\n+  public synchronized void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n     Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n \n     ApplicationAttemptState attemptState \u003d\n         new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n-          appAttempt.getMasterContainer(), credentials);\n+          appAttempt.getMasterContainer(), credentials,\n+          appAttempt.getStartTime());\n \n     dispatcher.getEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n\n    ApplicationAttemptState attemptState \u003d\n        new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n          appAttempt.getMasterContainer(), credentials,\n          appAttempt.getStartTime());\n\n    dispatcher.getEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
          "extendedDetails": {
            "oldValue": "storeApplicationAttempt",
            "newValue": "storeNewApplicationAttempt"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-891. Modified ResourceManager state-store to remember completed applications so that clients can get information about them post RM-restart. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1537560 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "31/10/13 10:25 AM",
          "commitName": "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "19/09/13 1:39 PM",
          "commitNameOld": "8628c1704b7d8c1a0ac01cea679c03245d11d330",
          "commitAuthorOld": "Hitesh Shah",
          "daysBetweenCommits": 41.87,
          "commitsBetweenForRepo": 291,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,11 @@\n-  public synchronized void storeApplicationAttempt(RMAppAttempt appAttempt) {\n+  public synchronized void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n     Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n \n     ApplicationAttemptState attemptState \u003d\n         new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n-          appAttempt.getMasterContainer(), credentials);\n+          appAttempt.getMasterContainer(), credentials,\n+          appAttempt.getStartTime());\n \n     dispatcher.getEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void storeNewApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n\n    ApplicationAttemptState attemptState \u003d\n        new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n          appAttempt.getMasterContainer(), credentials,\n          appAttempt.getStartTime());\n\n    dispatcher.getEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
          "extendedDetails": {}
        }
      ]
    },
    "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732": {
      "type": "Ybodychange",
      "commitMessage": "YARN-707. Added user information also in the YARN ClientToken so that AMs can implement authorization based on incoming users. Contributed by Jason Lowe.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1518868 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/08/13 6:12 PM",
      "commitName": "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "21/08/13 4:55 PM",
      "commitNameOld": "ad0011a3405fee6c6e45996d39557e0f8d420633",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 8.05,
      "commitsBetweenForRepo": 48,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   public synchronized void storeApplicationAttempt(RMAppAttempt appAttempt) {\n-    Credentials credentials \u003d getTokensFromAppAttempt(appAttempt);\n+    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n \n     ApplicationAttemptState attemptState \u003d\n         new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n           appAttempt.getMasterContainer(), credentials);\n \n     dispatcher.getEventHandler().handle(\n       new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void storeApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n\n    ApplicationAttemptState attemptState \u003d\n        new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n          appAttempt.getMasterContainer(), credentials);\n\n    dispatcher.getEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "74231f027607ff1a6fe7d72fad28108826963cf3": {
      "type": "Ybodychange",
      "commitMessage": "YARN-582. Changed ResourceManager to recover Application token and client tokens for app attempt so that RM can be restarted while preserving current applications. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1480168 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/05/13 11:20 PM",
      "commitName": "74231f027607ff1a6fe7d72fad28108826963cf3",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "26/04/13 11:02 AM",
      "commitNameOld": "f0ac5a849c24c20f891c2a43af412030e7af2b9b",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 11.51,
      "commitsBetweenForRepo": 64,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,10 @@\n   public synchronized void storeApplicationAttempt(RMAppAttempt appAttempt) {\n-    ApplicationAttemptState attemptState \u003d new ApplicationAttemptState(\n-                appAttempt.getAppAttemptId(), appAttempt.getMasterContainer());\n+    Credentials credentials \u003d getTokensFromAppAttempt(appAttempt);\n+\n+    ApplicationAttemptState attemptState \u003d\n+        new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n+          appAttempt.getMasterContainer(), credentials);\n+\n     dispatcher.getEventHandler().handle(\n-                                new RMStateStoreAppAttemptEvent(attemptState));\n+      new RMStateStoreAppAttemptEvent(attemptState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void storeApplicationAttempt(RMAppAttempt appAttempt) {\n    Credentials credentials \u003d getTokensFromAppAttempt(appAttempt);\n\n    ApplicationAttemptState attemptState \u003d\n        new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n          appAttempt.getMasterContainer(), credentials);\n\n    dispatcher.getEventHandler().handle(\n      new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "6cd0736cc57849e4f7c5d38a3986432a9717fe39": {
      "type": "Yintroduced",
      "commitMessage": "YARN-230. RM Restart phase 1 - includes support for saving/restarting all applications on an RM bounce. Contributed by Bikas Saha.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1423758 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/12/12 8:21 PM",
      "commitName": "6cd0736cc57849e4f7c5d38a3986432a9717fe39",
      "commitAuthor": "Arun Murthy",
      "diff": "@@ -0,0 +1,6 @@\n+  public synchronized void storeApplicationAttempt(RMAppAttempt appAttempt) {\n+    ApplicationAttemptState attemptState \u003d new ApplicationAttemptState(\n+                appAttempt.getAppAttemptId(), appAttempt.getMasterContainer());\n+    dispatcher.getEventHandler().handle(\n+                                new RMStateStoreAppAttemptEvent(attemptState));\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void storeApplicationAttempt(RMAppAttempt appAttempt) {\n    ApplicationAttemptState attemptState \u003d new ApplicationAttemptState(\n                appAttempt.getAppAttemptId(), appAttempt.getMasterContainer());\n    dispatcher.getEventHandler().handle(\n                                new RMStateStoreAppAttemptEvent(attemptState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java"
    }
  }
}