{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSNamesystem.java",
  "functionName": "clear",
  "functionId": "clear",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
  "functionStartLine": 673,
  "functionEndLine": 682,
  "numCommitsSeen": 873,
  "timeTaken": 46637,
  "changeHistory": [
    "cb672a45a0bbd8950b9b5e304c2e03f516945903",
    "c304890c8c7782d835896859f5b7f60b96c306c0",
    "1d37a8812160bb030244a1e6b1c753f962d8d2ed",
    "ac97edd1abcca2be93aa3a8dcdc642734c7c00ab",
    "e8df2581c3293d0b6c43862edbf034f9e7851dbf",
    "85aec75ce53445e1abf840076d2e10f1e3c6d69b",
    "185e0c7b4c056b88f606362c71e4a22aae7076e0",
    "571e9c623241106dad5521a870fb8daef3f2b00a",
    "a4e0ff5e052abad498595ee198b49c5310c9ec0d",
    "c96d0780335de83a694e93cf8b8fc46d2288fe9d",
    "75a162ff92d365d88ed253335b52aaa3709f6365",
    "6770de7ec4f73e16740f1723f4e35d2fef2c22c8",
    "36c5fe9961a905385282d1a05ced08c83684dd02",
    "0fa9c7a825f444d50c89b986bacea7a547e4ab8b",
    "d4d2bf73a9181a5bfdc0fd99328c7ee4ec998b4e"
  ],
  "changeHistoryShort": {
    "cb672a45a0bbd8950b9b5e304c2e03f516945903": "Ybodychange",
    "c304890c8c7782d835896859f5b7f60b96c306c0": "Ybodychange",
    "1d37a8812160bb030244a1e6b1c753f962d8d2ed": "Ybodychange",
    "ac97edd1abcca2be93aa3a8dcdc642734c7c00ab": "Ybodychange",
    "e8df2581c3293d0b6c43862edbf034f9e7851dbf": "Ybodychange",
    "85aec75ce53445e1abf840076d2e10f1e3c6d69b": "Ybodychange",
    "185e0c7b4c056b88f606362c71e4a22aae7076e0": "Ybodychange",
    "571e9c623241106dad5521a870fb8daef3f2b00a": "Ybodychange",
    "a4e0ff5e052abad498595ee198b49c5310c9ec0d": "Ybodychange",
    "c96d0780335de83a694e93cf8b8fc46d2288fe9d": "Ybodychange",
    "75a162ff92d365d88ed253335b52aaa3709f6365": "Ybodychange",
    "6770de7ec4f73e16740f1723f4e35d2fef2c22c8": "Ybodychange",
    "36c5fe9961a905385282d1a05ced08c83684dd02": "Ybodychange",
    "0fa9c7a825f444d50c89b986bacea7a547e4ab8b": "Ybodychange",
    "d4d2bf73a9181a5bfdc0fd99328c7ee4ec998b4e": "Yintroduced"
  },
  "changeHistoryDetails": {
    "cb672a45a0bbd8950b9b5e304c2e03f516945903": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-11605. Allow user to customize new erasure code policies. Contributed by Huafeng Wang\n",
      "commitDate": "27/04/17 10:18 PM",
      "commitName": "cb672a45a0bbd8950b9b5e304c2e03f516945903",
      "commitAuthor": "Kai Zheng",
      "commitDateOld": "21/04/17 8:35 PM",
      "commitNameOld": "20e3ae260b40cd6ef657b2a629a02219d68f162f",
      "commitAuthorOld": "Yongjun Zhang",
      "daysBetweenCommits": 6.07,
      "commitsBetweenForRepo": 33,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     leaseManager.removeAllLeases();\n     snapshotManager.clearSnapshottableDirs();\n     cacheManager.clear();\n-    ecPolicyManager.clear();\n     setImageLoaded(false);\n     blockManager.clear();\n+    ErasureCodingPolicyManager.getInstance().clear();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    leaseManager.removeAllLeases();\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n    setImageLoaded(false);\n    blockManager.clear();\n    ErasureCodingPolicyManager.getInstance().clear();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "c304890c8c7782d835896859f5b7f60b96c306c0": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9542. Move BlockIdManager from FSNamesystem to BlockManager. Contributed by Jing Zhao.\n",
      "commitDate": "21/01/16 11:13 AM",
      "commitName": "c304890c8c7782d835896859f5b7f60b96c306c0",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "06/01/16 10:30 AM",
      "commitNameOld": "67c9780609f707c11626f05028ddfd28f1b878f1",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 15.03,
      "commitsBetweenForRepo": 115,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,10 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n-    blockIdManager.clear();\n     leaseManager.removeAllLeases();\n     snapshotManager.clearSnapshottableDirs();\n     cacheManager.clear();\n     ecPolicyManager.clear();\n     setImageLoaded(false);\n     blockManager.clear();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    leaseManager.removeAllLeases();\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n    ecPolicyManager.clear();\n    setImageLoaded(false);\n    blockManager.clear();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "1d37a8812160bb030244a1e6b1c753f962d8d2ed": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-8854. Erasure coding: add ECPolicy to replace schema+cellSize in hadoop-hdfs. Contributed by Walter Su.\n",
      "commitDate": "13/08/15 10:04 AM",
      "commitName": "1d37a8812160bb030244a1e6b1c753f962d8d2ed",
      "commitAuthor": "Zhe Zhang",
      "commitDateOld": "15/07/15 8:13 PM",
      "commitNameOld": "4fdd9abd7e43a0fb7b569982954a8f9660b9268b",
      "commitAuthorOld": "Zhe Zhang",
      "daysBetweenCommits": 28.58,
      "commitsBetweenForRepo": 13,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     blockIdManager.clear();\n     leaseManager.removeAllLeases();\n     snapshotManager.clearSnapshottableDirs();\n     cacheManager.clear();\n-    ecSchemaManager.clear();\n+    ecPolicyManager.clear();\n     setImageLoaded(false);\n     blockManager.clear();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    blockIdManager.clear();\n    leaseManager.removeAllLeases();\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n    ecPolicyManager.clear();\n    setImageLoaded(false);\n    blockManager.clear();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "ac97edd1abcca2be93aa3a8dcdc642734c7c00ab": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-8129. Erasure Coding: Maintain consistent naming for Erasure Coding related classes - EC/ErasureCoding. Contributed by Uma Maheswara Rao G\n",
      "commitDate": "26/05/15 12:01 PM",
      "commitName": "ac97edd1abcca2be93aa3a8dcdc642734c7c00ab",
      "commitAuthor": "Uma Maheswara Rao G",
      "commitDateOld": "26/05/15 11:59 AM",
      "commitNameOld": "436c14855aef58a551d5cab91eba6e88775c6797",
      "commitAuthorOld": "Uma Maheswara Rao G",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 6,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     blockIdManager.clear();\n     leaseManager.removeAllLeases();\n     snapshotManager.clearSnapshottableDirs();\n     cacheManager.clear();\n-    schemaManager.clear();\n+    ecSchemaManager.clear();\n     setImageLoaded(false);\n     blockManager.clear();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    blockIdManager.clear();\n    leaseManager.removeAllLeases();\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n    ecSchemaManager.clear();\n    setImageLoaded(false);\n    blockManager.clear();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "e8df2581c3293d0b6c43862edbf034f9e7851dbf": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-8156. Add/implement necessary APIs even we just have the system default schema. Contributed by Kai Zheng.\n",
      "commitDate": "26/05/15 11:59 AM",
      "commitName": "e8df2581c3293d0b6c43862edbf034f9e7851dbf",
      "commitAuthor": "Zhe Zhang",
      "commitDateOld": "26/05/15 11:59 AM",
      "commitNameOld": "ceb3d1c17051665b67977bb5153c697239be5049",
      "commitAuthorOld": "Vinayakumar B",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 15,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,11 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     blockIdManager.clear();\n     leaseManager.removeAllLeases();\n     snapshotManager.clearSnapshottableDirs();\n     cacheManager.clear();\n+    schemaManager.clear();\n     setImageLoaded(false);\n     blockManager.clear();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    blockIdManager.clear();\n    leaseManager.removeAllLeases();\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n    schemaManager.clear();\n    setImageLoaded(false);\n    blockManager.clear();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "85aec75ce53445e1abf840076d2e10f1e3c6d69b": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7570. SecondaryNameNode need twice memory when calling reloadFromImageFile. Contributed by zhaoyunjiong.\n",
      "commitDate": "13/01/15 4:10 PM",
      "commitName": "85aec75ce53445e1abf840076d2e10f1e3c6d69b",
      "commitAuthor": "cnauroth",
      "commitDateOld": "13/01/15 12:24 AM",
      "commitNameOld": "08ac06283a3e9bf0d49d873823aabd419b08e41f",
      "commitAuthorOld": "Konstantin V Shvachko",
      "daysBetweenCommits": 0.66,
      "commitsBetweenForRepo": 2,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,10 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     blockIdManager.clear();\n     leaseManager.removeAllLeases();\n     snapshotManager.clearSnapshottableDirs();\n     cacheManager.clear();\n     setImageLoaded(false);\n+    blockManager.clear();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    blockIdManager.clear();\n    leaseManager.removeAllLeases();\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n    setImageLoaded(false);\n    blockManager.clear();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "185e0c7b4c056b88f606362c71e4a22aae7076e0": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7462. Consolidate implementation of mkdirs() into a single class. Contributed by Haohui Mai.\n",
      "commitDate": "02/12/14 2:53 PM",
      "commitName": "185e0c7b4c056b88f606362c71e4a22aae7076e0",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "01/12/14 9:48 PM",
      "commitNameOld": "042699401ebe5186fa5556a79f8f9a206e5ebcd7",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 0.71,
      "commitsBetweenForRepo": 10,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,9 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     blockIdManager.clear();\n     leaseManager.removeAllLeases();\n-    inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n     snapshotManager.clearSnapshottableDirs();\n     cacheManager.clear();\n     setImageLoaded(false);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    blockIdManager.clear();\n    leaseManager.removeAllLeases();\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n    setImageLoaded(false);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "571e9c623241106dad5521a870fb8daef3f2b00a": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7381. Decouple the management of block id and gen stamps from FSNamesystem. Contributed by Haohui Mai.\n",
      "commitDate": "11/11/14 12:42 PM",
      "commitName": "571e9c623241106dad5521a870fb8daef3f2b00a",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "05/11/14 10:14 AM",
      "commitNameOld": "18312804e9c86c0ea6a259e288994fea6fa366ef",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 6.1,
      "commitsBetweenForRepo": 65,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,10 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n-    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n-    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n-    blockIdGenerator.setCurrentValue(\n-        SequentialBlockIdGenerator.LAST_RESERVED_BLOCK_ID);\n-    generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n+    blockIdManager.clear();\n     leaseManager.removeAllLeases();\n     inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n     snapshotManager.clearSnapshottableDirs();\n     cacheManager.clear();\n     setImageLoaded(false);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    blockIdManager.clear();\n    leaseManager.removeAllLeases();\n    inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n    setImageLoaded(false);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "a4e0ff5e052abad498595ee198b49c5310c9ec0d": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6480. Move waitForReady() from FSDirectory to FSNamesystem. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1603705 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/06/14 9:13 PM",
      "commitName": "a4e0ff5e052abad498595ee198b49c5310c9ec0d",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "17/06/14 6:00 PM",
      "commitNameOld": "8e8a769e7f5ce806ffdf584f017512ab58cd84e8",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 1.13,
      "commitsBetweenForRepo": 15,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,14 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     blockIdGenerator.setCurrentValue(\n         SequentialBlockIdGenerator.LAST_RESERVED_BLOCK_ID);\n     generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n     leaseManager.removeAllLeases();\n     inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n     snapshotManager.clearSnapshottableDirs();\n     cacheManager.clear();\n+    setImageLoaded(false);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    blockIdGenerator.setCurrentValue(\n        SequentialBlockIdGenerator.LAST_RESERVED_BLOCK_ID);\n    generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n    leaseManager.removeAllLeases();\n    inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n    setImageLoaded(false);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "c96d0780335de83a694e93cf8b8fc46d2288fe9d": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5845. SecondaryNameNode dies when checkpointing with cache pools.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1562644 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/01/14 3:59 PM",
      "commitName": "c96d0780335de83a694e93cf8b8fc46d2288fe9d",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "25/01/14 12:01 PM",
      "commitNameOld": "edb6dc5f303093c2604cd07b0c0dacf12dbce5de",
      "commitAuthorOld": "Todd Lipcon",
      "daysBetweenCommits": 4.17,
      "commitsBetweenForRepo": 33,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,13 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     blockIdGenerator.setCurrentValue(\n         SequentialBlockIdGenerator.LAST_RESERVED_BLOCK_ID);\n     generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n     leaseManager.removeAllLeases();\n     inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n     snapshotManager.clearSnapshottableDirs();\n+    cacheManager.clear();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    blockIdGenerator.setCurrentValue(\n        SequentialBlockIdGenerator.LAST_RESERVED_BLOCK_ID);\n    generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n    leaseManager.removeAllLeases();\n    inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n    snapshotManager.clearSnapshottableDirs();\n    cacheManager.clear();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "75a162ff92d365d88ed253335b52aaa3709f6365": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5433. When reloading fsimage during checkpointing, we should clear existing snapshottable directories. Contributed by Aaron T. Myers.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1537192 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "30/10/13 10:27 AM",
      "commitName": "75a162ff92d365d88ed253335b52aaa3709f6365",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "28/10/13 5:49 PM",
      "commitNameOld": "1b48f44feb339d94f4920fa5791705e8de34e28e",
      "commitAuthorOld": "",
      "daysBetweenCommits": 1.69,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,12 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     blockIdGenerator.setCurrentValue(\n         SequentialBlockIdGenerator.LAST_RESERVED_BLOCK_ID);\n     generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n     leaseManager.removeAllLeases();\n     inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n+    snapshotManager.clearSnapshottableDirs();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    blockIdGenerator.setCurrentValue(\n        SequentialBlockIdGenerator.LAST_RESERVED_BLOCK_ID);\n    generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n    leaseManager.removeAllLeases();\n    inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n    snapshotManager.clearSnapshottableDirs();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "6770de7ec4f73e16740f1723f4e35d2fef2c22c8": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4645.  Move from randomly generated block ID to sequentially generated block ID.  Contributed by Arpit Agarwal\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1500580 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/07/13 10:29 PM",
      "commitName": "6770de7ec4f73e16740f1723f4e35d2fef2c22c8",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "05/07/13 2:36 PM",
      "commitNameOld": "ed70fb1608e6c81314da83daddadd756394fb87e",
      "commitAuthorOld": "Konstantin Boudnik",
      "daysBetweenCommits": 2.33,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,11 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n-    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n+    blockIdGenerator.setCurrentValue(\n+        SequentialBlockIdGenerator.LAST_RESERVED_BLOCK_ID);\n+    generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n     leaseManager.removeAllLeases();\n     inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    generationStampV1.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    generationStampV2.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    blockIdGenerator.setCurrentValue(\n        SequentialBlockIdGenerator.LAST_RESERVED_BLOCK_ID);\n    generationStampV1Limit \u003d GenerationStamp.GRANDFATHER_GENERATION_STAMP;\n    leaseManager.removeAllLeases();\n    inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "36c5fe9961a905385282d1a05ced08c83684dd02": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4346. Add SequentialNumber as a base class for INodeId and GenerationStamp.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1428167 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "02/01/13 9:12 PM",
      "commitName": "36c5fe9961a905385282d1a05ced08c83684dd02",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "28/12/12 12:26 AM",
      "commitNameOld": "0fa9c7a825f444d50c89b986bacea7a547e4ab8b",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 5.87,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n-    generationStamp.setStamp(GenerationStamp.FIRST_VALID_STAMP);\n+    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n     leaseManager.removeAllLeases();\n-    inodeId.resetLastInodeIdWithoutChecking(INodeId.LAST_RESERVED_ID);\n+    inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    generationStamp.setCurrentValue(GenerationStamp.LAST_RESERVED_STAMP);\n    leaseManager.removeAllLeases();\n    inodeId.setCurrentValue(INodeId.LAST_RESERVED_ID);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "0fa9c7a825f444d50c89b986bacea7a547e4ab8b": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4334. Add a unique id to INode.  Contributed by Brandon Li\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1426429 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "28/12/12 12:26 AM",
      "commitName": "0fa9c7a825f444d50c89b986bacea7a547e4ab8b",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "06/12/12 2:27 PM",
      "commitNameOld": "df2fb006b28bf1907fe3c54255e5f6bbb7698285",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 21.42,
      "commitsBetweenForRepo": 77,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,7 @@\n   void clear() {\n     dir.reset();\n     dtSecretManager.reset();\n     generationStamp.setStamp(GenerationStamp.FIRST_VALID_STAMP);\n     leaseManager.removeAllLeases();\n+    inodeId.resetLastInodeIdWithoutChecking(INodeId.LAST_RESERVED_ID);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    generationStamp.setStamp(GenerationStamp.FIRST_VALID_STAMP);\n    leaseManager.removeAllLeases();\n    inodeId.resetLastInodeIdWithoutChecking(INodeId.LAST_RESERVED_ID);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "d4d2bf73a9181a5bfdc0fd99328c7ee4ec998b4e": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-3849. When re-loading the FSImage, we should clear the existing genStamp and leases. Contributed by Colin Patrick McCabe.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1378364 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "28/08/12 3:09 PM",
      "commitName": "d4d2bf73a9181a5bfdc0fd99328c7ee4ec998b4e",
      "commitAuthor": "Aaron Myers",
      "diff": "@@ -0,0 +1,6 @@\n+  void clear() {\n+    dir.reset();\n+    dtSecretManager.reset();\n+    generationStamp.setStamp(GenerationStamp.FIRST_VALID_STAMP);\n+    leaseManager.removeAllLeases();\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  void clear() {\n    dir.reset();\n    dtSecretManager.reset();\n    generationStamp.setStamp(GenerationStamp.FIRST_VALID_STAMP);\n    leaseManager.removeAllLeases();\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java"
    }
  }
}