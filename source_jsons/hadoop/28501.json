{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "WebServices.java",
  "functionName": "rewrapAndThrowException",
  "functionId": "rewrapAndThrowException___e-Exception",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/WebServices.java",
  "functionStartLine": 528,
  "functionEndLine": 534,
  "numCommitsSeen": 22,
  "timeTaken": 2130,
  "changeHistory": [
    "9686261ecb872ad159fac3ca44f1792143c6d7db",
    "da05361c3bc63238bbcb3675b690def8fcccd8e2",
    "06f8e9cabaf3c05cd7d16215cff47265ea773f39",
    "c05b581a5522eed499d3ba16af9fa6dc694563f6"
  ],
  "changeHistoryShort": {
    "9686261ecb872ad159fac3ca44f1792143c6d7db": "Ybodychange",
    "da05361c3bc63238bbcb3675b690def8fcccd8e2": "Ybodychange",
    "06f8e9cabaf3c05cd7d16215cff47265ea773f39": "Ybodychange",
    "c05b581a5522eed499d3ba16af9fa6dc694563f6": "Yintroduced"
  },
  "changeHistoryDetails": {
    "9686261ecb872ad159fac3ca44f1792143c6d7db": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2900. Application (Attempt and Container) Not Found in AHS results\nin Internal Server Error (500). Contributed by Zhijie Shen and Mit Desai\n",
      "commitDate": "31/05/15 3:37 PM",
      "commitName": "9686261ecb872ad159fac3ca44f1792143c6d7db",
      "commitAuthor": "Xuan",
      "commitDateOld": "31/05/15 12:26 AM",
      "commitNameOld": "da05361c3bc63238bbcb3675b690def8fcccd8e2",
      "commitAuthorOld": "Xuan",
      "daysBetweenCommits": 0.63,
      "commitsBetweenForRepo": 2,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,7 @@\n   private static void rewrapAndThrowException(Exception e) {\n     if (e instanceof UndeclaredThrowableException) {\n-      if (e.getCause() instanceof AuthorizationException) {\n-        throw new ForbiddenException(e.getCause());\n-      } else {\n-        throw new WebApplicationException(e.getCause());\n-      }\n+      rewrapAndThrowThrowable(e.getCause());\n     } else {\n-      if (e instanceof AuthorizationException) {\n-        throw new ForbiddenException(e);\n-      } else {\n-        throw new WebApplicationException(e);\n-      }\n+      rewrapAndThrowThrowable(e);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static void rewrapAndThrowException(Exception e) {\n    if (e instanceof UndeclaredThrowableException) {\n      rewrapAndThrowThrowable(e.getCause());\n    } else {\n      rewrapAndThrowThrowable(e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/WebServices.java",
      "extendedDetails": {}
    },
    "da05361c3bc63238bbcb3675b690def8fcccd8e2": {
      "type": "Ybodychange",
      "commitMessage": "Revert \"YARN-2900. Application (Attempt and Container) Not Found in AHS results\"\n\nThis reverts commit 06f8e9cabaf3c05cd7d16215cff47265ea773f39.\n",
      "commitDate": "31/05/15 12:26 AM",
      "commitName": "da05361c3bc63238bbcb3675b690def8fcccd8e2",
      "commitAuthor": "Xuan",
      "commitDateOld": "30/05/15 9:56 PM",
      "commitNameOld": "06f8e9cabaf3c05cd7d16215cff47265ea773f39",
      "commitAuthorOld": "Xuan",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,15 @@\n   private static void rewrapAndThrowException(Exception e) {\n     if (e instanceof UndeclaredThrowableException) {\n-      rewrapAndThrowThrowable(e.getCause());\n+      if (e.getCause() instanceof AuthorizationException) {\n+        throw new ForbiddenException(e.getCause());\n+      } else {\n+        throw new WebApplicationException(e.getCause());\n+      }\n     } else {\n-      rewrapAndThrowThrowable(e);\n+      if (e instanceof AuthorizationException) {\n+        throw new ForbiddenException(e);\n+      } else {\n+        throw new WebApplicationException(e);\n+      }\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static void rewrapAndThrowException(Exception e) {\n    if (e instanceof UndeclaredThrowableException) {\n      if (e.getCause() instanceof AuthorizationException) {\n        throw new ForbiddenException(e.getCause());\n      } else {\n        throw new WebApplicationException(e.getCause());\n      }\n    } else {\n      if (e instanceof AuthorizationException) {\n        throw new ForbiddenException(e);\n      } else {\n        throw new WebApplicationException(e);\n      }\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/WebServices.java",
      "extendedDetails": {}
    },
    "06f8e9cabaf3c05cd7d16215cff47265ea773f39": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2900. Application (Attempt and Container) Not Found in AHS results\nin Internal Server Error (500). Contributed by Zhijie Shen and Mit Desai\n",
      "commitDate": "30/05/15 9:56 PM",
      "commitName": "06f8e9cabaf3c05cd7d16215cff47265ea773f39",
      "commitAuthor": "Xuan",
      "commitDateOld": "27/05/15 4:52 PM",
      "commitNameOld": "54504133f41e36eaea6bb06c7b9ddb249468ecd7",
      "commitAuthorOld": "Zhijie Shen",
      "daysBetweenCommits": 3.21,
      "commitsBetweenForRepo": 31,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,7 @@\n   private static void rewrapAndThrowException(Exception e) {\n     if (e instanceof UndeclaredThrowableException) {\n-      if (e.getCause() instanceof AuthorizationException) {\n-        throw new ForbiddenException(e.getCause());\n-      } else {\n-        throw new WebApplicationException(e.getCause());\n-      }\n+      rewrapAndThrowThrowable(e.getCause());\n     } else {\n-      if (e instanceof AuthorizationException) {\n-        throw new ForbiddenException(e);\n-      } else {\n-        throw new WebApplicationException(e);\n-      }\n+      rewrapAndThrowThrowable(e);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static void rewrapAndThrowException(Exception e) {\n    if (e instanceof UndeclaredThrowableException) {\n      rewrapAndThrowThrowable(e.getCause());\n    } else {\n      rewrapAndThrowThrowable(e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/WebServices.java",
      "extendedDetails": {}
    },
    "c05b581a5522eed499d3ba16af9fa6dc694563f6": {
      "type": "Yintroduced",
      "commitMessage": "YARN-2591. Fixed AHSWebServices to return FORBIDDEN(403) if the request user doesn\u0027t have access to the history data. Contributed by Zhijie Shen\n",
      "commitDate": "27/10/14 10:45 AM",
      "commitName": "c05b581a5522eed499d3ba16af9fa6dc694563f6",
      "commitAuthor": "Jian He",
      "diff": "@@ -0,0 +1,15 @@\n+  private static void rewrapAndThrowException(Exception e) {\n+    if (e instanceof UndeclaredThrowableException) {\n+      if (e.getCause() instanceof AuthorizationException) {\n+        throw new ForbiddenException(e.getCause());\n+      } else {\n+        throw new WebApplicationException(e.getCause());\n+      }\n+    } else {\n+      if (e instanceof AuthorizationException) {\n+        throw new ForbiddenException(e);\n+      } else {\n+        throw new WebApplicationException(e);\n+      }\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static void rewrapAndThrowException(Exception e) {\n    if (e instanceof UndeclaredThrowableException) {\n      if (e.getCause() instanceof AuthorizationException) {\n        throw new ForbiddenException(e.getCause());\n      } else {\n        throw new WebApplicationException(e.getCause());\n      }\n    } else {\n      if (e instanceof AuthorizationException) {\n        throw new ForbiddenException(e);\n      } else {\n        throw new WebApplicationException(e);\n      }\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/webapp/WebServices.java"
    }
  }
}