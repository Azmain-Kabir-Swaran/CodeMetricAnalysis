{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "URLConnectionFactory.java",
  "functionName": "openConnection",
  "functionId": "openConnection___url-URL",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
  "functionStartLine": 158,
  "functionEndLine": 166,
  "numCommitsSeen": 20,
  "timeTaken": 1993,
  "changeHistory": [
    "b07c266dca7f303c793b432a0738d593728cf2b3",
    "bcf89ddc7d52e04725caf104f5958e33d9f51b35",
    "43fa41fdeee53471e9aa34c89f58e53e8aa164e5",
    "1387fb1394bb0b7241875b2c19952504aa7f60de",
    "e10dbf41bc183aa8629e067d381e1c8ba9dae95a",
    "f7af4a014c0ad11e146b7cdc8e5436d4f81cd8f8",
    "0db8003e2e3da9b22b952020d8b02af7f7d6d7c8"
  ],
  "changeHistoryShort": {
    "b07c266dca7f303c793b432a0738d593728cf2b3": "Ybodychange",
    "bcf89ddc7d52e04725caf104f5958e33d9f51b35": "Yfilerename",
    "43fa41fdeee53471e9aa34c89f58e53e8aa164e5": "Ybodychange",
    "1387fb1394bb0b7241875b2c19952504aa7f60de": "Ybodychange",
    "e10dbf41bc183aa8629e067d381e1c8ba9dae95a": "Ymultichange(Yfilerename,Ymodifierchange)",
    "f7af4a014c0ad11e146b7cdc8e5436d4f81cd8f8": "Ybodychange",
    "0db8003e2e3da9b22b952020d8b02af7f7d6d7c8": "Yintroduced"
  },
  "changeHistoryDetails": {
    "b07c266dca7f303c793b432a0738d593728cf2b3": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10831. Add log when URLConnectionFactory.openConnection failed. Contributed by yunjiong zhao.\n",
      "commitDate": "08/09/16 6:30 PM",
      "commitName": "b07c266dca7f303c793b432a0738d593728cf2b3",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "02/03/16 9:23 AM",
      "commitNameOld": "5abf051249d485313dfffc6aeff6f81c0da1f623",
      "commitAuthorOld": "Xiaoyu Yao",
      "daysBetweenCommits": 190.34,
      "commitsBetweenForRepo": 1343,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,8 +1,9 @@\n   public URLConnection openConnection(URL url) throws IOException {\n     try {\n       return openConnection(url, false);\n     } catch (AuthenticationException e) {\n       // Unreachable\n+      LOG.error(\"Open connection {} failed\", url, e);\n       return null;\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public URLConnection openConnection(URL url) throws IOException {\n    try {\n      return openConnection(url, false);\n    } catch (AuthenticationException e) {\n      // Unreachable\n      LOG.error(\"Open connection {} failed\", url, e);\n      return null;\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
      "extendedDetails": {}
    },
    "bcf89ddc7d52e04725caf104f5958e33d9f51b35": {
      "type": "Yfilerename",
      "commitMessage": "HDFS-8052. Move WebHdfsFileSystem into hadoop-hdfs-client. Contributed by Haohui Mai.\n",
      "commitDate": "23/04/15 5:33 PM",
      "commitName": "bcf89ddc7d52e04725caf104f5958e33d9f51b35",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "23/04/15 4:40 PM",
      "commitNameOld": "0b3f8957a87ada1a275c9904b211fdbdcefafb02",
      "commitAuthorOld": "Xuan",
      "daysBetweenCommits": 0.04,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public URLConnection openConnection(URL url) throws IOException {\n    try {\n      return openConnection(url, false);\n    } catch (AuthenticationException e) {\n      // Unreachable\n      return null;\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
      "extendedDetails": {
        "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
        "newPath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java"
      }
    },
    "43fa41fdeee53471e9aa34c89f58e53e8aa164e5": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5506. Use URLConnectionFactory in DelegationTokenFetcher. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1542011 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/11/13 10:40 AM",
      "commitName": "43fa41fdeee53471e9aa34c89f58e53e8aa164e5",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "23/10/13 1:48 PM",
      "commitNameOld": "1387fb1394bb0b7241875b2c19952504aa7f60de",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 21.91,
      "commitsBetweenForRepo": 108,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,8 @@\n   public URLConnection openConnection(URL url) throws IOException {\n-    URLConnection connection \u003d url.openConnection();\n-    if (connection instanceof HttpURLConnection) {\n-      connConfigurator.configure((HttpURLConnection) connection);\n+    try {\n+      return openConnection(url, false);\n+    } catch (AuthenticationException e) {\n+      // Unreachable\n+      return null;\n     }\n-    return connection;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public URLConnection openConnection(URL url) throws IOException {\n    try {\n      return openConnection(url, false);\n    } catch (AuthenticationException e) {\n      // Unreachable\n      return null;\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
      "extendedDetails": {}
    },
    "1387fb1394bb0b7241875b2c19952504aa7f60de": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5363. Refactor WebHdfsFileSystem: move SPENGO-authenticated connection creation to URLConnectionFactory. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1535169 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "23/10/13 1:48 PM",
      "commitName": "1387fb1394bb0b7241875b2c19952504aa7f60de",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "05/09/13 8:14 PM",
      "commitNameOld": "e10dbf41bc183aa8629e067d381e1c8ba9dae95a",
      "commitAuthorOld": "Chris Nauroth",
      "daysBetweenCommits": 47.73,
      "commitsBetweenForRepo": 304,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,7 @@\n   public URLConnection openConnection(URL url) throws IOException {\n     URLConnection connection \u003d url.openConnection();\n-    setTimeouts(connection);\n-    return connection;    \n+    if (connection instanceof HttpURLConnection) {\n+      connConfigurator.configure((HttpURLConnection) connection);\n+    }\n+    return connection;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public URLConnection openConnection(URL url) throws IOException {\n    URLConnection connection \u003d url.openConnection();\n    if (connection instanceof HttpURLConnection) {\n      connConfigurator.configure((HttpURLConnection) connection);\n    }\n    return connection;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
      "extendedDetails": {}
    },
    "e10dbf41bc183aa8629e067d381e1c8ba9dae95a": {
      "type": "Ymultichange(Yfilerename,Ymodifierchange)",
      "commitMessage": "HDFS-4491. Add/delete files missed in prior commit.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1520482 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "05/09/13 8:14 PM",
      "commitName": "e10dbf41bc183aa8629e067d381e1c8ba9dae95a",
      "commitAuthor": "Chris Nauroth",
      "subchanges": [
        {
          "type": "Yfilerename",
          "commitMessage": "HDFS-4491. Add/delete files missed in prior commit.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1520482 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "05/09/13 8:14 PM",
          "commitName": "e10dbf41bc183aa8629e067d381e1c8ba9dae95a",
          "commitAuthor": "Chris Nauroth",
          "commitDateOld": "05/09/13 8:06 PM",
          "commitNameOld": "5eb618ee1f90ccf901edb5d89be181fad1f67d7f",
          "commitAuthorOld": "Chris Nauroth",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-  public static URLConnection openConnection(URL url) throws IOException {\n+  public URLConnection openConnection(URL url) throws IOException {\n     URLConnection connection \u003d url.openConnection();\n     setTimeouts(connection);\n     return connection;    \n   }\n\\ No newline at end of file\n",
          "actualSource": "  public URLConnection openConnection(URL url) throws IOException {\n    URLConnection connection \u003d url.openConnection();\n    setTimeouts(connection);\n    return connection;    \n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLUtils.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "HDFS-4491. Add/delete files missed in prior commit.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1520482 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "05/09/13 8:14 PM",
          "commitName": "e10dbf41bc183aa8629e067d381e1c8ba9dae95a",
          "commitAuthor": "Chris Nauroth",
          "commitDateOld": "05/09/13 8:06 PM",
          "commitNameOld": "5eb618ee1f90ccf901edb5d89be181fad1f67d7f",
          "commitAuthorOld": "Chris Nauroth",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-  public static URLConnection openConnection(URL url) throws IOException {\n+  public URLConnection openConnection(URL url) throws IOException {\n     URLConnection connection \u003d url.openConnection();\n     setTimeouts(connection);\n     return connection;    \n   }\n\\ No newline at end of file\n",
          "actualSource": "  public URLConnection openConnection(URL url) throws IOException {\n    URLConnection connection \u003d url.openConnection();\n    setTimeouts(connection);\n    return connection;    \n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
          "extendedDetails": {
            "oldValue": "[public, static]",
            "newValue": "[public]"
          }
        }
      ]
    },
    "f7af4a014c0ad11e146b7cdc8e5436d4f81cd8f8": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-3180. Add socket timeouts to WebHdfsFileSystem.  Contributed by Chris Nauroth\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1482661 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/05/13 7:23 PM",
      "commitName": "f7af4a014c0ad11e146b7cdc8e5436d4f81cd8f8",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "03/04/12 12:26 PM",
      "commitNameOld": "0db8003e2e3da9b22b952020d8b02af7f7d6d7c8",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 406.29,
      "commitsBetweenForRepo": 2366,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,5 @@\n   public static URLConnection openConnection(URL url) throws IOException {\n     URLConnection connection \u003d url.openConnection();\n-    connection.setConnectTimeout(SOCKET_TIMEOUT);\n-    connection.setReadTimeout(SOCKET_TIMEOUT);\n+    setTimeouts(connection);\n     return connection;    \n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static URLConnection openConnection(URL url) throws IOException {\n    URLConnection connection \u003d url.openConnection();\n    setTimeouts(connection);\n    return connection;    \n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLUtils.java",
      "extendedDetails": {}
    },
    "0db8003e2e3da9b22b952020d8b02af7f7d6d7c8": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-3166. Add timeout to Hftp connections.  Contributed by Daryn Sharp\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1309103 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/04/12 12:26 PM",
      "commitName": "0db8003e2e3da9b22b952020d8b02af7f7d6d7c8",
      "commitAuthor": "Tsz-wo Sze",
      "diff": "@@ -0,0 +1,6 @@\n+  public static URLConnection openConnection(URL url) throws IOException {\n+    URLConnection connection \u003d url.openConnection();\n+    connection.setConnectTimeout(SOCKET_TIMEOUT);\n+    connection.setReadTimeout(SOCKET_TIMEOUT);\n+    return connection;    \n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static URLConnection openConnection(URL url) throws IOException {\n    URLConnection connection \u003d url.openConnection();\n    connection.setConnectTimeout(SOCKET_TIMEOUT);\n    connection.setReadTimeout(SOCKET_TIMEOUT);\n    return connection;    \n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLUtils.java"
    }
  }
}