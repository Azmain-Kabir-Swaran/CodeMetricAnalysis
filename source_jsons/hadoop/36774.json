{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMWebServices.java",
  "functionName": "hasAccess",
  "functionId": "hasAccess___app-RMApp__hsr-HttpServletRequest",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
  "functionStartLine": 280,
  "functionEndLine": 298,
  "numCommitsSeen": 113,
  "timeTaken": 5579,
  "changeHistory": [
    "547cb53e8ae2f19b55f9de7670b91b009d8f3bdd",
    "04f6ebb66a4ffc04a635ab9c0234080f290b39f2",
    "23248f63aab74a19dba38d348f2b231c8360770a",
    "c0537bcd2c2dcdb4812fcab7badf42e4f55a54d9",
    "030580387a4d8d97560a93da2fd7494b4366e3b6",
    "8a9ae9e3ecb6946838e54bb0c3b8282c3215d8ab",
    "1c5b49eeafc2253d4fa92456e6ccf0f35290c889",
    "e1fdf62123625e4ba399af02f8aad500637d29d1",
    "0ea8570be578be60e2f32849900a1c50506d78d3"
  ],
  "changeHistoryShort": {
    "547cb53e8ae2f19b55f9de7670b91b009d8f3bdd": "Ybodychange",
    "04f6ebb66a4ffc04a635ab9c0234080f290b39f2": "Ybodychange",
    "23248f63aab74a19dba38d348f2b231c8360770a": "Ybodychange",
    "c0537bcd2c2dcdb4812fcab7badf42e4f55a54d9": "Ybodychange",
    "030580387a4d8d97560a93da2fd7494b4366e3b6": "Ybodychange",
    "8a9ae9e3ecb6946838e54bb0c3b8282c3215d8ab": "Ybodychange",
    "1c5b49eeafc2253d4fa92456e6ccf0f35290c889": "Ybodychange",
    "e1fdf62123625e4ba399af02f8aad500637d29d1": "Yfilerename",
    "0ea8570be578be60e2f32849900a1c50506d78d3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "547cb53e8ae2f19b55f9de7670b91b009d8f3bdd": {
      "type": "Ybodychange",
      "commitMessage": "YARN-6634. [API] Refactor ResourceManager WebServices to make API explicit. (Giovanni Matteo Fumarola via curino)\n",
      "commitDate": "07/06/17 1:41 PM",
      "commitName": "547cb53e8ae2f19b55f9de7670b91b009d8f3bdd",
      "commitAuthor": "Carlo Curino",
      "commitDateOld": "08/12/16 2:23 AM",
      "commitNameOld": "74d0066d3392169bec872f438a0818e2f5323010",
      "commitAuthorOld": "Sunil G",
      "daysBetweenCommits": 181.43,
      "commitsBetweenForRepo": 954,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,19 @@\n   protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n     // Check for the authorization.\n     UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n     List\u003cString\u003e forwardedAddresses \u003d null;\n-    String forwardedFor \u003d hsr.getHeader(\"X-Forwarded-For\");\n+    String forwardedFor \u003d hsr.getHeader(RMWSConsts.FORWARDED_FOR);\n     if (forwardedFor !\u003d null) {\n       forwardedAddresses \u003d Arrays.asList(forwardedFor.split(\",\"));\n     }\n     if (callerUGI !\u003d null\n         \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n-              ApplicationAccessType.VIEW_APP, app.getUser(),\n-              app.getApplicationId()) ||\n-            this.rm.getQueueACLsManager().checkAccess(callerUGI,\n+            ApplicationAccessType.VIEW_APP, app.getUser(),\n+            app.getApplicationId())\n+            || this.rm.getQueueACLsManager().checkAccess(callerUGI,\n                 QueueACL.ADMINISTER_QUEUE, app, hsr.getRemoteAddr(),\n                 forwardedAddresses))) {\n       return false;\n     }\n     return true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n    // Check for the authorization.\n    UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n    List\u003cString\u003e forwardedAddresses \u003d null;\n    String forwardedFor \u003d hsr.getHeader(RMWSConsts.FORWARDED_FOR);\n    if (forwardedFor !\u003d null) {\n      forwardedAddresses \u003d Arrays.asList(forwardedFor.split(\",\"));\n    }\n    if (callerUGI !\u003d null\n        \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n            ApplicationAccessType.VIEW_APP, app.getUser(),\n            app.getApplicationId())\n            || this.rm.getQueueACLsManager().checkAccess(callerUGI,\n                QueueACL.ADMINISTER_QUEUE, app, hsr.getRemoteAddr(),\n                forwardedAddresses))) {\n      return false;\n    }\n    return true;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
      "extendedDetails": {}
    },
    "04f6ebb66a4ffc04a635ab9c0234080f290b39f2": {
      "type": "Ybodychange",
      "commitMessage": "YARN-5294. Pass remote ip address down to YarnAuthorizationProvider. (Jian He via wangda)\n",
      "commitDate": "06/07/16 10:36 AM",
      "commitName": "04f6ebb66a4ffc04a635ab9c0234080f290b39f2",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "14/06/16 3:06 PM",
      "commitNameOld": "c77a1095dc556e8bea87df6d8ddf36e898f27e86",
      "commitAuthorOld": "Wangda Tan",
      "daysBetweenCommits": 21.81,
      "commitsBetweenForRepo": 154,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,19 @@\n   protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n     // Check for the authorization.\n     UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n+    List\u003cString\u003e forwardedAddresses \u003d null;\n+    String forwardedFor \u003d hsr.getHeader(\"X-Forwarded-For\");\n+    if (forwardedFor !\u003d null) {\n+      forwardedAddresses \u003d Arrays.asList(forwardedFor.split(\",\"));\n+    }\n     if (callerUGI !\u003d null\n         \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n               ApplicationAccessType.VIEW_APP, app.getUser(),\n               app.getApplicationId()) ||\n             this.rm.getQueueACLsManager().checkAccess(callerUGI,\n-                QueueACL.ADMINISTER_QUEUE, app))) {\n+                QueueACL.ADMINISTER_QUEUE, app, hsr.getRemoteAddr(),\n+                forwardedAddresses))) {\n       return false;\n     }\n     return true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n    // Check for the authorization.\n    UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n    List\u003cString\u003e forwardedAddresses \u003d null;\n    String forwardedFor \u003d hsr.getHeader(\"X-Forwarded-For\");\n    if (forwardedFor !\u003d null) {\n      forwardedAddresses \u003d Arrays.asList(forwardedFor.split(\",\"));\n    }\n    if (callerUGI !\u003d null\n        \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n              ApplicationAccessType.VIEW_APP, app.getUser(),\n              app.getApplicationId()) ||\n            this.rm.getQueueACLsManager().checkAccess(callerUGI,\n                QueueACL.ADMINISTER_QUEUE, app, hsr.getRemoteAddr(),\n                forwardedAddresses))) {\n      return false;\n    }\n    return true;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
      "extendedDetails": {}
    },
    "23248f63aab74a19dba38d348f2b231c8360770a": {
      "type": "Ybodychange",
      "commitMessage": "getApplicationReport call may raise NPE for removed queues. (Jian He via wangda)\n",
      "commitDate": "06/05/16 3:30 PM",
      "commitName": "23248f63aab74a19dba38d348f2b231c8360770a",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "04/04/16 3:55 AM",
      "commitNameOld": "5092c94195a63bd2c3e36d5a74b4c061cea1b847",
      "commitAuthorOld": "naganarasimha",
      "daysBetweenCommits": 32.48,
      "commitsBetweenForRepo": 209,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,13 @@\n   protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n     // Check for the authorization.\n     UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n     if (callerUGI !\u003d null\n         \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n               ApplicationAccessType.VIEW_APP, app.getUser(),\n               app.getApplicationId()) ||\n             this.rm.getQueueACLsManager().checkAccess(callerUGI,\n-                QueueACL.ADMINISTER_QUEUE, app.getQueue(),\n-                app.getApplicationId(), app.getName()))) {\n+                QueueACL.ADMINISTER_QUEUE, app))) {\n       return false;\n     }\n     return true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n    // Check for the authorization.\n    UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n    if (callerUGI !\u003d null\n        \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n              ApplicationAccessType.VIEW_APP, app.getUser(),\n              app.getApplicationId()) ||\n            this.rm.getQueueACLsManager().checkAccess(callerUGI,\n                QueueACL.ADMINISTER_QUEUE, app))) {\n      return false;\n    }\n    return true;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
      "extendedDetails": {}
    },
    "c0537bcd2c2dcdb4812fcab7badf42e4f55a54d9": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4571. Make app id/name available to the yarn authorizer provider for better auditing. (Jian He via wangda)\n",
      "commitDate": "12/01/16 9:18 PM",
      "commitName": "c0537bcd2c2dcdb4812fcab7badf42e4f55a54d9",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "28/12/15 3:52 PM",
      "commitNameOld": "d0a22bae9bd2c701c9d80896934fe07388cf5ae0",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 15.23,
      "commitsBetweenForRepo": 79,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,14 @@\n   protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n     // Check for the authorization.\n     UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n     if (callerUGI !\u003d null\n         \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n               ApplicationAccessType.VIEW_APP, app.getUser(),\n               app.getApplicationId()) ||\n             this.rm.getQueueACLsManager().checkAccess(callerUGI,\n-              QueueACL.ADMINISTER_QUEUE, app.getQueue()))) {\n+                QueueACL.ADMINISTER_QUEUE, app.getQueue(),\n+                app.getApplicationId(), app.getName()))) {\n       return false;\n     }\n     return true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n    // Check for the authorization.\n    UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n    if (callerUGI !\u003d null\n        \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n              ApplicationAccessType.VIEW_APP, app.getUser(),\n              app.getApplicationId()) ||\n            this.rm.getQueueACLsManager().checkAccess(callerUGI,\n                QueueACL.ADMINISTER_QUEUE, app.getQueue(),\n                app.getApplicationId(), app.getName()))) {\n      return false;\n    }\n    return true;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
      "extendedDetails": {}
    },
    "030580387a4d8d97560a93da2fd7494b4366e3b6": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2233. Implemented ResourceManager web-services to create, renew and cancel delegation tokens. Contributed by Varun Vasudev.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1610876 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "15/07/14 4:00 PM",
      "commitName": "030580387a4d8d97560a93da2fd7494b4366e3b6",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "01/07/14 5:23 PM",
      "commitNameOld": "075ff276ca9e8c192717a50b0e18485afc8571a6",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 13.94,
      "commitsBetweenForRepo": 91,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,13 @@\n   protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n     // Check for the authorization.\n-    String remoteUser \u003d hsr.getRemoteUser();\n-    UserGroupInformation callerUGI \u003d null;\n-    if (remoteUser !\u003d null) {\n-      callerUGI \u003d UserGroupInformation.createRemoteUser(remoteUser);\n-    }\n+    UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n     if (callerUGI !\u003d null\n         \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n               ApplicationAccessType.VIEW_APP, app.getUser(),\n               app.getApplicationId()) ||\n             this.rm.getQueueACLsManager().checkAccess(callerUGI,\n               QueueACL.ADMINISTER_QUEUE, app.getQueue()))) {\n       return false;\n     }\n     return true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n    // Check for the authorization.\n    UserGroupInformation callerUGI \u003d getCallerUserGroupInformation(hsr, true);\n    if (callerUGI !\u003d null\n        \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n              ApplicationAccessType.VIEW_APP, app.getUser(),\n              app.getApplicationId()) ||\n            this.rm.getQueueACLsManager().checkAccess(callerUGI,\n              QueueACL.ADMINISTER_QUEUE, app.getQueue()))) {\n      return false;\n    }\n    return true;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
      "extendedDetails": {}
    },
    "8a9ae9e3ecb6946838e54bb0c3b8282c3215d8ab": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1867. Fixed a bug in ResourceManager that was causing invalid ACL checks in the web-services after fail-over. Contributed by Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1581662 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "25/03/14 8:03 PM",
      "commitName": "8a9ae9e3ecb6946838e54bb0c3b8282c3215d8ab",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "14/02/14 12:01 PM",
      "commitNameOld": "990cffdcfa9349fff0cee144b1d0e5267c40f63d",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 39.29,
      "commitsBetweenForRepo": 354,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,17 @@\n   protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n     // Check for the authorization.\n     String remoteUser \u003d hsr.getRemoteUser();\n     UserGroupInformation callerUGI \u003d null;\n     if (remoteUser !\u003d null) {\n       callerUGI \u003d UserGroupInformation.createRemoteUser(remoteUser);\n     }\n     if (callerUGI !\u003d null\n-        \u0026\u0026 !(this.aclsManager.checkAccess(callerUGI,\n-            ApplicationAccessType.VIEW_APP, app.getUser(),\n-            app.getApplicationId()) || this.queueACLsManager.checkAccess(\n-            callerUGI, QueueACL.ADMINISTER_QUEUE, app.getQueue()))) {\n+        \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n+              ApplicationAccessType.VIEW_APP, app.getUser(),\n+              app.getApplicationId()) ||\n+            this.rm.getQueueACLsManager().checkAccess(callerUGI,\n+              QueueACL.ADMINISTER_QUEUE, app.getQueue()))) {\n       return false;\n     }\n     return true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n    // Check for the authorization.\n    String remoteUser \u003d hsr.getRemoteUser();\n    UserGroupInformation callerUGI \u003d null;\n    if (remoteUser !\u003d null) {\n      callerUGI \u003d UserGroupInformation.createRemoteUser(remoteUser);\n    }\n    if (callerUGI !\u003d null\n        \u0026\u0026 !(this.rm.getApplicationACLsManager().checkAccess(callerUGI,\n              ApplicationAccessType.VIEW_APP, app.getUser(),\n              app.getApplicationId()) ||\n            this.rm.getQueueACLsManager().checkAccess(callerUGI,\n              QueueACL.ADMINISTER_QUEUE, app.getQueue()))) {\n      return false;\n    }\n    return true;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
      "extendedDetails": {}
    },
    "1c5b49eeafc2253d4fa92456e6ccf0f35290c889": {
      "type": "Ybodychange",
      "commitMessage": "YARN-899. Added back queue level administrator-acls so that there is no regression w.r.t 1.x. Contributed by Xuan Gong.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1527282 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/09/13 1:21 AM",
      "commitName": "1c5b49eeafc2253d4fa92456e6ccf0f35290c889",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "16/09/13 5:24 PM",
      "commitNameOld": "4ea295016e20add7ab45ddc558acf77a8f1f5925",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 12.33,
      "commitsBetweenForRepo": 73,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,16 @@\n   protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n     // Check for the authorization.\n     String remoteUser \u003d hsr.getRemoteUser();\n     UserGroupInformation callerUGI \u003d null;\n     if (remoteUser !\u003d null) {\n       callerUGI \u003d UserGroupInformation.createRemoteUser(remoteUser);\n     }\n     if (callerUGI !\u003d null\n-        \u0026\u0026 !this.aclsManager.checkAccess(callerUGI,\n+        \u0026\u0026 !(this.aclsManager.checkAccess(callerUGI,\n             ApplicationAccessType.VIEW_APP, app.getUser(),\n-            app.getApplicationId())) {\n+            app.getApplicationId()) || this.queueACLsManager.checkAccess(\n+            callerUGI, QueueACL.ADMINISTER_QUEUE, app.getQueue()))) {\n       return false;\n     }\n     return true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n    // Check for the authorization.\n    String remoteUser \u003d hsr.getRemoteUser();\n    UserGroupInformation callerUGI \u003d null;\n    if (remoteUser !\u003d null) {\n      callerUGI \u003d UserGroupInformation.createRemoteUser(remoteUser);\n    }\n    if (callerUGI !\u003d null\n        \u0026\u0026 !(this.aclsManager.checkAccess(callerUGI,\n            ApplicationAccessType.VIEW_APP, app.getUser(),\n            app.getApplicationId()) || this.queueACLsManager.checkAccess(\n            callerUGI, QueueACL.ADMINISTER_QUEUE, app.getQueue()))) {\n      return false;\n    }\n    return true;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
      "extendedDetails": {}
    },
    "e1fdf62123625e4ba399af02f8aad500637d29d1": {
      "type": "Yfilerename",
      "commitMessage": "YARN-1. Promote YARN to be a sub-project of Apache Hadoop.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1370666 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/12 10:22 PM",
      "commitName": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/08/12 7:53 PM",
      "commitNameOld": "34554d1e11ee1d5b564d7d9ed3e6d55931d72749",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n    // Check for the authorization.\n    String remoteUser \u003d hsr.getRemoteUser();\n    UserGroupInformation callerUGI \u003d null;\n    if (remoteUser !\u003d null) {\n      callerUGI \u003d UserGroupInformation.createRemoteUser(remoteUser);\n    }\n    if (callerUGI !\u003d null\n        \u0026\u0026 !this.aclsManager.checkAccess(callerUGI,\n            ApplicationAccessType.VIEW_APP, app.getUser(),\n            app.getApplicationId())) {\n      return false;\n    }\n    return true;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java"
      }
    },
    "0ea8570be578be60e2f32849900a1c50506d78d3": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-2863. Support web services for YARN and MR components. (Thomas Graves via vinodkv)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1213975 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/12/11 3:05 PM",
      "commitName": "0ea8570be578be60e2f32849900a1c50506d78d3",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,15 @@\n+  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n+    // Check for the authorization.\n+    String remoteUser \u003d hsr.getRemoteUser();\n+    UserGroupInformation callerUGI \u003d null;\n+    if (remoteUser !\u003d null) {\n+      callerUGI \u003d UserGroupInformation.createRemoteUser(remoteUser);\n+    }\n+    if (callerUGI !\u003d null\n+        \u0026\u0026 !this.aclsManager.checkAccess(callerUGI,\n+            ApplicationAccessType.VIEW_APP, app.getUser(),\n+            app.getApplicationId())) {\n+      return false;\n+    }\n+    return true;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  protected Boolean hasAccess(RMApp app, HttpServletRequest hsr) {\n    // Check for the authorization.\n    String remoteUser \u003d hsr.getRemoteUser();\n    UserGroupInformation callerUGI \u003d null;\n    if (remoteUser !\u003d null) {\n      callerUGI \u003d UserGroupInformation.createRemoteUser(remoteUser);\n    }\n    if (callerUGI !\u003d null\n        \u0026\u0026 !this.aclsManager.checkAccess(callerUGI,\n            ApplicationAccessType.VIEW_APP, app.getUser(),\n            app.getApplicationId())) {\n      return false;\n    }\n    return true;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/RMWebServices.java"
    }
  }
}