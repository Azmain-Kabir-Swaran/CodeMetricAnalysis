{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "LogsCLI.java",
  "functionName": "showApplicationLogInfo",
  "functionId": "showApplicationLogInfo___request-ContainerLogsRequest__logCliHelper-LogCLIHelpers",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/LogsCLI.java",
  "functionStartLine": 872,
  "functionEndLine": 897,
  "numCommitsSeen": 52,
  "timeTaken": 1324,
  "changeHistory": [
    "eb471632349deac4b62f8dec853c8ceb64c9617a"
  ],
  "changeHistoryShort": {
    "eb471632349deac4b62f8dec853c8ceb64c9617a": "Yintroduced"
  },
  "changeHistoryDetails": {
    "eb471632349deac4b62f8dec853c8ceb64c9617a": {
      "type": "Yintroduced",
      "commitMessage": "YARN-5200. Enhanced \"yarn logs\" to be able to get a list of containers whose logs are aggregated via a \"show_container_log_info\" option. Contributed by Xuan Gong.\n",
      "commitDate": "13/07/16 10:54 AM",
      "commitName": "eb471632349deac4b62f8dec853c8ceb64c9617a",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,26 @@\n+  private int showApplicationLogInfo(ContainerLogsRequest request,\n+      LogCLIHelpers logCliHelper) throws IOException, YarnException {\n+    String appState \u003d \"Application State: \"\n+        + (request.isAppFinished() ? \"Completed.\" : \"Running.\");\n+    if (!request.isAppFinished()) {\n+      List\u003cContainerReport\u003e reports \u003d\n+          getContainerReportsFromRunningApplication(request);\n+      List\u003cContainerReport\u003e filterReports \u003d filterContainersInfo(\n+          request, reports);\n+      if (filterReports.isEmpty()) {\n+        System.err.println(\"Can not find any containers for the application:\"\n+            + request.getAppId() + \".\");\n+        return -1;\n+      }\n+      outStream.println(appState);\n+      for (ContainerReport report : filterReports) {\n+        outStream.println(String.format(LogCLIHelpers.CONTAINER_ON_NODE_PATTERN,\n+            report.getContainerId(), report.getAssignedNode()));\n+      }\n+      return 0;\n+    } else {\n+      outStream.println(appState);\n+      logCliHelper.printContainersList(request, System.out, System.err);\n+      return 0;\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private int showApplicationLogInfo(ContainerLogsRequest request,\n      LogCLIHelpers logCliHelper) throws IOException, YarnException {\n    String appState \u003d \"Application State: \"\n        + (request.isAppFinished() ? \"Completed.\" : \"Running.\");\n    if (!request.isAppFinished()) {\n      List\u003cContainerReport\u003e reports \u003d\n          getContainerReportsFromRunningApplication(request);\n      List\u003cContainerReport\u003e filterReports \u003d filterContainersInfo(\n          request, reports);\n      if (filterReports.isEmpty()) {\n        System.err.println(\"Can not find any containers for the application:\"\n            + request.getAppId() + \".\");\n        return -1;\n      }\n      outStream.println(appState);\n      for (ContainerReport report : filterReports) {\n        outStream.println(String.format(LogCLIHelpers.CONTAINER_ON_NODE_PATTERN,\n            report.getContainerId(), report.getAssignedNode()));\n      }\n      return 0;\n    } else {\n      outStream.println(appState);\n      logCliHelper.printContainersList(request, System.out, System.err);\n      return 0;\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/LogsCLI.java"
    }
  }
}