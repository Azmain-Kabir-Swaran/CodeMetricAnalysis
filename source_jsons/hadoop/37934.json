{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ResourceTrackerService.java",
  "functionName": "isNodeInDecommissioning",
  "functionId": "isNodeInDecommissioning___nodeId-NodeId",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceTrackerService.java",
  "functionStartLine": 837,
  "functionEndLine": 851,
  "numCommitsSeen": 98,
  "timeTaken": 2161,
  "changeHistory": [
    "27642367ef3409a9ca93747c6c2cc279c087a4c0",
    "9bc913a35c46e65d373c3ae3f01a377e16e8d0ca"
  ],
  "changeHistoryShort": {
    "27642367ef3409a9ca93747c6c2cc279c087a4c0": "Ybodychange",
    "9bc913a35c46e65d373c3ae3f01a377e16e8d0ca": "Yintroduced"
  },
  "changeHistoryDetails": {
    "27642367ef3409a9ca93747c6c2cc279c087a4c0": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9011. Race condition during decommissioning. Contributed by Peter Bacsko\n",
      "commitDate": "18/11/19 7:29 AM",
      "commitName": "27642367ef3409a9ca93747c6c2cc279c087a4c0",
      "commitAuthor": "Szilard Nemeth",
      "commitDateOld": "26/06/19 9:29 PM",
      "commitNameOld": "be80334cdf255616f589217726483194fb56dcc6",
      "commitAuthorOld": "bibinchundatt",
      "daysBetweenCommits": 144.46,
      "commitsBetweenForRepo": 1016,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,8 +1,15 @@\n   private boolean isNodeInDecommissioning(NodeId nodeId) {\n     RMNode rmNode \u003d this.rmContext.getRMNodes().get(nodeId);\n-    if (rmNode !\u003d null \u0026\u0026\n-        rmNode.getState().equals(NodeState.DECOMMISSIONING)) {\n-      return true;\n+\n+    if (rmNode !\u003d null) {\n+      NodeState state \u003d rmNode.getState();\n+\n+      if (state \u003d\u003d NodeState.DECOMMISSIONING ||\n+          (state \u003d\u003d NodeState.RUNNING \u0026\u0026\n+          this.nodesListManager.isGracefullyDecommissionableNode(rmNode))) {\n+        return true;\n+      }\n     }\n+\n     return false;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private boolean isNodeInDecommissioning(NodeId nodeId) {\n    RMNode rmNode \u003d this.rmContext.getRMNodes().get(nodeId);\n\n    if (rmNode !\u003d null) {\n      NodeState state \u003d rmNode.getState();\n\n      if (state \u003d\u003d NodeState.DECOMMISSIONING ||\n          (state \u003d\u003d NodeState.RUNNING \u0026\u0026\n          this.nodesListManager.isGracefullyDecommissionableNode(rmNode))) {\n        return true;\n      }\n    }\n\n    return false;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceTrackerService.java",
      "extendedDetails": {}
    },
    "9bc913a35c46e65d373c3ae3f01a377e16e8d0ca": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3212. RMNode State Transition Update with DECOMMISSIONING state. (Junping Du via wangda)\n",
      "commitDate": "18/09/15 10:04 AM",
      "commitName": "9bc913a35c46e65d373c3ae3f01a377e16e8d0ca",
      "commitAuthor": "Wangda Tan",
      "diff": "@@ -0,0 +1,8 @@\n+  private boolean isNodeInDecommissioning(NodeId nodeId) {\n+    RMNode rmNode \u003d this.rmContext.getRMNodes().get(nodeId);\n+    if (rmNode !\u003d null \u0026\u0026\n+        rmNode.getState().equals(NodeState.DECOMMISSIONING)) {\n+      return true;\n+    }\n+    return false;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private boolean isNodeInDecommissioning(NodeId nodeId) {\n    RMNode rmNode \u003d this.rmContext.getRMNodes().get(nodeId);\n    if (rmNode !\u003d null \u0026\u0026\n        rmNode.getState().equals(NodeState.DECOMMISSIONING)) {\n      return true;\n    }\n    return false;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceTrackerService.java"
    }
  }
}