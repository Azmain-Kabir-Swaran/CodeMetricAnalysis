{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "GenericsUtil.java",
  "functionName": "isLog4jLogger",
  "functionId": "isLog4jLogger___clazz-Class__?__",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/GenericsUtil.java",
  "functionStartLine": 82,
  "functionEndLine": 93,
  "numCommitsSeen": 3,
  "timeTaken": 1367,
  "changeHistory": [
    "da9435182a8fccec743406e089325655138d9de8",
    "691bf5ec5d641c0552f4b243c4efa34ec2e529dc"
  ],
  "changeHistoryShort": {
    "da9435182a8fccec743406e089325655138d9de8": "Ybodychange",
    "691bf5ec5d641c0552f4b243c4efa34ec2e529dc": "Yintroduced"
  },
  "changeHistoryDetails": {
    "da9435182a8fccec743406e089325655138d9de8": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16717. Remove GenericsUtil isLog4jLogger dependency on Log4jLoggerAdapter. Contributed by Xieming Li.\n",
      "commitDate": "24/11/19 9:36 PM",
      "commitName": "da9435182a8fccec743406e089325655138d9de8",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "03/08/17 10:35 PM",
      "commitNameOld": "691bf5ec5d641c0552f4b243c4efa34ec2e529dc",
      "commitAuthorOld": "wenxinhe",
      "daysBetweenCommits": 843.0,
      "commitsBetweenForRepo": 6852,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,12 @@\n   public static boolean isLog4jLogger(Class\u003c?\u003e clazz) {\n     if (clazz \u003d\u003d null) {\n       return false;\n     }\n     Logger log \u003d LoggerFactory.getLogger(clazz);\n-    return log instanceof Log4jLoggerAdapter;\n+    try {\n+      Class log4jClass \u003d Class.forName(\"org.slf4j.impl.Log4jLoggerAdapter\");\n+      return log4jClass.isInstance(log);\n+    } catch (ClassNotFoundException e) {\n+      return false;\n+    }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static boolean isLog4jLogger(Class\u003c?\u003e clazz) {\n    if (clazz \u003d\u003d null) {\n      return false;\n    }\n    Logger log \u003d LoggerFactory.getLogger(clazz);\n    try {\n      Class log4jClass \u003d Class.forName(\"org.slf4j.impl.Log4jLoggerAdapter\");\n      return log4jClass.isInstance(log);\n    } catch (ClassNotFoundException e) {\n      return false;\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/GenericsUtil.java",
      "extendedDetails": {}
    },
    "691bf5ec5d641c0552f4b243c4efa34ec2e529dc": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-14706. Adding a helper method to determine whether a log is Log4j implement.\n\nThis closes #257\n\nSigned-off-by: Akira Ajisaka \u003caajisaka@apache.org\u003e\n",
      "commitDate": "03/08/17 10:35 PM",
      "commitName": "691bf5ec5d641c0552f4b243c4efa34ec2e529dc",
      "commitAuthor": "wenxinhe",
      "diff": "@@ -0,0 +1,7 @@\n+  public static boolean isLog4jLogger(Class\u003c?\u003e clazz) {\n+    if (clazz \u003d\u003d null) {\n+      return false;\n+    }\n+    Logger log \u003d LoggerFactory.getLogger(clazz);\n+    return log instanceof Log4jLoggerAdapter;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static boolean isLog4jLogger(Class\u003c?\u003e clazz) {\n    if (clazz \u003d\u003d null) {\n      return false;\n    }\n    Logger log \u003d LoggerFactory.getLogger(clazz);\n    return log instanceof Log4jLoggerAdapter;\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/GenericsUtil.java"
    }
  }
}