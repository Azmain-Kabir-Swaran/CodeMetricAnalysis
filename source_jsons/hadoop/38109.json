{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AbstractPreemptableResourceCalculator.java",
  "functionName": "getIdealPctOfGuaranteed",
  "functionId": "getIdealPctOfGuaranteed___q-TempQueuePerPartition",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/AbstractPreemptableResourceCalculator.java",
  "functionStartLine": 68,
  "functionEndLine": 76,
  "numCommitsSeen": 48,
  "timeTaken": 3928,
  "changeHistory": [
    "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
    "bb62e0592566b2fcae7136b30972aad2d3ac55b0",
    "60e4116bf1d00afed91010e57357fe54057e4e39",
    "d497f6ea2be559aa31ed76f37ae949dbfabe2a51",
    "4b130821995a3cfe20c71e38e0f63294085c0491"
  ],
  "changeHistoryShort": {
    "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9": "Ymovefromfile",
    "bb62e0592566b2fcae7136b30972aad2d3ac55b0": "Ybodychange",
    "60e4116bf1d00afed91010e57357fe54057e4e39": "Ymovefromfile",
    "d497f6ea2be559aa31ed76f37ae949dbfabe2a51": "Yparameterchange",
    "4b130821995a3cfe20c71e38e0f63294085c0491": "Yintroduced"
  },
  "changeHistoryDetails": {
    "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9": {
      "type": "Ymovefromfile",
      "commitMessage": "YARN-2009. CapacityScheduler: Add intra-queue preemption for app priority support. (Sunil G via wangda)\n",
      "commitDate": "31/10/16 3:18 PM",
      "commitName": "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "31/10/16 2:47 PM",
      "commitNameOld": "773c60bd7bd00651dc3016799b424b9bd2233eb3",
      "commitAuthorOld": "Daniel Templeton",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,9 @@\n     private double getIdealPctOfGuaranteed(TempQueuePerPartition q) {\n       double pctOver \u003d Integer.MAX_VALUE;\n-      if (q !\u003d null \u0026\u0026 Resources.greaterThan(rc, clusterRes,\n-          q.getGuaranteed(),\n+      if (q !\u003d null \u0026\u0026 Resources.greaterThan(rc, clusterRes, q.getGuaranteed(),\n           Resources.none())) {\n         pctOver \u003d Resources.divide(rc, clusterRes, q.idealAssigned,\n             q.getGuaranteed());\n       }\n       return (pctOver);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private double getIdealPctOfGuaranteed(TempQueuePerPartition q) {\n      double pctOver \u003d Integer.MAX_VALUE;\n      if (q !\u003d null \u0026\u0026 Resources.greaterThan(rc, clusterRes, q.getGuaranteed(),\n          Resources.none())) {\n        pctOver \u003d Resources.divide(rc, clusterRes, q.idealAssigned,\n            q.getGuaranteed());\n      }\n      return (pctOver);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/AbstractPreemptableResourceCalculator.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/PreemptableResourceCalculator.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/AbstractPreemptableResourceCalculator.java",
        "oldMethodName": "getIdealPctOfGuaranteed",
        "newMethodName": "getIdealPctOfGuaranteed"
      }
    },
    "bb62e0592566b2fcae7136b30972aad2d3ac55b0": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4390. Do surgical preemption based on reserved container in CapacityScheduler. Contributed by Wangda Tan\n",
      "commitDate": "05/05/16 12:56 PM",
      "commitName": "bb62e0592566b2fcae7136b30972aad2d3ac55b0",
      "commitAuthor": "Jian He",
      "commitDateOld": "30/03/16 12:43 PM",
      "commitNameOld": "60e4116bf1d00afed91010e57357fe54057e4e39",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 36.01,
      "commitsBetweenForRepo": 225,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,10 @@\n     private double getIdealPctOfGuaranteed(TempQueuePerPartition q) {\n       double pctOver \u003d Integer.MAX_VALUE;\n-      if (q !\u003d null \u0026\u0026 Resources.greaterThan(\n-          rc, clusterRes, q.guaranteed, Resources.none())) {\n-        pctOver \u003d\n-            Resources.divide(rc, clusterRes, q.idealAssigned, q.guaranteed);\n+      if (q !\u003d null \u0026\u0026 Resources.greaterThan(rc, clusterRes,\n+          q.getGuaranteed(),\n+          Resources.none())) {\n+        pctOver \u003d Resources.divide(rc, clusterRes, q.idealAssigned,\n+            q.getGuaranteed());\n       }\n       return (pctOver);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private double getIdealPctOfGuaranteed(TempQueuePerPartition q) {\n      double pctOver \u003d Integer.MAX_VALUE;\n      if (q !\u003d null \u0026\u0026 Resources.greaterThan(rc, clusterRes,\n          q.getGuaranteed(),\n          Resources.none())) {\n        pctOver \u003d Resources.divide(rc, clusterRes, q.idealAssigned,\n            q.getGuaranteed());\n      }\n      return (pctOver);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/PreemptableResourceCalculator.java",
      "extendedDetails": {}
    },
    "60e4116bf1d00afed91010e57357fe54057e4e39": {
      "type": "Ymovefromfile",
      "commitMessage": "YARN-4822. Refactor existing Preemption Policy of CS for easier adding new approach to select preemption candidates. Contributed by Wangda Tan\n",
      "commitDate": "30/03/16 12:43 PM",
      "commitName": "60e4116bf1d00afed91010e57357fe54057e4e39",
      "commitAuthor": "Jian He",
      "commitDateOld": "29/03/16 11:22 PM",
      "commitNameOld": "09d63d5a192b5d6b172f94ff6c94da348fd49ea6",
      "commitAuthorOld": "Vinayakumar B",
      "daysBetweenCommits": 0.56,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    private double getIdealPctOfGuaranteed(TempQueuePerPartition q) {\n      double pctOver \u003d Integer.MAX_VALUE;\n      if (q !\u003d null \u0026\u0026 Resources.greaterThan(\n          rc, clusterRes, q.guaranteed, Resources.none())) {\n        pctOver \u003d\n            Resources.divide(rc, clusterRes, q.idealAssigned, q.guaranteed);\n      }\n      return (pctOver);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/PreemptableResourceCalculator.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/PreemptableResourceCalculator.java",
        "oldMethodName": "getIdealPctOfGuaranteed",
        "newMethodName": "getIdealPctOfGuaranteed"
      }
    },
    "d497f6ea2be559aa31ed76f37ae949dbfabe2a51": {
      "type": "Yparameterchange",
      "commitMessage": "YARN-2498. Respect labels in preemption policy of capacity scheduler for inter-queue preemption. Contributed by Wangda Tan\n",
      "commitDate": "24/04/15 5:03 PM",
      "commitName": "d497f6ea2be559aa31ed76f37ae949dbfabe2a51",
      "commitAuthor": "Jian He",
      "commitDateOld": "20/04/15 5:12 PM",
      "commitNameOld": "44872b76fcc0ddfbc7b0a4e54eef50fe8708e0f5",
      "commitAuthorOld": "Wangda Tan",
      "daysBetweenCommits": 3.99,
      "commitsBetweenForRepo": 60,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n-    private double getIdealPctOfGuaranteed(TempQueue q) {\n+    private double getIdealPctOfGuaranteed(TempQueuePerPartition q) {\n       double pctOver \u003d Integer.MAX_VALUE;\n       if (q !\u003d null \u0026\u0026 Resources.greaterThan(\n           rc, clusterRes, q.guaranteed, Resources.none())) {\n         pctOver \u003d\n             Resources.divide(rc, clusterRes, q.idealAssigned, q.guaranteed);\n       }\n       return (pctOver);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private double getIdealPctOfGuaranteed(TempQueuePerPartition q) {\n      double pctOver \u003d Integer.MAX_VALUE;\n      if (q !\u003d null \u0026\u0026 Resources.greaterThan(\n          rc, clusterRes, q.guaranteed, Resources.none())) {\n        pctOver \u003d\n            Resources.divide(rc, clusterRes, q.idealAssigned, q.guaranteed);\n      }\n      return (pctOver);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java",
      "extendedDetails": {
        "oldValue": "[q-TempQueue]",
        "newValue": "[q-TempQueuePerPartition]"
      }
    },
    "4b130821995a3cfe20c71e38e0f63294085c0491": {
      "type": "Yintroduced",
      "commitMessage": "YARN-2056. Disable preemption at Queue level. Contributed by Eric Payne\n",
      "commitDate": "05/12/14 1:06 PM",
      "commitName": "4b130821995a3cfe20c71e38e0f63294085c0491",
      "commitAuthor": "Jason Lowe",
      "diff": "@@ -0,0 +1,9 @@\n+    private double getIdealPctOfGuaranteed(TempQueue q) {\n+      double pctOver \u003d Integer.MAX_VALUE;\n+      if (q !\u003d null \u0026\u0026 Resources.greaterThan(\n+          rc, clusterRes, q.guaranteed, Resources.none())) {\n+        pctOver \u003d\n+            Resources.divide(rc, clusterRes, q.idealAssigned, q.guaranteed);\n+      }\n+      return (pctOver);\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    private double getIdealPctOfGuaranteed(TempQueue q) {\n      double pctOver \u003d Integer.MAX_VALUE;\n      if (q !\u003d null \u0026\u0026 Resources.greaterThan(\n          rc, clusterRes, q.guaranteed, Resources.none())) {\n        pctOver \u003d\n            Resources.divide(rc, clusterRes, q.idealAssigned, q.guaranteed);\n      }\n      return (pctOver);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java"
    }
  }
}