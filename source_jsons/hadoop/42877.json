{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMAppImpl.java",
  "functionName": "isAppFinalStateStored",
  "functionId": "isAppFinalStateStored",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java",
  "functionStartLine": 1645,
  "functionEndLine": 1650,
  "numCommitsSeen": 245,
  "timeTaken": 4471,
  "changeHistory": [
    "7da07461ffadb462567c81ad155d3d1473ad89d7",
    "b774d7b3de81cda4165a0e86bc2267fda8546cb5",
    "ec010a29362c6c5572f8681f4e7d0469176345e1"
  ],
  "changeHistoryShort": {
    "7da07461ffadb462567c81ad155d3d1473ad89d7": "Ymultichange(Yrename,Ybodychange)",
    "b774d7b3de81cda4165a0e86bc2267fda8546cb5": "Yrename",
    "ec010a29362c6c5572f8681f4e7d0469176345e1": "Yintroduced"
  },
  "changeHistoryDetails": {
    "7da07461ffadb462567c81ad155d3d1473ad89d7": {
      "type": "Ymultichange(Yrename,Ybodychange)",
      "commitMessage": "YARN-1793. Fixed ClientRMService#forceKillApplication not killing unmanaged application. Contributed by Karthik Kambatla\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1576023 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/03/14 10:58 AM",
      "commitName": "7da07461ffadb462567c81ad155d3d1473ad89d7",
      "commitAuthor": "Jian He",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "YARN-1793. Fixed ClientRMService#forceKillApplication not killing unmanaged application. Contributed by Karthik Kambatla\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1576023 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "10/03/14 10:58 AM",
          "commitName": "7da07461ffadb462567c81ad155d3d1473ad89d7",
          "commitAuthor": "Jian He",
          "commitDateOld": "18/02/14 5:19 PM",
          "commitNameOld": "3a7e7b3671a7c1e0fa105047891fbc7c4812c406",
          "commitAuthorOld": "Jian He",
          "daysBetweenCommits": 19.69,
          "commitsBetweenForRepo": 191,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,6 @@\n-  public boolean isAppSafeToTerminate() {\n+  public boolean isAppFinalStateStored() {\n     RMAppState state \u003d getState();\n     return state.equals(RMAppState.FINISHING)\n         || state.equals(RMAppState.FINISHED) || state.equals(RMAppState.FAILED)\n-        || state.equals(RMAppState.KILLED) ||\n-        // If this is an unmanaged AM, we are safe to unregister since unmanaged\n-        // AM will immediately go to FINISHED state on AM unregistration\n-        getApplicationSubmissionContext().getUnmanagedAM();\n+        || state.equals(RMAppState.KILLED);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public boolean isAppFinalStateStored() {\n    RMAppState state \u003d getState();\n    return state.equals(RMAppState.FINISHING)\n        || state.equals(RMAppState.FINISHED) || state.equals(RMAppState.FAILED)\n        || state.equals(RMAppState.KILLED);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java",
          "extendedDetails": {
            "oldValue": "isAppSafeToTerminate",
            "newValue": "isAppFinalStateStored"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-1793. Fixed ClientRMService#forceKillApplication not killing unmanaged application. Contributed by Karthik Kambatla\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1576023 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "10/03/14 10:58 AM",
          "commitName": "7da07461ffadb462567c81ad155d3d1473ad89d7",
          "commitAuthor": "Jian He",
          "commitDateOld": "18/02/14 5:19 PM",
          "commitNameOld": "3a7e7b3671a7c1e0fa105047891fbc7c4812c406",
          "commitAuthorOld": "Jian He",
          "daysBetweenCommits": 19.69,
          "commitsBetweenForRepo": 191,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,6 @@\n-  public boolean isAppSafeToTerminate() {\n+  public boolean isAppFinalStateStored() {\n     RMAppState state \u003d getState();\n     return state.equals(RMAppState.FINISHING)\n         || state.equals(RMAppState.FINISHED) || state.equals(RMAppState.FAILED)\n-        || state.equals(RMAppState.KILLED) ||\n-        // If this is an unmanaged AM, we are safe to unregister since unmanaged\n-        // AM will immediately go to FINISHED state on AM unregistration\n-        getApplicationSubmissionContext().getUnmanagedAM();\n+        || state.equals(RMAppState.KILLED);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public boolean isAppFinalStateStored() {\n    RMAppState state \u003d getState();\n    return state.equals(RMAppState.FINISHING)\n        || state.equals(RMAppState.FINISHED) || state.equals(RMAppState.FAILED)\n        || state.equals(RMAppState.KILLED);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java",
          "extendedDetails": {}
        }
      ]
    },
    "b774d7b3de81cda4165a0e86bc2267fda8546cb5": {
      "type": "Yrename",
      "commitMessage": "YARN-1446. Changed client API to retry killing application till RM acknowledges so as to account for RM crashes/failover. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1551444 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/12/13 6:16 PM",
      "commitName": "b774d7b3de81cda4165a0e86bc2267fda8546cb5",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "07/12/13 8:17 PM",
      "commitNameOld": "305ae48136d6e201de4451e824cb7b84f94ba2e0",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 8.92,
      "commitsBetweenForRepo": 49,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n-  public boolean isAppSafeToUnregister() {\n+  public boolean isAppSafeToTerminate() {\n     RMAppState state \u003d getState();\n     return state.equals(RMAppState.FINISHING)\n         || state.equals(RMAppState.FINISHED) || state.equals(RMAppState.FAILED)\n         || state.equals(RMAppState.KILLED) ||\n         // If this is an unmanaged AM, we are safe to unregister since unmanaged\n         // AM will immediately go to FINISHED state on AM unregistration\n         getApplicationSubmissionContext().getUnmanagedAM();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public boolean isAppSafeToTerminate() {\n    RMAppState state \u003d getState();\n    return state.equals(RMAppState.FINISHING)\n        || state.equals(RMAppState.FINISHED) || state.equals(RMAppState.FAILED)\n        || state.equals(RMAppState.KILLED) ||\n        // If this is an unmanaged AM, we are safe to unregister since unmanaged\n        // AM will immediately go to FINISHED state on AM unregistration\n        getApplicationSubmissionContext().getUnmanagedAM();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java",
      "extendedDetails": {
        "oldValue": "isAppSafeToUnregister",
        "newValue": "isAppSafeToTerminate"
      }
    },
    "ec010a29362c6c5572f8681f4e7d0469176345e1": {
      "type": "Yintroduced",
      "commitMessage": "YARN-540. Race condition causing RM to potentially relaunch already unregistered AMs on RM restart (Jian He via bikas)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1523376 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/09/13 6:01 PM",
      "commitName": "ec010a29362c6c5572f8681f4e7d0469176345e1",
      "commitAuthor": "Bikas Saha",
      "diff": "@@ -0,0 +1,9 @@\n+  public boolean isAppSafeToUnregister() {\n+    RMAppState state \u003d getState();\n+    return state.equals(RMAppState.FINISHING)\n+        || state.equals(RMAppState.FINISHED) || state.equals(RMAppState.FAILED)\n+        || state.equals(RMAppState.KILLED) ||\n+        // If this is an unmanaged AM, we are safe to unregister since unmanaged\n+        // AM will immediately go to FINISHED state on AM unregistration\n+        getApplicationSubmissionContext().getUnmanagedAM();\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public boolean isAppSafeToUnregister() {\n    RMAppState state \u003d getState();\n    return state.equals(RMAppState.FINISHING)\n        || state.equals(RMAppState.FINISHED) || state.equals(RMAppState.FAILED)\n        || state.equals(RMAppState.KILLED) ||\n        // If this is an unmanaged AM, we are safe to unregister since unmanaged\n        // AM will immediately go to FINISHED state on AM unregistration\n        getApplicationSubmissionContext().getUnmanagedAM();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java"
    }
  }
}