{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "SchedulerUtils.java",
  "functionName": "normalizeAndValidateRequest",
  "functionId": "normalizeAndValidateRequest___resReq-ResourceRequest__maximumAllocation-Resource__queueName-String__rmContext-RMContext__queueInfo-QueueInfo__nodeLabelsEnabled-boolean",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java",
  "functionStartLine": 296,
  "functionEndLine": 302,
  "numCommitsSeen": 165,
  "timeTaken": 6833,
  "changeHistory": [
    "570fa2da20706490dc7823efd0ce0cef3ddc81f9",
    "fd6be5898ad1a650e3bceacb8169a53520da57e5",
    "d6f6741296639a73f5306e3ebefec84a40ca03e5",
    "f489a4ec969f3727d03c8e85d51af1018fc0b2a1",
    "f65eeb412d140a3808bcf99344a9f3a965918f70"
  ],
  "changeHistoryShort": {
    "570fa2da20706490dc7823efd0ce0cef3ddc81f9": "Ymultichange(Yparameterchange,Ybodychange)",
    "fd6be5898ad1a650e3bceacb8169a53520da57e5": "Ymultichange(Yrename,Yparameterchange,Ybodychange)",
    "d6f6741296639a73f5306e3ebefec84a40ca03e5": "Ybodychange",
    "f489a4ec969f3727d03c8e85d51af1018fc0b2a1": "Ymultichange(Yparameterchange,Ybodychange)",
    "f65eeb412d140a3808bcf99344a9f3a965918f70": "Yintroduced"
  },
  "changeHistoryDetails": {
    "570fa2da20706490dc7823efd0ce0cef3ddc81f9": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-9508. YarnConfiguration areNodeLabel enabled is costly in allocation flow. Contributed by Bilwa S T.\n",
      "commitDate": "15/05/19 1:00 AM",
      "commitName": "570fa2da20706490dc7823efd0ce0cef3ddc81f9",
      "commitAuthor": "bibinchundatt",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-9508. YarnConfiguration areNodeLabel enabled is costly in allocation flow. Contributed by Bilwa S T.\n",
          "commitDate": "15/05/19 1:00 AM",
          "commitName": "570fa2da20706490dc7823efd0ce0cef3ddc81f9",
          "commitAuthor": "bibinchundatt",
          "commitDateOld": "15/03/19 4:20 PM",
          "commitNameOld": "2064ca015d1584263aac0cc20c60b925a3aff612",
          "commitAuthorOld": "Eric Yang",
          "daysBetweenCommits": 60.36,
          "commitsBetweenForRepo": 359,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,7 +1,7 @@\n   public static void normalizeAndValidateRequest(ResourceRequest resReq,\n-      Resource maximumAllocation, String queueName, YarnScheduler scheduler,\n-      RMContext rmContext, QueueInfo queueInfo)\n-      throws InvalidResourceRequestException {\n-    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, scheduler,\n-        false, rmContext, queueInfo);\n+      Resource maximumAllocation, String queueName, RMContext rmContext,\n+      QueueInfo queueInfo, boolean nodeLabelsEnabled)\n+          throws InvalidResourceRequestException {\n+    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, false,\n+        rmContext, queueInfo, nodeLabelsEnabled);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void normalizeAndValidateRequest(ResourceRequest resReq,\n      Resource maximumAllocation, String queueName, RMContext rmContext,\n      QueueInfo queueInfo, boolean nodeLabelsEnabled)\n          throws InvalidResourceRequestException {\n    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, false,\n        rmContext, queueInfo, nodeLabelsEnabled);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java",
          "extendedDetails": {
            "oldValue": "[resReq-ResourceRequest, maximumAllocation-Resource, queueName-String, scheduler-YarnScheduler, rmContext-RMContext, queueInfo-QueueInfo]",
            "newValue": "[resReq-ResourceRequest, maximumAllocation-Resource, queueName-String, rmContext-RMContext, queueInfo-QueueInfo, nodeLabelsEnabled-boolean]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-9508. YarnConfiguration areNodeLabel enabled is costly in allocation flow. Contributed by Bilwa S T.\n",
          "commitDate": "15/05/19 1:00 AM",
          "commitName": "570fa2da20706490dc7823efd0ce0cef3ddc81f9",
          "commitAuthor": "bibinchundatt",
          "commitDateOld": "15/03/19 4:20 PM",
          "commitNameOld": "2064ca015d1584263aac0cc20c60b925a3aff612",
          "commitAuthorOld": "Eric Yang",
          "daysBetweenCommits": 60.36,
          "commitsBetweenForRepo": 359,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,7 +1,7 @@\n   public static void normalizeAndValidateRequest(ResourceRequest resReq,\n-      Resource maximumAllocation, String queueName, YarnScheduler scheduler,\n-      RMContext rmContext, QueueInfo queueInfo)\n-      throws InvalidResourceRequestException {\n-    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, scheduler,\n-        false, rmContext, queueInfo);\n+      Resource maximumAllocation, String queueName, RMContext rmContext,\n+      QueueInfo queueInfo, boolean nodeLabelsEnabled)\n+          throws InvalidResourceRequestException {\n+    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, false,\n+        rmContext, queueInfo, nodeLabelsEnabled);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void normalizeAndValidateRequest(ResourceRequest resReq,\n      Resource maximumAllocation, String queueName, RMContext rmContext,\n      QueueInfo queueInfo, boolean nodeLabelsEnabled)\n          throws InvalidResourceRequestException {\n    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, false,\n        rmContext, queueInfo, nodeLabelsEnabled);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java",
          "extendedDetails": {}
        }
      ]
    },
    "fd6be5898ad1a650e3bceacb8169a53520da57e5": {
      "type": "Ymultichange(Yrename,Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-8468. Enable the use of queue based maximum container allocation limit and implement it in FairScheduler. Contributed by Antal B치lint Steinbach.\n",
      "commitDate": "29/09/18 2:47 AM",
      "commitName": "fd6be5898ad1a650e3bceacb8169a53520da57e5",
      "commitAuthor": "Weiwei Yang",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "YARN-8468. Enable the use of queue based maximum container allocation limit and implement it in FairScheduler. Contributed by Antal B치lint Steinbach.\n",
          "commitDate": "29/09/18 2:47 AM",
          "commitName": "fd6be5898ad1a650e3bceacb8169a53520da57e5",
          "commitAuthor": "Weiwei Yang",
          "commitDateOld": "27/07/18 2:35 PM",
          "commitNameOld": "2cccf4061cc4021c48e29879700dbc94f832b7d1",
          "commitAuthorOld": "Robert Kanter",
          "daysBetweenCommits": 63.51,
          "commitsBetweenForRepo": 571,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,7 @@\n-  public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n-      Resource maximumResource, String queueName, YarnScheduler scheduler,\n-      RMContext rmContext) throws InvalidResourceRequestException {\n-    normalizeAndvalidateRequest(resReq, maximumResource, queueName, scheduler,\n-        rmContext, null);\n+  public static void normalizeAndValidateRequest(ResourceRequest resReq,\n+      Resource maximumAllocation, String queueName, YarnScheduler scheduler,\n+      RMContext rmContext, QueueInfo queueInfo)\n+      throws InvalidResourceRequestException {\n+    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, scheduler,\n+        false, rmContext, queueInfo);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void normalizeAndValidateRequest(ResourceRequest resReq,\n      Resource maximumAllocation, String queueName, YarnScheduler scheduler,\n      RMContext rmContext, QueueInfo queueInfo)\n      throws InvalidResourceRequestException {\n    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, scheduler,\n        false, rmContext, queueInfo);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java",
          "extendedDetails": {
            "oldValue": "normalizeAndvalidateRequest",
            "newValue": "normalizeAndValidateRequest"
          }
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-8468. Enable the use of queue based maximum container allocation limit and implement it in FairScheduler. Contributed by Antal B치lint Steinbach.\n",
          "commitDate": "29/09/18 2:47 AM",
          "commitName": "fd6be5898ad1a650e3bceacb8169a53520da57e5",
          "commitAuthor": "Weiwei Yang",
          "commitDateOld": "27/07/18 2:35 PM",
          "commitNameOld": "2cccf4061cc4021c48e29879700dbc94f832b7d1",
          "commitAuthorOld": "Robert Kanter",
          "daysBetweenCommits": 63.51,
          "commitsBetweenForRepo": 571,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,7 @@\n-  public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n-      Resource maximumResource, String queueName, YarnScheduler scheduler,\n-      RMContext rmContext) throws InvalidResourceRequestException {\n-    normalizeAndvalidateRequest(resReq, maximumResource, queueName, scheduler,\n-        rmContext, null);\n+  public static void normalizeAndValidateRequest(ResourceRequest resReq,\n+      Resource maximumAllocation, String queueName, YarnScheduler scheduler,\n+      RMContext rmContext, QueueInfo queueInfo)\n+      throws InvalidResourceRequestException {\n+    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, scheduler,\n+        false, rmContext, queueInfo);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void normalizeAndValidateRequest(ResourceRequest resReq,\n      Resource maximumAllocation, String queueName, YarnScheduler scheduler,\n      RMContext rmContext, QueueInfo queueInfo)\n      throws InvalidResourceRequestException {\n    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, scheduler,\n        false, rmContext, queueInfo);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java",
          "extendedDetails": {
            "oldValue": "[resReq-ResourceRequest, maximumResource-Resource, queueName-String, scheduler-YarnScheduler, rmContext-RMContext]",
            "newValue": "[resReq-ResourceRequest, maximumAllocation-Resource, queueName-String, scheduler-YarnScheduler, rmContext-RMContext, queueInfo-QueueInfo]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-8468. Enable the use of queue based maximum container allocation limit and implement it in FairScheduler. Contributed by Antal B치lint Steinbach.\n",
          "commitDate": "29/09/18 2:47 AM",
          "commitName": "fd6be5898ad1a650e3bceacb8169a53520da57e5",
          "commitAuthor": "Weiwei Yang",
          "commitDateOld": "27/07/18 2:35 PM",
          "commitNameOld": "2cccf4061cc4021c48e29879700dbc94f832b7d1",
          "commitAuthorOld": "Robert Kanter",
          "daysBetweenCommits": 63.51,
          "commitsBetweenForRepo": 571,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,7 @@\n-  public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n-      Resource maximumResource, String queueName, YarnScheduler scheduler,\n-      RMContext rmContext) throws InvalidResourceRequestException {\n-    normalizeAndvalidateRequest(resReq, maximumResource, queueName, scheduler,\n-        rmContext, null);\n+  public static void normalizeAndValidateRequest(ResourceRequest resReq,\n+      Resource maximumAllocation, String queueName, YarnScheduler scheduler,\n+      RMContext rmContext, QueueInfo queueInfo)\n+      throws InvalidResourceRequestException {\n+    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, scheduler,\n+        false, rmContext, queueInfo);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void normalizeAndValidateRequest(ResourceRequest resReq,\n      Resource maximumAllocation, String queueName, YarnScheduler scheduler,\n      RMContext rmContext, QueueInfo queueInfo)\n      throws InvalidResourceRequestException {\n    normalizeAndValidateRequest(resReq, maximumAllocation, queueName, scheduler,\n        false, rmContext, queueInfo);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java",
          "extendedDetails": {}
        }
      ]
    },
    "d6f6741296639a73f5306e3ebefec84a40ca03e5": {
      "type": "Ybodychange",
      "commitMessage": "YARN-3489. RMServerUtils.validateResourceRequests should only obtain queue info once. (Varun Saxena via wangda)\n",
      "commitDate": "11/05/15 5:31 PM",
      "commitName": "d6f6741296639a73f5306e3ebefec84a40ca03e5",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "07/05/15 5:35 PM",
      "commitNameOld": "f489a4ec969f3727d03c8e85d51af1018fc0b2a1",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 4.0,
      "commitsBetweenForRepo": 94,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n       Resource maximumResource, String queueName, YarnScheduler scheduler,\n       RMContext rmContext)\n       throws InvalidResourceRequestException {\n-    normalizeAndValidateRequest(resReq, maximumResource, queueName, scheduler,\n-        false, rmContext);\n+    normalizeAndvalidateRequest(resReq, maximumResource, queueName, scheduler,\n+        rmContext, null);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n      Resource maximumResource, String queueName, YarnScheduler scheduler,\n      RMContext rmContext)\n      throws InvalidResourceRequestException {\n    normalizeAndvalidateRequest(resReq, maximumResource, queueName, scheduler,\n        rmContext, null);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java",
      "extendedDetails": {}
    },
    "f489a4ec969f3727d03c8e85d51af1018fc0b2a1": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-2918. RM should not fail on startup if queue\u0027s configured labels do not exist in cluster-node-labels. Contributed by Wangda Tan\n",
      "commitDate": "07/05/15 5:35 PM",
      "commitName": "f489a4ec969f3727d03c8e85d51af1018fc0b2a1",
      "commitAuthor": "Jian He",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-2918. RM should not fail on startup if queue\u0027s configured labels do not exist in cluster-node-labels. Contributed by Wangda Tan\n",
          "commitDate": "07/05/15 5:35 PM",
          "commitName": "f489a4ec969f3727d03c8e85d51af1018fc0b2a1",
          "commitAuthor": "Jian He",
          "commitDateOld": "17/04/15 5:11 PM",
          "commitNameOld": "f65eeb412d140a3808bcf99344a9f3a965918f70",
          "commitAuthorOld": "Wangda Tan",
          "daysBetweenCommits": 20.02,
          "commitsBetweenForRepo": 188,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,7 @@\n   public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n-      Resource maximumResource, String queueName, YarnScheduler scheduler)\n+      Resource maximumResource, String queueName, YarnScheduler scheduler,\n+      RMContext rmContext)\n       throws InvalidResourceRequestException {\n     normalizeAndValidateRequest(resReq, maximumResource, queueName, scheduler,\n-        false);\n+        false, rmContext);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n      Resource maximumResource, String queueName, YarnScheduler scheduler,\n      RMContext rmContext)\n      throws InvalidResourceRequestException {\n    normalizeAndValidateRequest(resReq, maximumResource, queueName, scheduler,\n        false, rmContext);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java",
          "extendedDetails": {
            "oldValue": "[resReq-ResourceRequest, maximumResource-Resource, queueName-String, scheduler-YarnScheduler]",
            "newValue": "[resReq-ResourceRequest, maximumResource-Resource, queueName-String, scheduler-YarnScheduler, rmContext-RMContext]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-2918. RM should not fail on startup if queue\u0027s configured labels do not exist in cluster-node-labels. Contributed by Wangda Tan\n",
          "commitDate": "07/05/15 5:35 PM",
          "commitName": "f489a4ec969f3727d03c8e85d51af1018fc0b2a1",
          "commitAuthor": "Jian He",
          "commitDateOld": "17/04/15 5:11 PM",
          "commitNameOld": "f65eeb412d140a3808bcf99344a9f3a965918f70",
          "commitAuthorOld": "Wangda Tan",
          "daysBetweenCommits": 20.02,
          "commitsBetweenForRepo": 188,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,7 @@\n   public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n-      Resource maximumResource, String queueName, YarnScheduler scheduler)\n+      Resource maximumResource, String queueName, YarnScheduler scheduler,\n+      RMContext rmContext)\n       throws InvalidResourceRequestException {\n     normalizeAndValidateRequest(resReq, maximumResource, queueName, scheduler,\n-        false);\n+        false, rmContext);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n      Resource maximumResource, String queueName, YarnScheduler scheduler,\n      RMContext rmContext)\n      throws InvalidResourceRequestException {\n    normalizeAndValidateRequest(resReq, maximumResource, queueName, scheduler,\n        false, rmContext);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java",
          "extendedDetails": {}
        }
      ]
    },
    "f65eeb412d140a3808bcf99344a9f3a965918f70": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3493. RM fails to come up with error \"Failed to load/recover state\" when mem settings are changed. (Jian He via wangda)\n",
      "commitDate": "17/04/15 5:11 PM",
      "commitName": "f65eeb412d140a3808bcf99344a9f3a965918f70",
      "commitAuthor": "Wangda Tan",
      "diff": "@@ -0,0 +1,6 @@\n+  public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n+      Resource maximumResource, String queueName, YarnScheduler scheduler)\n+      throws InvalidResourceRequestException {\n+    normalizeAndValidateRequest(resReq, maximumResource, queueName, scheduler,\n+        false);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static void normalizeAndvalidateRequest(ResourceRequest resReq,\n      Resource maximumResource, String queueName, YarnScheduler scheduler)\n      throws InvalidResourceRequestException {\n    normalizeAndValidateRequest(resReq, maximumResource, queueName, scheduler,\n        false);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerUtils.java"
    }
  }
}