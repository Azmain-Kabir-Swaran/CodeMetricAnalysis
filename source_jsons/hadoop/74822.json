{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "DelegationTokenManager.java",
  "functionName": "cancelToken",
  "functionId": "cancelToken___token-Token__? extends AbstractDelegationTokenIdentifier____canceler-String",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenManager.java",
  "functionStartLine": 199,
  "functionEndLine": 206,
  "numCommitsSeen": 14,
  "timeTaken": 2007,
  "changeHistory": [
    "771f798edf97b27ae003395118c0317b484df6ee",
    "cdce88376a60918dfe2f3bcd82a7666d74992a19",
    "be9c67930b57c516723d566625f9036a88a84055",
    "4e7c4a6e1fd00767d966cd2482a364b2eacbd35b",
    "4d4560189adccb941a3dc5eee7add134adbf6519"
  ],
  "changeHistoryShort": {
    "771f798edf97b27ae003395118c0317b484df6ee": "Ybodychange",
    "cdce88376a60918dfe2f3bcd82a7666d74992a19": "Yparameterchange",
    "be9c67930b57c516723d566625f9036a88a84055": "Ymultichange(Yexceptionschange,Ybodychange)",
    "4e7c4a6e1fd00767d966cd2482a364b2eacbd35b": "Yfilerename",
    "4d4560189adccb941a3dc5eee7add134adbf6519": "Yintroduced"
  },
  "changeHistoryDetails": {
    "771f798edf97b27ae003395118c0317b484df6ee": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-13251. Authenticate with Kerberos credentials when renewing KMS delegation token. Contributed by Xiao Chen.\n",
      "commitDate": "27/06/16 6:20 PM",
      "commitName": "771f798edf97b27ae003395118c0317b484df6ee",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "21/01/16 1:51 PM",
      "commitNameOld": "f3427d3766d7101d0d1c37d6281918551d221ebe",
      "commitAuthorOld": "Xiaoyu Yao",
      "daysBetweenCommits": 158.15,
      "commitsBetweenForRepo": 1051,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,8 @@\n   public void cancelToken(\n       Token\u003c? extends AbstractDelegationTokenIdentifier\u003e token,\n       String canceler) throws IOException {\n+    LOG.debug(\"Cancelling token:{} with canceler:{}.\", token, canceler);\n     canceler \u003d (canceler !\u003d null) ? canceler :\n                verifyToken(token).getShortUserName();\n     secretManager.cancelToken(token, canceler);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void cancelToken(\n      Token\u003c? extends AbstractDelegationTokenIdentifier\u003e token,\n      String canceler) throws IOException {\n    LOG.debug(\"Cancelling token:{} with canceler:{}.\", token, canceler);\n    canceler \u003d (canceler !\u003d null) ? canceler :\n               verifyToken(token).getShortUserName();\n    secretManager.cancelToken(token, canceler);\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenManager.java",
      "extendedDetails": {}
    },
    "cdce88376a60918dfe2f3bcd82a7666d74992a19": {
      "type": "Yparameterchange",
      "commitMessage": "HADOOP-11181. Generalized o.a.h.s.t.d.DelegationTokenManager to handle all sub-classes of AbstractDelegationTokenIdentifier. Contributed by Zhijie Shen.\n",
      "commitDate": "14/10/14 11:35 AM",
      "commitName": "cdce88376a60918dfe2f3bcd82a7666d74992a19",
      "commitAuthor": "Zhijie Shen",
      "commitDateOld": "20/09/14 8:21 AM",
      "commitNameOld": "db890eef3208cc557476fa510f7a253ba22bc68a",
      "commitAuthorOld": "Alejandro Abdelnur",
      "daysBetweenCommits": 24.13,
      "commitsBetweenForRepo": 240,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,7 @@\n-  public void cancelToken(Token\u003cDelegationTokenIdentifier\u003e token,\n+  public void cancelToken(\n+      Token\u003c? extends AbstractDelegationTokenIdentifier\u003e token,\n       String canceler) throws IOException {\n     canceler \u003d (canceler !\u003d null) ? canceler :\n                verifyToken(token).getShortUserName();\n     secretManager.cancelToken(token, canceler);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void cancelToken(\n      Token\u003c? extends AbstractDelegationTokenIdentifier\u003e token,\n      String canceler) throws IOException {\n    canceler \u003d (canceler !\u003d null) ? canceler :\n               verifyToken(token).getShortUserName();\n    secretManager.cancelToken(token, canceler);\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenManager.java",
      "extendedDetails": {
        "oldValue": "[token-Token\u003cDelegationTokenIdentifier\u003e, canceler-String]",
        "newValue": "[token-Token\u003c? extends AbstractDelegationTokenIdentifier\u003e, canceler-String]"
      }
    },
    "be9c67930b57c516723d566625f9036a88a84055": {
      "type": "Ymultichange(Yexceptionschange,Ybodychange)",
      "commitMessage": "HADOOP-10771. Refactor HTTP delegation support out of httpfs to common, PART 2. (tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1616672 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/14 9:58 PM",
      "commitName": "be9c67930b57c516723d566625f9036a88a84055",
      "commitAuthor": "Alejandro Abdelnur",
      "subchanges": [
        {
          "type": "Yexceptionschange",
          "commitMessage": "HADOOP-10771. Refactor HTTP delegation support out of httpfs to common, PART 2. (tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1616672 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "07/08/14 9:58 PM",
          "commitName": "be9c67930b57c516723d566625f9036a88a84055",
          "commitAuthor": "Alejandro Abdelnur",
          "commitDateOld": "07/08/14 9:55 PM",
          "commitNameOld": "4e7c4a6e1fd00767d966cd2482a364b2eacbd35b",
          "commitAuthorOld": "Alejandro Abdelnur",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,6 @@\n   public void cancelToken(Token\u003cDelegationTokenIdentifier\u003e token,\n-                          String canceler)\n-    throws DelegationTokenManagerException {\n-    try {\n-      secretManager.cancelToken(token, canceler);\n-    } catch (IOException ex) {\n-      throw new DelegationTokenManagerException(\n-        DelegationTokenManagerException.ERROR.DT03, ex.toString(), ex);\n-    }\n+      String canceler) throws IOException {\n+    canceler \u003d (canceler !\u003d null) ? canceler :\n+               verifyToken(token).getShortUserName();\n+    secretManager.cancelToken(token, canceler);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public void cancelToken(Token\u003cDelegationTokenIdentifier\u003e token,\n      String canceler) throws IOException {\n    canceler \u003d (canceler !\u003d null) ? canceler :\n               verifyToken(token).getShortUserName();\n    secretManager.cancelToken(token, canceler);\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenManager.java",
          "extendedDetails": {
            "oldValue": "[DelegationTokenManagerException]",
            "newValue": "[IOException]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HADOOP-10771. Refactor HTTP delegation support out of httpfs to common, PART 2. (tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1616672 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "07/08/14 9:58 PM",
          "commitName": "be9c67930b57c516723d566625f9036a88a84055",
          "commitAuthor": "Alejandro Abdelnur",
          "commitDateOld": "07/08/14 9:55 PM",
          "commitNameOld": "4e7c4a6e1fd00767d966cd2482a364b2eacbd35b",
          "commitAuthorOld": "Alejandro Abdelnur",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,6 @@\n   public void cancelToken(Token\u003cDelegationTokenIdentifier\u003e token,\n-                          String canceler)\n-    throws DelegationTokenManagerException {\n-    try {\n-      secretManager.cancelToken(token, canceler);\n-    } catch (IOException ex) {\n-      throw new DelegationTokenManagerException(\n-        DelegationTokenManagerException.ERROR.DT03, ex.toString(), ex);\n-    }\n+      String canceler) throws IOException {\n+    canceler \u003d (canceler !\u003d null) ? canceler :\n+               verifyToken(token).getShortUserName();\n+    secretManager.cancelToken(token, canceler);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public void cancelToken(Token\u003cDelegationTokenIdentifier\u003e token,\n      String canceler) throws IOException {\n    canceler \u003d (canceler !\u003d null) ? canceler :\n               verifyToken(token).getShortUserName();\n    secretManager.cancelToken(token, canceler);\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenManager.java",
          "extendedDetails": {}
        }
      ]
    },
    "4e7c4a6e1fd00767d966cd2482a364b2eacbd35b": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-10771. Refactor HTTP delegation support out of httpfs to common, PART 1. (tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1616671 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/14 9:55 PM",
      "commitName": "4e7c4a6e1fd00767d966cd2482a364b2eacbd35b",
      "commitAuthor": "Alejandro Abdelnur",
      "commitDateOld": "07/08/14 9:27 PM",
      "commitNameOld": "2ac640ec751f665365d548104b3713e414f53351",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public void cancelToken(Token\u003cDelegationTokenIdentifier\u003e token,\n                          String canceler)\n    throws DelegationTokenManagerException {\n    try {\n      secretManager.cancelToken(token, canceler);\n    } catch (IOException ex) {\n      throw new DelegationTokenManagerException(\n        DelegationTokenManagerException.ERROR.DT03, ex.toString(), ex);\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenManager.java",
      "extendedDetails": {
        "oldPath": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/lib/service/security/DelegationTokenManagerService.java",
        "newPath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/token/delegation/web/DelegationTokenManager.java"
      }
    },
    "4d4560189adccb941a3dc5eee7add134adbf6519": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-3113. httpfs does not support delegation tokens. (tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1365988 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "26/07/12 6:39 AM",
      "commitName": "4d4560189adccb941a3dc5eee7add134adbf6519",
      "commitAuthor": "Alejandro Abdelnur",
      "diff": "@@ -0,0 +1,10 @@\n+  public void cancelToken(Token\u003cDelegationTokenIdentifier\u003e token,\n+                          String canceler)\n+    throws DelegationTokenManagerException {\n+    try {\n+      secretManager.cancelToken(token, canceler);\n+    } catch (IOException ex) {\n+      throw new DelegationTokenManagerException(\n+        DelegationTokenManagerException.ERROR.DT03, ex.toString(), ex);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void cancelToken(Token\u003cDelegationTokenIdentifier\u003e token,\n                          String canceler)\n    throws DelegationTokenManagerException {\n    try {\n      secretManager.cancelToken(token, canceler);\n    } catch (IOException ex) {\n      throw new DelegationTokenManagerException(\n        DelegationTokenManagerException.ERROR.DT03, ex.toString(), ex);\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/lib/service/security/DelegationTokenManagerService.java"
    }
  }
}