{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FederationStateStoreService.java",
  "functionName": "serviceInit",
  "functionId": "serviceInit___conf-Configuration",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/federation/FederationStateStoreService.java",
  "functionStartLine": 98,
  "functionEndLine": 126,
  "numCommitsSeen": 2,
  "timeTaken": 964,
  "changeHistory": [
    "94a24567d65469091c8b521987dc2003d0327159"
  ],
  "changeHistoryShort": {
    "94a24567d65469091c8b521987dc2003d0327159": "Yintroduced"
  },
  "changeHistoryDetails": {
    "94a24567d65469091c8b521987dc2003d0327159": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3671. Integrate Federation services with ResourceManager. Contributed by Subru Krishnan\n\n(cherry picked from commit 8573c286e27623155c715a632d56a68f23523c72)\n",
      "commitDate": "01/08/17 5:28 PM",
      "commitName": "94a24567d65469091c8b521987dc2003d0327159",
      "commitAuthor": "Jian He",
      "diff": "@@ -0,0 +1,29 @@\n+  protected void serviceInit(Configuration conf) throws Exception {\n+\n+    this.config \u003d conf;\n+\n+    RetryPolicy retryPolicy \u003d\n+        FederationStateStoreFacade.createRetryPolicy(conf);\n+\n+    this.stateStoreClient \u003d\n+        (FederationStateStore) FederationStateStoreFacade.createRetryInstance(\n+            conf, YarnConfiguration.FEDERATION_STATESTORE_CLIENT_CLASS,\n+            YarnConfiguration.DEFAULT_FEDERATION_STATESTORE_CLIENT_CLASS,\n+            FederationStateStore.class, retryPolicy);\n+    this.stateStoreClient.init(conf);\n+    LOG.info(\"Initialized state store client class\");\n+\n+    this.subClusterId \u003d\n+        SubClusterId.newInstance(YarnConfiguration.getClusterId(conf));\n+\n+    heartbeatInterval \u003d conf.getLong(\n+        YarnConfiguration.FEDERATION_STATESTORE_HEARTBEAT_INTERVAL_SECS,\n+        YarnConfiguration.DEFAULT_FEDERATION_STATESTORE_HEARTBEAT_INTERVAL_SECS);\n+    if (heartbeatInterval \u003c\u003d 0) {\n+      heartbeatInterval \u003d\n+          YarnConfiguration.DEFAULT_FEDERATION_STATESTORE_HEARTBEAT_INTERVAL_SECS;\n+    }\n+    LOG.info(\"Initialized federation membership service.\");\n+\n+    super.serviceInit(conf);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  protected void serviceInit(Configuration conf) throws Exception {\n\n    this.config \u003d conf;\n\n    RetryPolicy retryPolicy \u003d\n        FederationStateStoreFacade.createRetryPolicy(conf);\n\n    this.stateStoreClient \u003d\n        (FederationStateStore) FederationStateStoreFacade.createRetryInstance(\n            conf, YarnConfiguration.FEDERATION_STATESTORE_CLIENT_CLASS,\n            YarnConfiguration.DEFAULT_FEDERATION_STATESTORE_CLIENT_CLASS,\n            FederationStateStore.class, retryPolicy);\n    this.stateStoreClient.init(conf);\n    LOG.info(\"Initialized state store client class\");\n\n    this.subClusterId \u003d\n        SubClusterId.newInstance(YarnConfiguration.getClusterId(conf));\n\n    heartbeatInterval \u003d conf.getLong(\n        YarnConfiguration.FEDERATION_STATESTORE_HEARTBEAT_INTERVAL_SECS,\n        YarnConfiguration.DEFAULT_FEDERATION_STATESTORE_HEARTBEAT_INTERVAL_SECS);\n    if (heartbeatInterval \u003c\u003d 0) {\n      heartbeatInterval \u003d\n          YarnConfiguration.DEFAULT_FEDERATION_STATESTORE_HEARTBEAT_INTERVAL_SECS;\n    }\n    LOG.info(\"Initialized federation membership service.\");\n\n    super.serviceInit(conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/federation/FederationStateStoreService.java"
    }
  }
}