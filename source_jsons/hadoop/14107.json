{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "QuorumCall.java",
  "functionName": "getQuorumTimeoutIncreaseMillis",
  "functionId": "getQuorumTimeoutIncreaseMillis___offset-long__millis-int",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/client/QuorumCall.java",
  "functionStartLine": 133,
  "functionEndLine": 144,
  "numCommitsSeen": 9,
  "timeTaken": 1269,
  "changeHistory": [
    "90894c7262df0243e795b675f3ac9f7b322ccd11"
  ],
  "changeHistoryShort": {
    "90894c7262df0243e795b675f3ac9f7b322ccd11": "Yintroduced"
  },
  "changeHistoryDetails": {
    "90894c7262df0243e795b675f3ac9f7b322ccd11": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-12323. NameNode terminates after full GC thinking QJM unresponsive if full GC is much longer than timeout. Contributed by Erik Krogen.",
      "commitDate": "15/09/17 1:56 PM",
      "commitName": "90894c7262df0243e795b675f3ac9f7b322ccd11",
      "commitAuthor": "Erik Krogen",
      "diff": "@@ -0,0 +1,12 @@\n+  private long getQuorumTimeoutIncreaseMillis(long offset, int millis) {\n+    long elapsed \u003d quorumStopWatch.now(TimeUnit.MILLISECONDS);\n+    long pauseTime \u003d elapsed + offset;\n+    if (pauseTime \u003e (millis * WAIT_PROGRESS_INFO_THRESHOLD)) {\n+      QuorumJournalManager.LOG.info(\"Pause detected while waiting for \" +\n+          \"QuorumCall response; increasing timeout threshold by pause time \" +\n+          \"of \" + pauseTime + \" ms.\");\n+      return pauseTime;\n+    } else {\n+      return -1;\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private long getQuorumTimeoutIncreaseMillis(long offset, int millis) {\n    long elapsed \u003d quorumStopWatch.now(TimeUnit.MILLISECONDS);\n    long pauseTime \u003d elapsed + offset;\n    if (pauseTime \u003e (millis * WAIT_PROGRESS_INFO_THRESHOLD)) {\n      QuorumJournalManager.LOG.info(\"Pause detected while waiting for \" +\n          \"QuorumCall response; increasing timeout threshold by pause time \" +\n          \"of \" + pauseTime + \" ms.\");\n      return pauseTime;\n    } else {\n      return -1;\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/qjournal/client/QuorumCall.java"
    }
  }
}