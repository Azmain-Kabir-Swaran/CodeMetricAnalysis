{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "CsiConfigUtils.java",
  "functionName": "getCsiAdaptorAddressForDriver",
  "functionId": "getCsiAdaptorAddressForDriver___driverName-String__conf-Configuration",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/util/csi/CsiConfigUtils.java",
  "functionStartLine": 61,
  "functionEndLine": 78,
  "numCommitsSeen": 2,
  "timeTaken": 1882,
  "changeHistory": [
    "f4906ac01960c78ff0c91797eaa4b36d80f6826d",
    "5fb14e0635f850c63e009f954b8539a401d0f90a"
  ],
  "changeHistoryShort": {
    "f4906ac01960c78ff0c91797eaa4b36d80f6826d": "Ymultichange(Yfilerename,Ybodychange)",
    "5fb14e0635f850c63e009f954b8539a401d0f90a": "Yintroduced"
  },
  "changeHistoryDetails": {
    "f4906ac01960c78ff0c91797eaa4b36d80f6826d": {
      "type": "Ymultichange(Yfilerename,Ybodychange)",
      "commitMessage": "YARN-9038. [CSI] Add ability to publish/unpublish volumes on node managers. Contributed by Weiwei Yang.\n",
      "commitDate": "03/01/19 10:40 PM",
      "commitName": "f4906ac01960c78ff0c91797eaa4b36d80f6826d",
      "commitAuthor": "Sunil G",
      "subchanges": [
        {
          "type": "Yfilerename",
          "commitMessage": "YARN-9038. [CSI] Add ability to publish/unpublish volumes on node managers. Contributed by Weiwei Yang.\n",
          "commitDate": "03/01/19 10:40 PM",
          "commitName": "f4906ac01960c78ff0c91797eaa4b36d80f6826d",
          "commitAuthor": "Sunil G",
          "commitDateOld": "03/01/19 9:57 AM",
          "commitNameOld": "dfceffa70d54f5aa9cb2fe200653e83227c44f62",
          "commitAuthorOld": "Eric Yang",
          "daysBetweenCommits": 0.53,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,18 @@\n   public static InetSocketAddress getCsiAdaptorAddressForDriver(\n       String driverName, Configuration conf) throws YarnException {\n     String configName \u003d YarnConfiguration.NM_CSI_ADAPTOR_PREFIX\n-        + driverName + \".address\";\n+        + driverName + YarnConfiguration.NM_CSI_ADAPTOR_ADDRESS_SUFFIX;\n     String errorMessage \u003d \"Failed to load CSI adaptor address for driver \"\n         + driverName + \", configuration property \" + configName\n         + \" is not defined or invalid.\";\n     try {\n       InetSocketAddress address \u003d conf\n           .getSocketAddr(configName, null, -1);\n       if (address \u003d\u003d null) {\n         throw new YarnException(errorMessage);\n       }\n       return address;\n     } catch (IllegalArgumentException e) {\n       throw new YarnException(errorMessage);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static InetSocketAddress getCsiAdaptorAddressForDriver(\n      String driverName, Configuration conf) throws YarnException {\n    String configName \u003d YarnConfiguration.NM_CSI_ADAPTOR_PREFIX\n        + driverName + YarnConfiguration.NM_CSI_ADAPTOR_ADDRESS_SUFFIX;\n    String errorMessage \u003d \"Failed to load CSI adaptor address for driver \"\n        + driverName + \", configuration property \" + configName\n        + \" is not defined or invalid.\";\n    try {\n      InetSocketAddress address \u003d conf\n          .getSocketAddr(configName, null, -1);\n      if (address \u003d\u003d null) {\n        throw new YarnException(errorMessage);\n      }\n      return address;\n    } catch (IllegalArgumentException e) {\n      throw new YarnException(errorMessage);\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/util/csi/CsiConfigUtils.java",
          "extendedDetails": {
            "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-csi/src/main/java/org/apache/hadoop/yarn/csi/utils/ConfigUtils.java",
            "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/util/csi/CsiConfigUtils.java"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-9038. [CSI] Add ability to publish/unpublish volumes on node managers. Contributed by Weiwei Yang.\n",
          "commitDate": "03/01/19 10:40 PM",
          "commitName": "f4906ac01960c78ff0c91797eaa4b36d80f6826d",
          "commitAuthor": "Sunil G",
          "commitDateOld": "03/01/19 9:57 AM",
          "commitNameOld": "dfceffa70d54f5aa9cb2fe200653e83227c44f62",
          "commitAuthorOld": "Eric Yang",
          "daysBetweenCommits": 0.53,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,18 @@\n   public static InetSocketAddress getCsiAdaptorAddressForDriver(\n       String driverName, Configuration conf) throws YarnException {\n     String configName \u003d YarnConfiguration.NM_CSI_ADAPTOR_PREFIX\n-        + driverName + \".address\";\n+        + driverName + YarnConfiguration.NM_CSI_ADAPTOR_ADDRESS_SUFFIX;\n     String errorMessage \u003d \"Failed to load CSI adaptor address for driver \"\n         + driverName + \", configuration property \" + configName\n         + \" is not defined or invalid.\";\n     try {\n       InetSocketAddress address \u003d conf\n           .getSocketAddr(configName, null, -1);\n       if (address \u003d\u003d null) {\n         throw new YarnException(errorMessage);\n       }\n       return address;\n     } catch (IllegalArgumentException e) {\n       throw new YarnException(errorMessage);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static InetSocketAddress getCsiAdaptorAddressForDriver(\n      String driverName, Configuration conf) throws YarnException {\n    String configName \u003d YarnConfiguration.NM_CSI_ADAPTOR_PREFIX\n        + driverName + YarnConfiguration.NM_CSI_ADAPTOR_ADDRESS_SUFFIX;\n    String errorMessage \u003d \"Failed to load CSI adaptor address for driver \"\n        + driverName + \", configuration property \" + configName\n        + \" is not defined or invalid.\";\n    try {\n      InetSocketAddress address \u003d conf\n          .getSocketAddr(configName, null, -1);\n      if (address \u003d\u003d null) {\n        throw new YarnException(errorMessage);\n      }\n      return address;\n    } catch (IllegalArgumentException e) {\n      throw new YarnException(errorMessage);\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/util/csi/CsiConfigUtils.java",
          "extendedDetails": {}
        }
      ]
    },
    "5fb14e0635f850c63e009f954b8539a401d0f90a": {
      "type": "Yintroduced",
      "commitMessage": "YARN-8953. [CSI] CSI driver adaptor module support in NodeManager. Contributed by Weiwei Yang.\n",
      "commitDate": "19/11/18 6:32 PM",
      "commitName": "5fb14e0635f850c63e009f954b8539a401d0f90a",
      "commitAuthor": "Sunil G",
      "diff": "@@ -0,0 +1,18 @@\n+  public static InetSocketAddress getCsiAdaptorAddressForDriver(\n+      String driverName, Configuration conf) throws YarnException {\n+    String configName \u003d YarnConfiguration.NM_CSI_ADAPTOR_PREFIX\n+        + driverName + \".address\";\n+    String errorMessage \u003d \"Failed to load CSI adaptor address for driver \"\n+        + driverName + \", configuration property \" + configName\n+        + \" is not defined or invalid.\";\n+    try {\n+      InetSocketAddress address \u003d conf\n+          .getSocketAddr(configName, null, -1);\n+      if (address \u003d\u003d null) {\n+        throw new YarnException(errorMessage);\n+      }\n+      return address;\n+    } catch (IllegalArgumentException e) {\n+      throw new YarnException(errorMessage);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static InetSocketAddress getCsiAdaptorAddressForDriver(\n      String driverName, Configuration conf) throws YarnException {\n    String configName \u003d YarnConfiguration.NM_CSI_ADAPTOR_PREFIX\n        + driverName + \".address\";\n    String errorMessage \u003d \"Failed to load CSI adaptor address for driver \"\n        + driverName + \", configuration property \" + configName\n        + \" is not defined or invalid.\";\n    try {\n      InetSocketAddress address \u003d conf\n          .getSocketAddr(configName, null, -1);\n      if (address \u003d\u003d null) {\n        throw new YarnException(errorMessage);\n      }\n      return address;\n    } catch (IllegalArgumentException e) {\n      throw new YarnException(errorMessage);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-csi/src/main/java/org/apache/hadoop/yarn/csi/utils/ConfigUtils.java"
    }
  }
}