{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ServiceUtils.java",
  "functionName": "copy",
  "functionId": "copy___conf-Configuration__srcFile-Path__destFile-Path",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/ServiceUtils.java",
  "functionStartLine": 156,
  "functionEndLine": 172,
  "numCommitsSeen": 26,
  "timeTaken": 4730,
  "changeHistory": [
    "a127f7b0fbde3942ca4329d5463bb8fe421daf7b",
    "40ab068eabe50875449d601471619a4e82fff86d",
    "2191f5b533c6b4763f5d443d21127f1f8552ce64",
    "c31cd981ebabc0747cabcc07a8c8797619ed2c53",
    "3279baecb9e257bda0d39cf193c970ea4847f3e0"
  ],
  "changeHistoryShort": {
    "a127f7b0fbde3942ca4329d5463bb8fe421daf7b": "Yfilerename",
    "40ab068eabe50875449d601471619a4e82fff86d": "Yfilerename",
    "2191f5b533c6b4763f5d443d21127f1f8552ce64": "Ymovefromfile",
    "c31cd981ebabc0747cabcc07a8c8797619ed2c53": "Ybodychange",
    "3279baecb9e257bda0d39cf193c970ea4847f3e0": "Yintroduced"
  },
  "changeHistoryDetails": {
    "a127f7b0fbde3942ca4329d5463bb8fe421daf7b": {
      "type": "Yfilerename",
      "commitMessage": "YARN-7423. Improve service client loggings. Contributed by Jian He\n",
      "commitDate": "06/11/17 1:30 PM",
      "commitName": "a127f7b0fbde3942ca4329d5463bb8fe421daf7b",
      "commitAuthor": "Billie Rinaldi",
      "commitDateOld": "06/11/17 1:30 PM",
      "commitNameOld": "a6c4bd74b636d0715ffb4c1aca9ef4e49201aa02",
      "commitAuthorOld": "Billie Rinaldi",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static void copy(Configuration conf,\n      Path srcFile,\n      Path destFile) throws\n      IOException,\n      BadClusterStateException {\n    FileSystem srcFS \u003d FileSystem.get(srcFile.toUri(), conf);\n    //list all paths in the src.\n    if (!srcFS.exists(srcFile)) {\n      throw new FileNotFoundException(\"Source file not found \" + srcFile);\n    }\n    if (!srcFS.isFile(srcFile)) {\n      throw new FileNotFoundException(\n          \"Source file not a file \" + srcFile);\n    }\n    FileSystem destFS \u003d FileSystem.get(destFile.toUri(), conf);\n    FileUtil.copy(srcFS, srcFile, destFS, destFile, false, true, conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/ServiceUtils.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/SliderUtils.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/ServiceUtils.java"
      }
    },
    "40ab068eabe50875449d601471619a4e82fff86d": {
      "type": "Yfilerename",
      "commitMessage": "YARN-7091. Rename application to service in yarn-native-services. Contributed by Jian He\n",
      "commitDate": "06/11/17 1:30 PM",
      "commitName": "40ab068eabe50875449d601471619a4e82fff86d",
      "commitAuthor": "Billie Rinaldi",
      "commitDateOld": "06/11/17 1:30 PM",
      "commitNameOld": "2ba38ce8ecb1cf3836fab48cdb2c5ae7e1b5427d",
      "commitAuthorOld": "Gour Saha",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static void copy(Configuration conf,\n      Path srcFile,\n      Path destFile) throws\n      IOException,\n      BadClusterStateException {\n    FileSystem srcFS \u003d FileSystem.get(srcFile.toUri(), conf);\n    //list all paths in the src.\n    if (!srcFS.exists(srcFile)) {\n      throw new FileNotFoundException(\"Source file not found \" + srcFile);\n    }\n    if (!srcFS.isFile(srcFile)) {\n      throw new FileNotFoundException(\n          \"Source file not a file \" + srcFile);\n    }\n    FileSystem destFS \u003d FileSystem.get(destFile.toUri(), conf);\n    FileUtil.copy(srcFS, srcFile, destFS, destFile, false, true, conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/SliderUtils.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-slider/hadoop-yarn-slider-core/src/main/java/org/apache/hadoop/yarn/service/utils/SliderUtils.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-core/src/main/java/org/apache/hadoop/yarn/service/utils/SliderUtils.java"
      }
    },
    "2191f5b533c6b4763f5d443d21127f1f8552ce64": {
      "type": "Ymovefromfile",
      "commitMessage": "YARN-7050. Post cleanup after YARN-6903, removal of org.apache.slider package. Contributed by Jian He\n",
      "commitDate": "06/11/17 1:30 PM",
      "commitName": "2191f5b533c6b4763f5d443d21127f1f8552ce64",
      "commitAuthor": "Billie Rinaldi",
      "commitDateOld": "06/11/17 1:30 PM",
      "commitNameOld": "79bf5c084d4a063f1a933cae498af23edfd46792",
      "commitAuthorOld": "Billie Rinaldi",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static void copy(Configuration conf,\n      Path srcFile,\n      Path destFile) throws\n      IOException,\n      BadClusterStateException {\n    FileSystem srcFS \u003d FileSystem.get(srcFile.toUri(), conf);\n    //list all paths in the src.\n    if (!srcFS.exists(srcFile)) {\n      throw new FileNotFoundException(\"Source file not found \" + srcFile);\n    }\n    if (!srcFS.isFile(srcFile)) {\n      throw new FileNotFoundException(\n          \"Source file not a file \" + srcFile);\n    }\n    FileSystem destFS \u003d FileSystem.get(destFile.toUri(), conf);\n    FileUtil.copy(srcFS, srcFile, destFS, destFile, false, true, conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-slider/hadoop-yarn-slider-core/src/main/java/org/apache/hadoop/yarn/service/utils/SliderUtils.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-slider/hadoop-yarn-slider-core/src/main/java/org/apache/slider/common/tools/SliderUtils.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-slider/hadoop-yarn-slider-core/src/main/java/org/apache/hadoop/yarn/service/utils/SliderUtils.java",
        "oldMethodName": "copy",
        "newMethodName": "copy"
      }
    },
    "c31cd981ebabc0747cabcc07a8c8797619ed2c53": {
      "type": "Ybodychange",
      "commitMessage": "YARN-6255. Refactor yarn-native-services framework. Contributed by Jian He\n",
      "commitDate": "06/11/17 1:28 PM",
      "commitName": "c31cd981ebabc0747cabcc07a8c8797619ed2c53",
      "commitAuthor": "Jian He",
      "commitDateOld": "06/11/17 1:28 PM",
      "commitNameOld": "a5e20f0fc1262dc57396f95c9d741b4486c728c2",
      "commitAuthorOld": "Gour Saha",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,17 @@\n   public static void copy(Configuration conf,\n       Path srcFile,\n       Path destFile) throws\n       IOException,\n       BadClusterStateException {\n     FileSystem srcFS \u003d FileSystem.get(srcFile.toUri(), conf);\n     //list all paths in the src.\n     if (!srcFS.exists(srcFile)) {\n       throw new FileNotFoundException(\"Source file not found \" + srcFile);\n     }\n     if (!srcFS.isFile(srcFile)) {\n       throw new FileNotFoundException(\n           \"Source file not a file \" + srcFile);\n     }\n     FileSystem destFS \u003d FileSystem.get(destFile.toUri(), conf);\n-    if (destFS.exists(destFile)) {\n-      throw new IOException(\"Dest file already exists \" + destFile);\n-    }\n     FileUtil.copy(srcFS, srcFile, destFS, destFile, false, true, conf);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void copy(Configuration conf,\n      Path srcFile,\n      Path destFile) throws\n      IOException,\n      BadClusterStateException {\n    FileSystem srcFS \u003d FileSystem.get(srcFile.toUri(), conf);\n    //list all paths in the src.\n    if (!srcFS.exists(srcFile)) {\n      throw new FileNotFoundException(\"Source file not found \" + srcFile);\n    }\n    if (!srcFS.isFile(srcFile)) {\n      throw new FileNotFoundException(\n          \"Source file not a file \" + srcFile);\n    }\n    FileSystem destFS \u003d FileSystem.get(destFile.toUri(), conf);\n    FileUtil.copy(srcFS, srcFile, destFS, destFile, false, true, conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-slider/hadoop-yarn-slider-core/src/main/java/org/apache/slider/common/tools/SliderUtils.java",
      "extendedDetails": {}
    },
    "3279baecb9e257bda0d39cf193c970ea4847f3e0": {
      "type": "Yintroduced",
      "commitMessage": "YARN-5538. Apply SLIDER-875 to yarn-native-services. Contributed by Billie Rinaldi\n",
      "commitDate": "06/11/17 1:28 PM",
      "commitName": "3279baecb9e257bda0d39cf193c970ea4847f3e0",
      "commitAuthor": "Jian He",
      "diff": "@@ -0,0 +1,20 @@\n+  public static void copy(Configuration conf,\n+      Path srcFile,\n+      Path destFile) throws\n+      IOException,\n+      BadClusterStateException {\n+    FileSystem srcFS \u003d FileSystem.get(srcFile.toUri(), conf);\n+    //list all paths in the src.\n+    if (!srcFS.exists(srcFile)) {\n+      throw new FileNotFoundException(\"Source file not found \" + srcFile);\n+    }\n+    if (!srcFS.isFile(srcFile)) {\n+      throw new FileNotFoundException(\n+          \"Source file not a file \" + srcFile);\n+    }\n+    FileSystem destFS \u003d FileSystem.get(destFile.toUri(), conf);\n+    if (destFS.exists(destFile)) {\n+      throw new IOException(\"Dest file already exists \" + destFile);\n+    }\n+    FileUtil.copy(srcFS, srcFile, destFS, destFile, false, true, conf);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static void copy(Configuration conf,\n      Path srcFile,\n      Path destFile) throws\n      IOException,\n      BadClusterStateException {\n    FileSystem srcFS \u003d FileSystem.get(srcFile.toUri(), conf);\n    //list all paths in the src.\n    if (!srcFS.exists(srcFile)) {\n      throw new FileNotFoundException(\"Source file not found \" + srcFile);\n    }\n    if (!srcFS.isFile(srcFile)) {\n      throw new FileNotFoundException(\n          \"Source file not a file \" + srcFile);\n    }\n    FileSystem destFS \u003d FileSystem.get(destFile.toUri(), conf);\n    if (destFS.exists(destFile)) {\n      throw new IOException(\"Dest file already exists \" + destFile);\n    }\n    FileUtil.copy(srcFS, srcFile, destFS, destFile, false, true, conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-slider/hadoop-yarn-slider-core/src/main/java/org/apache/slider/common/tools/SliderUtils.java"
    }
  }
}