{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ApiServiceClient.java",
  "functionName": "getInstances",
  "functionId": "getInstances___appName-String__components-List__String____version-String__containerStates-List__String__",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/main/java/org/apache/hadoop/yarn/service/client/ApiServiceClient.java",
  "functionStartLine": 684,
  "functionEndLine": 703,
  "numCommitsSeen": 18,
  "timeTaken": 1954,
  "changeHistory": [
    "95372657fc25c02399b01793833021ccf88dada2",
    "121865c3f96166e2190ed54b433ebcf8d053b91c"
  ],
  "changeHistoryShort": {
    "95372657fc25c02399b01793833021ccf88dada2": "Ybodychange",
    "121865c3f96166e2190ed54b433ebcf8d053b91c": "Yintroduced"
  },
  "changeHistoryDetails": {
    "95372657fc25c02399b01793833021ccf88dada2": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9287. Consecutive StringBuilder append should be reuse. Contributed by Ayush Saxena.\n",
      "commitDate": "25/02/19 11:45 AM",
      "commitName": "95372657fc25c02399b01793833021ccf88dada2",
      "commitAuthor": "Giovanni Matteo Fumarola",
      "commitDateOld": "19/11/18 5:59 PM",
      "commitNameOld": "27ffec7ba77ba3d0b88b97b34aca5356e2e258f4",
      "commitAuthorOld": "Billie Rinaldi",
      "daysBetweenCommits": 97.74,
      "commitsBetweenForRepo": 675,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,20 @@\n   public String getInstances(String appName, List\u003cString\u003e components,\n       String version, List\u003cString\u003e containerStates) throws IOException,\n       YarnException {\n     try {\n       String uri \u003d getInstancePath(appName, components, version,\n           containerStates);\n       ClientResponse response \u003d getApiClient(uri).get(ClientResponse.class);\n       if (response.getStatus() !\u003d 200) {\n         StringBuilder sb \u003d new StringBuilder();\n-        sb.append(\"Failed: HTTP error code: \");\n-        sb.append(response.getStatus());\n-        sb.append(\" ErrorMsg: \").append(response.getEntity(String.class));\n+        sb.append(\"Failed: HTTP error code: \")\n+            .append(response.getStatus())\n+            .append(\" ErrorMsg: \").append(response.getEntity(String.class));\n         return sb.toString();\n       }\n       return response.getEntity(String.class);\n     } catch (Exception e) {\n       LOG.error(\"Fail to get containers {}\", e);\n     }\n     return null;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public String getInstances(String appName, List\u003cString\u003e components,\n      String version, List\u003cString\u003e containerStates) throws IOException,\n      YarnException {\n    try {\n      String uri \u003d getInstancePath(appName, components, version,\n          containerStates);\n      ClientResponse response \u003d getApiClient(uri).get(ClientResponse.class);\n      if (response.getStatus() !\u003d 200) {\n        StringBuilder sb \u003d new StringBuilder();\n        sb.append(\"Failed: HTTP error code: \")\n            .append(response.getStatus())\n            .append(\" ErrorMsg: \").append(response.getEntity(String.class));\n        return sb.toString();\n      }\n      return response.getEntity(String.class);\n    } catch (Exception e) {\n      LOG.error(\"Fail to get containers {}\", e);\n    }\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/main/java/org/apache/hadoop/yarn/service/client/ApiServiceClient.java",
      "extendedDetails": {}
    },
    "121865c3f96166e2190ed54b433ebcf8d053b91c": {
      "type": "Yintroduced",
      "commitMessage": "YARN-8299.  Added CLI and REST API for query container status.\n            Contributed by Chandni Singh\n",
      "commitDate": "16/07/18 2:41 PM",
      "commitName": "121865c3f96166e2190ed54b433ebcf8d053b91c",
      "commitAuthor": "Eric Yang",
      "diff": "@@ -0,0 +1,20 @@\n+  public String getInstances(String appName, List\u003cString\u003e components,\n+      String version, List\u003cString\u003e containerStates) throws IOException,\n+      YarnException {\n+    try {\n+      String uri \u003d getInstancePath(appName, components, version,\n+          containerStates);\n+      ClientResponse response \u003d getApiClient(uri).get(ClientResponse.class);\n+      if (response.getStatus() !\u003d 200) {\n+        StringBuilder sb \u003d new StringBuilder();\n+        sb.append(\"Failed: HTTP error code: \");\n+        sb.append(response.getStatus());\n+        sb.append(\" ErrorMsg: \").append(response.getEntity(String.class));\n+        return sb.toString();\n+      }\n+      return response.getEntity(String.class);\n+    } catch (Exception e) {\n+      LOG.error(\"Fail to get containers {}\", e);\n+    }\n+    return null;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public String getInstances(String appName, List\u003cString\u003e components,\n      String version, List\u003cString\u003e containerStates) throws IOException,\n      YarnException {\n    try {\n      String uri \u003d getInstancePath(appName, components, version,\n          containerStates);\n      ClientResponse response \u003d getApiClient(uri).get(ClientResponse.class);\n      if (response.getStatus() !\u003d 200) {\n        StringBuilder sb \u003d new StringBuilder();\n        sb.append(\"Failed: HTTP error code: \");\n        sb.append(response.getStatus());\n        sb.append(\" ErrorMsg: \").append(response.getEntity(String.class));\n        return sb.toString();\n      }\n      return response.getEntity(String.class);\n    } catch (Exception e) {\n      LOG.error(\"Fail to get containers {}\", e);\n    }\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-services/hadoop-yarn-services-api/src/main/java/org/apache/hadoop/yarn/service/client/ApiServiceClient.java"
    }
  }
}