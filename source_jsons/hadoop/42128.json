{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMStateStore.java",
  "functionName": "removeApplication",
  "functionId": "removeApplication___app-RMApp",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
  "functionStartLine": 1169,
  "functionEndLine": 1180,
  "numCommitsSeen": 81,
  "timeTaken": 3725,
  "changeHistory": [
    "d65603517e52843f11cd9d3b6f6e28fca9336ee3",
    "6b9a5beb2b2f9589ef86670f2d763e8488ee5e90",
    "8676a118a12165ae5a8b80a2a4596c133471ebc1",
    "5805a81efbc024024d8172489dfdc6cf77879416",
    "83be3ad44484bf8a24cb90de4b9c26ab59d226a8",
    "305ae48136d6e201de4451e824cb7b84f94ba2e0",
    "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6",
    "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732",
    "259edf8dca44de54033e96f7eb65a83aaa6096f2",
    "74231f027607ff1a6fe7d72fad28108826963cf3",
    "6cd0736cc57849e4f7c5d38a3986432a9717fe39"
  ],
  "changeHistoryShort": {
    "d65603517e52843f11cd9d3b6f6e28fca9336ee3": "Ybodychange",
    "6b9a5beb2b2f9589ef86670f2d763e8488ee5e90": "Ymodifierchange",
    "8676a118a12165ae5a8b80a2a4596c133471ebc1": "Ybodychange",
    "5805a81efbc024024d8172489dfdc6cf77879416": "Ybodychange",
    "83be3ad44484bf8a24cb90de4b9c26ab59d226a8": "Ybodychange",
    "305ae48136d6e201de4451e824cb7b84f94ba2e0": "Ybodychange",
    "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6": "Ybodychange",
    "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732": "Ybodychange",
    "259edf8dca44de54033e96f7eb65a83aaa6096f2": "Ybodychange",
    "74231f027607ff1a6fe7d72fad28108826963cf3": "Ybodychange",
    "6cd0736cc57849e4f7c5d38a3986432a9717fe39": "Yintroduced"
  },
  "changeHistoryDetails": {
    "d65603517e52843f11cd9d3b6f6e28fca9336ee3": {
      "type": "Ybodychange",
      "commitMessage": "YARN-5375. invoke MockRM#drainEvents implicitly in MockRM methods to reduce test failures. Contributed by sandflee.\n",
      "commitDate": "16/11/16 1:44 AM",
      "commitName": "d65603517e52843f11cd9d3b6f6e28fca9336ee3",
      "commitAuthor": "Rohith Sharma K S",
      "commitDateOld": "14/11/16 9:28 PM",
      "commitNameOld": "b7070f3308fc4c6a8a9a25021562169cae87d223",
      "commitAuthorOld": "Rohith Sharma K S",
      "daysBetweenCommits": 1.18,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,12 @@\n   public void removeApplication(RMApp app) {\n     ApplicationStateData appState \u003d\n         ApplicationStateData.newInstance(app.getSubmitTime(),\n             app.getStartTime(), app.getApplicationSubmissionContext(),\n             app.getUser(), app.getCallerContext());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n       appState.attempts.put(appAttempt.getAppAttemptId(), null);\n     }\n     \n-    dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n+    getRMStateStoreEventHandler().handle(\n+        new RMStateStoreRemoveAppEvent(appState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void removeApplication(RMApp app) {\n    ApplicationStateData appState \u003d\n        ApplicationStateData.newInstance(app.getSubmitTime(),\n            app.getStartTime(), app.getApplicationSubmissionContext(),\n            app.getUser(), app.getCallerContext());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      appState.attempts.put(appAttempt.getAppAttemptId(), null);\n    }\n    \n    getRMStateStoreEventHandler().handle(\n        new RMStateStoreRemoveAppEvent(appState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "6b9a5beb2b2f9589ef86670f2d763e8488ee5e90": {
      "type": "Ymodifierchange",
      "commitMessage": "YARN-4398. Remove unnecessary synchronization in RMStateStore. Contributed by Ning Ding\n",
      "commitDate": "02/12/15 11:07 AM",
      "commitName": "6b9a5beb2b2f9589ef86670f2d763e8488ee5e90",
      "commitAuthor": "Jian He",
      "commitDateOld": "23/11/15 5:19 PM",
      "commitNameOld": "8676a118a12165ae5a8b80a2a4596c133471ebc1",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 8.74,
      "commitsBetweenForRepo": 57,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n-  public synchronized void removeApplication(RMApp app) {\n+  public void removeApplication(RMApp app) {\n     ApplicationStateData appState \u003d\n         ApplicationStateData.newInstance(app.getSubmitTime(),\n             app.getStartTime(), app.getApplicationSubmissionContext(),\n             app.getUser(), app.getCallerContext());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n       appState.attempts.put(appAttempt.getAppAttemptId(), null);\n     }\n     \n     dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void removeApplication(RMApp app) {\n    ApplicationStateData appState \u003d\n        ApplicationStateData.newInstance(app.getSubmitTime(),\n            app.getStartTime(), app.getApplicationSubmissionContext(),\n            app.getUser(), app.getCallerContext());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      appState.attempts.put(appAttempt.getAppAttemptId(), null);\n    }\n    \n    dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {
        "oldValue": "[public, synchronized]",
        "newValue": "[public]"
      }
    },
    "8676a118a12165ae5a8b80a2a4596c133471ebc1": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4349. Support CallerContext in YARN. Contributed by Wangda Tan\n",
      "commitDate": "23/11/15 5:19 PM",
      "commitName": "8676a118a12165ae5a8b80a2a4596c133471ebc1",
      "commitAuthor": "Jian He",
      "commitDateOld": "17/11/15 3:50 PM",
      "commitNameOld": "6a61928fb790d553c942641761ea963b5e996ef6",
      "commitAuthorOld": "Arun Suresh",
      "daysBetweenCommits": 6.06,
      "commitsBetweenForRepo": 57,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n   public synchronized void removeApplication(RMApp app) {\n     ApplicationStateData appState \u003d\n-        ApplicationStateData.newInstance(\n-            app.getSubmitTime(), app.getStartTime(),\n-            app.getApplicationSubmissionContext(), app.getUser());\n+        ApplicationStateData.newInstance(app.getSubmitTime(),\n+            app.getStartTime(), app.getApplicationSubmissionContext(),\n+            app.getUser(), app.getCallerContext());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n       appState.attempts.put(appAttempt.getAppAttemptId(), null);\n     }\n     \n     dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void removeApplication(RMApp app) {\n    ApplicationStateData appState \u003d\n        ApplicationStateData.newInstance(app.getSubmitTime(),\n            app.getStartTime(), app.getApplicationSubmissionContext(),\n            app.getUser(), app.getCallerContext());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      appState.attempts.put(appAttempt.getAppAttemptId(), null);\n    }\n    \n    dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "5805a81efbc024024d8172489dfdc6cf77879416": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2404. Removed ApplicationAttemptState and ApplicationState class in RMStateStore. Contributed by Tsuyoshi OZAWA\n",
      "commitDate": "25/11/14 12:48 PM",
      "commitName": "5805a81efbc024024d8172489dfdc6cf77879416",
      "commitAuthor": "Jian He",
      "commitDateOld": "14/11/14 5:24 PM",
      "commitNameOld": "9b860661a5754e829bd8c34ef092757421589bbe",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 10.81,
      "commitsBetweenForRepo": 55,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,11 @@\n   public synchronized void removeApplication(RMApp app) {\n-    ApplicationState appState \u003d new ApplicationState(\n+    ApplicationStateData appState \u003d\n+        ApplicationStateData.newInstance(\n             app.getSubmitTime(), app.getStartTime(),\n             app.getApplicationSubmissionContext(), app.getUser());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n-      Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n-      ApplicationAttemptState attemptState \u003d\n-          new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n-            appAttempt.getMasterContainer(), credentials,\n-            appAttempt.getStartTime(), 0, 0);\n-      appState.attempts.put(attemptState.getAttemptId(), attemptState);\n+      appState.attempts.put(appAttempt.getAppAttemptId(), null);\n     }\n     \n     dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void removeApplication(RMApp app) {\n    ApplicationStateData appState \u003d\n        ApplicationStateData.newInstance(\n            app.getSubmitTime(), app.getStartTime(),\n            app.getApplicationSubmissionContext(), app.getUser());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      appState.attempts.put(appAttempt.getAppAttemptId(), null);\n    }\n    \n    dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "83be3ad44484bf8a24cb90de4b9c26ab59d226a8": {
      "type": "Ybodychange",
      "commitMessage": "YARN-415. Capture aggregate memory allocation at the app-level for chargeback. Contributed by Eric Payne \u0026 Andrey Klochkov\n",
      "commitDate": "10/09/14 6:20 PM",
      "commitName": "83be3ad44484bf8a24cb90de4b9c26ab59d226a8",
      "commitAuthor": "Jian He",
      "commitDateOld": "11/08/14 11:24 AM",
      "commitNameOld": "c4dc6853439d54076c6875e66accfc61dddf74d1",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 30.29,
      "commitsBetweenForRepo": 242,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,15 @@\n   public synchronized void removeApplication(RMApp app) {\n     ApplicationState appState \u003d new ApplicationState(\n             app.getSubmitTime(), app.getStartTime(),\n             app.getApplicationSubmissionContext(), app.getUser());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n       Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n       ApplicationAttemptState attemptState \u003d\n           new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n             appAttempt.getMasterContainer(), credentials,\n-            appAttempt.getStartTime());\n+            appAttempt.getStartTime(), 0, 0);\n       appState.attempts.put(attemptState.getAttemptId(), attemptState);\n     }\n     \n     dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void removeApplication(RMApp app) {\n    ApplicationState appState \u003d new ApplicationState(\n            app.getSubmitTime(), app.getStartTime(),\n            app.getApplicationSubmissionContext(), app.getUser());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n      ApplicationAttemptState attemptState \u003d\n          new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(), credentials,\n            appAttempt.getStartTime(), 0, 0);\n      appState.attempts.put(attemptState.getAttemptId(), attemptState);\n    }\n    \n    dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "305ae48136d6e201de4451e824cb7b84f94ba2e0": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1378. Implemented a cleaner of old finished applications from the RM state-store. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1548990 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/12/13 8:17 PM",
      "commitName": "305ae48136d6e201de4451e824cb7b84f94ba2e0",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "27/11/13 3:22 PM",
      "commitNameOld": "6369c8d81972a9a0b6ef41f4508fcb60d34e3d78",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 10.21,
      "commitsBetweenForRepo": 54,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,15 @@\n   public synchronized void removeApplication(RMApp app) {\n     ApplicationState appState \u003d new ApplicationState(\n             app.getSubmitTime(), app.getStartTime(),\n             app.getApplicationSubmissionContext(), app.getUser());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n       Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n       ApplicationAttemptState attemptState \u003d\n           new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n             appAttempt.getMasterContainer(), credentials,\n             appAttempt.getStartTime());\n       appState.attempts.put(attemptState.getAttemptId(), attemptState);\n     }\n     \n-    removeApplication(appState);\n+    dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void removeApplication(RMApp app) {\n    ApplicationState appState \u003d new ApplicationState(\n            app.getSubmitTime(), app.getStartTime(),\n            app.getApplicationSubmissionContext(), app.getUser());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n      ApplicationAttemptState attemptState \u003d\n          new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(), credentials,\n            appAttempt.getStartTime());\n      appState.attempts.put(attemptState.getAttemptId(), attemptState);\n    }\n    \n    dispatcher.getEventHandler().handle(new RMStateStoreRemoveAppEvent(appState));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6": {
      "type": "Ybodychange",
      "commitMessage": "YARN-891. Modified ResourceManager state-store to remember completed applications so that clients can get information about them post RM-restart. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1537560 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "31/10/13 10:25 AM",
      "commitName": "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "19/09/13 1:39 PM",
      "commitNameOld": "8628c1704b7d8c1a0ac01cea679c03245d11d330",
      "commitAuthorOld": "Hitesh Shah",
      "daysBetweenCommits": 41.87,
      "commitsBetweenForRepo": 291,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,15 @@\n   public synchronized void removeApplication(RMApp app) {\n     ApplicationState appState \u003d new ApplicationState(\n-            app.getSubmitTime(), app.getApplicationSubmissionContext(),\n-            app.getUser());\n+            app.getSubmitTime(), app.getStartTime(),\n+            app.getApplicationSubmissionContext(), app.getUser());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n       Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n       ApplicationAttemptState attemptState \u003d\n           new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n-            appAttempt.getMasterContainer(), credentials);\n+            appAttempt.getMasterContainer(), credentials,\n+            appAttempt.getStartTime());\n       appState.attempts.put(attemptState.getAttemptId(), attemptState);\n     }\n     \n     removeApplication(appState);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void removeApplication(RMApp app) {\n    ApplicationState appState \u003d new ApplicationState(\n            app.getSubmitTime(), app.getStartTime(),\n            app.getApplicationSubmissionContext(), app.getUser());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n      ApplicationAttemptState attemptState \u003d\n          new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(), credentials,\n            appAttempt.getStartTime());\n      appState.attempts.put(attemptState.getAttemptId(), attemptState);\n    }\n    \n    removeApplication(appState);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732": {
      "type": "Ybodychange",
      "commitMessage": "YARN-707. Added user information also in the YARN ClientToken so that AMs can implement authorization based on incoming users. Contributed by Jason Lowe.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1518868 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/08/13 6:12 PM",
      "commitName": "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "21/08/13 4:55 PM",
      "commitNameOld": "ad0011a3405fee6c6e45996d39557e0f8d420633",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 8.05,
      "commitsBetweenForRepo": 48,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n   public synchronized void removeApplication(RMApp app) {\n     ApplicationState appState \u003d new ApplicationState(\n             app.getSubmitTime(), app.getApplicationSubmissionContext(),\n             app.getUser());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n-      Credentials credentials \u003d getTokensFromAppAttempt(appAttempt);\n+      Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n       ApplicationAttemptState attemptState \u003d\n           new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n             appAttempt.getMasterContainer(), credentials);\n       appState.attempts.put(attemptState.getAttemptId(), attemptState);\n     }\n     \n     removeApplication(appState);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void removeApplication(RMApp app) {\n    ApplicationState appState \u003d new ApplicationState(\n            app.getSubmitTime(), app.getApplicationSubmissionContext(),\n            app.getUser());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      Credentials credentials \u003d getCredentialsFromAppAttempt(appAttempt);\n      ApplicationAttemptState attemptState \u003d\n          new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(), credentials);\n      appState.attempts.put(attemptState.getAttemptId(), attemptState);\n    }\n    \n    removeApplication(appState);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "259edf8dca44de54033e96f7eb65a83aaa6096f2": {
      "type": "Ybodychange",
      "commitMessage": "YARN-571. Remove user from ContainerLaunchContext. Contributed by Omkar Vinit Joshi.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1485928 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "23/05/13 8:22 PM",
      "commitName": "259edf8dca44de54033e96f7eb65a83aaa6096f2",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "07/05/13 11:20 PM",
      "commitNameOld": "74231f027607ff1a6fe7d72fad28108826963cf3",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 15.88,
      "commitsBetweenForRepo": 84,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,14 @@\n   public synchronized void removeApplication(RMApp app) {\n     ApplicationState appState \u003d new ApplicationState(\n-        app.getSubmitTime(), app.getApplicationSubmissionContext());\n+            app.getSubmitTime(), app.getApplicationSubmissionContext(),\n+            app.getUser());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n       Credentials credentials \u003d getTokensFromAppAttempt(appAttempt);\n       ApplicationAttemptState attemptState \u003d\n           new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n             appAttempt.getMasterContainer(), credentials);\n       appState.attempts.put(attemptState.getAttemptId(), attemptState);\n     }\n     \n     removeApplication(appState);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void removeApplication(RMApp app) {\n    ApplicationState appState \u003d new ApplicationState(\n            app.getSubmitTime(), app.getApplicationSubmissionContext(),\n            app.getUser());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      Credentials credentials \u003d getTokensFromAppAttempt(appAttempt);\n      ApplicationAttemptState attemptState \u003d\n          new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(), credentials);\n      appState.attempts.put(attemptState.getAttemptId(), attemptState);\n    }\n    \n    removeApplication(appState);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "74231f027607ff1a6fe7d72fad28108826963cf3": {
      "type": "Ybodychange",
      "commitMessage": "YARN-582. Changed ResourceManager to recover Application token and client tokens for app attempt so that RM can be restarted while preserving current applications. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1480168 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/05/13 11:20 PM",
      "commitName": "74231f027607ff1a6fe7d72fad28108826963cf3",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "26/04/13 11:02 AM",
      "commitNameOld": "f0ac5a849c24c20f891c2a43af412030e7af2b9b",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 11.51,
      "commitsBetweenForRepo": 64,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,13 @@\n   public synchronized void removeApplication(RMApp app) {\n     ApplicationState appState \u003d new ApplicationState(\n         app.getSubmitTime(), app.getApplicationSubmissionContext());\n     for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n-      ApplicationAttemptState attemptState \u003d new ApplicationAttemptState(\n-                appAttempt.getAppAttemptId(), appAttempt.getMasterContainer());\n+      Credentials credentials \u003d getTokensFromAppAttempt(appAttempt);\n+      ApplicationAttemptState attemptState \u003d\n+          new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n+            appAttempt.getMasterContainer(), credentials);\n       appState.attempts.put(attemptState.getAttemptId(), attemptState);\n     }\n     \n     removeApplication(appState);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void removeApplication(RMApp app) {\n    ApplicationState appState \u003d new ApplicationState(\n        app.getSubmitTime(), app.getApplicationSubmissionContext());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      Credentials credentials \u003d getTokensFromAppAttempt(appAttempt);\n      ApplicationAttemptState attemptState \u003d\n          new ApplicationAttemptState(appAttempt.getAppAttemptId(),\n            appAttempt.getMasterContainer(), credentials);\n      appState.attempts.put(attemptState.getAttemptId(), attemptState);\n    }\n    \n    removeApplication(appState);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java",
      "extendedDetails": {}
    },
    "6cd0736cc57849e4f7c5d38a3986432a9717fe39": {
      "type": "Yintroduced",
      "commitMessage": "YARN-230. RM Restart phase 1 - includes support for saving/restarting all applications on an RM bounce. Contributed by Bikas Saha.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1423758 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/12/12 8:21 PM",
      "commitName": "6cd0736cc57849e4f7c5d38a3986432a9717fe39",
      "commitAuthor": "Arun Murthy",
      "diff": "@@ -0,0 +1,11 @@\n+  public synchronized void removeApplication(RMApp app) {\n+    ApplicationState appState \u003d new ApplicationState(\n+        app.getSubmitTime(), app.getApplicationSubmissionContext());\n+    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n+      ApplicationAttemptState attemptState \u003d new ApplicationAttemptState(\n+                appAttempt.getAppAttemptId(), appAttempt.getMasterContainer());\n+      appState.attempts.put(attemptState.getAttemptId(), attemptState);\n+    }\n+    \n+    removeApplication(appState);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void removeApplication(RMApp app) {\n    ApplicationState appState \u003d new ApplicationState(\n        app.getSubmitTime(), app.getApplicationSubmissionContext());\n    for(RMAppAttempt appAttempt : app.getAppAttempts().values()) {\n      ApplicationAttemptState attemptState \u003d new ApplicationAttemptState(\n                appAttempt.getAppAttemptId(), appAttempt.getMasterContainer());\n      appState.attempts.put(attemptState.getAttemptId(), attemptState);\n    }\n    \n    removeApplication(appState);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/recovery/RMStateStore.java"
    }
  }
}