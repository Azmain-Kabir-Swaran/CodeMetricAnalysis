{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "NativeAzureFileSystem.java",
  "functionName": "deleteRenamePendingFile",
  "functionId": "deleteRenamePendingFile___fs-FileSystem__redoFile-Path",
  "sourceFilePath": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java",
  "functionStartLine": 241,
  "functionEndLine": 256,
  "numCommitsSeen": 66,
  "timeTaken": 2405,
  "changeHistory": [
    "f0fa6d869b9abb5a900ea1c9eb4eb19ec9831dc4"
  ],
  "changeHistoryShort": {
    "f0fa6d869b9abb5a900ea1c9eb4eb19ec9831dc4": "Yintroduced"
  },
  "changeHistoryDetails": {
    "f0fa6d869b9abb5a900ea1c9eb4eb19ec9831dc4": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-12678. Handle empty rename pending metadata file during atomic rename in redo path. Contributed by Madhumita Chakraborty.\n",
      "commitDate": "08/01/16 8:18 PM",
      "commitName": "f0fa6d869b9abb5a900ea1c9eb4eb19ec9831dc4",
      "commitAuthor": "cnauroth",
      "diff": "@@ -0,0 +1,16 @@\n+    void deleteRenamePendingFile(FileSystem fs, Path redoFile)\n+        throws IOException {\n+      try {\n+        fs.delete(redoFile, false);\n+      } catch (IOException e) {\n+        // If the rename metadata was not found then somebody probably\n+        // raced with us and finished the delete first\n+        Throwable t \u003d e.getCause();\n+        if (t !\u003d null \u0026\u0026 t instanceof StorageException\n+            \u0026\u0026 \"BlobNotFound\".equals(((StorageException) t).getErrorCode())) {\n+          LOG.warn(\"rename pending file \" + redoFile + \" is already deleted\");\n+        } else {\n+          throw e;\n+        }\n+      }\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    void deleteRenamePendingFile(FileSystem fs, Path redoFile)\n        throws IOException {\n      try {\n        fs.delete(redoFile, false);\n      } catch (IOException e) {\n        // If the rename metadata was not found then somebody probably\n        // raced with us and finished the delete first\n        Throwable t \u003d e.getCause();\n        if (t !\u003d null \u0026\u0026 t instanceof StorageException\n            \u0026\u0026 \"BlobNotFound\".equals(((StorageException) t).getErrorCode())) {\n          LOG.warn(\"rename pending file \" + redoFile + \" is already deleted\");\n        } else {\n          throw e;\n        }\n      }\n    }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/NativeAzureFileSystem.java"
    }
  }
}