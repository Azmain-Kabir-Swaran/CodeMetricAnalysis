{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "MarshalledCredentials.java",
  "functionName": "isValid",
  "functionId": "isValid___required-CredentialTypeRequired(modifiers-final)",
  "sourceFilePath": "hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/auth/MarshalledCredentials.java",
  "functionStartLine": 253,
  "functionEndLine": 286,
  "numCommitsSeen": 4,
  "timeTaken": 1387,
  "changeHistory": [
    "6d0bffe17eadedd60d4599427248b0db4a7c5502"
  ],
  "changeHistoryShort": {
    "6d0bffe17eadedd60d4599427248b0db4a7c5502": "Yintroduced"
  },
  "changeHistoryDetails": {
    "6d0bffe17eadedd60d4599427248b0db4a7c5502": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-14556. S3A to support Delegation Tokens.\n\nContributed by Steve Loughran and Daryn Sharp.\n",
      "commitDate": "14/01/19 9:59 AM",
      "commitName": "6d0bffe17eadedd60d4599427248b0db4a7c5502",
      "commitAuthor": "Steve Loughran",
      "diff": "@@ -0,0 +1,34 @@\n+  public boolean isValid(final CredentialTypeRequired required) {\n+    if (accessKey \u003d\u003d null || secretKey \u003d\u003d null || sessionToken \u003d\u003d null) {\n+      // null fields are not permitted, empty is OK for marshalling around.\n+      return false;\n+    }\n+    // now look at whether values are set/unset.\n+    boolean hasAccessAndSecretKeys \u003d isNotEmpty(accessKey)\n+        \u0026\u0026 isNotEmpty(secretKey);\n+    boolean hasSessionToken \u003d hasSessionToken();\n+    switch (required) {\n+\n+    case AnyIncludingEmpty:\n+      // this is simplest.\n+      return true;\n+\n+    case Empty:\n+      // empty. ignore session value if the other keys are unset.\n+      return !hasAccessAndSecretKeys;\n+\n+    case AnyNonEmpty:\n+      // just look for the access key and secret key being non-empty\n+      return hasAccessAndSecretKeys;\n+\n+    case FullOnly:\n+      return hasAccessAndSecretKeys \u0026\u0026 !hasSessionToken;\n+\n+    case SessionOnly:\n+      return hasAccessAndSecretKeys \u0026\u0026 hasSessionToken();\n+\n+      // this is here to keep the IDE quiet\n+    default:\n+      return false;\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public boolean isValid(final CredentialTypeRequired required) {\n    if (accessKey \u003d\u003d null || secretKey \u003d\u003d null || sessionToken \u003d\u003d null) {\n      // null fields are not permitted, empty is OK for marshalling around.\n      return false;\n    }\n    // now look at whether values are set/unset.\n    boolean hasAccessAndSecretKeys \u003d isNotEmpty(accessKey)\n        \u0026\u0026 isNotEmpty(secretKey);\n    boolean hasSessionToken \u003d hasSessionToken();\n    switch (required) {\n\n    case AnyIncludingEmpty:\n      // this is simplest.\n      return true;\n\n    case Empty:\n      // empty. ignore session value if the other keys are unset.\n      return !hasAccessAndSecretKeys;\n\n    case AnyNonEmpty:\n      // just look for the access key and secret key being non-empty\n      return hasAccessAndSecretKeys;\n\n    case FullOnly:\n      return hasAccessAndSecretKeys \u0026\u0026 !hasSessionToken;\n\n    case SessionOnly:\n      return hasAccessAndSecretKeys \u0026\u0026 hasSessionToken();\n\n      // this is here to keep the IDE quiet\n    default:\n      return false;\n    }\n  }",
      "path": "hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/auth/MarshalledCredentials.java"
    }
  }
}