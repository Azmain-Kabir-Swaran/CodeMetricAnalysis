{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSImageSerialization.java",
  "functionName": "writeINodeUnderConstruction",
  "functionId": "writeINodeUnderConstruction___out-DataOutputStream__cons-INodeFile__path-String",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageSerialization.java",
  "functionStartLine": 169,
  "functionEndLine": 185,
  "numCommitsSeen": 62,
  "timeTaken": 2801,
  "changeHistory": [
    "49d5cff49011cc0878665204e22b5c832bc914ce",
    "4d0bc724f29b646e252f53d1c654a23e8526a4bf",
    "d0d75a833907f6cf723a42a007ca04e0004a8e52",
    "97f58955a6045b373ab73653bf26ab5922b00cf3"
  ],
  "changeHistoryShort": {
    "49d5cff49011cc0878665204e22b5c832bc914ce": "Ybodychange",
    "4d0bc724f29b646e252f53d1c654a23e8526a4bf": "Ybodychange",
    "d0d75a833907f6cf723a42a007ca04e0004a8e52": "Ybodychange",
    "97f58955a6045b373ab73653bf26ab5922b00cf3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "49d5cff49011cc0878665204e22b5c832bc914ce": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-8559. Erasure Coding: fix non-protobuf fsimage for striped blocks. (Jing Zhao via yliu)\n",
      "commitDate": "14/06/15 12:39 AM",
      "commitName": "49d5cff49011cc0878665204e22b5c832bc914ce",
      "commitAuthor": "yliu",
      "commitDateOld": "26/05/15 12:02 PM",
      "commitNameOld": "c9103e9cacc67a614940e32fa87c5dbc3daa60de",
      "commitAuthorOld": "Kai Zheng",
      "daysBetweenCommits": 18.53,
      "commitsBetweenForRepo": 43,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,18 +1,17 @@\n   static void writeINodeUnderConstruction(DataOutputStream out, INodeFile cons,\n       String path) throws IOException {\n     writeString(path, out);\n     out.writeLong(cons.getId());\n     out.writeShort(cons.getFileReplication());\n     out.writeLong(cons.getModificationTime());\n     out.writeLong(cons.getPreferredBlockSize());\n-    // whether the file has striped blocks\n-    out.writeBoolean(cons.isStriped());\n+\n     writeBlocks(cons.getBlocks(), out);\n     cons.getPermissionStatus().write(out);\n \n     FileUnderConstructionFeature uc \u003d cons.getFileUnderConstructionFeature();\n     writeString(uc.getClientName(), out);\n     writeString(uc.getClientMachine(), out);\n \n     out.writeInt(0); //  do not store locations of last block\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static void writeINodeUnderConstruction(DataOutputStream out, INodeFile cons,\n      String path) throws IOException {\n    writeString(path, out);\n    out.writeLong(cons.getId());\n    out.writeShort(cons.getFileReplication());\n    out.writeLong(cons.getModificationTime());\n    out.writeLong(cons.getPreferredBlockSize());\n\n    writeBlocks(cons.getBlocks(), out);\n    cons.getPermissionStatus().write(out);\n\n    FileUnderConstructionFeature uc \u003d cons.getFileUnderConstructionFeature();\n    writeString(uc.getClientName(), out);\n    writeString(uc.getClientMachine(), out);\n\n    out.writeInt(0); //  do not store locations of last block\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageSerialization.java",
      "extendedDetails": {}
    },
    "4d0bc724f29b646e252f53d1c654a23e8526a4bf": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-8077. Erasure coding: fix bugs in EC zone and symlinks. Contributed by Jing Zhao and Zhe Zhang.\n",
      "commitDate": "26/05/15 11:58 AM",
      "commitName": "4d0bc724f29b646e252f53d1c654a23e8526a4bf",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "26/05/15 11:43 AM",
      "commitNameOld": "d0d75a833907f6cf723a42a007ca04e0004a8e52",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 27,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,18 +1,18 @@\n   static void writeINodeUnderConstruction(DataOutputStream out, INodeFile cons,\n       String path) throws IOException {\n     writeString(path, out);\n     out.writeLong(cons.getId());\n     out.writeShort(cons.getFileReplication());\n     out.writeLong(cons.getModificationTime());\n     out.writeLong(cons.getPreferredBlockSize());\n     // whether the file has striped blocks\n-    out.writeBoolean(cons.isWithStripedBlocks());\n+    out.writeBoolean(cons.isStriped());\n     writeBlocks(cons.getBlocks(), out);\n     cons.getPermissionStatus().write(out);\n \n     FileUnderConstructionFeature uc \u003d cons.getFileUnderConstructionFeature();\n     writeString(uc.getClientName(), out);\n     writeString(uc.getClientMachine(), out);\n \n     out.writeInt(0); //  do not store locations of last block\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static void writeINodeUnderConstruction(DataOutputStream out, INodeFile cons,\n      String path) throws IOException {\n    writeString(path, out);\n    out.writeLong(cons.getId());\n    out.writeShort(cons.getFileReplication());\n    out.writeLong(cons.getModificationTime());\n    out.writeLong(cons.getPreferredBlockSize());\n    // whether the file has striped blocks\n    out.writeBoolean(cons.isStriped());\n    writeBlocks(cons.getBlocks(), out);\n    cons.getPermissionStatus().write(out);\n\n    FileUnderConstructionFeature uc \u003d cons.getFileUnderConstructionFeature();\n    writeString(uc.getClientName(), out);\n    writeString(uc.getClientMachine(), out);\n\n    out.writeInt(0); //  do not store locations of last block\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageSerialization.java",
      "extendedDetails": {}
    },
    "d0d75a833907f6cf723a42a007ca04e0004a8e52": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7827. Erasure Coding: support striped blocks in non-protobuf fsimage. Contributed by Hui Zheng.\n",
      "commitDate": "26/05/15 11:43 AM",
      "commitName": "d0d75a833907f6cf723a42a007ca04e0004a8e52",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "13/02/15 9:01 PM",
      "commitNameOld": "f2231cebcddc80f0b753c4a7cb45ee4040846951",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 101.57,
      "commitsBetweenForRepo": 959,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,18 @@\n   static void writeINodeUnderConstruction(DataOutputStream out, INodeFile cons,\n       String path) throws IOException {\n     writeString(path, out);\n     out.writeLong(cons.getId());\n     out.writeShort(cons.getFileReplication());\n     out.writeLong(cons.getModificationTime());\n     out.writeLong(cons.getPreferredBlockSize());\n-\n+    // whether the file has striped blocks\n+    out.writeBoolean(cons.isWithStripedBlocks());\n     writeBlocks(cons.getBlocks(), out);\n     cons.getPermissionStatus().write(out);\n \n     FileUnderConstructionFeature uc \u003d cons.getFileUnderConstructionFeature();\n     writeString(uc.getClientName(), out);\n     writeString(uc.getClientMachine(), out);\n \n     out.writeInt(0); //  do not store locations of last block\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static void writeINodeUnderConstruction(DataOutputStream out, INodeFile cons,\n      String path) throws IOException {\n    writeString(path, out);\n    out.writeLong(cons.getId());\n    out.writeShort(cons.getFileReplication());\n    out.writeLong(cons.getModificationTime());\n    out.writeLong(cons.getPreferredBlockSize());\n    // whether the file has striped blocks\n    out.writeBoolean(cons.isWithStripedBlocks());\n    writeBlocks(cons.getBlocks(), out);\n    cons.getPermissionStatus().write(out);\n\n    FileUnderConstructionFeature uc \u003d cons.getFileUnderConstructionFeature();\n    writeString(uc.getClientName(), out);\n    writeString(uc.getClientMachine(), out);\n\n    out.writeInt(0); //  do not store locations of last block\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageSerialization.java",
      "extendedDetails": {}
    },
    "97f58955a6045b373ab73653bf26ab5922b00cf3": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-6293. Issues with OIV processing PB-based fsimages. Contributed by Kihwal Lee.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1594439 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/05/14 6:15 PM",
      "commitName": "97f58955a6045b373ab73653bf26ab5922b00cf3",
      "commitAuthor": "Kihwal Lee",
      "diff": "@@ -0,0 +1,17 @@\n+  static void writeINodeUnderConstruction(DataOutputStream out, INodeFile cons,\n+      String path) throws IOException {\n+    writeString(path, out);\n+    out.writeLong(cons.getId());\n+    out.writeShort(cons.getFileReplication());\n+    out.writeLong(cons.getModificationTime());\n+    out.writeLong(cons.getPreferredBlockSize());\n+\n+    writeBlocks(cons.getBlocks(), out);\n+    cons.getPermissionStatus().write(out);\n+\n+    FileUnderConstructionFeature uc \u003d cons.getFileUnderConstructionFeature();\n+    writeString(uc.getClientName(), out);\n+    writeString(uc.getClientMachine(), out);\n+\n+    out.writeInt(0); //  do not store locations of last block\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  static void writeINodeUnderConstruction(DataOutputStream out, INodeFile cons,\n      String path) throws IOException {\n    writeString(path, out);\n    out.writeLong(cons.getId());\n    out.writeShort(cons.getFileReplication());\n    out.writeLong(cons.getModificationTime());\n    out.writeLong(cons.getPreferredBlockSize());\n\n    writeBlocks(cons.getBlocks(), out);\n    cons.getPermissionStatus().write(out);\n\n    FileUnderConstructionFeature uc \u003d cons.getFileUnderConstructionFeature();\n    writeString(uc.getClientName(), out);\n    writeString(uc.getClientMachine(), out);\n\n    out.writeInt(0); //  do not store locations of last block\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageSerialization.java"
    }
  }
}