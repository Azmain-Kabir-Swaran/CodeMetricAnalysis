{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ClusterNodeTracker.java",
  "functionName": "sortedNodeSet",
  "functionId": "sortedNodeSet___comparator-Comparator__N__",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/ClusterNodeTracker.java",
  "functionStartLine": 395,
  "functionEndLine": 404,
  "numCommitsSeen": 33,
  "timeTaken": 4502,
  "changeHistory": [
    "ea68756c0cd3e6e20b8e7045a8b7edd180ea4708",
    "20d389ce61eaacb5ddfb329015f50e96ad894f8d"
  ],
  "changeHistoryShort": {
    "ea68756c0cd3e6e20b8e7045a8b7edd180ea4708": "Ymultichange(Yrename,Yreturntypechange,Ybodychange)",
    "20d389ce61eaacb5ddfb329015f50e96ad894f8d": "Yintroduced"
  },
  "changeHistoryDetails": {
    "ea68756c0cd3e6e20b8e7045a8b7edd180ea4708": {
      "type": "Ymultichange(Yrename,Yreturntypechange,Ybodychange)",
      "commitMessage": "YARN-8373. RM Received RMFatalEvent of type CRITICAL_THREAD_CRASH. Contributed by Wilfred Spiegelenburg.\n",
      "commitDate": "19/11/19 12:40 AM",
      "commitName": "ea68756c0cd3e6e20b8e7045a8b7edd180ea4708",
      "commitAuthor": "Sunil G",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "YARN-8373. RM Received RMFatalEvent of type CRITICAL_THREAD_CRASH. Contributed by Wilfred Spiegelenburg.\n",
          "commitDate": "19/11/19 12:40 AM",
          "commitName": "ea68756c0cd3e6e20b8e7045a8b7edd180ea4708",
          "commitAuthor": "Sunil G",
          "commitDateOld": "04/03/19 9:10 PM",
          "commitNameOld": "e40e2d6ad5cbe782c3a067229270738b501ed27e",
          "commitAuthorOld": "Prabhu Joseph",
          "daysBetweenCommits": 259.15,
          "commitsBetweenForRepo": 1865,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,10 @@\n-  public List\u003cN\u003e sortedNodeList(Comparator\u003cN\u003e comparator) {\n-    List\u003cN\u003e sortedList \u003d null;\n+  public TreeSet\u003cN\u003e sortedNodeSet(Comparator\u003cN\u003e comparator) {\n+    TreeSet\u003cN\u003e sortedSet \u003d new TreeSet\u003c\u003e(comparator);\n     readLock.lock();\n     try {\n-      sortedList \u003d new ArrayList(nodes.values());\n+      sortedSet.addAll(nodes.values());\n     } finally {\n       readLock.unlock();\n     }\n-    Collections.sort(sortedList, comparator);\n-    return sortedList;\n+    return sortedSet;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public TreeSet\u003cN\u003e sortedNodeSet(Comparator\u003cN\u003e comparator) {\n    TreeSet\u003cN\u003e sortedSet \u003d new TreeSet\u003c\u003e(comparator);\n    readLock.lock();\n    try {\n      sortedSet.addAll(nodes.values());\n    } finally {\n      readLock.unlock();\n    }\n    return sortedSet;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/ClusterNodeTracker.java",
          "extendedDetails": {
            "oldValue": "sortedNodeList",
            "newValue": "sortedNodeSet"
          }
        },
        {
          "type": "Yreturntypechange",
          "commitMessage": "YARN-8373. RM Received RMFatalEvent of type CRITICAL_THREAD_CRASH. Contributed by Wilfred Spiegelenburg.\n",
          "commitDate": "19/11/19 12:40 AM",
          "commitName": "ea68756c0cd3e6e20b8e7045a8b7edd180ea4708",
          "commitAuthor": "Sunil G",
          "commitDateOld": "04/03/19 9:10 PM",
          "commitNameOld": "e40e2d6ad5cbe782c3a067229270738b501ed27e",
          "commitAuthorOld": "Prabhu Joseph",
          "daysBetweenCommits": 259.15,
          "commitsBetweenForRepo": 1865,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,10 @@\n-  public List\u003cN\u003e sortedNodeList(Comparator\u003cN\u003e comparator) {\n-    List\u003cN\u003e sortedList \u003d null;\n+  public TreeSet\u003cN\u003e sortedNodeSet(Comparator\u003cN\u003e comparator) {\n+    TreeSet\u003cN\u003e sortedSet \u003d new TreeSet\u003c\u003e(comparator);\n     readLock.lock();\n     try {\n-      sortedList \u003d new ArrayList(nodes.values());\n+      sortedSet.addAll(nodes.values());\n     } finally {\n       readLock.unlock();\n     }\n-    Collections.sort(sortedList, comparator);\n-    return sortedList;\n+    return sortedSet;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public TreeSet\u003cN\u003e sortedNodeSet(Comparator\u003cN\u003e comparator) {\n    TreeSet\u003cN\u003e sortedSet \u003d new TreeSet\u003c\u003e(comparator);\n    readLock.lock();\n    try {\n      sortedSet.addAll(nodes.values());\n    } finally {\n      readLock.unlock();\n    }\n    return sortedSet;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/ClusterNodeTracker.java",
          "extendedDetails": {
            "oldValue": "List\u003cN\u003e",
            "newValue": "TreeSet\u003cN\u003e"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-8373. RM Received RMFatalEvent of type CRITICAL_THREAD_CRASH. Contributed by Wilfred Spiegelenburg.\n",
          "commitDate": "19/11/19 12:40 AM",
          "commitName": "ea68756c0cd3e6e20b8e7045a8b7edd180ea4708",
          "commitAuthor": "Sunil G",
          "commitDateOld": "04/03/19 9:10 PM",
          "commitNameOld": "e40e2d6ad5cbe782c3a067229270738b501ed27e",
          "commitAuthorOld": "Prabhu Joseph",
          "daysBetweenCommits": 259.15,
          "commitsBetweenForRepo": 1865,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,10 @@\n-  public List\u003cN\u003e sortedNodeList(Comparator\u003cN\u003e comparator) {\n-    List\u003cN\u003e sortedList \u003d null;\n+  public TreeSet\u003cN\u003e sortedNodeSet(Comparator\u003cN\u003e comparator) {\n+    TreeSet\u003cN\u003e sortedSet \u003d new TreeSet\u003c\u003e(comparator);\n     readLock.lock();\n     try {\n-      sortedList \u003d new ArrayList(nodes.values());\n+      sortedSet.addAll(nodes.values());\n     } finally {\n       readLock.unlock();\n     }\n-    Collections.sort(sortedList, comparator);\n-    return sortedList;\n+    return sortedSet;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public TreeSet\u003cN\u003e sortedNodeSet(Comparator\u003cN\u003e comparator) {\n    TreeSet\u003cN\u003e sortedSet \u003d new TreeSet\u003c\u003e(comparator);\n    readLock.lock();\n    try {\n      sortedSet.addAll(nodes.values());\n    } finally {\n      readLock.unlock();\n    }\n    return sortedSet;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/ClusterNodeTracker.java",
          "extendedDetails": {}
        }
      ]
    },
    "20d389ce61eaacb5ddfb329015f50e96ad894f8d": {
      "type": "Yintroduced",
      "commitMessage": "YARN-4719. Add a helper library to maintain node state and allows common queries. (kasha)\n",
      "commitDate": "14/03/16 2:19 PM",
      "commitName": "20d389ce61eaacb5ddfb329015f50e96ad894f8d",
      "commitAuthor": "Karthik Kambatla",
      "diff": "@@ -0,0 +1,11 @@\n+  public List\u003cN\u003e sortedNodeList(Comparator\u003cN\u003e comparator) {\n+    List\u003cN\u003e sortedList \u003d null;\n+    readLock.lock();\n+    try {\n+      sortedList \u003d new ArrayList(nodes.values());\n+    } finally {\n+      readLock.unlock();\n+    }\n+    Collections.sort(sortedList, comparator);\n+    return sortedList;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public List\u003cN\u003e sortedNodeList(Comparator\u003cN\u003e comparator) {\n    List\u003cN\u003e sortedList \u003d null;\n    readLock.lock();\n    try {\n      sortedList \u003d new ArrayList(nodes.values());\n    } finally {\n      readLock.unlock();\n    }\n    Collections.sort(sortedList, comparator);\n    return sortedList;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/ClusterNodeTracker.java"
    }
  }
}