{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSNamesystem.java",
  "functionName": "metaSave",
  "functionId": "metaSave___out-PrintWriter",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
  "functionStartLine": 1900,
  "functionEndLine": 1909,
  "numCommitsSeen": 873,
  "timeTaken": 48353,
  "changeHistory": [
    "33c62f8f4e94442825fe286c2b18518925d980e6",
    "9821af9ce8a56a2c583f1ed938902c20e897048f",
    "5954e4f1acb20564585600997a2335d6b42f550a"
  ],
  "changeHistoryShort": {
    "33c62f8f4e94442825fe286c2b18518925d980e6": "Ybodychange",
    "9821af9ce8a56a2c583f1ed938902c20e897048f": "Ybodychange",
    "5954e4f1acb20564585600997a2335d6b42f550a": "Ybodychange"
  },
  "changeHistoryDetails": {
    "33c62f8f4e94442825fe286c2b18518925d980e6": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-14497. Write lock held by metasave impact following RPC processing. Contributed by He Xiaoqiao.\n\nSigned-off-by: Wei-Chiu Chuang \u003cweichiu@apache.org\u003e\n",
      "commitDate": "30/05/19 1:30 PM",
      "commitName": "33c62f8f4e94442825fe286c2b18518925d980e6",
      "commitAuthor": "He Xiaoqiao",
      "commitDateOld": "02/05/19 12:58 PM",
      "commitNameOld": "7a3188d054481b9bd563e337901e93476303ce7f",
      "commitAuthorOld": "Giovanni Matteo Fumarola",
      "daysBetweenCommits": 28.02,
      "commitsBetweenForRepo": 154,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   private void metaSave(PrintWriter out) {\n-    assert hasWriteLock();\n+    assert hasReadLock();\n     long totalInodes \u003d this.dir.totalInodes();\n     long totalBlocks \u003d this.getBlocksTotal();\n     out.println(totalInodes + \" files and directories, \" + totalBlocks\n         + \" blocks \u003d \" + (totalInodes + totalBlocks)\n         + \" total filesystem objects\");\n \n     blockManager.metaSave(out);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void metaSave(PrintWriter out) {\n    assert hasReadLock();\n    long totalInodes \u003d this.dir.totalInodes();\n    long totalBlocks \u003d this.getBlocksTotal();\n    out.println(totalInodes + \" files and directories, \" + totalBlocks\n        + \" blocks \u003d \" + (totalInodes + totalBlocks)\n        + \" total filesystem objects\");\n\n    blockManager.metaSave(out);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "9821af9ce8a56a2c583f1ed938902c20e897048f": {
      "type": "Ybodychange",
      "commitMessage": "Reverting the previous merge r1416603 which committed some extra changes\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1416712 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/12/12 2:43 PM",
      "commitName": "9821af9ce8a56a2c583f1ed938902c20e897048f",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "03/12/12 10:04 AM",
      "commitNameOld": "d500d59cbef51f1b0b0291995893b85a139bcec9",
      "commitAuthorOld": "",
      "daysBetweenCommits": 0.19,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,9 @@\n   private void metaSave(PrintWriter out) {\n     assert hasWriteLock();\n     long totalInodes \u003d this.dir.totalInodes();\n     long totalBlocks \u003d this.getBlocksTotal();\n     out.println(totalInodes + \" files and directories, \" + totalBlocks\n-        + \" blocks \u003d \" + (totalInodes + totalBlocks)\n-        + \" total filesystem objects\");\n+        + \" blocks \u003d \" + (totalInodes + totalBlocks) + \" total\");\n \n     blockManager.metaSave(out);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void metaSave(PrintWriter out) {\n    assert hasWriteLock();\n    long totalInodes \u003d this.dir.totalInodes();\n    long totalBlocks \u003d this.getBlocksTotal();\n    out.println(totalInodes + \" files and directories, \" + totalBlocks\n        + \" blocks \u003d \" + (totalInodes + totalBlocks) + \" total\");\n\n    blockManager.metaSave(out);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    },
    "5954e4f1acb20564585600997a2335d6b42f550a": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-3358. Specify explicitly that the NN UI status total is talking of persistent objects on heap. Contributed by Harsh J. (harsh)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1416245 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "02/12/12 12:05 PM",
      "commitName": "5954e4f1acb20564585600997a2335d6b42f550a",
      "commitAuthor": "Harsh J",
      "commitDateOld": "01/12/12 2:29 PM",
      "commitNameOld": "88eea2157275d4c7e1bf70cac98fe52c326f3585",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 0.9,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,10 @@\n   private void metaSave(PrintWriter out) {\n     assert hasWriteLock();\n     long totalInodes \u003d this.dir.totalInodes();\n     long totalBlocks \u003d this.getBlocksTotal();\n     out.println(totalInodes + \" files and directories, \" + totalBlocks\n-        + \" blocks \u003d \" + (totalInodes + totalBlocks) + \" total\");\n+        + \" blocks \u003d \" + (totalInodes + totalBlocks)\n+        + \" total filesystem objects\");\n \n     blockManager.metaSave(out);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void metaSave(PrintWriter out) {\n    assert hasWriteLock();\n    long totalInodes \u003d this.dir.totalInodes();\n    long totalBlocks \u003d this.getBlocksTotal();\n    out.println(totalInodes + \" files and directories, \" + totalBlocks\n        + \" blocks \u003d \" + (totalInodes + totalBlocks)\n        + \" total filesystem objects\");\n\n    blockManager.metaSave(out);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
      "extendedDetails": {}
    }
  }
}