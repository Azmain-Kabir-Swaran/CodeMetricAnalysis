{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSImageFormatPBINode.java",
  "functionName": "loadRootINode",
  "functionId": "loadRootINode___p-INodeSection.INode",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.java",
  "functionStartLine": 561,
  "functionEndLine": 585,
  "numCommitsSeen": 63,
  "timeTaken": 3809,
  "changeHistory": [
    "9b8e50b424d060e16c1175b1811e7abc476e2468",
    "1b525a9c32fabd8919c80717a58afbfa7fdce27e",
    "f2231cebcddc80f0b753c4a7cb45ee4040846951",
    "5dae97a584d30cef3e34141edfaca49c4ec57913",
    "ac23a55547716df29b3e25c98a113399e184d9d1",
    "d03acc756094a332f98167426a39db8faf38f450",
    "5c978a43c3052cc1466b23653c354399186b4e10",
    "a2edb11b68ae01a44092cb14ac2717a6aad93305"
  ],
  "changeHistoryShort": {
    "9b8e50b424d060e16c1175b1811e7abc476e2468": "Ybodychange",
    "1b525a9c32fabd8919c80717a58afbfa7fdce27e": "Ybodychange",
    "f2231cebcddc80f0b753c4a7cb45ee4040846951": "Ybodychange",
    "5dae97a584d30cef3e34141edfaca49c4ec57913": "Ybodychange",
    "ac23a55547716df29b3e25c98a113399e184d9d1": "Ybodychange",
    "d03acc756094a332f98167426a39db8faf38f450": "Ybodychange",
    "5c978a43c3052cc1466b23653c354399186b4e10": "Ybodychange",
    "a2edb11b68ae01a44092cb14ac2717a6aad93305": "Yintroduced"
  },
  "changeHistoryDetails": {
    "9b8e50b424d060e16c1175b1811e7abc476e2468": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9470. Encryption zone on root not loaded from fsimage after NN restart. Xiao Chen via wang.\n",
      "commitDate": "30/11/15 2:32 PM",
      "commitName": "9b8e50b424d060e16c1175b1811e7abc476e2468",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "21/10/15 4:39 PM",
      "commitNameOld": "1b525a9c32fabd8919c80717a58afbfa7fdce27e",
      "commitAuthorOld": "cnauroth",
      "daysBetweenCommits": 39.95,
      "commitsBetweenForRepo": 310,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,25 @@\n     private void loadRootINode(INodeSection.INode p) {\n       INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n       final QuotaCounts q \u003d root.getQuotaCounts();\n       final long nsQuota \u003d q.getNameSpace();\n       final long dsQuota \u003d q.getStorageSpace();\n       if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n       }\n       final EnumCounters\u003cStorageType\u003e typeQuotas \u003d q.getTypeSpaces();\n       if (typeQuotas.anyGreaterOrEqual(0)) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(typeQuotas);\n       }\n       dir.rootDir.cloneModificationTime(root);\n       dir.rootDir.clonePermissionStatus(root);\n       final AclFeature af \u003d root.getFeature(AclFeature.class);\n       if (af !\u003d null) {\n         dir.rootDir.addAclFeature(af);\n       }\n       // root dir supports having extended attributes according to POSIX\n       final XAttrFeature f \u003d root.getXAttrFeature();\n       if (f !\u003d null) {\n         dir.rootDir.addXAttrFeature(f);\n       }\n+      dir.addRootDirToEncryptionZone(f);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadRootINode(INodeSection.INode p) {\n      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n      final QuotaCounts q \u003d root.getQuotaCounts();\n      final long nsQuota \u003d q.getNameSpace();\n      final long dsQuota \u003d q.getStorageSpace();\n      if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n      }\n      final EnumCounters\u003cStorageType\u003e typeQuotas \u003d q.getTypeSpaces();\n      if (typeQuotas.anyGreaterOrEqual(0)) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(typeQuotas);\n      }\n      dir.rootDir.cloneModificationTime(root);\n      dir.rootDir.clonePermissionStatus(root);\n      final AclFeature af \u003d root.getFeature(AclFeature.class);\n      if (af !\u003d null) {\n        dir.rootDir.addAclFeature(af);\n      }\n      // root dir supports having extended attributes according to POSIX\n      final XAttrFeature f \u003d root.getXAttrFeature();\n      if (f !\u003d null) {\n        dir.rootDir.addXAttrFeature(f);\n      }\n      dir.addRootDirToEncryptionZone(f);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.java",
      "extendedDetails": {}
    },
    "1b525a9c32fabd8919c80717a58afbfa7fdce27e": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9273. ACLs on root directory may be lost after NN restart. Contributed by Xiao Chen.\n",
      "commitDate": "21/10/15 4:39 PM",
      "commitName": "1b525a9c32fabd8919c80717a58afbfa7fdce27e",
      "commitAuthor": "cnauroth",
      "commitDateOld": "22/09/15 1:27 PM",
      "commitNameOld": "1080c3730068177ddd10dc313890ac1f5dc58f1a",
      "commitAuthorOld": "",
      "daysBetweenCommits": 29.13,
      "commitsBetweenForRepo": 232,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,24 @@\n     private void loadRootINode(INodeSection.INode p) {\n       INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n       final QuotaCounts q \u003d root.getQuotaCounts();\n       final long nsQuota \u003d q.getNameSpace();\n       final long dsQuota \u003d q.getStorageSpace();\n       if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n       }\n       final EnumCounters\u003cStorageType\u003e typeQuotas \u003d q.getTypeSpaces();\n       if (typeQuotas.anyGreaterOrEqual(0)) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(typeQuotas);\n       }\n       dir.rootDir.cloneModificationTime(root);\n       dir.rootDir.clonePermissionStatus(root);\n+      final AclFeature af \u003d root.getFeature(AclFeature.class);\n+      if (af !\u003d null) {\n+        dir.rootDir.addAclFeature(af);\n+      }\n       // root dir supports having extended attributes according to POSIX\n       final XAttrFeature f \u003d root.getXAttrFeature();\n       if (f !\u003d null) {\n         dir.rootDir.addXAttrFeature(f);\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadRootINode(INodeSection.INode p) {\n      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n      final QuotaCounts q \u003d root.getQuotaCounts();\n      final long nsQuota \u003d q.getNameSpace();\n      final long dsQuota \u003d q.getStorageSpace();\n      if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n      }\n      final EnumCounters\u003cStorageType\u003e typeQuotas \u003d q.getTypeSpaces();\n      if (typeQuotas.anyGreaterOrEqual(0)) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(typeQuotas);\n      }\n      dir.rootDir.cloneModificationTime(root);\n      dir.rootDir.clonePermissionStatus(root);\n      final AclFeature af \u003d root.getFeature(AclFeature.class);\n      if (af !\u003d null) {\n        dir.rootDir.addAclFeature(af);\n      }\n      // root dir supports having extended attributes according to POSIX\n      final XAttrFeature f \u003d root.getXAttrFeature();\n      if (f !\u003d null) {\n        dir.rootDir.addXAttrFeature(f);\n      }\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.java",
      "extendedDetails": {}
    },
    "f2231cebcddc80f0b753c4a7cb45ee4040846951": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7775. Use consistent naming for NN-internal quota related types and functions. (Contributed bu Xiaoyu Yao)\n",
      "commitDate": "13/02/15 9:01 PM",
      "commitName": "f2231cebcddc80f0b753c4a7cb45ee4040846951",
      "commitAuthor": "Arpit Agarwal",
      "commitDateOld": "11/02/15 10:41 AM",
      "commitNameOld": "5dae97a584d30cef3e34141edfaca49c4ec57913",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 2.43,
      "commitsBetweenForRepo": 58,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,20 @@\n     private void loadRootINode(INodeSection.INode p) {\n       INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n       final QuotaCounts q \u003d root.getQuotaCounts();\n       final long nsQuota \u003d q.getNameSpace();\n-      final long dsQuota \u003d q.getDiskSpace();\n+      final long dsQuota \u003d q.getStorageSpace();\n       if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n       }\n       final EnumCounters\u003cStorageType\u003e typeQuotas \u003d q.getTypeSpaces();\n       if (typeQuotas.anyGreaterOrEqual(0)) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(typeQuotas);\n       }\n       dir.rootDir.cloneModificationTime(root);\n       dir.rootDir.clonePermissionStatus(root);\n       // root dir supports having extended attributes according to POSIX\n       final XAttrFeature f \u003d root.getXAttrFeature();\n       if (f !\u003d null) {\n         dir.rootDir.addXAttrFeature(f);\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadRootINode(INodeSection.INode p) {\n      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n      final QuotaCounts q \u003d root.getQuotaCounts();\n      final long nsQuota \u003d q.getNameSpace();\n      final long dsQuota \u003d q.getStorageSpace();\n      if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n      }\n      final EnumCounters\u003cStorageType\u003e typeQuotas \u003d q.getTypeSpaces();\n      if (typeQuotas.anyGreaterOrEqual(0)) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(typeQuotas);\n      }\n      dir.rootDir.cloneModificationTime(root);\n      dir.rootDir.clonePermissionStatus(root);\n      // root dir supports having extended attributes according to POSIX\n      final XAttrFeature f \u003d root.getXAttrFeature();\n      if (f !\u003d null) {\n        dir.rootDir.addXAttrFeature(f);\n      }\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.java",
      "extendedDetails": {}
    },
    "5dae97a584d30cef3e34141edfaca49c4ec57913": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7723. Quota By Storage Type namenode implemenation. (Contributed by Xiaoyu Yao)\n",
      "commitDate": "11/02/15 10:41 AM",
      "commitName": "5dae97a584d30cef3e34141edfaca49c4ec57913",
      "commitAuthor": "Arpit Agarwal",
      "commitDateOld": "08/02/15 11:51 AM",
      "commitNameOld": "1382ae525c67bf95d8f3a436b547dbc72cfbb177",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 2.95,
      "commitsBetweenForRepo": 40,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,20 @@\n     private void loadRootINode(INodeSection.INode p) {\n       INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n-      final Quota.Counts q \u003d root.getQuotaCounts();\n-      final long nsQuota \u003d q.get(Quota.NAMESPACE);\n-      final long dsQuota \u003d q.get(Quota.DISKSPACE);\n+      final QuotaCounts q \u003d root.getQuotaCounts();\n+      final long nsQuota \u003d q.getNameSpace();\n+      final long dsQuota \u003d q.getDiskSpace();\n       if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n       }\n+      final EnumCounters\u003cStorageType\u003e typeQuotas \u003d q.getTypeSpaces();\n+      if (typeQuotas.anyGreaterOrEqual(0)) {\n+        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(typeQuotas);\n+      }\n       dir.rootDir.cloneModificationTime(root);\n       dir.rootDir.clonePermissionStatus(root);\n       // root dir supports having extended attributes according to POSIX\n       final XAttrFeature f \u003d root.getXAttrFeature();\n       if (f !\u003d null) {\n         dir.rootDir.addXAttrFeature(f);\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadRootINode(INodeSection.INode p) {\n      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n      final QuotaCounts q \u003d root.getQuotaCounts();\n      final long nsQuota \u003d q.getNameSpace();\n      final long dsQuota \u003d q.getDiskSpace();\n      if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n      }\n      final EnumCounters\u003cStorageType\u003e typeQuotas \u003d q.getTypeSpaces();\n      if (typeQuotas.anyGreaterOrEqual(0)) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(typeQuotas);\n      }\n      dir.rootDir.cloneModificationTime(root);\n      dir.rootDir.clonePermissionStatus(root);\n      // root dir supports having extended attributes according to POSIX\n      final XAttrFeature f \u003d root.getXAttrFeature();\n      if (f !\u003d null) {\n        dir.rootDir.addXAttrFeature(f);\n      }\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.java",
      "extendedDetails": {}
    },
    "ac23a55547716df29b3e25c98a113399e184d9d1": {
      "type": "Ybodychange",
      "commitMessage": "Merge HDFS-2006 HDFS XAttrs branch to Trunk\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1596575 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "21/05/14 6:57 AM",
      "commitName": "ac23a55547716df29b3e25c98a113399e184d9d1",
      "commitAuthor": "Uma Maheswara Rao G",
      "commitDateOld": "20/02/14 8:09 AM",
      "commitNameOld": "b23f6cc1f2dd779a683bd452b5ca014848a9b782",
      "commitAuthorOld": "Kihwal Lee",
      "daysBetweenCommits": 89.91,
      "commitsBetweenForRepo": 636,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,16 @@\n     private void loadRootINode(INodeSection.INode p) {\n       INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n       final Quota.Counts q \u003d root.getQuotaCounts();\n       final long nsQuota \u003d q.get(Quota.NAMESPACE);\n       final long dsQuota \u003d q.get(Quota.DISKSPACE);\n       if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n       }\n       dir.rootDir.cloneModificationTime(root);\n       dir.rootDir.clonePermissionStatus(root);\n+      // root dir supports having extended attributes according to POSIX\n+      final XAttrFeature f \u003d root.getXAttrFeature();\n+      if (f !\u003d null) {\n+        dir.rootDir.addXAttrFeature(f);\n+      }\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadRootINode(INodeSection.INode p) {\n      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n      final Quota.Counts q \u003d root.getQuotaCounts();\n      final long nsQuota \u003d q.get(Quota.NAMESPACE);\n      final long dsQuota \u003d q.get(Quota.DISKSPACE);\n      if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n      }\n      dir.rootDir.cloneModificationTime(root);\n      dir.rootDir.clonePermissionStatus(root);\n      // root dir supports having extended attributes according to POSIX\n      final XAttrFeature f \u003d root.getXAttrFeature();\n      if (f !\u003d null) {\n        dir.rootDir.addXAttrFeature(f);\n      }\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.java",
      "extendedDetails": {}
    },
    "d03acc756094a332f98167426a39db8faf38f450": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5914. Incorporate ACLs with the changes from HDFS-5698. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4685@1566991 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/02/14 10:25 PM",
      "commitName": "d03acc756094a332f98167426a39db8faf38f450",
      "commitAuthor": "Chris Nauroth",
      "commitDateOld": "10/02/14 3:13 PM",
      "commitNameOld": "5c978a43c3052cc1466b23653c354399186b4e10",
      "commitAuthorOld": "Chris Nauroth",
      "daysBetweenCommits": 0.3,
      "commitsBetweenForRepo": 5,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,11 @@\n     private void loadRootINode(INodeSection.INode p) {\n-      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext()\n-          .getStringTable());\n+      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n       final Quota.Counts q \u003d root.getQuotaCounts();\n       final long nsQuota \u003d q.get(Quota.NAMESPACE);\n       final long dsQuota \u003d q.get(Quota.DISKSPACE);\n       if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n       }\n       dir.rootDir.cloneModificationTime(root);\n       dir.rootDir.clonePermissionStatus(root);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadRootINode(INodeSection.INode p) {\n      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext());\n      final Quota.Counts q \u003d root.getQuotaCounts();\n      final long nsQuota \u003d q.get(Quota.NAMESPACE);\n      final long dsQuota \u003d q.get(Quota.DISKSPACE);\n      if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n      }\n      dir.rootDir.cloneModificationTime(root);\n      dir.rootDir.clonePermissionStatus(root);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.java",
      "extendedDetails": {}
    },
    "5c978a43c3052cc1466b23653c354399186b4e10": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5915. Refactor FSImageFormatProtobuf to simplify cross section reads. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1566824 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/02/14 3:13 PM",
      "commitName": "5c978a43c3052cc1466b23653c354399186b4e10",
      "commitAuthor": "Chris Nauroth",
      "commitDateOld": "09/02/14 11:18 AM",
      "commitNameOld": "a2edb11b68ae01a44092cb14ac2717a6aad93305",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 1.16,
      "commitsBetweenForRepo": 8,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,12 @@\n     private void loadRootINode(INodeSection.INode p) {\n-      INodeDirectory root \u003d loadINodeDirectory(p, parent.getStringTable());\n+      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext()\n+          .getStringTable());\n       final Quota.Counts q \u003d root.getQuotaCounts();\n       final long nsQuota \u003d q.get(Quota.NAMESPACE);\n       final long dsQuota \u003d q.get(Quota.DISKSPACE);\n       if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n         dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n       }\n       dir.rootDir.cloneModificationTime(root);\n       dir.rootDir.clonePermissionStatus(root);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadRootINode(INodeSection.INode p) {\n      INodeDirectory root \u003d loadINodeDirectory(p, parent.getLoaderContext()\n          .getStringTable());\n      final Quota.Counts q \u003d root.getQuotaCounts();\n      final long nsQuota \u003d q.get(Quota.NAMESPACE);\n      final long dsQuota \u003d q.get(Quota.DISKSPACE);\n      if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n      }\n      dir.rootDir.cloneModificationTime(root);\n      dir.rootDir.clonePermissionStatus(root);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.java",
      "extendedDetails": {}
    },
    "a2edb11b68ae01a44092cb14ac2717a6aad93305": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-5698. Use protobuf to serialize / deserialize FSImage. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1566359 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/02/14 11:18 AM",
      "commitName": "a2edb11b68ae01a44092cb14ac2717a6aad93305",
      "commitAuthor": "Jing Zhao",
      "diff": "@@ -0,0 +1,11 @@\n+    private void loadRootINode(INodeSection.INode p) {\n+      INodeDirectory root \u003d loadINodeDirectory(p, parent.getStringTable());\n+      final Quota.Counts q \u003d root.getQuotaCounts();\n+      final long nsQuota \u003d q.get(Quota.NAMESPACE);\n+      final long dsQuota \u003d q.get(Quota.DISKSPACE);\n+      if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n+        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n+      }\n+      dir.rootDir.cloneModificationTime(root);\n+      dir.rootDir.clonePermissionStatus(root);\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadRootINode(INodeSection.INode p) {\n      INodeDirectory root \u003d loadINodeDirectory(p, parent.getStringTable());\n      final Quota.Counts q \u003d root.getQuotaCounts();\n      final long nsQuota \u003d q.get(Quota.NAMESPACE);\n      final long dsQuota \u003d q.get(Quota.DISKSPACE);\n      if (nsQuota !\u003d -1 || dsQuota !\u003d -1) {\n        dir.rootDir.getDirectoryWithQuotaFeature().setQuota(nsQuota, dsQuota);\n      }\n      dir.rootDir.cloneModificationTime(root);\n      dir.rootDir.clonePermissionStatus(root);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.java"
    }
  }
}