{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FairScheduler.java",
  "functionName": "compare",
  "functionId": "compare___n1-FSSchedulerNode__n2-FSSchedulerNode",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java",
  "functionStartLine": 1061,
  "functionEndLine": 1065,
  "numCommitsSeen": 366,
  "timeTaken": 5300,
  "changeHistory": [
    "20d389ce61eaacb5ddfb329015f50e96ad894f8d",
    "f9692770a58af0ab082eb7f15da9cbdcd177605b",
    "ff7758299151e3b69c27314010b4ef3a9fda3b41",
    "82f3454f5ac1f1c457e668e2cee12b4dcc800ee1",
    "30007fd686c1cc7addfeb69ed6bb487872bdf1cb"
  ],
  "changeHistoryShort": {
    "20d389ce61eaacb5ddfb329015f50e96ad894f8d": "Ymultichange(Yparameterchange,Ybodychange)",
    "f9692770a58af0ab082eb7f15da9cbdcd177605b": "Ybodychange",
    "ff7758299151e3b69c27314010b4ef3a9fda3b41": "Ybodychange",
    "82f3454f5ac1f1c457e668e2cee12b4dcc800ee1": "Ybodychange",
    "30007fd686c1cc7addfeb69ed6bb487872bdf1cb": "Yintroduced"
  },
  "changeHistoryDetails": {
    "20d389ce61eaacb5ddfb329015f50e96ad894f8d": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-4719. Add a helper library to maintain node state and allows common queries. (kasha)\n",
      "commitDate": "14/03/16 2:19 PM",
      "commitName": "20d389ce61eaacb5ddfb329015f50e96ad894f8d",
      "commitAuthor": "Karthik Kambatla",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-4719. Add a helper library to maintain node state and allows common queries. (kasha)\n",
          "commitDate": "14/03/16 2:19 PM",
          "commitName": "20d389ce61eaacb5ddfb329015f50e96ad894f8d",
          "commitAuthor": "Karthik Kambatla",
          "commitDateOld": "06/03/16 7:46 PM",
          "commitNameOld": "e1ccc9622b2f1fbefea1862fa74d1fb56d8eb264",
          "commitAuthorOld": "Zhihai Xu",
          "daysBetweenCommits": 7.73,
          "commitsBetweenForRepo": 44,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,5 @@\n-    public int compare(NodeId n1, NodeId n2) {\n-      if (!nodes.containsKey(n1)) {\n-        return 1;\n-      }\n-      if (!nodes.containsKey(n2)) {\n-        return -1;\n-      }\n-      return RESOURCE_CALCULATOR.compare(clusterResource,\n-              nodes.get(n2).getUnallocatedResource(),\n-              nodes.get(n1).getUnallocatedResource());\n+    public int compare(FSSchedulerNode n1, FSSchedulerNode n2) {\n+      return RESOURCE_CALCULATOR.compare(getClusterResource(),\n+          n2.getUnallocatedResource(),\n+          n1.getUnallocatedResource());\n     }\n\\ No newline at end of file\n",
          "actualSource": "    public int compare(FSSchedulerNode n1, FSSchedulerNode n2) {\n      return RESOURCE_CALCULATOR.compare(getClusterResource(),\n          n2.getUnallocatedResource(),\n          n1.getUnallocatedResource());\n    }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java",
          "extendedDetails": {
            "oldValue": "[n1-NodeId, n2-NodeId]",
            "newValue": "[n1-FSSchedulerNode, n2-FSSchedulerNode]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-4719. Add a helper library to maintain node state and allows common queries. (kasha)\n",
          "commitDate": "14/03/16 2:19 PM",
          "commitName": "20d389ce61eaacb5ddfb329015f50e96ad894f8d",
          "commitAuthor": "Karthik Kambatla",
          "commitDateOld": "06/03/16 7:46 PM",
          "commitNameOld": "e1ccc9622b2f1fbefea1862fa74d1fb56d8eb264",
          "commitAuthorOld": "Zhihai Xu",
          "daysBetweenCommits": 7.73,
          "commitsBetweenForRepo": 44,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,5 @@\n-    public int compare(NodeId n1, NodeId n2) {\n-      if (!nodes.containsKey(n1)) {\n-        return 1;\n-      }\n-      if (!nodes.containsKey(n2)) {\n-        return -1;\n-      }\n-      return RESOURCE_CALCULATOR.compare(clusterResource,\n-              nodes.get(n2).getUnallocatedResource(),\n-              nodes.get(n1).getUnallocatedResource());\n+    public int compare(FSSchedulerNode n1, FSSchedulerNode n2) {\n+      return RESOURCE_CALCULATOR.compare(getClusterResource(),\n+          n2.getUnallocatedResource(),\n+          n1.getUnallocatedResource());\n     }\n\\ No newline at end of file\n",
          "actualSource": "    public int compare(FSSchedulerNode n1, FSSchedulerNode n2) {\n      return RESOURCE_CALCULATOR.compare(getClusterResource(),\n          n2.getUnallocatedResource(),\n          n1.getUnallocatedResource());\n    }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java",
          "extendedDetails": {}
        }
      ]
    },
    "f9692770a58af0ab082eb7f15da9cbdcd177605b": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4718. Rename variables in SchedulerNode to reduce ambiguity post YARN-1011. (Inigo Goiri via kasha)\n",
      "commitDate": "28/02/16 9:35 AM",
      "commitName": "f9692770a58af0ab082eb7f15da9cbdcd177605b",
      "commitAuthor": "Karthik Kambatla",
      "commitDateOld": "23/02/16 3:30 AM",
      "commitNameOld": "9ed17f181d96b8719a0ef54a129081948781d57e",
      "commitAuthorOld": "Junping Du",
      "daysBetweenCommits": 5.25,
      "commitsBetweenForRepo": 36,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n     public int compare(NodeId n1, NodeId n2) {\n       if (!nodes.containsKey(n1)) {\n         return 1;\n       }\n       if (!nodes.containsKey(n2)) {\n         return -1;\n       }\n       return RESOURCE_CALCULATOR.compare(clusterResource,\n-              nodes.get(n2).getAvailableResource(),\n-              nodes.get(n1).getAvailableResource());\n+              nodes.get(n2).getUnallocatedResource(),\n+              nodes.get(n1).getUnallocatedResource());\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public int compare(NodeId n1, NodeId n2) {\n      if (!nodes.containsKey(n1)) {\n        return 1;\n      }\n      if (!nodes.containsKey(n2)) {\n        return -1;\n      }\n      return RESOURCE_CALCULATOR.compare(clusterResource,\n              nodes.get(n2).getUnallocatedResource(),\n              nodes.get(n1).getUnallocatedResource());\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java",
      "extendedDetails": {}
    },
    "ff7758299151e3b69c27314010b4ef3a9fda3b41": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2273. NPE in ContinuousScheduling thread when we lose a node. (Wei Yan via kasha)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1612720 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "22/07/14 3:44 PM",
      "commitName": "ff7758299151e3b69c27314010b4ef3a9fda3b41",
      "commitAuthor": "Karthik Kambatla",
      "commitDateOld": "18/07/14 5:12 PM",
      "commitNameOld": "8871d8ed9fb1e4b21943477dcbaa13ef22ea7b8e",
      "commitAuthorOld": "Karthik Kambatla",
      "daysBetweenCommits": 3.94,
      "commitsBetweenForRepo": 27,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,11 @@\n     public int compare(NodeId n1, NodeId n2) {\n+      if (!nodes.containsKey(n1)) {\n+        return 1;\n+      }\n+      if (!nodes.containsKey(n2)) {\n+        return -1;\n+      }\n       return RESOURCE_CALCULATOR.compare(clusterResource,\n               nodes.get(n2).getAvailableResource(),\n               nodes.get(n1).getAvailableResource());\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public int compare(NodeId n1, NodeId n2) {\n      if (!nodes.containsKey(n1)) {\n        return 1;\n      }\n      if (!nodes.containsKey(n2)) {\n        return -1;\n      }\n      return RESOURCE_CALCULATOR.compare(clusterResource,\n              nodes.get(n2).getAvailableResource(),\n              nodes.get(n1).getAvailableResource());\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java",
      "extendedDetails": {}
    },
    "82f3454f5ac1f1c457e668e2cee12b4dcc800ee1": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2017. Merged some of the common scheduler code. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1596753 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "21/05/14 10:32 PM",
      "commitName": "82f3454f5ac1f1c457e668e2cee12b4dcc800ee1",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "31/03/14 4:40 PM",
      "commitNameOld": "7bd62b8da03642612fae8349e967b9c0aa290843",
      "commitAuthorOld": "Sanford Ryza",
      "daysBetweenCommits": 51.24,
      "commitsBetweenForRepo": 299,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,5 @@\n     public int compare(NodeId n1, NodeId n2) {\n-      return RESOURCE_CALCULATOR.compare(clusterCapacity,\n+      return RESOURCE_CALCULATOR.compare(clusterResource,\n               nodes.get(n2).getAvailableResource(),\n               nodes.get(n1).getAvailableResource());\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public int compare(NodeId n1, NodeId n2) {\n      return RESOURCE_CALCULATOR.compare(clusterResource,\n              nodes.get(n2).getAvailableResource(),\n              nodes.get(n1).getAvailableResource());\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java",
      "extendedDetails": {}
    },
    "30007fd686c1cc7addfeb69ed6bb487872bdf1cb": {
      "type": "Yintroduced",
      "commitMessage": "YARN-1290. Let continuous scheduling achieve more balanced task assignment (Wei Yan via Sandy Ryza)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1537731 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "31/10/13 3:04 PM",
      "commitName": "30007fd686c1cc7addfeb69ed6bb487872bdf1cb",
      "commitAuthor": "Sanford Ryza",
      "diff": "@@ -0,0 +1,5 @@\n+    public int compare(NodeId n1, NodeId n2) {\n+      return RESOURCE_CALCULATOR.compare(clusterCapacity,\n+              nodes.get(n2).getAvailableResource(),\n+              nodes.get(n1).getAvailableResource());\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    public int compare(NodeId n1, NodeId n2) {\n      return RESOURCE_CALCULATOR.compare(clusterCapacity,\n              nodes.get(n2).getAvailableResource(),\n              nodes.get(n1).getAvailableResource());\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java"
    }
  }
}