{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "GpuDeviceInformationParser.java",
  "functionName": "parseXml",
  "functionId": "parseXml___xmlContent-String",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/dao/gpu/GpuDeviceInformationParser.java",
  "functionStartLine": 78,
  "functionEndLine": 90,
  "numCommitsSeen": 3,
  "timeTaken": 2292,
  "changeHistory": [
    "18ee1092b471c5337f05809f8f01dae415e51a3a",
    "46045c5cb3ab06a35df27879afbd1bc3c2a384dd",
    "fa5cfc68f37c78b6cf26ce13247b9ff34da806cd"
  ],
  "changeHistoryShort": {
    "18ee1092b471c5337f05809f8f01dae415e51a3a": "Ybodychange",
    "46045c5cb3ab06a35df27879afbd1bc3c2a384dd": "Ybodychange",
    "fa5cfc68f37c78b6cf26ce13247b9ff34da806cd": "Yintroduced"
  },
  "changeHistoryDetails": {
    "18ee1092b471c5337f05809f8f01dae415e51a3a": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9127. Create more tests to verify GpuDeviceInformationParser. Contributed by Peter Bacsko\n",
      "commitDate": "15/07/19 2:59 AM",
      "commitName": "18ee1092b471c5337f05809f8f01dae415e51a3a",
      "commitAuthor": "Szilard Nemeth",
      "commitDateOld": "06/03/19 2:31 AM",
      "commitNameOld": "46045c5cb3ab06a35df27879afbd1bc3c2a384dd",
      "commitAuthorOld": "Sunil G",
      "daysBetweenCommits": 130.98,
      "commitsBetweenForRepo": 919,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,13 @@\n   public synchronized GpuDeviceInformation parseXml(String xmlContent)\n       throws YarnException {\n-    if (unmarshaller \u003d\u003d null) {\n-      try {\n-        init();\n-      } catch (SAXException | ParserConfigurationException | JAXBException e) {\n-        String msg \u003d \"Exception while initializing parser for \" +\n-            GPU_SCRIPT_REFERENCE;\n-        LOG.error(msg, e);\n-        throw new YarnException(e);\n-      }\n-    }\n-\n     InputSource inputSource \u003d new InputSource(new StringReader(xmlContent));\n     SAXSource source \u003d new SAXSource(xmlReader, inputSource);\n     try {\n       return (GpuDeviceInformation) unmarshaller.unmarshal(source);\n     } catch (JAXBException e) {\n       String msg \u003d \"Failed to parse XML output of \" +\n           GPU_SCRIPT_REFERENCE + \"!\";\n       LOG.error(msg, e);\n       throw new YarnException(msg, e);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized GpuDeviceInformation parseXml(String xmlContent)\n      throws YarnException {\n    InputSource inputSource \u003d new InputSource(new StringReader(xmlContent));\n    SAXSource source \u003d new SAXSource(xmlReader, inputSource);\n    try {\n      return (GpuDeviceInformation) unmarshaller.unmarshal(source);\n    } catch (JAXBException e) {\n      String msg \u003d \"Failed to parse XML output of \" +\n          GPU_SCRIPT_REFERENCE + \"!\";\n      LOG.error(msg, e);\n      throw new YarnException(msg, e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/dao/gpu/GpuDeviceInformationParser.java",
      "extendedDetails": {}
    },
    "46045c5cb3ab06a35df27879afbd1bc3c2a384dd": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9138. Improve test coverage for nvidia-smi binary execution of GpuDiscoverer. Contributed by Szilard Nemeth.\n",
      "commitDate": "06/03/19 2:31 AM",
      "commitName": "46045c5cb3ab06a35df27879afbd1bc3c2a384dd",
      "commitAuthor": "Sunil G",
      "commitDateOld": "11/10/17 11:14 AM",
      "commitNameOld": "fa5cfc68f37c78b6cf26ce13247b9ff34da806cd",
      "commitAuthorOld": "Sunil G",
      "daysBetweenCommits": 510.68,
      "commitsBetweenForRepo": 4377,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,24 @@\n   public synchronized GpuDeviceInformation parseXml(String xmlContent)\n       throws YarnException {\n     if (unmarshaller \u003d\u003d null) {\n       try {\n         init();\n       } catch (SAXException | ParserConfigurationException | JAXBException e) {\n-        LOG.error(\"Exception while initialize parser\", e);\n+        String msg \u003d \"Exception while initializing parser for \" +\n+            GPU_SCRIPT_REFERENCE;\n+        LOG.error(msg, e);\n         throw new YarnException(e);\n       }\n     }\n \n     InputSource inputSource \u003d new InputSource(new StringReader(xmlContent));\n     SAXSource source \u003d new SAXSource(xmlReader, inputSource);\n     try {\n       return (GpuDeviceInformation) unmarshaller.unmarshal(source);\n     } catch (JAXBException e) {\n-      LOG.error(\"Exception while parsing xml\", e);\n-      throw new YarnException(e);\n+      String msg \u003d \"Failed to parse XML output of \" +\n+          GPU_SCRIPT_REFERENCE + \"!\";\n+      LOG.error(msg, e);\n+      throw new YarnException(msg, e);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized GpuDeviceInformation parseXml(String xmlContent)\n      throws YarnException {\n    if (unmarshaller \u003d\u003d null) {\n      try {\n        init();\n      } catch (SAXException | ParserConfigurationException | JAXBException e) {\n        String msg \u003d \"Exception while initializing parser for \" +\n            GPU_SCRIPT_REFERENCE;\n        LOG.error(msg, e);\n        throw new YarnException(e);\n      }\n    }\n\n    InputSource inputSource \u003d new InputSource(new StringReader(xmlContent));\n    SAXSource source \u003d new SAXSource(xmlReader, inputSource);\n    try {\n      return (GpuDeviceInformation) unmarshaller.unmarshal(source);\n    } catch (JAXBException e) {\n      String msg \u003d \"Failed to parse XML output of \" +\n          GPU_SCRIPT_REFERENCE + \"!\";\n      LOG.error(msg, e);\n      throw new YarnException(msg, e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/dao/gpu/GpuDeviceInformationParser.java",
      "extendedDetails": {}
    },
    "fa5cfc68f37c78b6cf26ce13247b9ff34da806cd": {
      "type": "Yintroduced",
      "commitMessage": "YARN-6620. Add support in NodeManager to isolate GPU devices by using CGroups. Contributed by Wangda Tan.\n",
      "commitDate": "11/10/17 11:14 AM",
      "commitName": "fa5cfc68f37c78b6cf26ce13247b9ff34da806cd",
      "commitAuthor": "Sunil G",
      "diff": "@@ -0,0 +1,20 @@\n+  public synchronized GpuDeviceInformation parseXml(String xmlContent)\n+      throws YarnException {\n+    if (unmarshaller \u003d\u003d null) {\n+      try {\n+        init();\n+      } catch (SAXException | ParserConfigurationException | JAXBException e) {\n+        LOG.error(\"Exception while initialize parser\", e);\n+        throw new YarnException(e);\n+      }\n+    }\n+\n+    InputSource inputSource \u003d new InputSource(new StringReader(xmlContent));\n+    SAXSource source \u003d new SAXSource(xmlReader, inputSource);\n+    try {\n+      return (GpuDeviceInformation) unmarshaller.unmarshal(source);\n+    } catch (JAXBException e) {\n+      LOG.error(\"Exception while parsing xml\", e);\n+      throw new YarnException(e);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized GpuDeviceInformation parseXml(String xmlContent)\n      throws YarnException {\n    if (unmarshaller \u003d\u003d null) {\n      try {\n        init();\n      } catch (SAXException | ParserConfigurationException | JAXBException e) {\n        LOG.error(\"Exception while initialize parser\", e);\n        throw new YarnException(e);\n      }\n    }\n\n    InputSource inputSource \u003d new InputSource(new StringReader(xmlContent));\n    SAXSource source \u003d new SAXSource(xmlReader, inputSource);\n    try {\n      return (GpuDeviceInformation) unmarshaller.unmarshal(source);\n    } catch (JAXBException e) {\n      LOG.error(\"Exception while parsing xml\", e);\n      throw new YarnException(e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/dao/gpu/GpuDeviceInformationParser.java"
    }
  }
}