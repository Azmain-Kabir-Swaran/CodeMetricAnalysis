{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AbstractINodeDiff.java",
  "functionName": "saveSnapshotCopy",
  "functionId": "saveSnapshotCopy___snapshotCopy-A",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
  "functionStartLine": 95,
  "functionEndLine": 98,
  "numCommitsSeen": 72,
  "timeTaken": 4702,
  "changeHistory": [
    "44a6560b5da3f79d2299579a36e7a2a60a91f823",
    "c02953dbc344b39e0eb0d13fe2d899cdcdc46380",
    "10a2d82b45353ed3dbaa19d87c7e887c0afa2c57",
    "02e6b72ae148fc8c2ba02ef624536b9e48997b31",
    "4f7d921324c7fa9623c34688e3f2aa57fbfcb8b3",
    "6f4fe09687f9d13e3e552eaaa012399a5bf246d3",
    "bb80f2fb29d6f58d9c35f4a1fd88c99517f43e16",
    "f96d0a358529c4a49eadbb21c2423887dceb1141",
    "b9f965de120b5278ac84a7e98aecb32aafde4c16"
  ],
  "changeHistoryShort": {
    "44a6560b5da3f79d2299579a36e7a2a60a91f823": "Yparameterchange",
    "c02953dbc344b39e0eb0d13fe2d899cdcdc46380": "Yparameterchange",
    "10a2d82b45353ed3dbaa19d87c7e887c0afa2c57": "Ymultichange(Yparameterchange,Ybodychange)",
    "02e6b72ae148fc8c2ba02ef624536b9e48997b31": "Ymultichange(Ymovefromfile,Ybodychange,Yrename,Yparameterchange)",
    "4f7d921324c7fa9623c34688e3f2aa57fbfcb8b3": "Ymultichange(Yparameterchange,Ybodychange)",
    "6f4fe09687f9d13e3e552eaaa012399a5bf246d3": "Ymultichange(Ymovefromfile,Ymodifierchange,Ybodychange,Yparameterchange)",
    "bb80f2fb29d6f58d9c35f4a1fd88c99517f43e16": "Ymultichange(Yreturntypechange,Ybodychange)",
    "f96d0a358529c4a49eadbb21c2423887dceb1141": "Ybodychange",
    "b9f965de120b5278ac84a7e98aecb32aafde4c16": "Yintroduced"
  },
  "changeHistoryDetails": {
    "44a6560b5da3f79d2299579a36e7a2a60a91f823": {
      "type": "Yparameterchange",
      "commitMessage": "HDFS-5632. Flatten INodeDirectory hierarchy: Replace INodeDirectoryWithSnapshot with DirectoryWithSnapshotFeature.  Contributed by jing9 \n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1550917 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/12/13 2:13 AM",
      "commitName": "44a6560b5da3f79d2299579a36e7a2a60a91f823",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "19/06/13 10:10 PM",
      "commitNameOld": "c02953dbc344b39e0eb0d13fe2d899cdcdc46380",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 177.21,
      "commitsBetweenForRepo": 1099,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,4 +1,4 @@\n-  void saveSnapshotCopy(A snapshotCopy, N currentINode) {\n+  void saveSnapshotCopy(A snapshotCopy) {\n     Preconditions.checkState(snapshotINode \u003d\u003d null, \"Expected snapshotINode to be null\");\n     snapshotINode \u003d snapshotCopy;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void saveSnapshotCopy(A snapshotCopy) {\n    Preconditions.checkState(snapshotINode \u003d\u003d null, \"Expected snapshotINode to be null\");\n    snapshotINode \u003d snapshotCopy;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
      "extendedDetails": {
        "oldValue": "[snapshotCopy-A, currentINode-N]",
        "newValue": "[snapshotCopy-A]"
      }
    },
    "c02953dbc344b39e0eb0d13fe2d899cdcdc46380": {
      "type": "Yparameterchange",
      "commitMessage": "HDFS-4908. Reduce snapshot inode memory usage.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1494858 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/06/13 10:10 PM",
      "commitName": "c02953dbc344b39e0eb0d13fe2d899cdcdc46380",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "23/04/13 7:11 PM",
      "commitNameOld": "3a812e9f3ae66cfa525faceb5af9085a4cc37232",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 57.12,
      "commitsBetweenForRepo": 405,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,4 +1,4 @@\n-  void saveSnapshotCopy(N snapshotCopy, N currentINode) {\n+  void saveSnapshotCopy(A snapshotCopy, N currentINode) {\n     Preconditions.checkState(snapshotINode \u003d\u003d null, \"Expected snapshotINode to be null\");\n     snapshotINode \u003d snapshotCopy;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void saveSnapshotCopy(A snapshotCopy, N currentINode) {\n    Preconditions.checkState(snapshotINode \u003d\u003d null, \"Expected snapshotINode to be null\");\n    snapshotINode \u003d snapshotCopy;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
      "extendedDetails": {
        "oldValue": "[snapshotCopy-N, currentINode-N]",
        "newValue": "[snapshotCopy-A, currentINode-N]"
      }
    },
    "10a2d82b45353ed3dbaa19d87c7e887c0afa2c57": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-4719. Remove AbstractINodeDiff.Factory and move its methods to AbstractINodeDiffList.  Contributed by Arpit Agarwal\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1470759 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "22/04/13 5:11 PM",
      "commitName": "10a2d82b45353ed3dbaa19d87c7e887c0afa2c57",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-4719. Remove AbstractINodeDiff.Factory and move its methods to AbstractINodeDiffList.  Contributed by Arpit Agarwal\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1470759 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "22/04/13 5:11 PM",
          "commitName": "10a2d82b45353ed3dbaa19d87c7e887c0afa2c57",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "22/04/13 5:00 PM",
          "commitNameOld": "92e0416ced279a910616985bf11fa3f8b1b1de9b",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,4 @@\n-  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n-    if (snapshotINode \u003d\u003d null) {\n-      if (snapshotCopy \u003d\u003d null) {\n-        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n-      }\n-      snapshotINode \u003d snapshotCopy;\n-    }\n+  void saveSnapshotCopy(N snapshotCopy, N currentINode) {\n+    Preconditions.checkState(snapshotINode \u003d\u003d null, \"Expected snapshotINode to be null\");\n+    snapshotINode \u003d snapshotCopy;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void saveSnapshotCopy(N snapshotCopy, N currentINode) {\n    Preconditions.checkState(snapshotINode \u003d\u003d null, \"Expected snapshotINode to be null\");\n    snapshotINode \u003d snapshotCopy;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {
            "oldValue": "[snapshotCopy-N, factory-Factory\u003cN,D\u003e, currentINode-N]",
            "newValue": "[snapshotCopy-N, currentINode-N]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-4719. Remove AbstractINodeDiff.Factory and move its methods to AbstractINodeDiffList.  Contributed by Arpit Agarwal\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1470759 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "22/04/13 5:11 PM",
          "commitName": "10a2d82b45353ed3dbaa19d87c7e887c0afa2c57",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "22/04/13 5:00 PM",
          "commitNameOld": "92e0416ced279a910616985bf11fa3f8b1b1de9b",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,4 @@\n-  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n-    if (snapshotINode \u003d\u003d null) {\n-      if (snapshotCopy \u003d\u003d null) {\n-        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n-      }\n-      snapshotINode \u003d snapshotCopy;\n-    }\n+  void saveSnapshotCopy(N snapshotCopy, N currentINode) {\n+    Preconditions.checkState(snapshotINode \u003d\u003d null, \"Expected snapshotINode to be null\");\n+    snapshotINode \u003d snapshotCopy;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void saveSnapshotCopy(N snapshotCopy, N currentINode) {\n    Preconditions.checkState(snapshotINode \u003d\u003d null, \"Expected snapshotINode to be null\");\n    snapshotINode \u003d snapshotCopy;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {}
        }
      ]
    },
    "02e6b72ae148fc8c2ba02ef624536b9e48997b31": {
      "type": "Ymultichange(Ymovefromfile,Ybodychange,Yrename,Yparameterchange)",
      "commitMessage": "HDFS-4481. Change fsimage to support snapshot file diffs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1446000 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/02/13 4:43 PM",
      "commitName": "02e6b72ae148fc8c2ba02ef624536b9e48997b31",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "HDFS-4481. Change fsimage to support snapshot file diffs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1446000 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "13/02/13 4:43 PM",
          "commitName": "02e6b72ae148fc8c2ba02ef624536b9e48997b31",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "09/02/13 1:29 PM",
          "commitNameOld": "fa8bafbd4673d385498e81874e58cd0eafad3d22",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 4.13,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,8 @@\n-  void checkAndInitINode(N currentINode, N snapshotCopy) {\n+  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n     if (snapshotINode \u003d\u003d null) {\n       if (snapshotCopy \u003d\u003d null) {\n-        snapshotCopy \u003d createSnapshotCopyOfCurrentINode(currentINode);\n+        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n       }\n       snapshotINode \u003d snapshotCopy;\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
            "oldMethodName": "checkAndInitINode",
            "newMethodName": "saveSnapshotCopy"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-4481. Change fsimage to support snapshot file diffs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1446000 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "13/02/13 4:43 PM",
          "commitName": "02e6b72ae148fc8c2ba02ef624536b9e48997b31",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "09/02/13 1:29 PM",
          "commitNameOld": "fa8bafbd4673d385498e81874e58cd0eafad3d22",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 4.13,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,8 @@\n-  void checkAndInitINode(N currentINode, N snapshotCopy) {\n+  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n     if (snapshotINode \u003d\u003d null) {\n       if (snapshotCopy \u003d\u003d null) {\n-        snapshotCopy \u003d createSnapshotCopyOfCurrentINode(currentINode);\n+        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n       }\n       snapshotINode \u003d snapshotCopy;\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {}
        },
        {
          "type": "Yrename",
          "commitMessage": "HDFS-4481. Change fsimage to support snapshot file diffs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1446000 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "13/02/13 4:43 PM",
          "commitName": "02e6b72ae148fc8c2ba02ef624536b9e48997b31",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "09/02/13 1:29 PM",
          "commitNameOld": "fa8bafbd4673d385498e81874e58cd0eafad3d22",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 4.13,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,8 @@\n-  void checkAndInitINode(N currentINode, N snapshotCopy) {\n+  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n     if (snapshotINode \u003d\u003d null) {\n       if (snapshotCopy \u003d\u003d null) {\n-        snapshotCopy \u003d createSnapshotCopyOfCurrentINode(currentINode);\n+        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n       }\n       snapshotINode \u003d snapshotCopy;\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {
            "oldValue": "checkAndInitINode",
            "newValue": "saveSnapshotCopy"
          }
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-4481. Change fsimage to support snapshot file diffs.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1446000 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "13/02/13 4:43 PM",
          "commitName": "02e6b72ae148fc8c2ba02ef624536b9e48997b31",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "09/02/13 1:29 PM",
          "commitNameOld": "fa8bafbd4673d385498e81874e58cd0eafad3d22",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 4.13,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,8 @@\n-  void checkAndInitINode(N currentINode, N snapshotCopy) {\n+  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n     if (snapshotINode \u003d\u003d null) {\n       if (snapshotCopy \u003d\u003d null) {\n-        snapshotCopy \u003d createSnapshotCopyOfCurrentINode(currentINode);\n+        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n       }\n       snapshotINode \u003d snapshotCopy;\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void saveSnapshotCopy(N snapshotCopy, Factory\u003cN, D\u003e factory, N currentINode) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        snapshotCopy \u003d factory.createSnapshotCopy(currentINode);\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {
            "oldValue": "[currentINode-N, snapshotCopy-N]",
            "newValue": "[snapshotCopy-N, factory-Factory\u003cN,D\u003e, currentINode-N]"
          }
        }
      ]
    },
    "4f7d921324c7fa9623c34688e3f2aa57fbfcb8b3": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-4446. Support file snapshots with diff lists.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1443825 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/02/13 6:18 PM",
      "commitName": "4f7d921324c7fa9623c34688e3f2aa57fbfcb8b3",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-4446. Support file snapshots with diff lists.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1443825 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "07/02/13 6:18 PM",
          "commitName": "4f7d921324c7fa9623c34688e3f2aa57fbfcb8b3",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "29/01/13 3:25 PM",
          "commitNameOld": "6f4fe09687f9d13e3e552eaaa012399a5bf246d3",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 9.12,
          "commitsBetweenForRepo": 18,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,8 @@\n-  void checkAndInitINode(N snapshotCopy) {\n+  void checkAndInitINode(N currentINode, N snapshotCopy) {\n     if (snapshotINode \u003d\u003d null) {\n       if (snapshotCopy \u003d\u003d null) {\n-        @SuppressWarnings(\"unchecked\")\n-        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n-        snapshotCopy \u003d right;\n+        snapshotCopy \u003d createSnapshotCopyOfCurrentINode(currentINode);\n       }\n       snapshotINode \u003d snapshotCopy;\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void checkAndInitINode(N currentINode, N snapshotCopy) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        snapshotCopy \u003d createSnapshotCopyOfCurrentINode(currentINode);\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {
            "oldValue": "[snapshotCopy-N]",
            "newValue": "[currentINode-N, snapshotCopy-N]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-4446. Support file snapshots with diff lists.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1443825 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "07/02/13 6:18 PM",
          "commitName": "4f7d921324c7fa9623c34688e3f2aa57fbfcb8b3",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "29/01/13 3:25 PM",
          "commitNameOld": "6f4fe09687f9d13e3e552eaaa012399a5bf246d3",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 9.12,
          "commitsBetweenForRepo": 18,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,8 @@\n-  void checkAndInitINode(N snapshotCopy) {\n+  void checkAndInitINode(N currentINode, N snapshotCopy) {\n     if (snapshotINode \u003d\u003d null) {\n       if (snapshotCopy \u003d\u003d null) {\n-        @SuppressWarnings(\"unchecked\")\n-        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n-        snapshotCopy \u003d right;\n+        snapshotCopy \u003d createSnapshotCopyOfCurrentINode(currentINode);\n       }\n       snapshotINode \u003d snapshotCopy;\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void checkAndInitINode(N currentINode, N snapshotCopy) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        snapshotCopy \u003d createSnapshotCopyOfCurrentINode(currentINode);\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {}
        }
      ]
    },
    "6f4fe09687f9d13e3e552eaaa012399a5bf246d3": {
      "type": "Ymultichange(Ymovefromfile,Ymodifierchange,Ybodychange,Yparameterchange)",
      "commitMessage": "HDFS-4447. Refactor INodeDirectoryWithSnapshot for supporting general INode diff lists.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1440216 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/01/13 3:25 PM",
      "commitName": "6f4fe09687f9d13e3e552eaaa012399a5bf246d3",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "HDFS-4447. Refactor INodeDirectoryWithSnapshot for supporting general INode diff lists.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1440216 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "29/01/13 3:25 PM",
          "commitName": "6f4fe09687f9d13e3e552eaaa012399a5bf246d3",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "29/01/13 1:31 PM",
          "commitNameOld": "66ea187228c899cadf23d10c7032c8efe1aa0df4",
          "commitAuthorOld": "Suresh Srinivas",
          "daysBetweenCommits": 0.08,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,10 @@\n-    private void checkAndInitINode(INodeDirectory snapshotCopy) {\n-      if (snapshotINode \u003d\u003d null) {\n-        if (snapshotCopy \u003d\u003d null) {\n-          snapshotCopy \u003d new INodeDirectory(INodeDirectoryWithSnapshot.this,\n-              false);\n-        }\n-        snapshotINode \u003d snapshotCopy;\n+  void checkAndInitINode(N snapshotCopy) {\n+    if (snapshotINode \u003d\u003d null) {\n+      if (snapshotCopy \u003d\u003d null) {\n+        @SuppressWarnings(\"unchecked\")\n+        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n+        snapshotCopy \u003d right;\n       }\n-    }\n\\ No newline at end of file\n+      snapshotINode \u003d snapshotCopy;\n+    }\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  void checkAndInitINode(N snapshotCopy) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        @SuppressWarnings(\"unchecked\")\n        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n        snapshotCopy \u003d right;\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/INodeDirectoryWithSnapshot.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
            "oldMethodName": "checkAndInitINode",
            "newMethodName": "checkAndInitINode"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "HDFS-4447. Refactor INodeDirectoryWithSnapshot for supporting general INode diff lists.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1440216 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "29/01/13 3:25 PM",
          "commitName": "6f4fe09687f9d13e3e552eaaa012399a5bf246d3",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "29/01/13 1:31 PM",
          "commitNameOld": "66ea187228c899cadf23d10c7032c8efe1aa0df4",
          "commitAuthorOld": "Suresh Srinivas",
          "daysBetweenCommits": 0.08,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,10 @@\n-    private void checkAndInitINode(INodeDirectory snapshotCopy) {\n-      if (snapshotINode \u003d\u003d null) {\n-        if (snapshotCopy \u003d\u003d null) {\n-          snapshotCopy \u003d new INodeDirectory(INodeDirectoryWithSnapshot.this,\n-              false);\n-        }\n-        snapshotINode \u003d snapshotCopy;\n+  void checkAndInitINode(N snapshotCopy) {\n+    if (snapshotINode \u003d\u003d null) {\n+      if (snapshotCopy \u003d\u003d null) {\n+        @SuppressWarnings(\"unchecked\")\n+        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n+        snapshotCopy \u003d right;\n       }\n-    }\n\\ No newline at end of file\n+      snapshotINode \u003d snapshotCopy;\n+    }\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  void checkAndInitINode(N snapshotCopy) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        @SuppressWarnings(\"unchecked\")\n        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n        snapshotCopy \u003d right;\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {
            "oldValue": "[private]",
            "newValue": "[]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-4447. Refactor INodeDirectoryWithSnapshot for supporting general INode diff lists.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1440216 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "29/01/13 3:25 PM",
          "commitName": "6f4fe09687f9d13e3e552eaaa012399a5bf246d3",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "29/01/13 1:31 PM",
          "commitNameOld": "66ea187228c899cadf23d10c7032c8efe1aa0df4",
          "commitAuthorOld": "Suresh Srinivas",
          "daysBetweenCommits": 0.08,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,10 @@\n-    private void checkAndInitINode(INodeDirectory snapshotCopy) {\n-      if (snapshotINode \u003d\u003d null) {\n-        if (snapshotCopy \u003d\u003d null) {\n-          snapshotCopy \u003d new INodeDirectory(INodeDirectoryWithSnapshot.this,\n-              false);\n-        }\n-        snapshotINode \u003d snapshotCopy;\n+  void checkAndInitINode(N snapshotCopy) {\n+    if (snapshotINode \u003d\u003d null) {\n+      if (snapshotCopy \u003d\u003d null) {\n+        @SuppressWarnings(\"unchecked\")\n+        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n+        snapshotCopy \u003d right;\n       }\n-    }\n\\ No newline at end of file\n+      snapshotINode \u003d snapshotCopy;\n+    }\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  void checkAndInitINode(N snapshotCopy) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        @SuppressWarnings(\"unchecked\")\n        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n        snapshotCopy \u003d right;\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {}
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-4447. Refactor INodeDirectoryWithSnapshot for supporting general INode diff lists.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1440216 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "29/01/13 3:25 PM",
          "commitName": "6f4fe09687f9d13e3e552eaaa012399a5bf246d3",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "29/01/13 1:31 PM",
          "commitNameOld": "66ea187228c899cadf23d10c7032c8efe1aa0df4",
          "commitAuthorOld": "Suresh Srinivas",
          "daysBetweenCommits": 0.08,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,10 @@\n-    private void checkAndInitINode(INodeDirectory snapshotCopy) {\n-      if (snapshotINode \u003d\u003d null) {\n-        if (snapshotCopy \u003d\u003d null) {\n-          snapshotCopy \u003d new INodeDirectory(INodeDirectoryWithSnapshot.this,\n-              false);\n-        }\n-        snapshotINode \u003d snapshotCopy;\n+  void checkAndInitINode(N snapshotCopy) {\n+    if (snapshotINode \u003d\u003d null) {\n+      if (snapshotCopy \u003d\u003d null) {\n+        @SuppressWarnings(\"unchecked\")\n+        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n+        snapshotCopy \u003d right;\n       }\n-    }\n\\ No newline at end of file\n+      snapshotINode \u003d snapshotCopy;\n+    }\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  void checkAndInitINode(N snapshotCopy) {\n    if (snapshotINode \u003d\u003d null) {\n      if (snapshotCopy \u003d\u003d null) {\n        @SuppressWarnings(\"unchecked\")\n        final N right \u003d (N)getCurrentINode().createSnapshotCopy().right;\n        snapshotCopy \u003d right;\n      }\n      snapshotINode \u003d snapshotCopy;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/AbstractINodeDiff.java",
          "extendedDetails": {
            "oldValue": "[snapshotCopy-INodeDirectory]",
            "newValue": "[snapshotCopy-N]"
          }
        }
      ]
    },
    "bb80f2fb29d6f58d9c35f4a1fd88c99517f43e16": {
      "type": "Ymultichange(Yreturntypechange,Ybodychange)",
      "commitMessage": "HDFS-4436. Change INode.recordModification(..) to return only the current inode and remove the updateCircularList parameter from some methods in INodeDirectoryWithSnapshot.Diff.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1438203 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/01/13 1:33 PM",
      "commitName": "bb80f2fb29d6f58d9c35f4a1fd88c99517f43e16",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-4436. Change INode.recordModification(..) to return only the current inode and remove the updateCircularList parameter from some methods in INodeDirectoryWithSnapshot.Diff.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1438203 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "24/01/13 1:33 PM",
          "commitName": "bb80f2fb29d6f58d9c35f4a1fd88c99517f43e16",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "22/01/13 6:48 PM",
          "commitNameOld": "fe3584aadfc7839abcd03239e4d07afd12b8b90f",
          "commitAuthorOld": "Suresh Srinivas",
          "daysBetweenCommits": 1.78,
          "commitsBetweenForRepo": 4,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,9 @@\n-    private Pair\u003cINodeDirectory, INodeDirectory\u003e checkAndInitINode(\n-        INodeDirectory snapshotCopy) {\n-      if (snapshotINode !\u003d null) {\n-        // already initialized.\n-        return null;\n+    private void checkAndInitINode(INodeDirectory snapshotCopy) {\n+      if (snapshotINode \u003d\u003d null) {\n+        if (snapshotCopy \u003d\u003d null) {\n+          snapshotCopy \u003d new INodeDirectory(INodeDirectoryWithSnapshot.this,\n+              false);\n+        }\n+        snapshotINode \u003d snapshotCopy;\n       }\n-      final INodeDirectoryWithSnapshot dir \u003d INodeDirectoryWithSnapshot.this;\n-      if (snapshotCopy \u003d\u003d null) {\n-        snapshotCopy \u003d new INodeDirectory(dir, false);\n-      }\n-      snapshotINode \u003d snapshotCopy;\n-      return new Pair\u003cINodeDirectory, INodeDirectory\u003e(dir, snapshotCopy);\n     }\n\\ No newline at end of file\n",
          "actualSource": "    private void checkAndInitINode(INodeDirectory snapshotCopy) {\n      if (snapshotINode \u003d\u003d null) {\n        if (snapshotCopy \u003d\u003d null) {\n          snapshotCopy \u003d new INodeDirectory(INodeDirectoryWithSnapshot.this,\n              false);\n        }\n        snapshotINode \u003d snapshotCopy;\n      }\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/INodeDirectoryWithSnapshot.java",
          "extendedDetails": {
            "oldValue": "Pair\u003cINodeDirectory,INodeDirectory\u003e",
            "newValue": "void"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-4436. Change INode.recordModification(..) to return only the current inode and remove the updateCircularList parameter from some methods in INodeDirectoryWithSnapshot.Diff.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1438203 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "24/01/13 1:33 PM",
          "commitName": "bb80f2fb29d6f58d9c35f4a1fd88c99517f43e16",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "22/01/13 6:48 PM",
          "commitNameOld": "fe3584aadfc7839abcd03239e4d07afd12b8b90f",
          "commitAuthorOld": "Suresh Srinivas",
          "daysBetweenCommits": 1.78,
          "commitsBetweenForRepo": 4,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,9 @@\n-    private Pair\u003cINodeDirectory, INodeDirectory\u003e checkAndInitINode(\n-        INodeDirectory snapshotCopy) {\n-      if (snapshotINode !\u003d null) {\n-        // already initialized.\n-        return null;\n+    private void checkAndInitINode(INodeDirectory snapshotCopy) {\n+      if (snapshotINode \u003d\u003d null) {\n+        if (snapshotCopy \u003d\u003d null) {\n+          snapshotCopy \u003d new INodeDirectory(INodeDirectoryWithSnapshot.this,\n+              false);\n+        }\n+        snapshotINode \u003d snapshotCopy;\n       }\n-      final INodeDirectoryWithSnapshot dir \u003d INodeDirectoryWithSnapshot.this;\n-      if (snapshotCopy \u003d\u003d null) {\n-        snapshotCopy \u003d new INodeDirectory(dir, false);\n-      }\n-      snapshotINode \u003d snapshotCopy;\n-      return new Pair\u003cINodeDirectory, INodeDirectory\u003e(dir, snapshotCopy);\n     }\n\\ No newline at end of file\n",
          "actualSource": "    private void checkAndInitINode(INodeDirectory snapshotCopy) {\n      if (snapshotINode \u003d\u003d null) {\n        if (snapshotCopy \u003d\u003d null) {\n          snapshotCopy \u003d new INodeDirectory(INodeDirectoryWithSnapshot.this,\n              false);\n        }\n        snapshotINode \u003d snapshotCopy;\n      }\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/INodeDirectoryWithSnapshot.java",
          "extendedDetails": {}
        }
      ]
    },
    "f96d0a358529c4a49eadbb21c2423887dceb1141": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4357. Fix a bug that if an inode is replaced, further INode operations should apply to the new inode. Contributed by Jing Zhao\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1428780 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "04/01/13 2:45 AM",
      "commitName": "f96d0a358529c4a49eadbb21c2423887dceb1141",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "28/12/12 12:49 AM",
      "commitNameOld": "c82961be0fbd56dde68fe49965b5c6ee976ba73e",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 7.08,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,13 @@\n     private Pair\u003cINodeDirectory, INodeDirectory\u003e checkAndInitINode(\n         INodeDirectory snapshotCopy) {\n       if (snapshotINode !\u003d null) {\n         // already initialized.\n         return null;\n       }\n       final INodeDirectoryWithSnapshot dir \u003d INodeDirectoryWithSnapshot.this;\n       if (snapshotCopy \u003d\u003d null) {\n         snapshotCopy \u003d new INodeDirectory(dir, false);\n       }\n+      snapshotINode \u003d snapshotCopy;\n       return new Pair\u003cINodeDirectory, INodeDirectory\u003e(dir, snapshotCopy);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private Pair\u003cINodeDirectory, INodeDirectory\u003e checkAndInitINode(\n        INodeDirectory snapshotCopy) {\n      if (snapshotINode !\u003d null) {\n        // already initialized.\n        return null;\n      }\n      final INodeDirectoryWithSnapshot dir \u003d INodeDirectoryWithSnapshot.this;\n      if (snapshotCopy \u003d\u003d null) {\n        snapshotCopy \u003d new INodeDirectory(dir, false);\n      }\n      snapshotINode \u003d snapshotCopy;\n      return new Pair\u003cINodeDirectory, INodeDirectory\u003e(dir, snapshotCopy);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/INodeDirectoryWithSnapshot.java",
      "extendedDetails": {}
    },
    "b9f965de120b5278ac84a7e98aecb32aafde4c16": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-4103. Support O(1) snapshot creation.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1424782 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "20/12/12 5:30 PM",
      "commitName": "b9f965de120b5278ac84a7e98aecb32aafde4c16",
      "commitAuthor": "Tsz-wo Sze",
      "diff": "@@ -0,0 +1,12 @@\n+    private Pair\u003cINodeDirectory, INodeDirectory\u003e checkAndInitINode(\n+        INodeDirectory snapshotCopy) {\n+      if (snapshotINode !\u003d null) {\n+        // already initialized.\n+        return null;\n+      }\n+      final INodeDirectoryWithSnapshot dir \u003d INodeDirectoryWithSnapshot.this;\n+      if (snapshotCopy \u003d\u003d null) {\n+        snapshotCopy \u003d new INodeDirectory(dir, false);\n+      }\n+      return new Pair\u003cINodeDirectory, INodeDirectory\u003e(dir, snapshotCopy);\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    private Pair\u003cINodeDirectory, INodeDirectory\u003e checkAndInitINode(\n        INodeDirectory snapshotCopy) {\n      if (snapshotINode !\u003d null) {\n        // already initialized.\n        return null;\n      }\n      final INodeDirectoryWithSnapshot dir \u003d INodeDirectoryWithSnapshot.this;\n      if (snapshotCopy \u003d\u003d null) {\n        snapshotCopy \u003d new INodeDirectory(dir, false);\n      }\n      return new Pair\u003cINodeDirectory, INodeDirectory\u003e(dir, snapshotCopy);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/INodeDirectoryWithSnapshot.java"
    }
  }
}