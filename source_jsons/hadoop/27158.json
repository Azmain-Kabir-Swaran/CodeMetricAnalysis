{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FileSystemTimelineWriterImpl.java",
  "functionName": "mkdirs",
  "functionId": "mkdirs___paths-Path",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/FileSystemTimelineWriterImpl.java",
  "functionStartLine": 197,
  "functionEndLine": 203,
  "numCommitsSeen": 28,
  "timeTaken": 3881,
  "changeHistory": [
    "ea3cdc60b39d96702c0bce292829914c25bc0d8e",
    "56142171b9528646f26072e022902549a16c8f27",
    "d67c9bdb4db2b075484a779802ecf3296bad5cd4"
  ],
  "changeHistoryShort": {
    "ea3cdc60b39d96702c0bce292829914c25bc0d8e": "Ymultichange(Yparameterchange,Yreturntypechange,Ymodifierchange,Yexceptionschange,Ybodychange)",
    "56142171b9528646f26072e022902549a16c8f27": "Ybodychange",
    "d67c9bdb4db2b075484a779802ecf3296bad5cd4": "Yintroduced"
  },
  "changeHistoryDetails": {
    "ea3cdc60b39d96702c0bce292829914c25bc0d8e": {
      "type": "Ymultichange(Yparameterchange,Yreturntypechange,Ymodifierchange,Yexceptionschange,Ybodychange)",
      "commitMessage": "YARN-3841 [atsv2 Storage implementation] Adding retry semantics to HDFS backing storage. Contributed by Abhishek Modi.\n",
      "commitDate": "27/02/19 2:55 PM",
      "commitName": "ea3cdc60b39d96702c0bce292829914c25bc0d8e",
      "commitAuthor": "Vrushali C",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-3841 [atsv2 Storage implementation] Adding retry semantics to HDFS backing storage. Contributed by Abhishek Modi.\n",
          "commitDate": "27/02/19 2:55 PM",
          "commitName": "ea3cdc60b39d96702c0bce292829914c25bc0d8e",
          "commitAuthor": "Vrushali C",
          "commitDateOld": "16/05/18 1:00 PM",
          "commitNameOld": "e3b7d7ac1694b8766ae11bc7e8ecf09763bb26db",
          "commitAuthorOld": "Haibo Chen",
          "daysBetweenCommits": 287.12,
          "commitsBetweenForRepo": 2234,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,7 @@\n-  private static String mkdirs(String... dirStrs) throws IOException {\n-    StringBuilder path \u003d new StringBuilder();\n-    for (String dirStr : dirStrs) {\n-      path.append(dirStr).append(File.separatorChar);\n-      File dir \u003d new File(path.toString());\n-      if (!dir.exists()) {\n-        if (!dir.mkdirs()) {\n-          throw new IOException(\"Could not create directories for \" + dir);\n-        }\n+  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n+    for (Path path: paths) {\n+      if (!existsWithRetries(path)) {\n+        mkdirsWithRetries(path);\n       }\n     }\n-    return path.toString();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n    for (Path path: paths) {\n      if (!existsWithRetries(path)) {\n        mkdirsWithRetries(path);\n      }\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/FileSystemTimelineWriterImpl.java",
          "extendedDetails": {
            "oldValue": "[dirStrs-String]",
            "newValue": "[paths-Path]"
          }
        },
        {
          "type": "Yreturntypechange",
          "commitMessage": "YARN-3841 [atsv2 Storage implementation] Adding retry semantics to HDFS backing storage. Contributed by Abhishek Modi.\n",
          "commitDate": "27/02/19 2:55 PM",
          "commitName": "ea3cdc60b39d96702c0bce292829914c25bc0d8e",
          "commitAuthor": "Vrushali C",
          "commitDateOld": "16/05/18 1:00 PM",
          "commitNameOld": "e3b7d7ac1694b8766ae11bc7e8ecf09763bb26db",
          "commitAuthorOld": "Haibo Chen",
          "daysBetweenCommits": 287.12,
          "commitsBetweenForRepo": 2234,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,7 @@\n-  private static String mkdirs(String... dirStrs) throws IOException {\n-    StringBuilder path \u003d new StringBuilder();\n-    for (String dirStr : dirStrs) {\n-      path.append(dirStr).append(File.separatorChar);\n-      File dir \u003d new File(path.toString());\n-      if (!dir.exists()) {\n-        if (!dir.mkdirs()) {\n-          throw new IOException(\"Could not create directories for \" + dir);\n-        }\n+  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n+    for (Path path: paths) {\n+      if (!existsWithRetries(path)) {\n+        mkdirsWithRetries(path);\n       }\n     }\n-    return path.toString();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n    for (Path path: paths) {\n      if (!existsWithRetries(path)) {\n        mkdirsWithRetries(path);\n      }\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/FileSystemTimelineWriterImpl.java",
          "extendedDetails": {
            "oldValue": "String",
            "newValue": "void"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "YARN-3841 [atsv2 Storage implementation] Adding retry semantics to HDFS backing storage. Contributed by Abhishek Modi.\n",
          "commitDate": "27/02/19 2:55 PM",
          "commitName": "ea3cdc60b39d96702c0bce292829914c25bc0d8e",
          "commitAuthor": "Vrushali C",
          "commitDateOld": "16/05/18 1:00 PM",
          "commitNameOld": "e3b7d7ac1694b8766ae11bc7e8ecf09763bb26db",
          "commitAuthorOld": "Haibo Chen",
          "daysBetweenCommits": 287.12,
          "commitsBetweenForRepo": 2234,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,7 @@\n-  private static String mkdirs(String... dirStrs) throws IOException {\n-    StringBuilder path \u003d new StringBuilder();\n-    for (String dirStr : dirStrs) {\n-      path.append(dirStr).append(File.separatorChar);\n-      File dir \u003d new File(path.toString());\n-      if (!dir.exists()) {\n-        if (!dir.mkdirs()) {\n-          throw new IOException(\"Could not create directories for \" + dir);\n-        }\n+  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n+    for (Path path: paths) {\n+      if (!existsWithRetries(path)) {\n+        mkdirsWithRetries(path);\n       }\n     }\n-    return path.toString();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n    for (Path path: paths) {\n      if (!existsWithRetries(path)) {\n        mkdirsWithRetries(path);\n      }\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/FileSystemTimelineWriterImpl.java",
          "extendedDetails": {
            "oldValue": "[private, static]",
            "newValue": "[private]"
          }
        },
        {
          "type": "Yexceptionschange",
          "commitMessage": "YARN-3841 [atsv2 Storage implementation] Adding retry semantics to HDFS backing storage. Contributed by Abhishek Modi.\n",
          "commitDate": "27/02/19 2:55 PM",
          "commitName": "ea3cdc60b39d96702c0bce292829914c25bc0d8e",
          "commitAuthor": "Vrushali C",
          "commitDateOld": "16/05/18 1:00 PM",
          "commitNameOld": "e3b7d7ac1694b8766ae11bc7e8ecf09763bb26db",
          "commitAuthorOld": "Haibo Chen",
          "daysBetweenCommits": 287.12,
          "commitsBetweenForRepo": 2234,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,7 @@\n-  private static String mkdirs(String... dirStrs) throws IOException {\n-    StringBuilder path \u003d new StringBuilder();\n-    for (String dirStr : dirStrs) {\n-      path.append(dirStr).append(File.separatorChar);\n-      File dir \u003d new File(path.toString());\n-      if (!dir.exists()) {\n-        if (!dir.mkdirs()) {\n-          throw new IOException(\"Could not create directories for \" + dir);\n-        }\n+  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n+    for (Path path: paths) {\n+      if (!existsWithRetries(path)) {\n+        mkdirsWithRetries(path);\n       }\n     }\n-    return path.toString();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n    for (Path path: paths) {\n      if (!existsWithRetries(path)) {\n        mkdirsWithRetries(path);\n      }\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/FileSystemTimelineWriterImpl.java",
          "extendedDetails": {
            "oldValue": "[IOException]",
            "newValue": "[IOException, InterruptedException]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-3841 [atsv2 Storage implementation] Adding retry semantics to HDFS backing storage. Contributed by Abhishek Modi.\n",
          "commitDate": "27/02/19 2:55 PM",
          "commitName": "ea3cdc60b39d96702c0bce292829914c25bc0d8e",
          "commitAuthor": "Vrushali C",
          "commitDateOld": "16/05/18 1:00 PM",
          "commitNameOld": "e3b7d7ac1694b8766ae11bc7e8ecf09763bb26db",
          "commitAuthorOld": "Haibo Chen",
          "daysBetweenCommits": 287.12,
          "commitsBetweenForRepo": 2234,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,7 @@\n-  private static String mkdirs(String... dirStrs) throws IOException {\n-    StringBuilder path \u003d new StringBuilder();\n-    for (String dirStr : dirStrs) {\n-      path.append(dirStr).append(File.separatorChar);\n-      File dir \u003d new File(path.toString());\n-      if (!dir.exists()) {\n-        if (!dir.mkdirs()) {\n-          throw new IOException(\"Could not create directories for \" + dir);\n-        }\n+  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n+    for (Path path: paths) {\n+      if (!existsWithRetries(path)) {\n+        mkdirsWithRetries(path);\n       }\n     }\n-    return path.toString();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private void mkdirs(Path... paths) throws IOException, InterruptedException {\n    for (Path path: paths) {\n      if (!existsWithRetries(path)) {\n        mkdirsWithRetries(path);\n      }\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/FileSystemTimelineWriterImpl.java",
          "extendedDetails": {}
        }
      ]
    },
    "56142171b9528646f26072e022902549a16c8f27": {
      "type": "Ybodychange",
      "commitMessage": "YARN-5359. FileSystemTimelineReader/Writer uses unix-specific default storage path (Sangjin Lee via Varun Saxena)\n",
      "commitDate": "13/07/16 8:45 AM",
      "commitName": "56142171b9528646f26072e022902549a16c8f27",
      "commitAuthor": "Varun Saxena",
      "commitDateOld": "10/07/16 8:46 AM",
      "commitNameOld": "0a9b085f052b5ebaf319bec7609c77d7f1684a4a",
      "commitAuthorOld": "Li Lu",
      "daysBetweenCommits": 3.0,
      "commitsBetweenForRepo": 32,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,13 @@\n   private static String mkdirs(String... dirStrs) throws IOException {\n     StringBuilder path \u003d new StringBuilder();\n     for (String dirStr : dirStrs) {\n-      path.append(dirStr).append(\u0027/\u0027);\n+      path.append(dirStr).append(File.separatorChar);\n       File dir \u003d new File(path.toString());\n       if (!dir.exists()) {\n         if (!dir.mkdirs()) {\n           throw new IOException(\"Could not create directories for \" + dir);\n         }\n       }\n     }\n     return path.toString();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static String mkdirs(String... dirStrs) throws IOException {\n    StringBuilder path \u003d new StringBuilder();\n    for (String dirStr : dirStrs) {\n      path.append(dirStr).append(File.separatorChar);\n      File dir \u003d new File(path.toString());\n      if (!dir.exists()) {\n        if (!dir.mkdirs()) {\n          throw new IOException(\"Could not create directories for \" + dir);\n        }\n      }\n    }\n    return path.toString();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/FileSystemTimelineWriterImpl.java",
      "extendedDetails": {}
    },
    "d67c9bdb4db2b075484a779802ecf3296bad5cd4": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3040. Make putEntities operation be aware of the app\u0027s context. Contributed by Zhijie Shen\n",
      "commitDate": "10/07/16 8:45 AM",
      "commitName": "d67c9bdb4db2b075484a779802ecf3296bad5cd4",
      "commitAuthor": "Junping Du",
      "diff": "@@ -0,0 +1,13 @@\n+  private static String mkdirs(String... dirStrs) throws IOException {\n+    StringBuilder path \u003d new StringBuilder();\n+    for (String dirStr : dirStrs) {\n+      path.append(dirStr).append(\u0027/\u0027);\n+      File dir \u003d new File(path.toString());\n+      if (!dir.exists()) {\n+        if (!dir.mkdirs()) {\n+          throw new IOException(\"Could not create directories for \" + dir);\n+        }\n+      }\n+    }\n+    return path.toString();\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static String mkdirs(String... dirStrs) throws IOException {\n    StringBuilder path \u003d new StringBuilder();\n    for (String dirStr : dirStrs) {\n      path.append(dirStr).append(\u0027/\u0027);\n      File dir \u003d new File(path.toString());\n      if (!dir.exists()) {\n        if (!dir.mkdirs()) {\n          throw new IOException(\"Could not create directories for \" + dir);\n        }\n      }\n    }\n    return path.toString();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/FileSystemTimelineWriterImpl.java"
    }
  }
}