{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSEditLog.java",
  "functionName": "printStatistics",
  "functionId": "printStatistics___force-boolean",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
  "functionStartLine": 761,
  "functionEndLine": 779,
  "numCommitsSeen": 149,
  "timeTaken": 8039,
  "changeHistory": [
    "fb8932a727f757b2e9c1c61a18145878d0eb77bd",
    "60fc2a138827c2c29fa7e9d6844e3b8d43809726",
    "e620530301fd3e62537d4b7bc3d8ed296bda1ffc",
    "75ead273bea8a7dad61c4f99c3a16cab2697c498",
    "58c0c6f069db15c8bf9024b7b1fe5a78a8d736cf",
    "1ae5b5e338ef383c5642e2f04b927871c7b184f6",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "d86f3183d93714ba078416af4f609d26376eadb0",
    "28e6a4e44a3e920dcaf858f9a74a6358226b3a63",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc"
  ],
  "changeHistoryShort": {
    "fb8932a727f757b2e9c1c61a18145878d0eb77bd": "Ybodychange",
    "60fc2a138827c2c29fa7e9d6844e3b8d43809726": "Ybodychange",
    "e620530301fd3e62537d4b7bc3d8ed296bda1ffc": "Ybodychange",
    "75ead273bea8a7dad61c4f99c3a16cab2697c498": "Ybodychange",
    "58c0c6f069db15c8bf9024b7b1fe5a78a8d736cf": "Ybodychange",
    "1ae5b5e338ef383c5642e2f04b927871c7b184f6": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "d86f3183d93714ba078416af4f609d26376eadb0": "Yfilerename",
    "28e6a4e44a3e920dcaf858f9a74a6358226b3a63": "Ybodychange",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yintroduced"
  },
  "changeHistoryDetails": {
    "fb8932a727f757b2e9c1c61a18145878d0eb77bd": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16029. Consecutive StringBuilder.append can be reused. Contributed by Ayush Saxena.\n",
      "commitDate": "11/01/19 10:54 AM",
      "commitName": "fb8932a727f757b2e9c1c61a18145878d0eb77bd",
      "commitAuthor": "Giovanni Matteo Fumarola",
      "commitDateOld": "01/12/18 11:01 PM",
      "commitNameOld": "042c8ef593ced1915a688e99aa9a6a52fdf66734",
      "commitAuthorOld": "Surendra Singh Lilhore",
      "daysBetweenCommits": 40.5,
      "commitsBetweenForRepo": 237,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,19 @@\n   private void printStatistics(boolean force) {\n     long now \u003d monotonicNow();\n     if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n       return;\n     }\n     lastPrintTime \u003d now;\n     StringBuilder buf \u003d new StringBuilder();\n-    buf.append(\"Number of transactions: \");\n-    buf.append(numTransactions);\n-    buf.append(\" Total time for transactions(ms): \");\n-    buf.append(totalTimeTransactions);\n-    buf.append(\" Number of transactions batched in Syncs: \");\n-    buf.append(numTransactionsBatchedInSync.get());\n-    buf.append(\" Number of syncs: \");\n-    buf.append(editLogStream.getNumSync());\n-    buf.append(\" SyncTimes(ms): \");\n-    buf.append(journalSet.getSyncTimes());\n+    buf.append(\"Number of transactions: \")\n+        .append(numTransactions)\n+        .append(\" Total time for transactions(ms): \")\n+        .append(totalTimeTransactions)\n+        .append(\" Number of transactions batched in Syncs: \")\n+        .append(numTransactionsBatchedInSync.get())\n+        .append(\" Number of syncs: \")\n+        .append(editLogStream.getNumSync())\n+        .append(\" SyncTimes(ms): \")\n+        .append(journalSet.getSyncTimes());\n     LOG.info(buf.toString());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d monotonicNow();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \")\n        .append(numTransactions)\n        .append(\" Total time for transactions(ms): \")\n        .append(totalTimeTransactions)\n        .append(\" Number of transactions batched in Syncs: \")\n        .append(numTransactionsBatchedInSync.get())\n        .append(\" Number of syncs: \")\n        .append(editLogStream.getNumSync())\n        .append(\" SyncTimes(ms): \")\n        .append(journalSet.getSyncTimes());\n    LOG.info(buf.toString());\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
      "extendedDetails": {}
    },
    "60fc2a138827c2c29fa7e9d6844e3b8d43809726": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-12804. Use slf4j instead of log4j in FSEditLog. Contributed by Mukul Kumar Singh.\n",
      "commitDate": "20/11/17 12:49 PM",
      "commitName": "60fc2a138827c2c29fa7e9d6844e3b8d43809726",
      "commitAuthor": "Chen Liang",
      "commitDateOld": "16/10/17 9:51 AM",
      "commitNameOld": "035c6ee587e444550af6420676e4cee049e09869",
      "commitAuthorOld": "Xiao Chen",
      "daysBetweenCommits": 35.17,
      "commitsBetweenForRepo": 318,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,19 @@\n   private void printStatistics(boolean force) {\n     long now \u003d monotonicNow();\n     if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n       return;\n     }\n     lastPrintTime \u003d now;\n     StringBuilder buf \u003d new StringBuilder();\n     buf.append(\"Number of transactions: \");\n     buf.append(numTransactions);\n     buf.append(\" Total time for transactions(ms): \");\n     buf.append(totalTimeTransactions);\n     buf.append(\" Number of transactions batched in Syncs: \");\n     buf.append(numTransactionsBatchedInSync.get());\n     buf.append(\" Number of syncs: \");\n     buf.append(editLogStream.getNumSync());\n     buf.append(\" SyncTimes(ms): \");\n     buf.append(journalSet.getSyncTimes());\n-    LOG.info(buf);\n+    LOG.info(buf.toString());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d monotonicNow();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \");\n    buf.append(numTransactions);\n    buf.append(\" Total time for transactions(ms): \");\n    buf.append(totalTimeTransactions);\n    buf.append(\" Number of transactions batched in Syncs: \");\n    buf.append(numTransactionsBatchedInSync.get());\n    buf.append(\" Number of syncs: \");\n    buf.append(editLogStream.getNumSync());\n    buf.append(\" SyncTimes(ms): \");\n    buf.append(journalSet.getSyncTimes());\n    LOG.info(buf.toString());\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
      "extendedDetails": {}
    },
    "e620530301fd3e62537d4b7bc3d8ed296bda1ffc": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10485. Fix findbugs warning in FSEditLog.java. (aajisaka)\n",
      "commitDate": "07/06/16 1:52 AM",
      "commitName": "e620530301fd3e62537d4b7bc3d8ed296bda1ffc",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "29/02/16 3:34 PM",
      "commitNameOld": "2151716832ad14932dd65b1a4e47e64d8d6cd767",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 98.39,
      "commitsBetweenForRepo": 619,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,19 @@\n   private void printStatistics(boolean force) {\n     long now \u003d monotonicNow();\n     if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n       return;\n     }\n     lastPrintTime \u003d now;\n     StringBuilder buf \u003d new StringBuilder();\n     buf.append(\"Number of transactions: \");\n     buf.append(numTransactions);\n     buf.append(\" Total time for transactions(ms): \");\n     buf.append(totalTimeTransactions);\n     buf.append(\" Number of transactions batched in Syncs: \");\n-    buf.append(numTransactionsBatchedInSync);\n+    buf.append(numTransactionsBatchedInSync.get());\n     buf.append(\" Number of syncs: \");\n     buf.append(editLogStream.getNumSync());\n     buf.append(\" SyncTimes(ms): \");\n     buf.append(journalSet.getSyncTimes());\n     LOG.info(buf);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d monotonicNow();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \");\n    buf.append(numTransactions);\n    buf.append(\" Total time for transactions(ms): \");\n    buf.append(totalTimeTransactions);\n    buf.append(\" Number of transactions batched in Syncs: \");\n    buf.append(numTransactionsBatchedInSync.get());\n    buf.append(\" Number of syncs: \");\n    buf.append(editLogStream.getNumSync());\n    buf.append(\" SyncTimes(ms): \");\n    buf.append(journalSet.getSyncTimes());\n    LOG.info(buf);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
      "extendedDetails": {}
    },
    "75ead273bea8a7dad61c4f99c3a16cab2697c498": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6841. Use Time.monotonicNow() wherever applicable instead of Time.now(). Contributed by Vinayakumar B\n",
      "commitDate": "20/03/15 12:02 PM",
      "commitName": "75ead273bea8a7dad61c4f99c3a16cab2697c498",
      "commitAuthor": "Kihwal Lee",
      "commitDateOld": "21/02/15 3:38 PM",
      "commitNameOld": "8b465b4b8caed31ca9daeaae108f9a868a30a455",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 26.81,
      "commitsBetweenForRepo": 229,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,19 @@\n   private void printStatistics(boolean force) {\n-    long now \u003d now();\n+    long now \u003d monotonicNow();\n     if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n       return;\n     }\n     lastPrintTime \u003d now;\n     StringBuilder buf \u003d new StringBuilder();\n     buf.append(\"Number of transactions: \");\n     buf.append(numTransactions);\n     buf.append(\" Total time for transactions(ms): \");\n     buf.append(totalTimeTransactions);\n     buf.append(\" Number of transactions batched in Syncs: \");\n     buf.append(numTransactionsBatchedInSync);\n     buf.append(\" Number of syncs: \");\n     buf.append(editLogStream.getNumSync());\n     buf.append(\" SyncTimes(ms): \");\n     buf.append(journalSet.getSyncTimes());\n     LOG.info(buf);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d monotonicNow();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \");\n    buf.append(numTransactions);\n    buf.append(\" Total time for transactions(ms): \");\n    buf.append(totalTimeTransactions);\n    buf.append(\" Number of transactions batched in Syncs: \");\n    buf.append(numTransactionsBatchedInSync);\n    buf.append(\" Number of syncs: \");\n    buf.append(editLogStream.getNumSync());\n    buf.append(\" SyncTimes(ms): \");\n    buf.append(journalSet.getSyncTimes());\n    LOG.info(buf);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
      "extendedDetails": {}
    },
    "58c0c6f069db15c8bf9024b7b1fe5a78a8d736cf": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4444. Add space between total transaction time and number of transactions in FSEditLog#printStatistics. Contributed by Stephen Chu.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1439559 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "28/01/13 10:56 AM",
      "commitName": "58c0c6f069db15c8bf9024b7b1fe5a78a8d736cf",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "05/12/12 1:18 PM",
      "commitNameOld": "adb8941cc2ba4845aae02059717024342e51da0c",
      "commitAuthorOld": "Todd Lipcon",
      "daysBetweenCommits": 53.9,
      "commitsBetweenForRepo": 233,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,19 @@\n   private void printStatistics(boolean force) {\n     long now \u003d now();\n     if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n       return;\n     }\n     lastPrintTime \u003d now;\n     StringBuilder buf \u003d new StringBuilder();\n     buf.append(\"Number of transactions: \");\n     buf.append(numTransactions);\n     buf.append(\" Total time for transactions(ms): \");\n     buf.append(totalTimeTransactions);\n-    buf.append(\"Number of transactions batched in Syncs: \");\n+    buf.append(\" Number of transactions batched in Syncs: \");\n     buf.append(numTransactionsBatchedInSync);\n     buf.append(\" Number of syncs: \");\n     buf.append(editLogStream.getNumSync());\n     buf.append(\" SyncTimes(ms): \");\n     buf.append(journalSet.getSyncTimes());\n     LOG.info(buf);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d now();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \");\n    buf.append(numTransactions);\n    buf.append(\" Total time for transactions(ms): \");\n    buf.append(totalTimeTransactions);\n    buf.append(\" Number of transactions batched in Syncs: \");\n    buf.append(numTransactionsBatchedInSync);\n    buf.append(\" Number of syncs: \");\n    buf.append(editLogStream.getNumSync());\n    buf.append(\" SyncTimes(ms): \");\n    buf.append(journalSet.getSyncTimes());\n    LOG.info(buf);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
      "extendedDetails": {}
    },
    "1ae5b5e338ef383c5642e2f04b927871c7b184f6": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-2158. Add JournalSet to manage the set of journals.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1177473 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/09/11 6:14 PM",
      "commitName": "1ae5b5e338ef383c5642e2f04b927871c7b184f6",
      "commitAuthor": "Jitendra Nath Pandey",
      "commitDateOld": "06/09/11 1:27 PM",
      "commitNameOld": "bdc3720d5b67a1c8fc2dfb29be16e4155c0e7f15",
      "commitAuthorOld": "Jitendra Nath Pandey",
      "daysBetweenCommits": 23.2,
      "commitsBetweenForRepo": 169,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,19 @@\n   private void printStatistics(boolean force) {\n     long now \u003d now();\n     if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n       return;\n     }\n-    if (journals.isEmpty()) {\n-      return;\n-    }\n     lastPrintTime \u003d now;\n     StringBuilder buf \u003d new StringBuilder();\n     buf.append(\"Number of transactions: \");\n     buf.append(numTransactions);\n     buf.append(\" Total time for transactions(ms): \");\n     buf.append(totalTimeTransactions);\n     buf.append(\"Number of transactions batched in Syncs: \");\n     buf.append(numTransactionsBatchedInSync);\n     buf.append(\" Number of syncs: \");\n-    for (JournalAndStream jas : journals) {\n-      if (!jas.isActive()) continue;\n-      buf.append(jas.getCurrentStream().getNumSync());\n-      break;\n-    }\n-\n+    buf.append(editLogStream.getNumSync());\n     buf.append(\" SyncTimes(ms): \");\n-\n-    for (JournalAndStream jas : journals) {\n-      if (!jas.isActive()) continue;\n-      EditLogOutputStream eStream \u003d jas.getCurrentStream();\n-      buf.append(eStream.getTotalSyncTime());\n-      buf.append(\" \");\n-    }\n+    buf.append(journalSet.getSyncTimes());\n     LOG.info(buf);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d now();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \");\n    buf.append(numTransactions);\n    buf.append(\" Total time for transactions(ms): \");\n    buf.append(totalTimeTransactions);\n    buf.append(\"Number of transactions batched in Syncs: \");\n    buf.append(numTransactionsBatchedInSync);\n    buf.append(\" Number of syncs: \");\n    buf.append(editLogStream.getNumSync());\n    buf.append(\" SyncTimes(ms): \");\n    buf.append(journalSet.getSyncTimes());\n    LOG.info(buf);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d now();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    if (journals.isEmpty()) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \");\n    buf.append(numTransactions);\n    buf.append(\" Total time for transactions(ms): \");\n    buf.append(totalTimeTransactions);\n    buf.append(\"Number of transactions batched in Syncs: \");\n    buf.append(numTransactionsBatchedInSync);\n    buf.append(\" Number of syncs: \");\n    for (JournalAndStream jas : journals) {\n      if (!jas.isActive()) continue;\n      buf.append(jas.getCurrentStream().getNumSync());\n      break;\n    }\n\n    buf.append(\" SyncTimes(ms): \");\n\n    for (JournalAndStream jas : journals) {\n      if (!jas.isActive()) continue;\n      EditLogOutputStream eStream \u003d jas.getCurrentStream();\n      buf.append(eStream.getTotalSyncTime());\n      buf.append(\" \");\n    }\n    LOG.info(buf);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
      "extendedDetails": {
        "oldPath": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
        "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java"
      }
    },
    "d86f3183d93714ba078416af4f609d26376eadb0": {
      "type": "Yfilerename",
      "commitMessage": "HDFS-2096. Mavenization of hadoop-hdfs. Contributed by Alejandro Abdelnur.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159702 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/08/11 10:36 AM",
      "commitName": "d86f3183d93714ba078416af4f609d26376eadb0",
      "commitAuthor": "Thomas White",
      "commitDateOld": "19/08/11 10:26 AM",
      "commitNameOld": "6ee5a73e0e91a2ef27753a32c576835e951d8119",
      "commitAuthorOld": "Thomas White",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d now();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    if (journals.isEmpty()) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \");\n    buf.append(numTransactions);\n    buf.append(\" Total time for transactions(ms): \");\n    buf.append(totalTimeTransactions);\n    buf.append(\"Number of transactions batched in Syncs: \");\n    buf.append(numTransactionsBatchedInSync);\n    buf.append(\" Number of syncs: \");\n    for (JournalAndStream jas : journals) {\n      if (!jas.isActive()) continue;\n      buf.append(jas.getCurrentStream().getNumSync());\n      break;\n    }\n\n    buf.append(\" SyncTimes(ms): \");\n\n    for (JournalAndStream jas : journals) {\n      if (!jas.isActive()) continue;\n      EditLogOutputStream eStream \u003d jas.getCurrentStream();\n      buf.append(eStream.getTotalSyncTime());\n      buf.append(\" \");\n    }\n    LOG.info(buf);\n  }",
      "path": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
      "extendedDetails": {
        "oldPath": "hdfs/src/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
        "newPath": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java"
      }
    },
    "28e6a4e44a3e920dcaf858f9a74a6358226b3a63": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-1073. Redesign the NameNode\u0027s storage layout for image checkpoints and edit logs to introduce transaction IDs and be more robust. Contributed by Todd Lipcon and Ivan Kelly.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1152295 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/07/11 9:28 AM",
      "commitName": "28e6a4e44a3e920dcaf858f9a74a6358226b3a63",
      "commitAuthor": "Todd Lipcon",
      "commitDateOld": "26/07/11 1:46 PM",
      "commitNameOld": "438c32aaf9fb0c63f55044cf5ef1b2e0adcf7fea",
      "commitAuthorOld": "Todd Lipcon",
      "daysBetweenCommits": 2.82,
      "commitsBetweenForRepo": 17,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,28 +1,33 @@\n   private void printStatistics(boolean force) {\n     long now \u003d now();\n     if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n       return;\n     }\n-    if (editStreams \u003d\u003d null || editStreams.size()\u003d\u003d0) {\n+    if (journals.isEmpty()) {\n       return;\n     }\n     lastPrintTime \u003d now;\n     StringBuilder buf \u003d new StringBuilder();\n     buf.append(\"Number of transactions: \");\n     buf.append(numTransactions);\n     buf.append(\" Total time for transactions(ms): \");\n     buf.append(totalTimeTransactions);\n     buf.append(\"Number of transactions batched in Syncs: \");\n     buf.append(numTransactionsBatchedInSync);\n     buf.append(\" Number of syncs: \");\n-    buf.append(editStreams.get(0).getNumSync());\n+    for (JournalAndStream jas : journals) {\n+      if (!jas.isActive()) continue;\n+      buf.append(jas.getCurrentStream().getNumSync());\n+      break;\n+    }\n+\n     buf.append(\" SyncTimes(ms): \");\n \n-    int numEditStreams \u003d editStreams.size();\n-    for (int idx \u003d 0; idx \u003c numEditStreams; idx++) {\n-      EditLogOutputStream eStream \u003d editStreams.get(idx);\n+    for (JournalAndStream jas : journals) {\n+      if (!jas.isActive()) continue;\n+      EditLogOutputStream eStream \u003d jas.getCurrentStream();\n       buf.append(eStream.getTotalSyncTime());\n       buf.append(\" \");\n     }\n     LOG.info(buf);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d now();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    if (journals.isEmpty()) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \");\n    buf.append(numTransactions);\n    buf.append(\" Total time for transactions(ms): \");\n    buf.append(totalTimeTransactions);\n    buf.append(\"Number of transactions batched in Syncs: \");\n    buf.append(numTransactionsBatchedInSync);\n    buf.append(\" Number of syncs: \");\n    for (JournalAndStream jas : journals) {\n      if (!jas.isActive()) continue;\n      buf.append(jas.getCurrentStream().getNumSync());\n      break;\n    }\n\n    buf.append(\" SyncTimes(ms): \");\n\n    for (JournalAndStream jas : journals) {\n      if (!jas.isActive()) continue;\n      EditLogOutputStream eStream \u003d jas.getCurrentStream();\n      buf.append(eStream.getTotalSyncTime());\n      buf.append(\" \");\n    }\n    LOG.info(buf);\n  }",
      "path": "hdfs/src/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java",
      "extendedDetails": {}
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "diff": "@@ -0,0 +1,28 @@\n+  private void printStatistics(boolean force) {\n+    long now \u003d now();\n+    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n+      return;\n+    }\n+    if (editStreams \u003d\u003d null || editStreams.size()\u003d\u003d0) {\n+      return;\n+    }\n+    lastPrintTime \u003d now;\n+    StringBuilder buf \u003d new StringBuilder();\n+    buf.append(\"Number of transactions: \");\n+    buf.append(numTransactions);\n+    buf.append(\" Total time for transactions(ms): \");\n+    buf.append(totalTimeTransactions);\n+    buf.append(\"Number of transactions batched in Syncs: \");\n+    buf.append(numTransactionsBatchedInSync);\n+    buf.append(\" Number of syncs: \");\n+    buf.append(editStreams.get(0).getNumSync());\n+    buf.append(\" SyncTimes(ms): \");\n+\n+    int numEditStreams \u003d editStreams.size();\n+    for (int idx \u003d 0; idx \u003c numEditStreams; idx++) {\n+      EditLogOutputStream eStream \u003d editStreams.get(idx);\n+      buf.append(eStream.getTotalSyncTime());\n+      buf.append(\" \");\n+    }\n+    LOG.info(buf);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void printStatistics(boolean force) {\n    long now \u003d now();\n    if (lastPrintTime + 60000 \u003e now \u0026\u0026 !force) {\n      return;\n    }\n    if (editStreams \u003d\u003d null || editStreams.size()\u003d\u003d0) {\n      return;\n    }\n    lastPrintTime \u003d now;\n    StringBuilder buf \u003d new StringBuilder();\n    buf.append(\"Number of transactions: \");\n    buf.append(numTransactions);\n    buf.append(\" Total time for transactions(ms): \");\n    buf.append(totalTimeTransactions);\n    buf.append(\"Number of transactions batched in Syncs: \");\n    buf.append(numTransactionsBatchedInSync);\n    buf.append(\" Number of syncs: \");\n    buf.append(editStreams.get(0).getNumSync());\n    buf.append(\" SyncTimes(ms): \");\n\n    int numEditStreams \u003d editStreams.size();\n    for (int idx \u003d 0; idx \u003c numEditStreams; idx++) {\n      EditLogOutputStream eStream \u003d editStreams.get(idx);\n      buf.append(eStream.getTotalSyncTime());\n      buf.append(\" \");\n    }\n    LOG.info(buf);\n  }",
      "path": "hdfs/src/java/org/apache/hadoop/hdfs/server/namenode/FSEditLog.java"
    }
  }
}