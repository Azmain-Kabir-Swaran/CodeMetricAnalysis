{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMContainerRequestor.java",
  "functionName": "addContainerReq",
  "functionId": "addContainerReq___req-ContainerRequest",
  "sourceFilePath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMContainerRequestor.java",
  "functionStartLine": 396,
  "functionEndLine": 415,
  "numCommitsSeen": 39,
  "timeTaken": 7300,
  "changeHistory": [
    "3164e7d83875aa6b7435d1dfe61ac280aa277f1c",
    "520033b1cd81c76b38fcdcfcfeed16158db4bbba",
    "74748ec62570f92d57dbad3ba4cca47402990db5",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517"
  ],
  "changeHistoryShort": {
    "3164e7d83875aa6b7435d1dfe61ac280aa277f1c": "Ybodychange",
    "520033b1cd81c76b38fcdcfcfeed16158db4bbba": "Ybodychange",
    "74748ec62570f92d57dbad3ba4cca47402990db5": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": "Yintroduced"
  },
  "changeHistoryDetails": {
    "3164e7d83875aa6b7435d1dfe61ac280aa277f1c": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-6304. Specifying node labels when submitting MR jobs. (Naganarasimha G R via wangda)\n",
      "commitDate": "27/05/15 2:26 PM",
      "commitName": "3164e7d83875aa6b7435d1dfe61ac280aa277f1c",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "03/03/15 2:02 AM",
      "commitNameOld": "4228de94028f1e10ca59ce23e963e488fe566909",
      "commitAuthorOld": "Junping Du",
      "daysBetweenCommits": 85.47,
      "commitsBetweenForRepo": 800,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,20 @@\n   protected void addContainerReq(ContainerRequest req) {\n     // Create resource requests\n     for (String host : req.hosts) {\n       // Data-local\n       if (!isNodeBlacklisted(host)) {\n-        addResourceRequest(req.priority, host, req.capability);\n-      }      \n+        addResourceRequest(req.priority, host, req.capability,\n+            null);\n+      }\n     }\n \n     // Nothing Rack-local for now\n     for (String rack : req.racks) {\n-      addResourceRequest(req.priority, rack, req.capability);\n+      addResourceRequest(req.priority, rack, req.capability,\n+          null);\n     }\n \n     // Off-switch\n-    addResourceRequest(req.priority, ResourceRequest.ANY, req.capability);\n+    addResourceRequest(req.priority, ResourceRequest.ANY, req.capability,\n+        req.nodeLabelExpression);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void addContainerReq(ContainerRequest req) {\n    // Create resource requests\n    for (String host : req.hosts) {\n      // Data-local\n      if (!isNodeBlacklisted(host)) {\n        addResourceRequest(req.priority, host, req.capability,\n            null);\n      }\n    }\n\n    // Nothing Rack-local for now\n    for (String rack : req.racks) {\n      addResourceRequest(req.priority, rack, req.capability,\n          null);\n    }\n\n    // Off-switch\n    addResourceRequest(req.priority, ResourceRequest.ANY, req.capability,\n        req.nodeLabelExpression);\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMContainerRequestor.java",
      "extendedDetails": {}
    },
    "520033b1cd81c76b38fcdcfcfeed16158db4bbba": {
      "type": "Ybodychange",
      "commitMessage": "YARN-450. Define value for * in the scheduling protocol (Zhijie Shen via bikas)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1462271 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "28/03/13 12:44 PM",
      "commitName": "520033b1cd81c76b38fcdcfcfeed16158db4bbba",
      "commitAuthor": "Bikas Saha",
      "commitDateOld": "20/03/13 1:44 PM",
      "commitNameOld": "1bd345d6e3855ab330963efd32e0fac102e61d1a",
      "commitAuthorOld": "Hitesh Shah",
      "daysBetweenCommits": 7.96,
      "commitsBetweenForRepo": 55,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,17 @@\n   protected void addContainerReq(ContainerRequest req) {\n     // Create resource requests\n     for (String host : req.hosts) {\n       // Data-local\n       if (!isNodeBlacklisted(host)) {\n         addResourceRequest(req.priority, host, req.capability);\n       }      \n     }\n \n     // Nothing Rack-local for now\n     for (String rack : req.racks) {\n       addResourceRequest(req.priority, rack, req.capability);\n     }\n \n     // Off-switch\n-    addResourceRequest(req.priority, ANY, req.capability); \n+    addResourceRequest(req.priority, ResourceRequest.ANY, req.capability);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void addContainerReq(ContainerRequest req) {\n    // Create resource requests\n    for (String host : req.hosts) {\n      // Data-local\n      if (!isNodeBlacklisted(host)) {\n        addResourceRequest(req.priority, host, req.capability);\n      }      \n    }\n\n    // Nothing Rack-local for now\n    for (String rack : req.racks) {\n      addResourceRequest(req.priority, rack, req.capability);\n    }\n\n    // Off-switch\n    addResourceRequest(req.priority, ResourceRequest.ANY, req.capability);\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMContainerRequestor.java",
      "extendedDetails": {}
    },
    "74748ec62570f92d57dbad3ba4cca47402990db5": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-2693. Fix NPE in job-blacklisting. Contributed by Hitesh Shah.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1186529 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/10/11 3:02 PM",
      "commitName": "74748ec62570f92d57dbad3ba4cca47402990db5",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "28/09/11 12:31 AM",
      "commitNameOld": "312a7e71001d55f88781e56b331ab1b40a72a980",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 21.61,
      "commitsBetweenForRepo": 167,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,17 @@\n   protected void addContainerReq(ContainerRequest req) {\n     // Create resource requests\n     for (String host : req.hosts) {\n       // Data-local\n-      addResourceRequest(req.priority, host, req.capability);\n+      if (!isNodeBlacklisted(host)) {\n+        addResourceRequest(req.priority, host, req.capability);\n+      }      \n     }\n \n     // Nothing Rack-local for now\n     for (String rack : req.racks) {\n       addResourceRequest(req.priority, rack, req.capability);\n     }\n \n     // Off-switch\n     addResourceRequest(req.priority, ANY, req.capability); \n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void addContainerReq(ContainerRequest req) {\n    // Create resource requests\n    for (String host : req.hosts) {\n      // Data-local\n      if (!isNodeBlacklisted(host)) {\n        addResourceRequest(req.priority, host, req.capability);\n      }      \n    }\n\n    // Nothing Rack-local for now\n    for (String rack : req.racks) {\n      addResourceRequest(req.priority, rack, req.capability);\n    }\n\n    // Off-switch\n    addResourceRequest(req.priority, ANY, req.capability); \n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMContainerRequestor.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  protected void addContainerReq(ContainerRequest req) {\n    // Create resource requests\n    for (String host : req.hosts) {\n      // Data-local\n      addResourceRequest(req.priority, host, req.capability);\n    }\n\n    // Nothing Rack-local for now\n    for (String rack : req.racks) {\n      addResourceRequest(req.priority, rack, req.capability);\n    }\n\n    // Off-switch\n    addResourceRequest(req.priority, ANY, req.capability); \n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMContainerRequestor.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMContainerRequestor.java",
        "newPath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMContainerRequestor.java"
      }
    },
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/08/11 4:07 AM",
      "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,15 @@\n+  protected void addContainerReq(ContainerRequest req) {\n+    // Create resource requests\n+    for (String host : req.hosts) {\n+      // Data-local\n+      addResourceRequest(req.priority, host, req.capability);\n+    }\n+\n+    // Nothing Rack-local for now\n+    for (String rack : req.racks) {\n+      addResourceRequest(req.priority, rack, req.capability);\n+    }\n+\n+    // Off-switch\n+    addResourceRequest(req.priority, ANY, req.capability); \n+  }\n\\ No newline at end of file\n",
      "actualSource": "  protected void addContainerReq(ContainerRequest req) {\n    // Create resource requests\n    for (String host : req.hosts) {\n      // Data-local\n      addResourceRequest(req.priority, host, req.capability);\n    }\n\n    // Nothing Rack-local for now\n    for (String rack : req.racks) {\n      addResourceRequest(req.priority, rack, req.capability);\n    }\n\n    // Off-switch\n    addResourceRequest(req.priority, ANY, req.capability); \n  }",
      "path": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/rm/RMContainerRequestor.java"
    }
  }
}