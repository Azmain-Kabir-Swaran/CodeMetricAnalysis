{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSSchedulerConfigurationStore.java",
  "functionName": "confirmMutation",
  "functionId": "confirmMutation___pendingMutation-LogMutation__isValid-boolean",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/conf/FSSchedulerConfigurationStore.java",
  "functionStartLine": 157,
  "functionEndLine": 172,
  "numCommitsSeen": 17,
  "timeTaken": 3371,
  "changeHistory": [
    "1c51f36be79924489ca4a2e5ca7e96ac75a6ec18",
    "be901f49628a553cfe6a3942478cb528cce2b266",
    "1606dad133de0dbee59175509a22994ec570ea41"
  ],
  "changeHistoryShort": {
    "1c51f36be79924489ca4a2e5ca7e96ac75a6ec18": "Yparameterchange",
    "be901f49628a553cfe6a3942478cb528cce2b266": "Ybodychange",
    "1606dad133de0dbee59175509a22994ec570ea41": "Yintroduced"
  },
  "changeHistoryDetails": {
    "1c51f36be79924489ca4a2e5ca7e96ac75a6ec18": {
      "type": "Yparameterchange",
      "commitMessage": "YARN-9788. Queue Management API does not support parallel updates. Contributed by Prabhu Joseph\n",
      "commitDate": "14/01/20 3:26 AM",
      "commitName": "1c51f36be79924489ca4a2e5ca7e96ac75a6ec18",
      "commitAuthor": "Szilard Nemeth",
      "commitDateOld": "18/10/19 5:30 PM",
      "commitNameOld": "155864da006346a500ff35c2f6b69281093195b1",
      "commitAuthorOld": "Eric Yang",
      "daysBetweenCommits": 87.46,
      "commitsBetweenForRepo": 311,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,16 @@\n-  public void confirmMutation(boolean isValid) throws Exception {\n+  public void confirmMutation(LogMutation pendingMutation,\n+      boolean isValid) throws Exception {\n     if (pendingMutation \u003d\u003d null || tempConfigPath \u003d\u003d null) {\n       LOG.warn(\"pendingMutation or tempConfigPath is null, do nothing\");\n       return;\n     }\n     if (isValid) {\n       finalizeFileSystemFile();\n       long configVersion \u003d getConfigVersion() + 1L;\n       writeConfigVersion(configVersion);\n     } else {\n       schedConf \u003d oldConf;\n       removeTmpConfigFile();\n     }\n     tempConfigPath \u003d null;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void confirmMutation(LogMutation pendingMutation,\n      boolean isValid) throws Exception {\n    if (pendingMutation \u003d\u003d null || tempConfigPath \u003d\u003d null) {\n      LOG.warn(\"pendingMutation or tempConfigPath is null, do nothing\");\n      return;\n    }\n    if (isValid) {\n      finalizeFileSystemFile();\n      long configVersion \u003d getConfigVersion() + 1L;\n      writeConfigVersion(configVersion);\n    } else {\n      schedConf \u003d oldConf;\n      removeTmpConfigFile();\n    }\n    tempConfigPath \u003d null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/conf/FSSchedulerConfigurationStore.java",
      "extendedDetails": {
        "oldValue": "[isValid-boolean]",
        "newValue": "[pendingMutation-LogMutation, isValid-boolean]"
      }
    },
    "be901f49628a553cfe6a3942478cb528cce2b266": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9873. Mutation API Config Change need to update Version Number. Contributed by Prabhu Joseph\n",
      "commitDate": "09/10/19 3:23 AM",
      "commitName": "be901f49628a553cfe6a3942478cb528cce2b266",
      "commitAuthor": "Sunil G",
      "commitDateOld": "04/10/19 8:45 PM",
      "commitNameOld": "fb1ecff6a26875c7f2b86ef07d7b9145c469377e",
      "commitAuthorOld": "Sunil G",
      "daysBetweenCommits": 4.28,
      "commitsBetweenForRepo": 22,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,15 @@\n   public void confirmMutation(boolean isValid) throws Exception {\n     if (pendingMutation \u003d\u003d null || tempConfigPath \u003d\u003d null) {\n       LOG.warn(\"pendingMutation or tempConfigPath is null, do nothing\");\n       return;\n     }\n     if (isValid) {\n       finalizeFileSystemFile();\n+      long configVersion \u003d getConfigVersion() + 1L;\n+      writeConfigVersion(configVersion);\n     } else {\n       schedConf \u003d oldConf;\n       removeTmpConfigFile();\n     }\n     tempConfigPath \u003d null;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void confirmMutation(boolean isValid) throws Exception {\n    if (pendingMutation \u003d\u003d null || tempConfigPath \u003d\u003d null) {\n      LOG.warn(\"pendingMutation or tempConfigPath is null, do nothing\");\n      return;\n    }\n    if (isValid) {\n      finalizeFileSystemFile();\n      long configVersion \u003d getConfigVersion() + 1L;\n      writeConfigVersion(configVersion);\n    } else {\n      schedConf \u003d oldConf;\n      removeTmpConfigFile();\n    }\n    tempConfigPath \u003d null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/conf/FSSchedulerConfigurationStore.java",
      "extendedDetails": {}
    },
    "1606dad133de0dbee59175509a22994ec570ea41": {
      "type": "Yintroduced",
      "commitMessage": "YARN-7497. Add file system based scheduler configuration store. Contributed by Jiandan Yang.\n",
      "commitDate": "30/03/18 6:41 AM",
      "commitName": "1606dad133de0dbee59175509a22994ec570ea41",
      "commitAuthor": "Weiwei Yang",
      "diff": "@@ -0,0 +1,13 @@\n+  public void confirmMutation(boolean isValid) throws Exception {\n+    if (pendingMutation \u003d\u003d null || tempConfigPath \u003d\u003d null) {\n+      LOG.warn(\"pendingMutation or tempConfigPath is null, do nothing\");\n+      return;\n+    }\n+    if (isValid) {\n+      finalizeFileSystemFile();\n+    } else {\n+      schedConf \u003d oldConf;\n+      removeTmpConfigFile();\n+    }\n+    tempConfigPath \u003d null;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void confirmMutation(boolean isValid) throws Exception {\n    if (pendingMutation \u003d\u003d null || tempConfigPath \u003d\u003d null) {\n      LOG.warn(\"pendingMutation or tempConfigPath is null, do nothing\");\n      return;\n    }\n    if (isValid) {\n      finalizeFileSystemFile();\n    } else {\n      schedConf \u003d oldConf;\n      removeTmpConfigFile();\n    }\n    tempConfigPath \u003d null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/conf/FSSchedulerConfigurationStore.java"
    }
  }
}