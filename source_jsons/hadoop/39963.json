{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AppPriorityACLConfigurationParser.java",
  "functionName": "parsePriorityACLType",
  "functionId": "parsePriorityACLType___userPriorityACL-AppPriorityACLGroup__splits-String[]__userAndGroupName-List__StringBuilder__",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/AppPriorityACLConfigurationParser.java",
  "functionStartLine": 133,
  "functionEndLine": 160,
  "numCommitsSeen": 2,
  "timeTaken": 1191,
  "changeHistory": [
    "287d3d6804a869723ae36605a3c2d2b3eae3941e"
  ],
  "changeHistoryShort": {
    "287d3d6804a869723ae36605a3c2d2b3eae3941e": "Yintroduced"
  },
  "changeHistoryDetails": {
    "287d3d6804a869723ae36605a3c2d2b3eae3941e": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3955. Support for application priority ACLs in queues of CapacityScheduler. (Sunil G via wangda)\n",
      "commitDate": "09/01/17 8:40 AM",
      "commitName": "287d3d6804a869723ae36605a3c2d2b3eae3941e",
      "commitAuthor": "Wangda Tan",
      "diff": "@@ -0,0 +1,28 @@\n+  private void parsePriorityACLType(AppPriorityACLGroup userPriorityACL,\n+      String[] splits, List\u003cStringBuilder\u003e userAndGroupName) {\n+    // Here splits will have the key value pair at index 0 and 1 respectively.\n+    // To parse all keys, its better to convert to PriorityACLConfig enum.\n+    AppPriorityACLKeyType aclType \u003d AppPriorityACLKeyType\n+        .valueOf(StringUtils.toUpperCase(splits[0].trim()));\n+    switch (aclType) {\n+    case MAX_PRIORITY :\n+      userPriorityACL\n+          .setMaxPriority(Priority.newInstance(Integer.parseInt(splits[1])));\n+      break;\n+    case USER :\n+      userAndGroupName.add(getUserOrGroupACLStringFromConfig(splits[1]));\n+      break;\n+    case GROUP :\n+      userAndGroupName.add(getUserOrGroupACLStringFromConfig(splits[1]));\n+      break;\n+    case DEFAULT_PRIORITY :\n+      int defaultPriority \u003d Integer.parseInt(splits[1]);\n+      Priority priority \u003d (defaultPriority \u003c 0)\n+          ? Priority.newInstance(0)\n+          : Priority.newInstance(defaultPriority);\n+      userPriorityACL.setDefaultPriority(priority);\n+      break;\n+    default:\n+      break;\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void parsePriorityACLType(AppPriorityACLGroup userPriorityACL,\n      String[] splits, List\u003cStringBuilder\u003e userAndGroupName) {\n    // Here splits will have the key value pair at index 0 and 1 respectively.\n    // To parse all keys, its better to convert to PriorityACLConfig enum.\n    AppPriorityACLKeyType aclType \u003d AppPriorityACLKeyType\n        .valueOf(StringUtils.toUpperCase(splits[0].trim()));\n    switch (aclType) {\n    case MAX_PRIORITY :\n      userPriorityACL\n          .setMaxPriority(Priority.newInstance(Integer.parseInt(splits[1])));\n      break;\n    case USER :\n      userAndGroupName.add(getUserOrGroupACLStringFromConfig(splits[1]));\n      break;\n    case GROUP :\n      userAndGroupName.add(getUserOrGroupACLStringFromConfig(splits[1]));\n      break;\n    case DEFAULT_PRIORITY :\n      int defaultPriority \u003d Integer.parseInt(splits[1]);\n      Priority priority \u003d (defaultPriority \u003c 0)\n          ? Priority.newInstance(0)\n          : Priority.newInstance(defaultPriority);\n      userPriorityACL.setDefaultPriority(priority);\n      break;\n    default:\n      break;\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/AppPriorityACLConfigurationParser.java"
    }
  }
}