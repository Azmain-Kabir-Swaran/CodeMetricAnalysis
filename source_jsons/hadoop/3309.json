{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "URLConnectionFactory.java",
  "functionName": "configure",
  "functionId": "configure___conn-HttpURLConnection",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
  "functionStartLine": 57,
  "functionEndLine": 63,
  "numCommitsSeen": 76,
  "timeTaken": 2848,
  "changeHistory": [
    "55fb3c32fb48ca26a629d4d5f3f07e2858d09594",
    "5abf051249d485313dfffc6aeff6f81c0da1f623",
    "bcf89ddc7d52e04725caf104f5958e33d9f51b35",
    "fef8f49c5885ba05dcd73e8a02de7c2be5ec3f0e",
    "1387fb1394bb0b7241875b2c19952504aa7f60de",
    "5eb618ee1f90ccf901edb5d89be181fad1f67d7f",
    "f7af4a014c0ad11e146b7cdc8e5436d4f81cd8f8"
  ],
  "changeHistoryShort": {
    "55fb3c32fb48ca26a629d4d5f3f07e2858d09594": "Ybodychange",
    "5abf051249d485313dfffc6aeff6f81c0da1f623": "Ybodychange",
    "bcf89ddc7d52e04725caf104f5958e33d9f51b35": "Yfilerename",
    "fef8f49c5885ba05dcd73e8a02de7c2be5ec3f0e": "Ybodychange",
    "1387fb1394bb0b7241875b2c19952504aa7f60de": "Ymultichange(Ymovefromfile,Ybodychange)",
    "5eb618ee1f90ccf901edb5d89be181fad1f67d7f": "Ybodychange",
    "f7af4a014c0ad11e146b7cdc8e5436d4f81cd8f8": "Yintroduced"
  },
  "changeHistoryDetails": {
    "55fb3c32fb48ca26a629d4d5f3f07e2858d09594": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-14037. Fix SSLFactory truststore reloader thread leak in URLConnectionFactory.\n",
      "commitDate": "26/03/19 11:27 AM",
      "commitName": "55fb3c32fb48ca26a629d4d5f3f07e2858d09594",
      "commitAuthor": "Takanobu Asanuma",
      "commitDateOld": "27/10/17 7:43 AM",
      "commitNameOld": "cd2a1dd0630e99e6696a9f0e8dc972604d38046a",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 515.15,
      "commitsBetweenForRepo": 4437,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,7 @@\n-      public HttpURLConnection configure(HttpURLConnection conn)\n-          throws IOException {\n-        if (conn instanceof HttpsURLConnection) {\n-          HttpsURLConnection c \u003d (HttpsURLConnection) conn;\n-          c.setSSLSocketFactory(sf);\n-          c.setHostnameVerifier(hv);\n-        }\n-        URLConnectionFactory.setTimeouts(conn, connectTimeout, readTimeout);\n-        return conn;\n-      }\n\\ No newline at end of file\n+        public HttpURLConnection configure(HttpURLConnection conn)\n+            throws IOException {\n+          URLConnectionFactory.setTimeouts(conn,\n+                                           DEFAULT_SOCKET_TIMEOUT,\n+                                           DEFAULT_SOCKET_TIMEOUT);\n+          return conn;\n+        }\n\\ No newline at end of file\n",
      "actualSource": "        public HttpURLConnection configure(HttpURLConnection conn)\n            throws IOException {\n          URLConnectionFactory.setTimeouts(conn,\n                                           DEFAULT_SOCKET_TIMEOUT,\n                                           DEFAULT_SOCKET_TIMEOUT);\n          return conn;\n        }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
      "extendedDetails": {}
    },
    "5abf051249d485313dfffc6aeff6f81c0da1f623": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9887. WebHdfs socket timeouts should be configurable. Contributed by Austin Donnelly and Chris Douglas.\n",
      "commitDate": "02/03/16 9:23 AM",
      "commitName": "5abf051249d485313dfffc6aeff6f81c0da1f623",
      "commitAuthor": "Xiaoyu Yao",
      "commitDateOld": "03/10/15 11:38 AM",
      "commitNameOld": "7136e8c5582dc4061b566cb9f11a0d6a6d08bb93",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 150.95,
      "commitsBetweenForRepo": 1041,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n       public HttpURLConnection configure(HttpURLConnection conn)\n           throws IOException {\n         if (conn instanceof HttpsURLConnection) {\n           HttpsURLConnection c \u003d (HttpsURLConnection) conn;\n           c.setSSLSocketFactory(sf);\n           c.setHostnameVerifier(hv);\n         }\n-        URLConnectionFactory.setTimeouts(conn, timeout);\n+        URLConnectionFactory.setTimeouts(conn, connectTimeout, readTimeout);\n         return conn;\n       }\n\\ No newline at end of file\n",
      "actualSource": "      public HttpURLConnection configure(HttpURLConnection conn)\n          throws IOException {\n        if (conn instanceof HttpsURLConnection) {\n          HttpsURLConnection c \u003d (HttpsURLConnection) conn;\n          c.setSSLSocketFactory(sf);\n          c.setHostnameVerifier(hv);\n        }\n        URLConnectionFactory.setTimeouts(conn, connectTimeout, readTimeout);\n        return conn;\n      }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
      "extendedDetails": {}
    },
    "bcf89ddc7d52e04725caf104f5958e33d9f51b35": {
      "type": "Yfilerename",
      "commitMessage": "HDFS-8052. Move WebHdfsFileSystem into hadoop-hdfs-client. Contributed by Haohui Mai.\n",
      "commitDate": "23/04/15 5:33 PM",
      "commitName": "bcf89ddc7d52e04725caf104f5958e33d9f51b35",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "23/04/15 4:40 PM",
      "commitNameOld": "0b3f8957a87ada1a275c9904b211fdbdcefafb02",
      "commitAuthorOld": "Xuan",
      "daysBetweenCommits": 0.04,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "      public HttpURLConnection configure(HttpURLConnection conn)\n          throws IOException {\n        if (conn instanceof HttpsURLConnection) {\n          HttpsURLConnection c \u003d (HttpsURLConnection) conn;\n          c.setSSLSocketFactory(sf);\n          c.setHostnameVerifier(hv);\n        }\n        URLConnectionFactory.setTimeouts(conn, timeout);\n        return conn;\n      }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
      "extendedDetails": {
        "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
        "newPath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java"
      }
    },
    "fef8f49c5885ba05dcd73e8a02de7c2be5ec3f0e": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5502. Fix HTTPS support in HsftpFileSystem. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1542438 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "15/11/13 5:00 PM",
      "commitName": "fef8f49c5885ba05dcd73e8a02de7c2be5ec3f0e",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "14/11/13 10:40 AM",
      "commitNameOld": "43fa41fdeee53471e9aa34c89f58e53e8aa164e5",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 1.26,
      "commitsBetweenForRepo": 11,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,10 @@\n-    public HttpURLConnection configure(HttpURLConnection conn)\n-        throws IOException {\n-      URLConnectionFactory.setTimeouts(conn, socketTimeout);\n-      return conn;\n-    }\n\\ No newline at end of file\n+      public HttpURLConnection configure(HttpURLConnection conn)\n+          throws IOException {\n+        if (conn instanceof HttpsURLConnection) {\n+          HttpsURLConnection c \u003d (HttpsURLConnection) conn;\n+          c.setSSLSocketFactory(sf);\n+          c.setHostnameVerifier(hv);\n+        }\n+        URLConnectionFactory.setTimeouts(conn, timeout);\n+        return conn;\n+      }\n\\ No newline at end of file\n",
      "actualSource": "      public HttpURLConnection configure(HttpURLConnection conn)\n          throws IOException {\n        if (conn instanceof HttpsURLConnection) {\n          HttpsURLConnection c \u003d (HttpsURLConnection) conn;\n          c.setSSLSocketFactory(sf);\n          c.setHostnameVerifier(hv);\n        }\n        URLConnectionFactory.setTimeouts(conn, timeout);\n        return conn;\n      }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
      "extendedDetails": {}
    },
    "1387fb1394bb0b7241875b2c19952504aa7f60de": {
      "type": "Ymultichange(Ymovefromfile,Ybodychange)",
      "commitMessage": "HDFS-5363. Refactor WebHdfsFileSystem: move SPENGO-authenticated connection creation to URLConnectionFactory. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1535169 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "23/10/13 1:48 PM",
      "commitName": "1387fb1394bb0b7241875b2c19952504aa7f60de",
      "commitAuthor": "Jing Zhao",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "HDFS-5363. Refactor WebHdfsFileSystem: move SPENGO-authenticated connection creation to URLConnectionFactory. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1535169 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "23/10/13 1:48 PM",
          "commitName": "1387fb1394bb0b7241875b2c19952504aa7f60de",
          "commitAuthor": "Jing Zhao",
          "commitDateOld": "23/10/13 11:03 AM",
          "commitNameOld": "f09c52bb7c0d248e3b5981a705ad9ccd132e8441",
          "commitAuthorOld": "Jonathan Turner Eagles",
          "daysBetweenCommits": 0.11,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-      public HttpURLConnection configure(HttpURLConnection conn)\n-          throws IOException {\n-        connectionFactory.setTimeouts(conn);\n-        return conn;\n-      }\n\\ No newline at end of file\n+    public HttpURLConnection configure(HttpURLConnection conn)\n+        throws IOException {\n+      URLConnectionFactory.setTimeouts(conn, socketTimeout);\n+      return conn;\n+    }\n\\ No newline at end of file\n",
          "actualSource": "    public HttpURLConnection configure(HttpURLConnection conn)\n        throws IOException {\n      URLConnectionFactory.setTimeouts(conn, socketTimeout);\n      return conn;\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/WebHdfsFileSystem.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
            "oldMethodName": "configure",
            "newMethodName": "configure"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-5363. Refactor WebHdfsFileSystem: move SPENGO-authenticated connection creation to URLConnectionFactory. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1535169 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "23/10/13 1:48 PM",
          "commitName": "1387fb1394bb0b7241875b2c19952504aa7f60de",
          "commitAuthor": "Jing Zhao",
          "commitDateOld": "23/10/13 11:03 AM",
          "commitNameOld": "f09c52bb7c0d248e3b5981a705ad9ccd132e8441",
          "commitAuthorOld": "Jonathan Turner Eagles",
          "daysBetweenCommits": 0.11,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-      public HttpURLConnection configure(HttpURLConnection conn)\n-          throws IOException {\n-        connectionFactory.setTimeouts(conn);\n-        return conn;\n-      }\n\\ No newline at end of file\n+    public HttpURLConnection configure(HttpURLConnection conn)\n+        throws IOException {\n+      URLConnectionFactory.setTimeouts(conn, socketTimeout);\n+      return conn;\n+    }\n\\ No newline at end of file\n",
          "actualSource": "    public HttpURLConnection configure(HttpURLConnection conn)\n        throws IOException {\n      URLConnectionFactory.setTimeouts(conn, socketTimeout);\n      return conn;\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/URLConnectionFactory.java",
          "extendedDetails": {}
        }
      ]
    },
    "5eb618ee1f90ccf901edb5d89be181fad1f67d7f": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4491. Parallel testing HDFS. Contributed by Andrey Klochkov.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1520479 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "05/09/13 8:06 PM",
      "commitName": "5eb618ee1f90ccf901edb5d89be181fad1f67d7f",
      "commitAuthor": "Chris Nauroth",
      "commitDateOld": "02/07/13 7:58 AM",
      "commitNameOld": "05fd0a706aedfb83222a48e4cd110b1897c4b3c5",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 65.51,
      "commitsBetweenForRepo": 380,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,5 @@\n       public HttpURLConnection configure(HttpURLConnection conn)\n           throws IOException {\n-        URLUtils.setTimeouts(conn);\n+        connectionFactory.setTimeouts(conn);\n         return conn;\n       }\n\\ No newline at end of file\n",
      "actualSource": "      public HttpURLConnection configure(HttpURLConnection conn)\n          throws IOException {\n        connectionFactory.setTimeouts(conn);\n        return conn;\n      }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/WebHdfsFileSystem.java",
      "extendedDetails": {}
    },
    "f7af4a014c0ad11e146b7cdc8e5436d4f81cd8f8": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-3180. Add socket timeouts to WebHdfsFileSystem.  Contributed by Chris Nauroth\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1482661 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/05/13 7:23 PM",
      "commitName": "f7af4a014c0ad11e146b7cdc8e5436d4f81cd8f8",
      "commitAuthor": "Tsz-wo Sze",
      "diff": "@@ -0,0 +1,5 @@\n+      public HttpURLConnection configure(HttpURLConnection conn)\n+          throws IOException {\n+        URLUtils.setTimeouts(conn);\n+        return conn;\n+      }\n\\ No newline at end of file\n",
      "actualSource": "      public HttpURLConnection configure(HttpURLConnection conn)\n          throws IOException {\n        URLUtils.setTimeouts(conn);\n        return conn;\n      }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/web/WebHdfsFileSystem.java"
    }
  }
}