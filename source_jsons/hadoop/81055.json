{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "Configuration.java",
  "functionName": "getPropsWithPrefix",
  "functionId": "getPropsWithPrefix___confPrefix-String",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java",
  "functionStartLine": 2944,
  "functionEndLine": 2955,
  "numCommitsSeen": 132,
  "timeTaken": 3150,
  "changeHistory": [
    "e81397545a273cf9a090010eb644b836e0ef8c7b",
    "b6c2c9058e83116dcca46cd6934db3428f931347",
    "dee279b532e7286362518b531c9daea9ae8606f4"
  ],
  "changeHistoryShort": {
    "e81397545a273cf9a090010eb644b836e0ef8c7b": "Ybodychange",
    "b6c2c9058e83116dcca46cd6934db3428f931347": "Ybodychange",
    "dee279b532e7286362518b531c9daea9ae8606f4": "Yintroduced"
  },
  "changeHistoryDetails": {
    "e81397545a273cf9a090010eb644b836e0ef8c7b": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-15357. Configuration.getPropsWithPrefix no longer does variable substitution. Contributed by Jim Brennan\n",
      "commitDate": "10/04/18 2:44 PM",
      "commitName": "e81397545a273cf9a090010eb644b836e0ef8c7b",
      "commitAuthor": "Jason Lowe",
      "commitDateOld": "29/03/18 5:16 PM",
      "commitNameOld": "2216bde322961c0fe33b5822510880a65d5c45fd",
      "commitAuthorOld": "Konstantin V Shvachko",
      "daysBetweenCommits": 11.89,
      "commitsBetweenForRepo": 54,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,12 @@\n   public Map\u003cString, String\u003e getPropsWithPrefix(String confPrefix) {\n     Properties props \u003d getProps();\n-    Enumeration e \u003d props.propertyNames();\n     Map\u003cString, String\u003e configMap \u003d new HashMap\u003c\u003e();\n-    String name \u003d null;\n-    while (e.hasMoreElements()) {\n-      name \u003d (String) e.nextElement();\n+    for (String name : props.stringPropertyNames()) {\n       if (name.startsWith(confPrefix)) {\n-        String value \u003d props.getProperty(name);\n-        name \u003d name.substring(confPrefix.length());\n-        configMap.put(name, value);\n+        String value \u003d get(name);\n+        String keyName \u003d name.substring(confPrefix.length());\n+        configMap.put(keyName, value);\n       }\n     }\n     return configMap;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Map\u003cString, String\u003e getPropsWithPrefix(String confPrefix) {\n    Properties props \u003d getProps();\n    Map\u003cString, String\u003e configMap \u003d new HashMap\u003c\u003e();\n    for (String name : props.stringPropertyNames()) {\n      if (name.startsWith(confPrefix)) {\n        String value \u003d get(name);\n        String keyName \u003d name.substring(confPrefix.length());\n        configMap.put(keyName, value);\n      }\n    }\n    return configMap;\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java",
      "extendedDetails": {}
    },
    "b6c2c9058e83116dcca46cd6934db3428f931347": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-13556. Change Configuration.getPropsWithPrefix to use getProps instead of iterator. (Larry McCay via asuresh)\n",
      "commitDate": "11/10/17 3:21 PM",
      "commitName": "b6c2c9058e83116dcca46cd6934db3428f931347",
      "commitAuthor": "Arun Suresh",
      "commitDateOld": "25/09/17 1:55 PM",
      "commitNameOld": "0889e5a8b7102ca1b64af6806537ad99c2018dfd",
      "commitAuthorOld": "Anu Engineer",
      "daysBetweenCommits": 16.06,
      "commitsBetweenForRepo": 140,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,15 @@\n   public Map\u003cString, String\u003e getPropsWithPrefix(String confPrefix) {\n+    Properties props \u003d getProps();\n+    Enumeration e \u003d props.propertyNames();\n     Map\u003cString, String\u003e configMap \u003d new HashMap\u003c\u003e();\n-    for (Map.Entry\u003cString, String\u003e entry : this) {\n-      String name \u003d entry.getKey();\n+    String name \u003d null;\n+    while (e.hasMoreElements()) {\n+      name \u003d (String) e.nextElement();\n       if (name.startsWith(confPrefix)) {\n-        String value \u003d this.get(name);\n+        String value \u003d props.getProperty(name);\n         name \u003d name.substring(confPrefix.length());\n         configMap.put(name, value);\n       }\n     }\n     return configMap;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Map\u003cString, String\u003e getPropsWithPrefix(String confPrefix) {\n    Properties props \u003d getProps();\n    Enumeration e \u003d props.propertyNames();\n    Map\u003cString, String\u003e configMap \u003d new HashMap\u003c\u003e();\n    String name \u003d null;\n    while (e.hasMoreElements()) {\n      name \u003d (String) e.nextElement();\n      if (name.startsWith(confPrefix)) {\n        String value \u003d props.getProperty(name);\n        name \u003d name.substring(confPrefix.length());\n        configMap.put(name, value);\n      }\n    }\n    return configMap;\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java",
      "extendedDetails": {}
    },
    "dee279b532e7286362518b531c9daea9ae8606f4": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-13008. Add XFS Filter for UIs to Hadoop Common. Contributed by Larry McCay.\n",
      "commitDate": "11/05/16 10:58 AM",
      "commitName": "dee279b532e7286362518b531c9daea9ae8606f4",
      "commitAuthor": "Chris Nauroth",
      "diff": "@@ -0,0 +1,12 @@\n+  public Map\u003cString, String\u003e getPropsWithPrefix(String confPrefix) {\n+    Map\u003cString, String\u003e configMap \u003d new HashMap\u003c\u003e();\n+    for (Map.Entry\u003cString, String\u003e entry : this) {\n+      String name \u003d entry.getKey();\n+      if (name.startsWith(confPrefix)) {\n+        String value \u003d this.get(name);\n+        name \u003d name.substring(confPrefix.length());\n+        configMap.put(name, value);\n+      }\n+    }\n+    return configMap;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public Map\u003cString, String\u003e getPropsWithPrefix(String confPrefix) {\n    Map\u003cString, String\u003e configMap \u003d new HashMap\u003c\u003e();\n    for (Map.Entry\u003cString, String\u003e entry : this) {\n      String name \u003d entry.getKey();\n      if (name.startsWith(confPrefix)) {\n        String value \u003d this.get(name);\n        name \u003d name.substring(confPrefix.length());\n        configMap.put(name, value);\n      }\n    }\n    return configMap;\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java"
    }
  }
}