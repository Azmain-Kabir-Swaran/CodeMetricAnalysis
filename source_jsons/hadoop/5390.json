{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "MetaRecoveryContext.java",
  "functionName": "ask",
  "functionId": "ask___prompt-String__firstChoice-String__choices-String",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/MetaRecoveryContext.java",
  "functionStartLine": 62,
  "functionEndLine": 88,
  "numCommitsSeen": 5,
  "timeTaken": 1812,
  "changeHistory": [
    "faaddb6ecb44cdc9ef82a2ab392f64fc2561e938",
    "706394d03992b394e9f907aff2155df493e4ea4e"
  ],
  "changeHistoryShort": {
    "faaddb6ecb44cdc9ef82a2ab392f64fc2561e938": "Ybodychange",
    "706394d03992b394e9f907aff2155df493e4ea4e": "Yintroduced"
  },
  "changeHistoryDetails": {
    "faaddb6ecb44cdc9ef82a2ab392f64fc2561e938": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7805. NameNode recovery prompt should be printed on console (Surendra Singh Lilhore via Colin P. McCabe)\n",
      "commitDate": "23/02/15 7:00 PM",
      "commitName": "faaddb6ecb44cdc9ef82a2ab392f64fc2561e938",
      "commitAuthor": "Colin Patrick Mccabe",
      "commitDateOld": "28/10/12 4:10 PM",
      "commitNameOld": "cea7bbc630deede93dbe6a1bbda56ad49de4f3de",
      "commitAuthorOld": "Suresh Srinivas",
      "daysBetweenCommits": 848.16,
      "commitsBetweenForRepo": 5860,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,27 +1,27 @@\n   public String ask(String prompt, String firstChoice, String... choices) \n       throws IOException {\n     while (true) {\n-      LOG.info(prompt);\n+      System.err.print(prompt);\n       if (force \u003e FORCE_NONE) {\n-        LOG.info(\"automatically choosing \" + firstChoice);\n+        System.out.println(\"automatically choosing \" + firstChoice);\n         return firstChoice;\n       }\n       StringBuilder responseBuilder \u003d new StringBuilder();\n       while (true) {\n         int c \u003d System.in.read();\n         if (c \u003d\u003d -1 || c \u003d\u003d \u0027\\r\u0027 || c \u003d\u003d \u0027\\n\u0027) {\n           break;\n         }\n         responseBuilder.append((char)c);\n       }\n       String response \u003d responseBuilder.toString();\n       if (response.equalsIgnoreCase(firstChoice))\n         return firstChoice;\n       for (String c : choices) {\n         if (response.equalsIgnoreCase(c)) {\n           return c;\n         }\n       }\n-      LOG.error(\"I\u0027m sorry, I cannot understand your response.\\n\");\n+      System.err.print(\"I\u0027m sorry, I cannot understand your response.\\n\");\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public String ask(String prompt, String firstChoice, String... choices) \n      throws IOException {\n    while (true) {\n      System.err.print(prompt);\n      if (force \u003e FORCE_NONE) {\n        System.out.println(\"automatically choosing \" + firstChoice);\n        return firstChoice;\n      }\n      StringBuilder responseBuilder \u003d new StringBuilder();\n      while (true) {\n        int c \u003d System.in.read();\n        if (c \u003d\u003d -1 || c \u003d\u003d \u0027\\r\u0027 || c \u003d\u003d \u0027\\n\u0027) {\n          break;\n        }\n        responseBuilder.append((char)c);\n      }\n      String response \u003d responseBuilder.toString();\n      if (response.equalsIgnoreCase(firstChoice))\n        return firstChoice;\n      for (String c : choices) {\n        if (response.equalsIgnoreCase(c)) {\n          return c;\n        }\n      }\n      System.err.print(\"I\u0027m sorry, I cannot understand your response.\\n\");\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/MetaRecoveryContext.java",
      "extendedDetails": {}
    },
    "706394d03992b394e9f907aff2155df493e4ea4e": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-3004. Implement Recovery Mode. Contributed by Colin Patrick McCabe\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1311394 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/04/12 12:39 PM",
      "commitName": "706394d03992b394e9f907aff2155df493e4ea4e",
      "commitAuthor": "Eli Collins",
      "diff": "@@ -0,0 +1,27 @@\n+  public String ask(String prompt, String firstChoice, String... choices) \n+      throws IOException {\n+    while (true) {\n+      LOG.info(prompt);\n+      if (force \u003e FORCE_NONE) {\n+        LOG.info(\"automatically choosing \" + firstChoice);\n+        return firstChoice;\n+      }\n+      StringBuilder responseBuilder \u003d new StringBuilder();\n+      while (true) {\n+        int c \u003d System.in.read();\n+        if (c \u003d\u003d -1 || c \u003d\u003d \u0027\\r\u0027 || c \u003d\u003d \u0027\\n\u0027) {\n+          break;\n+        }\n+        responseBuilder.append((char)c);\n+      }\n+      String response \u003d responseBuilder.toString();\n+      if (response.equalsIgnoreCase(firstChoice))\n+        return firstChoice;\n+      for (String c : choices) {\n+        if (response.equalsIgnoreCase(c)) {\n+          return c;\n+        }\n+      }\n+      LOG.error(\"I\u0027m sorry, I cannot understand your response.\\n\");\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public String ask(String prompt, String firstChoice, String... choices) \n      throws IOException {\n    while (true) {\n      LOG.info(prompt);\n      if (force \u003e FORCE_NONE) {\n        LOG.info(\"automatically choosing \" + firstChoice);\n        return firstChoice;\n      }\n      StringBuilder responseBuilder \u003d new StringBuilder();\n      while (true) {\n        int c \u003d System.in.read();\n        if (c \u003d\u003d -1 || c \u003d\u003d \u0027\\r\u0027 || c \u003d\u003d \u0027\\n\u0027) {\n          break;\n        }\n        responseBuilder.append((char)c);\n      }\n      String response \u003d responseBuilder.toString();\n      if (response.equalsIgnoreCase(firstChoice))\n        return firstChoice;\n      for (String c : choices) {\n        if (response.equalsIgnoreCase(c)) {\n          return c;\n        }\n      }\n      LOG.error(\"I\u0027m sorry, I cannot understand your response.\\n\");\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/MetaRecoveryContext.java"
    }
  }
}