{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ContainerLaunch.java",
  "functionName": "reapContainer",
  "functionId": "reapContainer",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
  "functionStartLine": 589,
  "functionEndLine": 606,
  "numCommitsSeen": 95,
  "timeTaken": 1623,
  "changeHistory": [
    "e787d65a08f5d5245d2313fc34f2dde518bfaa5b",
    "5ce70e1211e624d58e8bb1181aec00729ebdc085"
  ],
  "changeHistoryShort": {
    "e787d65a08f5d5245d2313fc34f2dde518bfaa5b": "Ybodychange",
    "5ce70e1211e624d58e8bb1181aec00729ebdc085": "Yintroduced"
  },
  "changeHistoryDetails": {
    "e787d65a08f5d5245d2313fc34f2dde518bfaa5b": {
      "type": "Ybodychange",
      "commitMessage": "YARN-8861. executorLock is misleading in ContainerLaunch. Contributed by Chandni Singh\n",
      "commitDate": "11/10/18 8:54 AM",
      "commitName": "e787d65a08f5d5245d2313fc34f2dde518bfaa5b",
      "commitAuthor": "Jason Lowe",
      "commitDateOld": "10/10/18 7:52 AM",
      "commitNameOld": "5ce70e1211e624d58e8bb1181aec00729ebdc085",
      "commitAuthorOld": "Jason Lowe",
      "daysBetweenCommits": 1.04,
      "commitsBetweenForRepo": 13,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,18 +1,18 @@\n   void reapContainer() throws IOException {\n-    containerExecLock.lock();\n+    launchLock.lock();\n     try {\n       // Reap the container\n       boolean result \u003d exec.reapContainer(\n           new ContainerReapContext.Builder()\n               .setContainer(container)\n               .setUser(container.getUser())\n               .build());\n       if (!result) {\n         throw new IOException(\"Reap container failed for container \" +\n             container.getContainerId());\n       }\n       cleanupContainerFiles(getContainerWorkDir());\n     } finally {\n-      containerExecLock.unlock();\n+      launchLock.unlock();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  void reapContainer() throws IOException {\n    launchLock.lock();\n    try {\n      // Reap the container\n      boolean result \u003d exec.reapContainer(\n          new ContainerReapContext.Builder()\n              .setContainer(container)\n              .setUser(container.getUser())\n              .build());\n      if (!result) {\n        throw new IOException(\"Reap container failed for container \" +\n            container.getContainerId());\n      }\n      cleanupContainerFiles(getContainerWorkDir());\n    } finally {\n      launchLock.unlock();\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
      "extendedDetails": {}
    },
    "5ce70e1211e624d58e8bb1181aec00729ebdc085": {
      "type": "Yintroduced",
      "commitMessage": "YARN-7644. NM gets backed up deleting docker containers. Contributed by Chandni Singh\n",
      "commitDate": "10/10/18 7:52 AM",
      "commitName": "5ce70e1211e624d58e8bb1181aec00729ebdc085",
      "commitAuthor": "Jason Lowe",
      "diff": "@@ -0,0 +1,18 @@\n+  void reapContainer() throws IOException {\n+    containerExecLock.lock();\n+    try {\n+      // Reap the container\n+      boolean result \u003d exec.reapContainer(\n+          new ContainerReapContext.Builder()\n+              .setContainer(container)\n+              .setUser(container.getUser())\n+              .build());\n+      if (!result) {\n+        throw new IOException(\"Reap container failed for container \" +\n+            container.getContainerId());\n+      }\n+      cleanupContainerFiles(getContainerWorkDir());\n+    } finally {\n+      containerExecLock.unlock();\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  void reapContainer() throws IOException {\n    containerExecLock.lock();\n    try {\n      // Reap the container\n      boolean result \u003d exec.reapContainer(\n          new ContainerReapContext.Builder()\n              .setContainer(container)\n              .setUser(container.getUser())\n              .build());\n      if (!result) {\n        throw new IOException(\"Reap container failed for container \" +\n            container.getContainerId());\n      }\n      cleanupContainerFiles(getContainerWorkDir());\n    } finally {\n      containerExecLock.unlock();\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java"
    }
  }
}