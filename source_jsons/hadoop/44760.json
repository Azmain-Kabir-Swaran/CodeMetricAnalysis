{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMAdminCLI.java",
  "functionName": "buildIndividualUsageMsg",
  "functionId": "buildIndividualUsageMsg___cmd-String__builder-StringBuilder",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
  "functionStartLine": 219,
  "functionEndLine": 240,
  "numCommitsSeen": 51,
  "timeTaken": 1912,
  "changeHistory": [
    "e407449ddb52c36b74358f22db498424e82ec4a7",
    "d963b3cd525dd3d948574f5b02aa50d8e23df968",
    "3ee7f20c330df92fdeb472d2402134484d5aac6d",
    "03510d00f48137fe4273c3e694e87fc0e660a706"
  ],
  "changeHistoryShort": {
    "e407449ddb52c36b74358f22db498424e82ec4a7": "Ybodychange",
    "d963b3cd525dd3d948574f5b02aa50d8e23df968": "Ybodychange",
    "3ee7f20c330df92fdeb472d2402134484d5aac6d": "Ybodychange",
    "03510d00f48137fe4273c3e694e87fc0e660a706": "Yintroduced"
  },
  "changeHistoryDetails": {
    "e407449ddb52c36b74358f22db498424e82ec4a7": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-13933. Add haadmin -getAllServiceState option to get the HA state of all the NameNodes/ResourceManagers. Contributed by Surendra Singh Lilhore.\n",
      "commitDate": "16/01/17 5:10 PM",
      "commitName": "e407449ddb52c36b74358f22db498424e82ec4a7",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "09/01/17 10:12 PM",
      "commitNameOld": "6332a318bc1e2e9d73d7159eab26347bb3f1f9b3",
      "commitAuthorOld": "Daniel Templeton",
      "daysBetweenCommits": 6.79,
      "commitsBetweenForRepo": 28,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,22 @@\n   private static void buildIndividualUsageMsg(String cmd,\n                                               StringBuilder builder ) {\n     boolean isHACommand \u003d false;\n     UsageInfo usageInfo \u003d ADMIN_USAGE.get(cmd);\n     if (usageInfo \u003d\u003d null) {\n       usageInfo \u003d USAGE.get(cmd);\n       if (usageInfo \u003d\u003d null) {\n         return;\n       }\n       isHACommand \u003d true;\n     }\n-    String space \u003d (usageInfo.args \u003d\u003d \"\") ? \"\" : \" \";\n-    builder.append(\"Usage: yarn rmadmin [\"\n-        + cmd + space + usageInfo.args\n-        + \"]\\n\");\n+    if (usageInfo.args \u003d\u003d null) {\n+      builder.append(\"Usage: yarn rmadmin [\" + cmd + \"]\\n\");\n+    } else {\n+      String space \u003d (usageInfo.args \u003d\u003d \"\") ? \"\" : \" \";\n+      builder.append(\"Usage: yarn rmadmin [\" + cmd + space + usageInfo.args\n+          + \"]\\n\");\n+    }\n     if (isHACommand) {\n       builder.append(cmd + \" can only be used when RM HA is enabled\");\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static void buildIndividualUsageMsg(String cmd,\n                                              StringBuilder builder ) {\n    boolean isHACommand \u003d false;\n    UsageInfo usageInfo \u003d ADMIN_USAGE.get(cmd);\n    if (usageInfo \u003d\u003d null) {\n      usageInfo \u003d USAGE.get(cmd);\n      if (usageInfo \u003d\u003d null) {\n        return;\n      }\n      isHACommand \u003d true;\n    }\n    if (usageInfo.args \u003d\u003d null) {\n      builder.append(\"Usage: yarn rmadmin [\" + cmd + \"]\\n\");\n    } else {\n      String space \u003d (usageInfo.args \u003d\u003d \"\") ? \"\" : \" \";\n      builder.append(\"Usage: yarn rmadmin [\" + cmd + space + usageInfo.args\n          + \"]\\n\");\n    }\n    if (isHACommand) {\n      builder.append(cmd + \" can only be used when RM HA is enabled\");\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
      "extendedDetails": {}
    },
    "d963b3cd525dd3d948574f5b02aa50d8e23df968": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1761. Modified RMAdmin CLI to check whether HA is enabled or not before it executes any of the HA admin related commands. Contributed by Xuan Gong.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1574661 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "05/03/14 1:07 PM",
      "commitName": "d963b3cd525dd3d948574f5b02aa50d8e23df968",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "14/01/14 4:57 PM",
      "commitNameOld": "d13c2eeca685d24130444ba32e3454362224ba6c",
      "commitAuthorOld": "Karthik Kambatla",
      "daysBetweenCommits": 49.84,
      "commitsBetweenForRepo": 443,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,19 @@\n   private static void buildIndividualUsageMsg(String cmd,\n                                               StringBuilder builder ) {\n+    boolean isHACommand \u003d false;\n     UsageInfo usageInfo \u003d ADMIN_USAGE.get(cmd);\n     if (usageInfo \u003d\u003d null) {\n       usageInfo \u003d USAGE.get(cmd);\n       if (usageInfo \u003d\u003d null) {\n         return;\n       }\n+      isHACommand \u003d true;\n     }\n     String space \u003d (usageInfo.args \u003d\u003d \"\") ? \"\" : \" \";\n     builder.append(\"Usage: yarn rmadmin [\"\n         + cmd + space + usageInfo.args\n         + \"]\\n\");\n+    if (isHACommand) {\n+      builder.append(cmd + \" can only be used when RM HA is enabled\");\n+    }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static void buildIndividualUsageMsg(String cmd,\n                                              StringBuilder builder ) {\n    boolean isHACommand \u003d false;\n    UsageInfo usageInfo \u003d ADMIN_USAGE.get(cmd);\n    if (usageInfo \u003d\u003d null) {\n      usageInfo \u003d USAGE.get(cmd);\n      if (usageInfo \u003d\u003d null) {\n        return;\n      }\n      isHACommand \u003d true;\n    }\n    String space \u003d (usageInfo.args \u003d\u003d \"\") ? \"\" : \" \";\n    builder.append(\"Usage: yarn rmadmin [\"\n        + cmd + space + usageInfo.args\n        + \"]\\n\");\n    if (isHACommand) {\n      builder.append(cmd + \" can only be used when RM HA is enabled\");\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
      "extendedDetails": {}
    },
    "3ee7f20c330df92fdeb472d2402134484d5aac6d": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1527. Fixed yarn rmadmin command to print the correct usage info. Contributed by Akira AJISAKA.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1553596 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "26/12/13 2:05 PM",
      "commitName": "3ee7f20c330df92fdeb472d2402134484d5aac6d",
      "commitAuthor": "Jian He",
      "commitDateOld": "29/10/13 2:03 PM",
      "commitNameOld": "03510d00f48137fe4273c3e694e87fc0e660a706",
      "commitAuthorOld": "Bikas Saha",
      "daysBetweenCommits": 58.04,
      "commitsBetweenForRepo": 335,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n   private static void buildIndividualUsageMsg(String cmd,\n                                               StringBuilder builder ) {\n     UsageInfo usageInfo \u003d ADMIN_USAGE.get(cmd);\n     if (usageInfo \u003d\u003d null) {\n       usageInfo \u003d USAGE.get(cmd);\n       if (usageInfo \u003d\u003d null) {\n         return;\n       }\n     }\n     String space \u003d (usageInfo.args \u003d\u003d \"\") ? \"\" : \" \";\n-    builder.append(\"Usage: java RMAdmin [\"\n+    builder.append(\"Usage: yarn rmadmin [\"\n         + cmd + space + usageInfo.args\n         + \"]\\n\");\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static void buildIndividualUsageMsg(String cmd,\n                                              StringBuilder builder ) {\n    UsageInfo usageInfo \u003d ADMIN_USAGE.get(cmd);\n    if (usageInfo \u003d\u003d null) {\n      usageInfo \u003d USAGE.get(cmd);\n      if (usageInfo \u003d\u003d null) {\n        return;\n      }\n    }\n    String space \u003d (usageInfo.args \u003d\u003d \"\") ? \"\" : \" \";\n    builder.append(\"Usage: yarn rmadmin [\"\n        + cmd + space + usageInfo.args\n        + \"]\\n\");\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
      "extendedDetails": {}
    },
    "03510d00f48137fe4273c3e694e87fc0e660a706": {
      "type": "Yintroduced",
      "commitMessage": "YARN-1068. Add admin support for HA operations (Karthik Kambatla via bikas)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1536888 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/10/13 2:03 PM",
      "commitName": "03510d00f48137fe4273c3e694e87fc0e660a706",
      "commitAuthor": "Bikas Saha",
      "diff": "@@ -0,0 +1,14 @@\n+  private static void buildIndividualUsageMsg(String cmd,\n+                                              StringBuilder builder ) {\n+    UsageInfo usageInfo \u003d ADMIN_USAGE.get(cmd);\n+    if (usageInfo \u003d\u003d null) {\n+      usageInfo \u003d USAGE.get(cmd);\n+      if (usageInfo \u003d\u003d null) {\n+        return;\n+      }\n+    }\n+    String space \u003d (usageInfo.args \u003d\u003d \"\") ? \"\" : \" \";\n+    builder.append(\"Usage: java RMAdmin [\"\n+        + cmd + space + usageInfo.args\n+        + \"]\\n\");\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static void buildIndividualUsageMsg(String cmd,\n                                              StringBuilder builder ) {\n    UsageInfo usageInfo \u003d ADMIN_USAGE.get(cmd);\n    if (usageInfo \u003d\u003d null) {\n      usageInfo \u003d USAGE.get(cmd);\n      if (usageInfo \u003d\u003d null) {\n        return;\n      }\n    }\n    String space \u003d (usageInfo.args \u003d\u003d \"\") ? \"\" : \" \";\n    builder.append(\"Usage: java RMAdmin [\"\n        + cmd + space + usageInfo.args\n        + \"]\\n\");\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java"
    }
  }
}