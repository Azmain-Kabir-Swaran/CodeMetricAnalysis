{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AbstractYarnScheduler.java",
  "functionName": "getMinimumAllocation",
  "functionId": "getMinimumAllocation",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/AbstractYarnScheduler.java",
  "functionStartLine": 1508,
  "functionEndLine": 1512,
  "numCommitsSeen": 115,
  "timeTaken": 3242,
  "changeHistory": [
    "5cfbad68c0ef6e70d248d4989f9889576d5fcf7e",
    "39240b61a163b127eec385decd30ffd96e694c28",
    "6708ac330147b2d3816a31f2ee83e09c41fe0dd9"
  ],
  "changeHistoryShort": {
    "5cfbad68c0ef6e70d248d4989f9889576d5fcf7e": "Ybodychange",
    "39240b61a163b127eec385decd30ffd96e694c28": "Ybodychange",
    "6708ac330147b2d3816a31f2ee83e09c41fe0dd9": "Yintroduced"
  },
  "changeHistoryDetails": {
    "5cfbad68c0ef6e70d248d4989f9889576d5fcf7e": {
      "type": "Ybodychange",
      "commitMessage": "YARN-7237. Cleanup usages of ResourceProfiles. (Wangda Tan)\n\nChange-Id: I959c8531bd48231956068cb7d2312f3235549f9c\n(cherry picked from commit 8536db5a7549fa44d9f9e444b41bd5978b5c6ae1)\n",
      "commitDate": "09/10/17 8:36 PM",
      "commitName": "5cfbad68c0ef6e70d248d4989f9889576d5fcf7e",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "02/10/17 6:14 PM",
      "commitNameOld": "d4d2fd1acd2fdddf04f45e67897804eea30d79a1",
      "commitAuthorOld": "Subru Krishnan",
      "daysBetweenCommits": 7.1,
      "commitsBetweenForRepo": 81,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,5 @@\n   public Resource getMinimumAllocation() {\n-    boolean profilesEnabled \u003d getConfig()\n-        .getBoolean(YarnConfiguration.RM_RESOURCE_PROFILES_ENABLED,\n-            YarnConfiguration.DEFAULT_RM_RESOURCE_PROFILES_ENABLED);\n-    Resource ret;\n-    if (!profilesEnabled) {\n-      ret \u003d ResourceUtils.getResourceTypesMinimumAllocation();\n-    } else {\n-      try {\n-        ret \u003d rmContext.getResourceProfilesManager().getMinimumProfile();\n-      } catch (YarnException e) {\n-        LOG.error(\n-            \"Exception while getting minimum profile from profile manager:\", e);\n-        throw new YarnRuntimeException(e);\n-      }\n-    }\n+    Resource ret \u003d ResourceUtils.getResourceTypesMinimumAllocation();\n     LOG.info(\"Minimum allocation \u003d \" + ret);\n     return ret;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Resource getMinimumAllocation() {\n    Resource ret \u003d ResourceUtils.getResourceTypesMinimumAllocation();\n    LOG.info(\"Minimum allocation \u003d \" + ret);\n    return ret;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/AbstractYarnScheduler.java",
      "extendedDetails": {}
    },
    "39240b61a163b127eec385decd30ffd96e694c28": {
      "type": "Ybodychange",
      "commitMessage": "YARN-7043. Cleanup ResourceProfileManager. (wangda)\n\nChange-Id: I463356f37bf1f6a3f1fc3c594c79916e8c0ab913\n",
      "commitDate": "12/09/17 9:19 AM",
      "commitName": "39240b61a163b127eec385decd30ffd96e694c28",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "12/09/17 9:19 AM",
      "commitNameOld": "6708ac330147b2d3816a31f2ee83e09c41fe0dd9",
      "commitAuthorOld": "Arun Suresh",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 16,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,19 @@\n   public Resource getMinimumAllocation() {\n     boolean profilesEnabled \u003d getConfig()\n         .getBoolean(YarnConfiguration.RM_RESOURCE_PROFILES_ENABLED,\n             YarnConfiguration.DEFAULT_RM_RESOURCE_PROFILES_ENABLED);\n     Resource ret;\n     if (!profilesEnabled) {\n       ret \u003d ResourceUtils.getResourceTypesMinimumAllocation();\n     } else {\n-      ret \u003d rmContext.getResourceProfilesManager().getMinimumProfile();\n+      try {\n+        ret \u003d rmContext.getResourceProfilesManager().getMinimumProfile();\n+      } catch (YarnException e) {\n+        LOG.error(\n+            \"Exception while getting minimum profile from profile manager:\", e);\n+        throw new YarnRuntimeException(e);\n+      }\n     }\n     LOG.info(\"Minimum allocation \u003d \" + ret);\n     return ret;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Resource getMinimumAllocation() {\n    boolean profilesEnabled \u003d getConfig()\n        .getBoolean(YarnConfiguration.RM_RESOURCE_PROFILES_ENABLED,\n            YarnConfiguration.DEFAULT_RM_RESOURCE_PROFILES_ENABLED);\n    Resource ret;\n    if (!profilesEnabled) {\n      ret \u003d ResourceUtils.getResourceTypesMinimumAllocation();\n    } else {\n      try {\n        ret \u003d rmContext.getResourceProfilesManager().getMinimumProfile();\n      } catch (YarnException e) {\n        LOG.error(\n            \"Exception while getting minimum profile from profile manager:\", e);\n        throw new YarnRuntimeException(e);\n      }\n    }\n    LOG.info(\"Minimum allocation \u003d \" + ret);\n    return ret;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/AbstractYarnScheduler.java",
      "extendedDetails": {}
    },
    "6708ac330147b2d3816a31f2ee83e09c41fe0dd9": {
      "type": "Yintroduced",
      "commitMessage": "YARN-5587. Add support for resource profiles. (vvasudev via asuresh)\n",
      "commitDate": "12/09/17 9:19 AM",
      "commitName": "6708ac330147b2d3816a31f2ee83e09c41fe0dd9",
      "commitAuthor": "Arun Suresh",
      "diff": "@@ -0,0 +1,13 @@\n+  public Resource getMinimumAllocation() {\n+    boolean profilesEnabled \u003d getConfig()\n+        .getBoolean(YarnConfiguration.RM_RESOURCE_PROFILES_ENABLED,\n+            YarnConfiguration.DEFAULT_RM_RESOURCE_PROFILES_ENABLED);\n+    Resource ret;\n+    if (!profilesEnabled) {\n+      ret \u003d ResourceUtils.getResourceTypesMinimumAllocation();\n+    } else {\n+      ret \u003d rmContext.getResourceProfilesManager().getMinimumProfile();\n+    }\n+    LOG.info(\"Minimum allocation \u003d \" + ret);\n+    return ret;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public Resource getMinimumAllocation() {\n    boolean profilesEnabled \u003d getConfig()\n        .getBoolean(YarnConfiguration.RM_RESOURCE_PROFILES_ENABLED,\n            YarnConfiguration.DEFAULT_RM_RESOURCE_PROFILES_ENABLED);\n    Resource ret;\n    if (!profilesEnabled) {\n      ret \u003d ResourceUtils.getResourceTypesMinimumAllocation();\n    } else {\n      ret \u003d rmContext.getResourceProfilesManager().getMinimumProfile();\n    }\n    LOG.info(\"Minimum allocation \u003d \" + ret);\n    return ret;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/AbstractYarnScheduler.java"
    }
  }
}