{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "Shell.java",
  "functionName": "getGroupsForUserCommand",
  "functionId": "getGroupsForUserCommand___user-String(modifiers-final)",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
  "functionStartLine": 220,
  "functionEndLine": 230,
  "numCommitsSeen": 72,
  "timeTaken": 3290,
  "changeHistory": [
    "954465e7ba3af3e5b083b6251562e5e77529f906",
    "0348e769abc507c69d644db7bc56d31d971c51d1",
    "dfa78484633b3ce21471d527b9c24671e3ca5df9",
    "c59af2fdf8f7f53117c626a895dab7fd78cf08ec",
    "f099fa4cd474060455dcf5d437ffa0849ca9f95a",
    "638801cce16fc1dc3259c541dc30a599faaddda1",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
    "e346c2f4e08a38a80c7f505d8a8f3554b408e997",
    "ae93ba7501d95e9d26a29de25f4cc39e5225ca20"
  ],
  "changeHistoryShort": {
    "954465e7ba3af3e5b083b6251562e5e77529f906": "Ybodychange",
    "0348e769abc507c69d644db7bc56d31d971c51d1": "Ybodychange",
    "dfa78484633b3ce21471d527b9c24671e3ca5df9": "Ybodychange",
    "c59af2fdf8f7f53117c626a895dab7fd78cf08ec": "Ybodychange",
    "f099fa4cd474060455dcf5d437ffa0849ca9f95a": "Ybodychange",
    "638801cce16fc1dc3259c541dc30a599faaddda1": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52": "Yfilerename",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yfilerename",
    "e346c2f4e08a38a80c7f505d8a8f3554b408e997": "Yrename",
    "ae93ba7501d95e9d26a29de25f4cc39e5225ca20": "Yintroduced"
  },
  "changeHistoryDetails": {
    "954465e7ba3af3e5b083b6251562e5e77529f906": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-13434. Add bash quoting to Shell class. (Owen O\u0027Malley)\n",
      "commitDate": "02/08/16 1:40 PM",
      "commitName": "954465e7ba3af3e5b083b6251562e5e77529f906",
      "commitAuthor": "Arpit Agarwal",
      "commitDateOld": "29/04/16 9:25 AM",
      "commitNameOld": "9d4d30243b0fc9630da51a2c17b543ef671d035c",
      "commitAuthorOld": "Robert Kanter",
      "daysBetweenCommits": 95.18,
      "commitsBetweenForRepo": 749,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,11 @@\n   public static String[] getGroupsForUserCommand(final String user) {\n     //\u0027groups username\u0027 command return is inconsistent across different unixes\n-    return WINDOWS ?\n-      new String[]\n-          {getWinUtilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"}\n-      : new String[] {\"bash\", \"-c\", \"id -gn \" + user + \"; id -Gn \" + user};\n+    if (WINDOWS) {\n+      return new String[]\n+          {getWinUtilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"};\n+    } else {\n+      String quotedUser \u003d bashQuote(user);\n+      return new String[] {\"bash\", \"-c\", \"id -gn \" + quotedUser +\n+                            \"; id -Gn \" + quotedUser};\n+    }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is inconsistent across different unixes\n    if (WINDOWS) {\n      return new String[]\n          {getWinUtilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"};\n    } else {\n      String quotedUser \u003d bashQuote(user);\n      return new String[] {\"bash\", \"-c\", \"id -gn \" + quotedUser +\n                            \"; id -Gn \" + quotedUser};\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {}
    },
    "0348e769abc507c69d644db7bc56d31d971c51d1": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-12468. Partial group resolution failure should not result in user lockout. (Wei-Chiu Chuang via Yongjun Zhang)\n",
      "commitDate": "25/11/15 6:37 PM",
      "commitName": "0348e769abc507c69d644db7bc56d31d971c51d1",
      "commitAuthor": "Yongjun Zhang",
      "commitDateOld": "21/10/15 8:00 AM",
      "commitNameOld": "b37c41fd6ec704babf37325530e7cb9babf1ac0c",
      "commitAuthorOld": "Allen Wittenauer",
      "daysBetweenCommits": 35.48,
      "commitsBetweenForRepo": 313,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   public static String[] getGroupsForUserCommand(final String user) {\n     //\u0027groups username\u0027 command return is inconsistent across different unixes\n     return WINDOWS ?\n       new String[]\n-          { getWinUtilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\" }\n-      : new String [] {\"bash\", \"-c\", \"id -gn \" + user + \"\u0026\u0026 id -Gn \" + user};\n+          {getWinUtilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"}\n+      : new String[] {\"bash\", \"-c\", \"id -gn \" + user + \"; id -Gn \" + user};\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is inconsistent across different unixes\n    return WINDOWS ?\n      new String[]\n          {getWinUtilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"}\n      : new String[] {\"bash\", \"-c\", \"id -gn \" + user + \"; id -Gn \" + user};\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {}
    },
    "dfa78484633b3ce21471d527b9c24671e3ca5df9": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-12478. Shell.getWinUtilsPath() has been renamed Shell.getWinutilsPath(). (stevel)\n",
      "commitDate": "14/10/15 12:25 PM",
      "commitName": "dfa78484633b3ce21471d527b9c24671e3ca5df9",
      "commitAuthor": "Steve Loughran",
      "commitDateOld": "13/10/15 1:49 PM",
      "commitNameOld": "c59af2fdf8f7f53117c626a895dab7fd78cf08ec",
      "commitAuthorOld": "Steve Loughran",
      "daysBetweenCommits": 0.94,
      "commitsBetweenForRepo": 13,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,7 @@\n   public static String[] getGroupsForUserCommand(final String user) {\n     //\u0027groups username\u0027 command return is inconsistent across different unixes\n     return WINDOWS ?\n       new String[]\n-          { getWinutilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\" }\n+          { getWinUtilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\" }\n       : new String [] {\"bash\", \"-c\", \"id -gn \" + user + \"\u0026\u0026 id -Gn \" + user};\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is inconsistent across different unixes\n    return WINDOWS ?\n      new String[]\n          { getWinUtilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\" }\n      : new String [] {\"bash\", \"-c\", \"id -gn \" + user + \"\u0026\u0026 id -Gn \" + user};\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {}
    },
    "c59af2fdf8f7f53117c626a895dab7fd78cf08ec": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-10775. Shell operations to fail with meaningful errors on windows if winutils.exe not found. (stevel)\n",
      "commitDate": "13/10/15 1:49 PM",
      "commitName": "c59af2fdf8f7f53117c626a895dab7fd78cf08ec",
      "commitAuthor": "Steve Loughran",
      "commitDateOld": "05/10/15 10:56 AM",
      "commitNameOld": "f1c19b9365cbac88e45a9eed516fbfc6c9aa9947",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 8.12,
      "commitsBetweenForRepo": 65,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,7 @@\n   public static String[] getGroupsForUserCommand(final String user) {\n-    //\u0027groups username\u0027 command return is non-consistent across different unixes\n-    return (WINDOWS)? new String[] { WINUTILS, \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"}\n-                    : new String [] {\"bash\", \"-c\", \"id -gn \" + user\n-                                     + \"\u0026\u0026 id -Gn \" + user};\n+    //\u0027groups username\u0027 command return is inconsistent across different unixes\n+    return WINDOWS ?\n+      new String[]\n+          { getWinutilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\" }\n+      : new String [] {\"bash\", \"-c\", \"id -gn \" + user + \"\u0026\u0026 id -Gn \" + user};\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is inconsistent across different unixes\n    return WINDOWS ?\n      new String[]\n          { getWinutilsPath(), \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\" }\n      : new String [] {\"bash\", \"-c\", \"id -gn \" + user + \"\u0026\u0026 id -Gn \" + user};\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {}
    },
    "f099fa4cd474060455dcf5d437ffa0849ca9f95a": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-10401. ShellBasedUnixGroupsMapping#getGroups does not always return primary group first (ajisakaa via cmccabe)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1594714 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/05/14 2:01 PM",
      "commitName": "f099fa4cd474060455dcf5d437ffa0849ca9f95a",
      "commitAuthor": "Colin McCabe",
      "commitDateOld": "19/04/14 11:55 AM",
      "commitNameOld": "4810e2b849e8a27a30d2906e1389adf79952006e",
      "commitAuthorOld": "Ivan Mitic",
      "daysBetweenCommits": 25.09,
      "commitsBetweenForRepo": 139,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,6 @@\n   public static String[] getGroupsForUserCommand(final String user) {\n     //\u0027groups username\u0027 command return is non-consistent across different unixes\n     return (WINDOWS)? new String[] { WINUTILS, \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"}\n-                    : new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n+                    : new String [] {\"bash\", \"-c\", \"id -gn \" + user\n+                                     + \"\u0026\u0026 id -Gn \" + user};\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is non-consistent across different unixes\n    return (WINDOWS)? new String[] { WINUTILS, \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"}\n                    : new String [] {\"bash\", \"-c\", \"id -gn \" + user\n                                     + \"\u0026\u0026 id -Gn \" + user};\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {}
    },
    "638801cce16fc1dc3259c541dc30a599faaddda1": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/03/13 11:15 AM",
      "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "24/08/12 6:03 PM",
      "commitNameOld": "deead78e35b0cb81af875b5a8032cbd06c9a2dae",
      "commitAuthorOld": "Suresh Srinivas",
      "daysBetweenCommits": 193.76,
      "commitsBetweenForRepo": 940,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,4 +1,5 @@\n   public static String[] getGroupsForUserCommand(final String user) {\n     //\u0027groups username\u0027 command return is non-consistent across different unixes\n-    return new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n+    return (WINDOWS)? new String[] { WINUTILS, \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"}\n+                    : new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is non-consistent across different unixes\n    return (WINDOWS)? new String[] { WINUTILS, \"groups\", \"-F\", \"\\\"\" + user + \"\\\"\"}\n                    : new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is non-consistent across different unixes\n    return new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {
        "oldPath": "hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
        "newPath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java"
      }
    },
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-6671. Use maven for hadoop common builds. Contributed by Alejandro Abdelnur.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1153184 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "02/08/11 9:37 AM",
      "commitName": "0f6dfeeacbab65a31a33927a4eb84871d371fe52",
      "commitAuthor": "Thomas White",
      "commitDateOld": "01/08/11 3:53 PM",
      "commitNameOld": "9bac807cedbcff34e1a144fb475eff267e5ed86d",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.74,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is non-consistent across different unixes\n    return new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n  }",
      "path": "hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {
        "oldPath": "common/src/java/org/apache/hadoop/util/Shell.java",
        "newPath": "hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java"
      }
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "commitDateOld": "11/06/11 9:13 PM",
      "commitNameOld": "a285fb5effe9ba3be4ec5f942afaf5ddd1186151",
      "commitAuthorOld": "Eli Collins",
      "daysBetweenCommits": 0.74,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is non-consistent across different unixes\n    return new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n  }",
      "path": "common/src/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {
        "oldPath": "src/java/org/apache/hadoop/util/Shell.java",
        "newPath": "common/src/java/org/apache/hadoop/util/Shell.java"
      }
    },
    "e346c2f4e08a38a80c7f505d8a8f3554b408e997": {
      "type": "Yrename",
      "commitMessage": "HADOOP-6644. util.Shell getGROUPS_FOR_USER_COMMAND method name - should use common naming convention\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@948528 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "26/05/10 11:35 AM",
      "commitName": "e346c2f4e08a38a80c7f505d8a8f3554b408e997",
      "commitAuthor": "Boris Shkolnik",
      "commitDateOld": "16/02/10 1:43 PM",
      "commitNameOld": "ea605b8cd79163444feead75d7b55dbd4ab537a0",
      "commitAuthorOld": "Sanjay Radia",
      "daysBetweenCommits": 98.87,
      "commitsBetweenForRepo": 106,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,4 +1,4 @@\n-  public static String[] getGROUPS_FOR_USER_COMMAND(final String user) {\n+  public static String[] getGroupsForUserCommand(final String user) {\n     //\u0027groups username\u0027 command return is non-consistent across different unixes\n     return new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getGroupsForUserCommand(final String user) {\n    //\u0027groups username\u0027 command return is non-consistent across different unixes\n    return new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n  }",
      "path": "src/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {
        "oldValue": "getGROUPS_FOR_USER_COMMAND",
        "newValue": "getGroupsForUserCommand"
      }
    },
    "ae93ba7501d95e9d26a29de25f4cc39e5225ca20": {
      "type": "Yintroduced",
      "commitMessage": "   HADOOP-4656. Add a user to groups mapping service (boryas and acmurthy_)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@892066 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "17/12/09 5:29 PM",
      "commitName": "ae93ba7501d95e9d26a29de25f4cc39e5225ca20",
      "commitAuthor": "Boris Shkolnik",
      "diff": "@@ -0,0 +1,4 @@\n+  public static String[] getGROUPS_FOR_USER_COMMAND(final String user) {\n+    //\u0027groups username\u0027 command return is non-consistent across different unixes\n+    return new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getGROUPS_FOR_USER_COMMAND(final String user) {\n    //\u0027groups username\u0027 command return is non-consistent across different unixes\n    return new String [] {\"bash\", \"-c\", \"id -Gn \" + user};\n  }",
      "path": "src/java/org/apache/hadoop/util/Shell.java"
    }
  }
}