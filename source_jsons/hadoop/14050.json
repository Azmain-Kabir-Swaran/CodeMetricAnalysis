{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "DelegationTokenSecretManager.java",
  "functionName": "loadSecretManagerStateCompat",
  "functionId": "loadSecretManagerStateCompat___in-DataInput",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/security/token/delegation/DelegationTokenSecretManager.java",
  "functionStartLine": 169,
  "functionEndLine": 177,
  "numCommitsSeen": 36,
  "timeTaken": 1382,
  "changeHistory": [
    "ca5d73d1ab45541169f76b183f67e7a6150c1a2c"
  ],
  "changeHistoryShort": {
    "ca5d73d1ab45541169f76b183f67e7a6150c1a2c": "Ymultichange(Yrename,Ybodychange)"
  },
  "changeHistoryDetails": {
    "ca5d73d1ab45541169f76b183f67e7a6150c1a2c": {
      "type": "Ymultichange(Yrename,Ybodychange)",
      "commitMessage": "HDFS-5768. Consolidate the serialization code in DelegationTokenSecretManager. Contributed by Haohui Mai\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1558598 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "15/01/14 3:11 PM",
      "commitName": "ca5d73d1ab45541169f76b183f67e7a6150c1a2c",
      "commitAuthor": "Brandon Li",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "HDFS-5768. Consolidate the serialization code in DelegationTokenSecretManager. Contributed by Haohui Mai\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1558598 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "15/01/14 3:11 PM",
          "commitName": "ca5d73d1ab45541169f76b183f67e7a6150c1a2c",
          "commitAuthor": "Brandon Li",
          "commitDateOld": "11/10/13 2:49 PM",
          "commitNameOld": "f7eaacc103344f5fd81dd69584c93fb99d8b94c9",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 96.06,
          "commitsBetweenForRepo": 534,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,12 +1,9 @@\n-  public synchronized void loadSecretManagerState(DataInput in)\n+  public synchronized void loadSecretManagerStateCompat(DataInput in)\n       throws IOException {\n     if (running) {\n       // a safety check\n       throw new IOException(\n           \"Can\u0027t load state from image in a running SecretManager.\");\n     }\n-    currentId \u003d in.readInt();\n-    loadAllKeys(in);\n-    delegationTokenSequenceNumber \u003d in.readInt();\n-    loadCurrentTokens(in);\n+    serializerCompat.load(in);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void loadSecretManagerStateCompat(DataInput in)\n      throws IOException {\n    if (running) {\n      // a safety check\n      throw new IOException(\n          \"Can\u0027t load state from image in a running SecretManager.\");\n    }\n    serializerCompat.load(in);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/security/token/delegation/DelegationTokenSecretManager.java",
          "extendedDetails": {
            "oldValue": "loadSecretManagerState",
            "newValue": "loadSecretManagerStateCompat"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-5768. Consolidate the serialization code in DelegationTokenSecretManager. Contributed by Haohui Mai\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1558598 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "15/01/14 3:11 PM",
          "commitName": "ca5d73d1ab45541169f76b183f67e7a6150c1a2c",
          "commitAuthor": "Brandon Li",
          "commitDateOld": "11/10/13 2:49 PM",
          "commitNameOld": "f7eaacc103344f5fd81dd69584c93fb99d8b94c9",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 96.06,
          "commitsBetweenForRepo": 534,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,12 +1,9 @@\n-  public synchronized void loadSecretManagerState(DataInput in)\n+  public synchronized void loadSecretManagerStateCompat(DataInput in)\n       throws IOException {\n     if (running) {\n       // a safety check\n       throw new IOException(\n           \"Can\u0027t load state from image in a running SecretManager.\");\n     }\n-    currentId \u003d in.readInt();\n-    loadAllKeys(in);\n-    delegationTokenSequenceNumber \u003d in.readInt();\n-    loadCurrentTokens(in);\n+    serializerCompat.load(in);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void loadSecretManagerStateCompat(DataInput in)\n      throws IOException {\n    if (running) {\n      // a safety check\n      throw new IOException(\n          \"Can\u0027t load state from image in a running SecretManager.\");\n    }\n    serializerCompat.load(in);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/security/token/delegation/DelegationTokenSecretManager.java",
          "extendedDetails": {}
        }
      ]
    }
  }
}