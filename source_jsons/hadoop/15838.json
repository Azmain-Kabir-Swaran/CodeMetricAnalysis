{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSOperations.java",
  "functionName": "toJson",
  "functionId": "toJson___entries-FileSystem.DirectoryEntries__isFile-boolean",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/fs/http/server/FSOperations.java",
  "functionStartLine": 167,
  "functionEndLine": 177,
  "numCommitsSeen": 70,
  "timeTaken": 2259,
  "changeHistory": [
    "3556e36be30211f46ac38899ce11a4d4cac6d635",
    "8a40953058d50d421d62b71067a13b626b3cba1f"
  ],
  "changeHistoryShort": {
    "3556e36be30211f46ac38899ce11a4d4cac6d635": "Ymultichange(Yparameterchange,Ybodychange)",
    "8a40953058d50d421d62b71067a13b626b3cba1f": "Yintroduced"
  },
  "changeHistoryDetails": {
    "3556e36be30211f46ac38899ce11a4d4cac6d635": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-12139. HTTPFS liststatus returns incorrect pathSuffix for path of file. Contributed by Yongjun Zhang.\n",
      "commitDate": "19/07/17 10:56 AM",
      "commitName": "3556e36be30211f46ac38899ce11a4d4cac6d635",
      "commitAuthor": "Yongjun Zhang",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-12139. HTTPFS liststatus returns incorrect pathSuffix for path of file. Contributed by Yongjun Zhang.\n",
          "commitDate": "19/07/17 10:56 AM",
          "commitName": "3556e36be30211f46ac38899ce11a4d4cac6d635",
          "commitAuthor": "Yongjun Zhang",
          "commitDateOld": "12/07/17 2:15 PM",
          "commitNameOld": "931a49800ef05ee0a6fdc143be1799abb228735d",
          "commitAuthorOld": "Tsz-Wo Nicholas Sze",
          "daysBetweenCommits": 6.86,
          "commitsBetweenForRepo": 40,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,11 @@\n   private static Map\u003cString, Object\u003e toJson(FileSystem.DirectoryEntries\n-      entries) {\n+      entries, boolean isFile) {\n     Map\u003cString, Object\u003e json \u003d new LinkedHashMap\u003c\u003e();\n     Map\u003cString, Object\u003e inner \u003d new LinkedHashMap\u003c\u003e();\n-    Map\u003cString, Object\u003e fileStatuses \u003d toJson(entries.getEntries());\n+    Map\u003cString, Object\u003e fileStatuses \u003d toJson(entries.getEntries(), isFile);\n     inner.put(HttpFSFileSystem.PARTIAL_LISTING_JSON, fileStatuses);\n     inner.put(HttpFSFileSystem.REMAINING_ENTRIES_JSON, entries.hasMore() ? 1\n         : 0);\n     json.put(HttpFSFileSystem.DIRECTORY_LISTING_JSON, inner);\n     return json;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private static Map\u003cString, Object\u003e toJson(FileSystem.DirectoryEntries\n      entries, boolean isFile) {\n    Map\u003cString, Object\u003e json \u003d new LinkedHashMap\u003c\u003e();\n    Map\u003cString, Object\u003e inner \u003d new LinkedHashMap\u003c\u003e();\n    Map\u003cString, Object\u003e fileStatuses \u003d toJson(entries.getEntries(), isFile);\n    inner.put(HttpFSFileSystem.PARTIAL_LISTING_JSON, fileStatuses);\n    inner.put(HttpFSFileSystem.REMAINING_ENTRIES_JSON, entries.hasMore() ? 1\n        : 0);\n    json.put(HttpFSFileSystem.DIRECTORY_LISTING_JSON, inner);\n    return json;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/fs/http/server/FSOperations.java",
          "extendedDetails": {
            "oldValue": "[entries-FileSystem.DirectoryEntries]",
            "newValue": "[entries-FileSystem.DirectoryEntries, isFile-boolean]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-12139. HTTPFS liststatus returns incorrect pathSuffix for path of file. Contributed by Yongjun Zhang.\n",
          "commitDate": "19/07/17 10:56 AM",
          "commitName": "3556e36be30211f46ac38899ce11a4d4cac6d635",
          "commitAuthor": "Yongjun Zhang",
          "commitDateOld": "12/07/17 2:15 PM",
          "commitNameOld": "931a49800ef05ee0a6fdc143be1799abb228735d",
          "commitAuthorOld": "Tsz-Wo Nicholas Sze",
          "daysBetweenCommits": 6.86,
          "commitsBetweenForRepo": 40,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,11 @@\n   private static Map\u003cString, Object\u003e toJson(FileSystem.DirectoryEntries\n-      entries) {\n+      entries, boolean isFile) {\n     Map\u003cString, Object\u003e json \u003d new LinkedHashMap\u003c\u003e();\n     Map\u003cString, Object\u003e inner \u003d new LinkedHashMap\u003c\u003e();\n-    Map\u003cString, Object\u003e fileStatuses \u003d toJson(entries.getEntries());\n+    Map\u003cString, Object\u003e fileStatuses \u003d toJson(entries.getEntries(), isFile);\n     inner.put(HttpFSFileSystem.PARTIAL_LISTING_JSON, fileStatuses);\n     inner.put(HttpFSFileSystem.REMAINING_ENTRIES_JSON, entries.hasMore() ? 1\n         : 0);\n     json.put(HttpFSFileSystem.DIRECTORY_LISTING_JSON, inner);\n     return json;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private static Map\u003cString, Object\u003e toJson(FileSystem.DirectoryEntries\n      entries, boolean isFile) {\n    Map\u003cString, Object\u003e json \u003d new LinkedHashMap\u003c\u003e();\n    Map\u003cString, Object\u003e inner \u003d new LinkedHashMap\u003c\u003e();\n    Map\u003cString, Object\u003e fileStatuses \u003d toJson(entries.getEntries(), isFile);\n    inner.put(HttpFSFileSystem.PARTIAL_LISTING_JSON, fileStatuses);\n    inner.put(HttpFSFileSystem.REMAINING_ENTRIES_JSON, entries.hasMore() ? 1\n        : 0);\n    json.put(HttpFSFileSystem.DIRECTORY_LISTING_JSON, inner);\n    return json;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/fs/http/server/FSOperations.java",
          "extendedDetails": {}
        }
      ]
    },
    "8a40953058d50d421d62b71067a13b626b3cba1f": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-10823. Implement HttpFSFileSystem#listStatusIterator.\n",
      "commitDate": "16/09/16 3:37 PM",
      "commitName": "8a40953058d50d421d62b71067a13b626b3cba1f",
      "commitAuthor": "Andrew Wang",
      "diff": "@@ -0,0 +1,11 @@\n+  private static Map\u003cString, Object\u003e toJson(FileSystem.DirectoryEntries\n+      entries) {\n+    Map\u003cString, Object\u003e json \u003d new LinkedHashMap\u003c\u003e();\n+    Map\u003cString, Object\u003e inner \u003d new LinkedHashMap\u003c\u003e();\n+    Map\u003cString, Object\u003e fileStatuses \u003d toJson(entries.getEntries());\n+    inner.put(HttpFSFileSystem.PARTIAL_LISTING_JSON, fileStatuses);\n+    inner.put(HttpFSFileSystem.REMAINING_ENTRIES_JSON, entries.hasMore() ? 1\n+        : 0);\n+    json.put(HttpFSFileSystem.DIRECTORY_LISTING_JSON, inner);\n+    return json;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static Map\u003cString, Object\u003e toJson(FileSystem.DirectoryEntries\n      entries) {\n    Map\u003cString, Object\u003e json \u003d new LinkedHashMap\u003c\u003e();\n    Map\u003cString, Object\u003e inner \u003d new LinkedHashMap\u003c\u003e();\n    Map\u003cString, Object\u003e fileStatuses \u003d toJson(entries.getEntries());\n    inner.put(HttpFSFileSystem.PARTIAL_LISTING_JSON, fileStatuses);\n    inner.put(HttpFSFileSystem.REMAINING_ENTRIES_JSON, entries.hasMore() ? 1\n        : 0);\n    json.put(HttpFSFileSystem.DIRECTORY_LISTING_JSON, inner);\n    return json;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/fs/http/server/FSOperations.java"
    }
  }
}