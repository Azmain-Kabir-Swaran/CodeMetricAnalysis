{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "YARNRunner.java",
  "functionName": "getDelegationTokenFromHS",
  "functionId": "getDelegationTokenFromHS___hsProxy-MRClientProtocol",
  "sourceFilePath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
  "functionStartLine": 245,
  "functionEndLine": 255,
  "numCommitsSeen": 114,
  "timeTaken": 2555,
  "changeHistory": [
    "acc0d3eb521e3c1d1b2f4be9b46c685ee921504b",
    "a2c42330047bf955a6a585dcddf798920d4c8640",
    "7359dc32d3781d5318efee4cf6185616c7c00c18",
    "92b7165a71656468f17ce8b760ce11e648932f0e",
    "12293f8a13054eb12ee8c346aeb24a211a0673de",
    "aa60da6c2ec049cc70897afee6c368cb70493773",
    "bc4b1f48d3aba7f7a324ae76ab65a0920b1e609e"
  ],
  "changeHistoryShort": {
    "acc0d3eb521e3c1d1b2f4be9b46c685ee921504b": "Ybodychange",
    "a2c42330047bf955a6a585dcddf798920d4c8640": "Ybodychange",
    "7359dc32d3781d5318efee4cf6185616c7c00c18": "Ybodychange",
    "92b7165a71656468f17ce8b760ce11e648932f0e": "Ybodychange",
    "12293f8a13054eb12ee8c346aeb24a211a0673de": "Ymultichange(Yparameterchange,Ymodifierchange,Ybodychange)",
    "aa60da6c2ec049cc70897afee6c368cb70493773": "Ymultichange(Yreturntypechange,Ybodychange)",
    "bc4b1f48d3aba7f7a324ae76ab65a0920b1e609e": "Yintroduced"
  },
  "changeHistoryDetails": {
    "acc0d3eb521e3c1d1b2f4be9b46c685ee921504b": {
      "type": "Ybodychange",
      "commitMessage": "YARN-840. Moved ProtoUtils to yarn.api.records.pb.impl. Contributed by Jian He.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1494027 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "17/06/13 10:47 PM",
      "commitName": "acc0d3eb521e3c1d1b2f4be9b46c685ee921504b",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "16/06/13 1:33 PM",
      "commitNameOld": "e3769ea1d2d088b169a78a1a1127848b2b2b8cbd",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 1.39,
      "commitsBetweenForRepo": 25,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n   Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n       throws IOException, InterruptedException {\n     GetDelegationTokenRequest request \u003d recordFactory\n       .newRecordInstance(GetDelegationTokenRequest.class);\n     request.setRenewer(Master.getMasterPrincipal(conf));\n     org.apache.hadoop.yarn.api.records.Token mrDelegationToken;\n     mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n         .getDelegationToken();\n-    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n+    return ConverterUtils.convertFromYarn(mrDelegationToken,\n         hsProxy.getConnectAddress());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n      throws IOException, InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(Master.getMasterPrincipal(conf));\n    org.apache.hadoop.yarn.api.records.Token mrDelegationToken;\n    mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n        .getDelegationToken();\n    return ConverterUtils.convertFromYarn(mrDelegationToken,\n        hsProxy.getConnectAddress());\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
      "extendedDetails": {}
    },
    "a2c42330047bf955a6a585dcddf798920d4c8640": {
      "type": "Ybodychange",
      "commitMessage": "YARN-717. Put object creation factories for Token in the class itself and remove useless derivations for specific tokens. Contributed by Jian He.\nMAPREDUCE-5289. Updated MR App to use Token directly after YARN-717. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1488616 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "01/06/13 2:43 PM",
      "commitName": "a2c42330047bf955a6a585dcddf798920d4c8640",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "24/05/13 6:46 PM",
      "commitNameOld": "643155cbee54809e1a7febd96cbb7d8111689b38",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 7.83,
      "commitsBetweenForRepo": 42,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n   Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n       throws IOException, InterruptedException {\n     GetDelegationTokenRequest request \u003d recordFactory\n       .newRecordInstance(GetDelegationTokenRequest.class);\n     request.setRenewer(Master.getMasterPrincipal(conf));\n-    DelegationToken mrDelegationToken;\n+    org.apache.hadoop.yarn.api.records.Token mrDelegationToken;\n     mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n         .getDelegationToken();\n     return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n         hsProxy.getConnectAddress());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n      throws IOException, InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(Master.getMasterPrincipal(conf));\n    org.apache.hadoop.yarn.api.records.Token mrDelegationToken;\n    mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n        .getDelegationToken();\n    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n        hsProxy.getConnectAddress());\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
      "extendedDetails": {}
    },
    "7359dc32d3781d5318efee4cf6185616c7c00c18": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-4067. Changed MRClientProtocol api to throw IOException only (Xuan Gong via vinodkv)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1481695 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/05/13 8:34 PM",
      "commitName": "7359dc32d3781d5318efee4cf6185616c7c00c18",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "06/05/13 12:04 PM",
      "commitNameOld": "92b7165a71656468f17ce8b760ce11e648932f0e",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 6.35,
      "commitsBetweenForRepo": 44,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,11 @@\n   Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n       throws IOException, InterruptedException {\n     GetDelegationTokenRequest request \u003d recordFactory\n       .newRecordInstance(GetDelegationTokenRequest.class);\n     request.setRenewer(Master.getMasterPrincipal(conf));\n     DelegationToken mrDelegationToken;\n-    try {\n-      mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n+    mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n         .getDelegationToken();\n-      return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n-          hsProxy.getConnectAddress());\n-    } catch (YarnRemoteException e) {\n-      throw new IOException(e);\n-    }\n+    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n+        hsProxy.getConnectAddress());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n      throws IOException, InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(Master.getMasterPrincipal(conf));\n    DelegationToken mrDelegationToken;\n    mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n        .getDelegationToken();\n    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n        hsProxy.getConnectAddress());\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
      "extendedDetails": {}
    },
    "92b7165a71656468f17ce8b760ce11e648932f0e": {
      "type": "Ybodychange",
      "commitMessage": "YARN-629. Make YarnRemoteException not be rooted at IOException. Contributed by Xuan Gong.\nMAPREDUCE-5204. Handling YarnRemoteException separately from IOException in MR app after YARN-629. Contributed by Xuan Gong.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1479680 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/05/13 12:04 PM",
      "commitName": "92b7165a71656468f17ce8b760ce11e648932f0e",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "11/04/13 12:28 PM",
      "commitNameOld": "e4c55e17fea55e2fcbef182bb2b0c4b22686f38c",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 24.98,
      "commitsBetweenForRepo": 133,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,15 @@\n   Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n       throws IOException, InterruptedException {\n     GetDelegationTokenRequest request \u003d recordFactory\n       .newRecordInstance(GetDelegationTokenRequest.class);\n     request.setRenewer(Master.getMasterPrincipal(conf));\n-    DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n-      .getDelegationToken();\n-    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n-                                             hsProxy.getConnectAddress());\n+    DelegationToken mrDelegationToken;\n+    try {\n+      mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n+        .getDelegationToken();\n+      return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n+          hsProxy.getConnectAddress());\n+    } catch (YarnRemoteException e) {\n+      throw new IOException(e);\n+    }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n      throws IOException, InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(Master.getMasterPrincipal(conf));\n    DelegationToken mrDelegationToken;\n    try {\n      mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n        .getDelegationToken();\n      return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n          hsProxy.getConnectAddress());\n    } catch (YarnRemoteException e) {\n      throw new IOException(e);\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
      "extendedDetails": {}
    },
    "12293f8a13054eb12ee8c346aeb24a211a0673de": {
      "type": "Ymultichange(Yparameterchange,Ymodifierchange,Ybodychange)",
      "commitMessage": "MAPREDUCE-4921. JobClient should acquire HS token with RM principal (daryn via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1432230 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "11/01/13 11:00 AM",
      "commitName": "12293f8a13054eb12ee8c346aeb24a211a0673de",
      "commitAuthor": "Robert Joseph Evans",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "MAPREDUCE-4921. JobClient should acquire HS token with RM principal (daryn via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1432230 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "11/01/13 11:00 AM",
          "commitName": "12293f8a13054eb12ee8c346aeb24a211a0673de",
          "commitAuthor": "Robert Joseph Evans",
          "commitDateOld": "08/01/13 10:31 PM",
          "commitNameOld": "5f7d4d2b451bec9d9db6b0a4c0b6e7991985116d",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 2.52,
          "commitsBetweenForRepo": 24,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,10 @@\n-  private Token\u003c?\u003e getDelegationTokenFromHS(\n-      MRClientProtocol hsProxy, Text renewer) throws IOException,\n-      InterruptedException {\n+  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n+      throws IOException, InterruptedException {\n     GetDelegationTokenRequest request \u003d recordFactory\n       .newRecordInstance(GetDelegationTokenRequest.class);\n-    request.setRenewer(renewer.toString());\n+    request.setRenewer(Master.getMasterPrincipal(conf));\n     DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n       .getDelegationToken();\n     return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n                                              hsProxy.getConnectAddress());\n   }\n\\ No newline at end of file\n",
          "actualSource": "  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n      throws IOException, InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(Master.getMasterPrincipal(conf));\n    DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n      .getDelegationToken();\n    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n                                             hsProxy.getConnectAddress());\n  }",
          "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
          "extendedDetails": {
            "oldValue": "[hsProxy-MRClientProtocol, renewer-Text]",
            "newValue": "[hsProxy-MRClientProtocol]"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "MAPREDUCE-4921. JobClient should acquire HS token with RM principal (daryn via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1432230 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "11/01/13 11:00 AM",
          "commitName": "12293f8a13054eb12ee8c346aeb24a211a0673de",
          "commitAuthor": "Robert Joseph Evans",
          "commitDateOld": "08/01/13 10:31 PM",
          "commitNameOld": "5f7d4d2b451bec9d9db6b0a4c0b6e7991985116d",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 2.52,
          "commitsBetweenForRepo": 24,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,10 @@\n-  private Token\u003c?\u003e getDelegationTokenFromHS(\n-      MRClientProtocol hsProxy, Text renewer) throws IOException,\n-      InterruptedException {\n+  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n+      throws IOException, InterruptedException {\n     GetDelegationTokenRequest request \u003d recordFactory\n       .newRecordInstance(GetDelegationTokenRequest.class);\n-    request.setRenewer(renewer.toString());\n+    request.setRenewer(Master.getMasterPrincipal(conf));\n     DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n       .getDelegationToken();\n     return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n                                              hsProxy.getConnectAddress());\n   }\n\\ No newline at end of file\n",
          "actualSource": "  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n      throws IOException, InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(Master.getMasterPrincipal(conf));\n    DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n      .getDelegationToken();\n    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n                                             hsProxy.getConnectAddress());\n  }",
          "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
          "extendedDetails": {
            "oldValue": "[private]",
            "newValue": "[]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "MAPREDUCE-4921. JobClient should acquire HS token with RM principal (daryn via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1432230 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "11/01/13 11:00 AM",
          "commitName": "12293f8a13054eb12ee8c346aeb24a211a0673de",
          "commitAuthor": "Robert Joseph Evans",
          "commitDateOld": "08/01/13 10:31 PM",
          "commitNameOld": "5f7d4d2b451bec9d9db6b0a4c0b6e7991985116d",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 2.52,
          "commitsBetweenForRepo": 24,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,11 +1,10 @@\n-  private Token\u003c?\u003e getDelegationTokenFromHS(\n-      MRClientProtocol hsProxy, Text renewer) throws IOException,\n-      InterruptedException {\n+  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n+      throws IOException, InterruptedException {\n     GetDelegationTokenRequest request \u003d recordFactory\n       .newRecordInstance(GetDelegationTokenRequest.class);\n-    request.setRenewer(renewer.toString());\n+    request.setRenewer(Master.getMasterPrincipal(conf));\n     DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n       .getDelegationToken();\n     return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n                                              hsProxy.getConnectAddress());\n   }\n\\ No newline at end of file\n",
          "actualSource": "  Token\u003c?\u003e getDelegationTokenFromHS(MRClientProtocol hsProxy)\n      throws IOException, InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(Master.getMasterPrincipal(conf));\n    DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n      .getDelegationToken();\n    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n                                             hsProxy.getConnectAddress());\n  }",
          "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
          "extendedDetails": {}
        }
      ]
    },
    "aa60da6c2ec049cc70897afee6c368cb70493773": {
      "type": "Ymultichange(Yreturntypechange,Ybodychange)",
      "commitMessage": "MAPREDUCE-4162. Correctly set token service (Daryn Sharp via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1335567 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "08/05/12 8:07 AM",
      "commitName": "aa60da6c2ec049cc70897afee6c368cb70493773",
      "commitAuthor": "Robert Joseph Evans",
      "subchanges": [
        {
          "type": "Yreturntypechange",
          "commitMessage": "MAPREDUCE-4162. Correctly set token service (Daryn Sharp via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1335567 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "08/05/12 8:07 AM",
          "commitName": "aa60da6c2ec049cc70897afee6c368cb70493773",
          "commitAuthor": "Robert Joseph Evans",
          "commitDateOld": "01/02/12 12:43 PM",
          "commitNameOld": "947ede4c4e03a1684890ede265c211482b172bec",
          "commitAuthorOld": "Mahadev Konar",
          "daysBetweenCommits": 96.77,
          "commitsBetweenForRepo": 741,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,11 @@\n-  private Token\u003cMRDelegationTokenIdentifier\u003e getDelegationTokenFromHS(\n+  private Token\u003c?\u003e getDelegationTokenFromHS(\n       MRClientProtocol hsProxy, Text renewer) throws IOException,\n       InterruptedException {\n     GetDelegationTokenRequest request \u003d recordFactory\n       .newRecordInstance(GetDelegationTokenRequest.class);\n     request.setRenewer(renewer.toString());\n     DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n       .getDelegationToken();\n-    return new Token\u003cMRDelegationTokenIdentifier\u003e(mrDelegationToken\n-      .getIdentifier().array(), mrDelegationToken.getPassword().array(),\n-      new Text(mrDelegationToken.getKind()), new Text(\n-        mrDelegationToken.getService()));\n+    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n+                                             hsProxy.getConnectAddress());\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private Token\u003c?\u003e getDelegationTokenFromHS(\n      MRClientProtocol hsProxy, Text renewer) throws IOException,\n      InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(renewer.toString());\n    DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n      .getDelegationToken();\n    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n                                             hsProxy.getConnectAddress());\n  }",
          "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
          "extendedDetails": {
            "oldValue": "Token\u003cMRDelegationTokenIdentifier\u003e",
            "newValue": "Token\u003c?\u003e"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "MAPREDUCE-4162. Correctly set token service (Daryn Sharp via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1335567 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "08/05/12 8:07 AM",
          "commitName": "aa60da6c2ec049cc70897afee6c368cb70493773",
          "commitAuthor": "Robert Joseph Evans",
          "commitDateOld": "01/02/12 12:43 PM",
          "commitNameOld": "947ede4c4e03a1684890ede265c211482b172bec",
          "commitAuthorOld": "Mahadev Konar",
          "daysBetweenCommits": 96.77,
          "commitsBetweenForRepo": 741,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,11 @@\n-  private Token\u003cMRDelegationTokenIdentifier\u003e getDelegationTokenFromHS(\n+  private Token\u003c?\u003e getDelegationTokenFromHS(\n       MRClientProtocol hsProxy, Text renewer) throws IOException,\n       InterruptedException {\n     GetDelegationTokenRequest request \u003d recordFactory\n       .newRecordInstance(GetDelegationTokenRequest.class);\n     request.setRenewer(renewer.toString());\n     DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n       .getDelegationToken();\n-    return new Token\u003cMRDelegationTokenIdentifier\u003e(mrDelegationToken\n-      .getIdentifier().array(), mrDelegationToken.getPassword().array(),\n-      new Text(mrDelegationToken.getKind()), new Text(\n-        mrDelegationToken.getService()));\n+    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n+                                             hsProxy.getConnectAddress());\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private Token\u003c?\u003e getDelegationTokenFromHS(\n      MRClientProtocol hsProxy, Text renewer) throws IOException,\n      InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(renewer.toString());\n    DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n      .getDelegationToken();\n    return ProtoUtils.convertFromProtoFormat(mrDelegationToken,\n                                             hsProxy.getConnectAddress());\n  }",
          "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java",
          "extendedDetails": {}
        }
      ]
    },
    "bc4b1f48d3aba7f7a324ae76ab65a0920b1e609e": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-3380. Token infrastructure for running clients which are not kerberos authenticated. (mahadev)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1229855 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/01/12 5:50 PM",
      "commitName": "bc4b1f48d3aba7f7a324ae76ab65a0920b1e609e",
      "commitAuthor": "Mahadev Konar",
      "diff": "@@ -0,0 +1,13 @@\n+  private Token\u003cMRDelegationTokenIdentifier\u003e getDelegationTokenFromHS(\n+      MRClientProtocol hsProxy, Text renewer) throws IOException,\n+      InterruptedException {\n+    GetDelegationTokenRequest request \u003d recordFactory\n+      .newRecordInstance(GetDelegationTokenRequest.class);\n+    request.setRenewer(renewer.toString());\n+    DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n+      .getDelegationToken();\n+    return new Token\u003cMRDelegationTokenIdentifier\u003e(mrDelegationToken\n+      .getIdentifier().array(), mrDelegationToken.getPassword().array(),\n+      new Text(mrDelegationToken.getKind()), new Text(\n+        mrDelegationToken.getService()));\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private Token\u003cMRDelegationTokenIdentifier\u003e getDelegationTokenFromHS(\n      MRClientProtocol hsProxy, Text renewer) throws IOException,\n      InterruptedException {\n    GetDelegationTokenRequest request \u003d recordFactory\n      .newRecordInstance(GetDelegationTokenRequest.class);\n    request.setRenewer(renewer.toString());\n    DelegationToken mrDelegationToken \u003d hsProxy.getDelegationToken(request)\n      .getDelegationToken();\n    return new Token\u003cMRDelegationTokenIdentifier\u003e(mrDelegationToken\n      .getIdentifier().array(), mrDelegationToken.getPassword().array(),\n      new Text(mrDelegationToken.getKind()), new Text(\n        mrDelegationToken.getService()));\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-jobclient/src/main/java/org/apache/hadoop/mapred/YARNRunner.java"
    }
  }
}