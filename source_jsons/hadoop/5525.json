{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "INodeFile.java",
  "functionName": "toUnderConstruction",
  "functionId": "toUnderConstruction___clientName-String__clientMachine-String",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
  "functionStartLine": 328,
  "functionEndLine": 335,
  "numCommitsSeen": 236,
  "timeTaken": 3469,
  "changeHistory": [
    "1e89eba47d0f291b33fc26f9406231fc70b63a87",
    "8df119da214babde03e73243c7ca4cfe6d0ca562",
    "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b",
    "ce68f410b05a58ad05965f32ad7f5b246b363a75"
  ],
  "changeHistoryShort": {
    "1e89eba47d0f291b33fc26f9406231fc70b63a87": "Ymultichange(Yparameterchange,Ybodychange)",
    "8df119da214babde03e73243c7ca4cfe6d0ca562": "Ybodychange",
    "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b": "Ymodifierchange",
    "ce68f410b05a58ad05965f32ad7f5b246b363a75": "Ymultichange(Yreturntypechange,Ybodychange)"
  },
  "changeHistoryDetails": {
    "1e89eba47d0f291b33fc26f9406231fc70b63a87": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-6583. Remove clientNode in FileUnderConstructionFeature. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1604541 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "22/06/14 12:39 AM",
      "commitName": "1e89eba47d0f291b33fc26f9406231fc70b63a87",
      "commitAuthor": "Haohui Mai",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-6583. Remove clientNode in FileUnderConstructionFeature. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1604541 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "22/06/14 12:39 AM",
          "commitName": "1e89eba47d0f291b33fc26f9406231fc70b63a87",
          "commitAuthor": "Haohui Mai",
          "commitDateOld": "21/06/14 3:59 PM",
          "commitNameOld": "8a83bb7ad6177f473c20c4cc9c0f46746224332c",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 0.36,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,8 @@\n-  INodeFile toUnderConstruction(String clientName, String clientMachine,\n-      DatanodeDescriptor clientNode) {\n+  INodeFile toUnderConstruction(String clientName, String clientMachine) {\n     Preconditions.checkState(!isUnderConstruction(),\n         \"file is already under construction\");\n     FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n-        clientName, clientMachine, clientNode);\n+        clientName, clientMachine);\n     addFeature(uc);\n     return this;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  INodeFile toUnderConstruction(String clientName, String clientMachine) {\n    Preconditions.checkState(!isUnderConstruction(),\n        \"file is already under construction\");\n    FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n        clientName, clientMachine);\n    addFeature(uc);\n    return this;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
          "extendedDetails": {
            "oldValue": "[clientName-String, clientMachine-String, clientNode-DatanodeDescriptor]",
            "newValue": "[clientName-String, clientMachine-String]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-6583. Remove clientNode in FileUnderConstructionFeature. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1604541 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "22/06/14 12:39 AM",
          "commitName": "1e89eba47d0f291b33fc26f9406231fc70b63a87",
          "commitAuthor": "Haohui Mai",
          "commitDateOld": "21/06/14 3:59 PM",
          "commitNameOld": "8a83bb7ad6177f473c20c4cc9c0f46746224332c",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 0.36,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,8 @@\n-  INodeFile toUnderConstruction(String clientName, String clientMachine,\n-      DatanodeDescriptor clientNode) {\n+  INodeFile toUnderConstruction(String clientName, String clientMachine) {\n     Preconditions.checkState(!isUnderConstruction(),\n         \"file is already under construction\");\n     FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n-        clientName, clientMachine, clientNode);\n+        clientName, clientMachine);\n     addFeature(uc);\n     return this;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  INodeFile toUnderConstruction(String clientName, String clientMachine) {\n    Preconditions.checkState(!isUnderConstruction(),\n        \"file is already under construction\");\n    FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n        clientName, clientMachine);\n    addFeature(uc);\n    return this;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
          "extendedDetails": {}
        }
      ]
    },
    "8df119da214babde03e73243c7ca4cfe6d0ca562": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5537. Remove FileWithSnapshot interface.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1546184 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "27/11/13 12:32 PM",
      "commitName": "8df119da214babde03e73243c7ca4cfe6d0ca562",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "26/11/13 10:33 AM",
      "commitNameOld": "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 1.08,
      "commitsBetweenForRepo": 6,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   INodeFile toUnderConstruction(String clientName, String clientMachine,\n       DatanodeDescriptor clientNode) {\n     Preconditions.checkState(!isUnderConstruction(),\n-        \"file is already an INodeFileUnderConstruction\");\n+        \"file is already under construction\");\n     FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n         clientName, clientMachine, clientNode);\n     addFeature(uc);\n     return this;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  INodeFile toUnderConstruction(String clientName, String clientMachine,\n      DatanodeDescriptor clientNode) {\n    Preconditions.checkState(!isUnderConstruction(),\n        \"file is already under construction\");\n    FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n        clientName, clientMachine, clientNode);\n    addFeature(uc);\n    return this;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
      "extendedDetails": {}
    },
    "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b": {
      "type": "Ymodifierchange",
      "commitMessage": "HDFS-5286. Flatten INodeDirectory hierarchy: Replace INodeDirectoryWithQuota with DirectoryWithQuotaFeature.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1545768 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "26/11/13 10:33 AM",
      "commitName": "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "21/11/13 5:39 PM",
      "commitNameOld": "ce68f410b05a58ad05965f32ad7f5b246b363a75",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 4.7,
      "commitsBetweenForRepo": 12,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n-  public INodeFile toUnderConstruction(String clientName, String clientMachine,\n+  INodeFile toUnderConstruction(String clientName, String clientMachine,\n       DatanodeDescriptor clientNode) {\n     Preconditions.checkState(!isUnderConstruction(),\n         \"file is already an INodeFileUnderConstruction\");\n     FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n         clientName, clientMachine, clientNode);\n     addFeature(uc);\n     return this;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  INodeFile toUnderConstruction(String clientName, String clientMachine,\n      DatanodeDescriptor clientNode) {\n    Preconditions.checkState(!isUnderConstruction(),\n        \"file is already an INodeFileUnderConstruction\");\n    FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n        clientName, clientMachine, clientNode);\n    addFeature(uc);\n    return this;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
      "extendedDetails": {
        "oldValue": "[public]",
        "newValue": "[]"
      }
    },
    "ce68f410b05a58ad05965f32ad7f5b246b363a75": {
      "type": "Ymultichange(Yreturntypechange,Ybodychange)",
      "commitMessage": "HDFS-5285. Flatten INodeFile hierarchy: Replace INodeFileUnderConstruction and INodeFileUnderConstructionWithSnapshot with FileUnderContructionFeature.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1544389 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "21/11/13 5:39 PM",
      "commitName": "ce68f410b05a58ad05965f32ad7f5b246b363a75",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-5285. Flatten INodeFile hierarchy: Replace INodeFileUnderConstruction and INodeFileUnderConstructionWithSnapshot with FileUnderContructionFeature.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1544389 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "21/11/13 5:39 PM",
          "commitName": "ce68f410b05a58ad05965f32ad7f5b246b363a75",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "14/11/13 8:49 AM",
          "commitNameOld": "fe67e30bc2794e7ff073cf938ee80eba805d1e69",
          "commitAuthorOld": "Kihwal Lee",
          "daysBetweenCommits": 7.37,
          "commitsBetweenForRepo": 61,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,9 @@\n-  public INodeFileUnderConstruction toUnderConstruction(\n-      String clientName,\n-      String clientMachine,\n+  public INodeFile toUnderConstruction(String clientName, String clientMachine,\n       DatanodeDescriptor clientNode) {\n     Preconditions.checkState(!isUnderConstruction(),\n         \"file is already an INodeFileUnderConstruction\");\n-    return new INodeFileUnderConstruction(this,\n-        clientName, clientMachine, clientNode); \n+    FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n+        clientName, clientMachine, clientNode);\n+    addFeature(uc);\n+    return this;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public INodeFile toUnderConstruction(String clientName, String clientMachine,\n      DatanodeDescriptor clientNode) {\n    Preconditions.checkState(!isUnderConstruction(),\n        \"file is already an INodeFileUnderConstruction\");\n    FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n        clientName, clientMachine, clientNode);\n    addFeature(uc);\n    return this;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
          "extendedDetails": {
            "oldValue": "INodeFileUnderConstruction",
            "newValue": "INodeFile"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-5285. Flatten INodeFile hierarchy: Replace INodeFileUnderConstruction and INodeFileUnderConstructionWithSnapshot with FileUnderContructionFeature.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1544389 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "21/11/13 5:39 PM",
          "commitName": "ce68f410b05a58ad05965f32ad7f5b246b363a75",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "14/11/13 8:49 AM",
          "commitNameOld": "fe67e30bc2794e7ff073cf938ee80eba805d1e69",
          "commitAuthorOld": "Kihwal Lee",
          "daysBetweenCommits": 7.37,
          "commitsBetweenForRepo": 61,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,9 @@\n-  public INodeFileUnderConstruction toUnderConstruction(\n-      String clientName,\n-      String clientMachine,\n+  public INodeFile toUnderConstruction(String clientName, String clientMachine,\n       DatanodeDescriptor clientNode) {\n     Preconditions.checkState(!isUnderConstruction(),\n         \"file is already an INodeFileUnderConstruction\");\n-    return new INodeFileUnderConstruction(this,\n-        clientName, clientMachine, clientNode); \n+    FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n+        clientName, clientMachine, clientNode);\n+    addFeature(uc);\n+    return this;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public INodeFile toUnderConstruction(String clientName, String clientMachine,\n      DatanodeDescriptor clientNode) {\n    Preconditions.checkState(!isUnderConstruction(),\n        \"file is already an INodeFileUnderConstruction\");\n    FileUnderConstructionFeature uc \u003d new FileUnderConstructionFeature(\n        clientName, clientMachine, clientNode);\n    addFeature(uc);\n    return this;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
          "extendedDetails": {}
        }
      ]
    }
  }
}