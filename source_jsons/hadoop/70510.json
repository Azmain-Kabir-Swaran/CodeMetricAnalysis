{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "WasbFsck.java",
  "functionName": "recursiveCheckChildPathName",
  "functionId": "recursiveCheckChildPathName___fs-FileSystem__p-Path",
  "sourceFilePath": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/WasbFsck.java",
  "functionStartLine": 138,
  "functionEndLine": 175,
  "numCommitsSeen": 2,
  "timeTaken": 748,
  "changeHistory": [
    "5af572b6443715b7a741296c1bd520a1840f9a7c",
    "81bc395deb3ba00567dc067d6ca71bacf9e3bc82"
  ],
  "changeHistoryShort": {
    "5af572b6443715b7a741296c1bd520a1840f9a7c": "Ybodychange",
    "81bc395deb3ba00567dc067d6ca71bacf9e3bc82": "Yintroduced"
  },
  "changeHistoryDetails": {
    "5af572b6443715b7a741296c1bd520a1840f9a7c": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-13427. Eliminate needless uses of FileSystem#{exists(), isFile(), isDirectory()}. Contributed by Steve Loughran and Mingliang Liu\n",
      "commitDate": "15/11/16 10:57 AM",
      "commitName": "5af572b6443715b7a741296c1bd520a1840f9a7c",
      "commitAuthor": "Mingliang Liu",
      "commitDateOld": "10/06/14 3:26 PM",
      "commitNameOld": "81bc395deb3ba00567dc067d6ca71bacf9e3bc82",
      "commitAuthorOld": "Chris Nauroth",
      "daysBetweenCommits": 888.85,
      "commitsBetweenForRepo": 7022,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,35 +1,38 @@\n   private boolean recursiveCheckChildPathName(FileSystem fs, Path p)\n       throws IOException {\n     if (p \u003d\u003d null) {\n       return true;\n     }\n-    if (!fs.exists(p)) {\n+    FileStatus status;\n+    try {\n+      status \u003d fs.getFileStatus(p);\n+    } catch (FileNotFoundException e) {\n       System.out.println(\"Path \" + p + \" does not exist!\");\n       return true;\n     }\n \n-    if (fs.isFile(p)) {\n+    if (status.isFile()) {\n       if (containsColon(p)) {\n         System.out.println(\"Warning: file \" + p + \" has a colon in its name.\");\n         return false;\n       } else {\n         return true;\n       }\n     } else {\n       boolean flag;\n       if (containsColon(p)) {\n         System.out.println(\"Warning: directory \" + p\n             + \" has a colon in its name.\");\n         flag \u003d false;\n       } else {\n         flag \u003d true;\n       }\n       FileStatus[] listed \u003d fs.listStatus(p);\n       for (FileStatus l : listed) {\n         if (!recursiveCheckChildPathName(fs, l.getPath())) {\n           flag \u003d false;\n         }\n       }\n       return flag;\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private boolean recursiveCheckChildPathName(FileSystem fs, Path p)\n      throws IOException {\n    if (p \u003d\u003d null) {\n      return true;\n    }\n    FileStatus status;\n    try {\n      status \u003d fs.getFileStatus(p);\n    } catch (FileNotFoundException e) {\n      System.out.println(\"Path \" + p + \" does not exist!\");\n      return true;\n    }\n\n    if (status.isFile()) {\n      if (containsColon(p)) {\n        System.out.println(\"Warning: file \" + p + \" has a colon in its name.\");\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      boolean flag;\n      if (containsColon(p)) {\n        System.out.println(\"Warning: directory \" + p\n            + \" has a colon in its name.\");\n        flag \u003d false;\n      } else {\n        flag \u003d true;\n      }\n      FileStatus[] listed \u003d fs.listStatus(p);\n      for (FileStatus l : listed) {\n        if (!recursiveCheckChildPathName(fs, l.getPath())) {\n          flag \u003d false;\n        }\n      }\n      return flag;\n    }\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/WasbFsck.java",
      "extendedDetails": {}
    },
    "81bc395deb3ba00567dc067d6ca71bacf9e3bc82": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-9629. Support Windows Azure Storage - Blob as a file system in Hadoop. Contributed by Dexter Bradshaw, Mostafa Elhemali, Xi Fang, Johannes Klein, David Lao, Mike Liddell, Chuan Liu, Lengning Liu, Ivan Mitic, Michael Rys, Alexander Stojanovic, Brian Swan, and Min Wei.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1601781 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/06/14 3:26 PM",
      "commitName": "81bc395deb3ba00567dc067d6ca71bacf9e3bc82",
      "commitAuthor": "Chris Nauroth",
      "diff": "@@ -0,0 +1,35 @@\n+  private boolean recursiveCheckChildPathName(FileSystem fs, Path p)\n+      throws IOException {\n+    if (p \u003d\u003d null) {\n+      return true;\n+    }\n+    if (!fs.exists(p)) {\n+      System.out.println(\"Path \" + p + \" does not exist!\");\n+      return true;\n+    }\n+\n+    if (fs.isFile(p)) {\n+      if (containsColon(p)) {\n+        System.out.println(\"Warning: file \" + p + \" has a colon in its name.\");\n+        return false;\n+      } else {\n+        return true;\n+      }\n+    } else {\n+      boolean flag;\n+      if (containsColon(p)) {\n+        System.out.println(\"Warning: directory \" + p\n+            + \" has a colon in its name.\");\n+        flag \u003d false;\n+      } else {\n+        flag \u003d true;\n+      }\n+      FileStatus[] listed \u003d fs.listStatus(p);\n+      for (FileStatus l : listed) {\n+        if (!recursiveCheckChildPathName(fs, l.getPath())) {\n+          flag \u003d false;\n+        }\n+      }\n+      return flag;\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private boolean recursiveCheckChildPathName(FileSystem fs, Path p)\n      throws IOException {\n    if (p \u003d\u003d null) {\n      return true;\n    }\n    if (!fs.exists(p)) {\n      System.out.println(\"Path \" + p + \" does not exist!\");\n      return true;\n    }\n\n    if (fs.isFile(p)) {\n      if (containsColon(p)) {\n        System.out.println(\"Warning: file \" + p + \" has a colon in its name.\");\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      boolean flag;\n      if (containsColon(p)) {\n        System.out.println(\"Warning: directory \" + p\n            + \" has a colon in its name.\");\n        flag \u003d false;\n      } else {\n        flag \u003d true;\n      }\n      FileStatus[] listed \u003d fs.listStatus(p);\n      for (FileStatus l : listed) {\n        if (!recursiveCheckChildPathName(fs, l.getPath())) {\n          flag \u003d false;\n        }\n      }\n      return flag;\n    }\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/WasbFsck.java"
    }
  }
}