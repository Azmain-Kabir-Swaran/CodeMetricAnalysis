{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "QuotaCounts.java",
  "functionName": "modify",
  "functionId": "modify___counter-EnumCounters__T____action-Consumer__EnumCounters__T____",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/QuotaCounts.java",
  "functionStartLine": 58,
  "functionEndLine": 69,
  "numCommitsSeen": 6,
  "timeTaken": 1634,
  "changeHistory": [
    "4632708148ed7dec75810feddb22ad98e4670483"
  ],
  "changeHistoryShort": {
    "4632708148ed7dec75810feddb22ad98e4670483": "Yintroduced"
  },
  "changeHistoryDetails": {
    "4632708148ed7dec75810feddb22ad98e4670483": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-14547. Improve memory efficiency of quotas when storage type quotas are not set. Contributed by Jinglun.\n",
      "commitDate": "08/07/19 2:46 PM",
      "commitName": "4632708148ed7dec75810feddb22ad98e4670483",
      "commitAuthor": "Erik Krogen",
      "diff": "@@ -0,0 +1,12 @@\n+  static \u003cT extends Enum\u003cT\u003e\u003e EnumCounters\u003cT\u003e modify(EnumCounters\u003cT\u003e counter,\n+      Consumer\u003cEnumCounters\u003cT\u003e\u003e action) {\n+    try {\n+      action.accept(counter);\n+    } catch (ConstEnumException cee) {\n+      // We don\u0027t call clone here because ConstEnumCounters.clone() will return\n+      // an object of class ConstEnumCounters. We want EnumCounters.\n+      counter \u003d counter.deepCopyEnumCounter();\n+      action.accept(counter);\n+    }\n+    return counter;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  static \u003cT extends Enum\u003cT\u003e\u003e EnumCounters\u003cT\u003e modify(EnumCounters\u003cT\u003e counter,\n      Consumer\u003cEnumCounters\u003cT\u003e\u003e action) {\n    try {\n      action.accept(counter);\n    } catch (ConstEnumException cee) {\n      // We don\u0027t call clone here because ConstEnumCounters.clone() will return\n      // an object of class ConstEnumCounters. We want EnumCounters.\n      counter \u003d counter.deepCopyEnumCounter();\n      action.accept(counter);\n    }\n    return counter;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/QuotaCounts.java"
    }
  }
}