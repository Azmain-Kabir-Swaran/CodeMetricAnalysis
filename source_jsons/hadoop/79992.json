{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "HardLink.java",
  "functionName": "linkCount",
  "functionId": "linkCount___file-File",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/HardLink.java",
  "functionStartLine": 138,
  "functionEndLine": 146,
  "numCommitsSeen": 14,
  "timeTaken": 1555,
  "changeHistory": [
    "dfa78484633b3ce21471d527b9c24671e3ca5df9",
    "c59af2fdf8f7f53117c626a895dab7fd78cf08ec",
    "638801cce16fc1dc3259c541dc30a599faaddda1",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
    "527bac7e2265548d8611723109f7f91b629079ed"
  ],
  "changeHistoryShort": {
    "dfa78484633b3ce21471d527b9c24671e3ca5df9": "Ybodychange",
    "c59af2fdf8f7f53117c626a895dab7fd78cf08ec": "Ybodychange",
    "638801cce16fc1dc3259c541dc30a599faaddda1": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52": "Yfilerename",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yfilerename",
    "527bac7e2265548d8611723109f7f91b629079ed": "Yintroduced"
  },
  "changeHistoryDetails": {
    "dfa78484633b3ce21471d527b9c24671e3ca5df9": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-12478. Shell.getWinUtilsPath() has been renamed Shell.getWinutilsPath(). (stevel)\n",
      "commitDate": "14/10/15 12:25 PM",
      "commitName": "dfa78484633b3ce21471d527b9c24671e3ca5df9",
      "commitAuthor": "Steve Loughran",
      "commitDateOld": "13/10/15 1:49 PM",
      "commitNameOld": "c59af2fdf8f7f53117c626a895dab7fd78cf08ec",
      "commitAuthorOld": "Steve Loughran",
      "daysBetweenCommits": 0.94,
      "commitsBetweenForRepo": 13,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n     String[] linkCount(File file) throws IOException {\n       // trigger the check for winutils\n-      Shell.getWinutilsFile();\n+      Shell.getWinUtilsFile();\n       String[] buf \u003d new String[getLinkCountCommand.length];\n       System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                        getLinkCountCommand.length);\n       buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n       return buf;\n     }\n\\ No newline at end of file\n",
      "actualSource": "    String[] linkCount(File file) throws IOException {\n      // trigger the check for winutils\n      Shell.getWinUtilsFile();\n      String[] buf \u003d new String[getLinkCountCommand.length];\n      System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                       getLinkCountCommand.length);\n      buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n      return buf;\n    }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/HardLink.java",
      "extendedDetails": {}
    },
    "c59af2fdf8f7f53117c626a895dab7fd78cf08ec": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-10775. Shell operations to fail with meaningful errors on windows if winutils.exe not found. (stevel)\n",
      "commitDate": "13/10/15 1:49 PM",
      "commitName": "c59af2fdf8f7f53117c626a895dab7fd78cf08ec",
      "commitAuthor": "Steve Loughran",
      "commitDateOld": "15/01/15 3:54 AM",
      "commitNameOld": "db51548f706ccd2d0200745ab89e27610c6d10bc",
      "commitAuthorOld": "Akira Ajisaka",
      "daysBetweenCommits": 271.37,
      "commitsBetweenForRepo": 2340,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,9 @@\n     String[] linkCount(File file) throws IOException {\n+      // trigger the check for winutils\n+      Shell.getWinutilsFile();\n       String[] buf \u003d new String[getLinkCountCommand.length];\n       System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                        getLinkCountCommand.length);\n       buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n       return buf;\n     }\n\\ No newline at end of file\n",
      "actualSource": "    String[] linkCount(File file) throws IOException {\n      // trigger the check for winutils\n      Shell.getWinutilsFile();\n      String[] buf \u003d new String[getLinkCountCommand.length];\n      System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                       getLinkCountCommand.length);\n      buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n      return buf;\n    }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/HardLink.java",
      "extendedDetails": {}
    },
    "638801cce16fc1dc3259c541dc30a599faaddda1": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/03/13 11:15 AM",
      "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "23/10/12 8:32 AM",
      "commitNameOld": "13422461f3a96aca663bc8464535cce19804148d",
      "commitAuthorOld": "Robert Joseph Evans",
      "daysBetweenCommits": 134.15,
      "commitsBetweenForRepo": 586,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,8 @@\n     String[] linkCount(File file) \n     throws IOException {\n       String[] buf \u003d new String[getLinkCountCommand.length];\n       System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                        getLinkCountCommand.length);\n-      //The linkCount command is actually a Cygwin shell command,\n-      //not a Windows shell command, so we should use \"makeShellPath()\"\n-      //instead of \"getCanonicalPath()\".  However, that causes another\n-      //shell exec to \"cygpath.exe\", and \"stat.exe\" actually can handle\n-      //DOS-style paths (it just prints a couple hundred bytes of warning\n-      //to stderr), so we use the more efficient \"getCanonicalPath()\".\n       buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n       return buf;\n     }\n\\ No newline at end of file\n",
      "actualSource": "    String[] linkCount(File file) \n    throws IOException {\n      String[] buf \u003d new String[getLinkCountCommand.length];\n      System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                       getLinkCountCommand.length);\n      buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n      return buf;\n    }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/HardLink.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    String[] linkCount(File file) \n    throws IOException {\n      String[] buf \u003d new String[getLinkCountCommand.length];\n      System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                       getLinkCountCommand.length);\n      //The linkCount command is actually a Cygwin shell command,\n      //not a Windows shell command, so we should use \"makeShellPath()\"\n      //instead of \"getCanonicalPath()\".  However, that causes another\n      //shell exec to \"cygpath.exe\", and \"stat.exe\" actually can handle\n      //DOS-style paths (it just prints a couple hundred bytes of warning\n      //to stderr), so we use the more efficient \"getCanonicalPath()\".\n      buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n      return buf;\n    }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/HardLink.java",
      "extendedDetails": {
        "oldPath": "hadoop-common/src/main/java/org/apache/hadoop/fs/HardLink.java",
        "newPath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/HardLink.java"
      }
    },
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-6671. Use maven for hadoop common builds. Contributed by Alejandro Abdelnur.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1153184 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "02/08/11 9:37 AM",
      "commitName": "0f6dfeeacbab65a31a33927a4eb84871d371fe52",
      "commitAuthor": "Thomas White",
      "commitDateOld": "01/08/11 3:53 PM",
      "commitNameOld": "9bac807cedbcff34e1a144fb475eff267e5ed86d",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.74,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    String[] linkCount(File file) \n    throws IOException {\n      String[] buf \u003d new String[getLinkCountCommand.length];\n      System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                       getLinkCountCommand.length);\n      //The linkCount command is actually a Cygwin shell command,\n      //not a Windows shell command, so we should use \"makeShellPath()\"\n      //instead of \"getCanonicalPath()\".  However, that causes another\n      //shell exec to \"cygpath.exe\", and \"stat.exe\" actually can handle\n      //DOS-style paths (it just prints a couple hundred bytes of warning\n      //to stderr), so we use the more efficient \"getCanonicalPath()\".\n      buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n      return buf;\n    }",
      "path": "hadoop-common/src/main/java/org/apache/hadoop/fs/HardLink.java",
      "extendedDetails": {
        "oldPath": "common/src/java/org/apache/hadoop/fs/HardLink.java",
        "newPath": "hadoop-common/src/main/java/org/apache/hadoop/fs/HardLink.java"
      }
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "commitDateOld": "11/06/11 9:13 PM",
      "commitNameOld": "a285fb5effe9ba3be4ec5f942afaf5ddd1186151",
      "commitAuthorOld": "Eli Collins",
      "daysBetweenCommits": 0.74,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    String[] linkCount(File file) \n    throws IOException {\n      String[] buf \u003d new String[getLinkCountCommand.length];\n      System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                       getLinkCountCommand.length);\n      //The linkCount command is actually a Cygwin shell command,\n      //not a Windows shell command, so we should use \"makeShellPath()\"\n      //instead of \"getCanonicalPath()\".  However, that causes another\n      //shell exec to \"cygpath.exe\", and \"stat.exe\" actually can handle\n      //DOS-style paths (it just prints a couple hundred bytes of warning\n      //to stderr), so we use the more efficient \"getCanonicalPath()\".\n      buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n      return buf;\n    }",
      "path": "common/src/java/org/apache/hadoop/fs/HardLink.java",
      "extendedDetails": {
        "oldPath": "src/java/org/apache/hadoop/fs/HardLink.java",
        "newPath": "common/src/java/org/apache/hadoop/fs/HardLink.java"
      }
    },
    "527bac7e2265548d8611723109f7f91b629079ed": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7133. Batch the calls in DataStorage to FileUtil.createHardLink().  Contributed by Matt Foley.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1080396 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/03/11 3:33 PM",
      "commitName": "527bac7e2265548d8611723109f7f91b629079ed",
      "commitAuthor": "Jakob Homan",
      "diff": "@@ -0,0 +1,14 @@\n+    String[] linkCount(File file) \n+    throws IOException {\n+      String[] buf \u003d new String[getLinkCountCommand.length];\n+      System.arraycopy(getLinkCountCommand, 0, buf, 0, \n+                       getLinkCountCommand.length);\n+      //The linkCount command is actually a Cygwin shell command,\n+      //not a Windows shell command, so we should use \"makeShellPath()\"\n+      //instead of \"getCanonicalPath()\".  However, that causes another\n+      //shell exec to \"cygpath.exe\", and \"stat.exe\" actually can handle\n+      //DOS-style paths (it just prints a couple hundred bytes of warning\n+      //to stderr), so we use the more efficient \"getCanonicalPath()\".\n+      buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n+      return buf;\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    String[] linkCount(File file) \n    throws IOException {\n      String[] buf \u003d new String[getLinkCountCommand.length];\n      System.arraycopy(getLinkCountCommand, 0, buf, 0, \n                       getLinkCountCommand.length);\n      //The linkCount command is actually a Cygwin shell command,\n      //not a Windows shell command, so we should use \"makeShellPath()\"\n      //instead of \"getCanonicalPath()\".  However, that causes another\n      //shell exec to \"cygpath.exe\", and \"stat.exe\" actually can handle\n      //DOS-style paths (it just prints a couple hundred bytes of warning\n      //to stderr), so we use the more efficient \"getCanonicalPath()\".\n      buf[getLinkCountCommand.length - 1] \u003d file.getCanonicalPath();\n      return buf;\n    }",
      "path": "src/java/org/apache/hadoop/fs/HardLink.java"
    }
  }
}