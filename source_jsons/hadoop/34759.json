{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AMRMProxyService.java",
  "functionName": "createApplicationMasterContext",
  "functionId": "createApplicationMasterContext___context-Context__applicationAttemptId-ApplicationAttemptId__user-String__amrmToken-Token__AMRMTokenIdentifier____localToken-Token__AMRMTokenIdentifier____credentials-Credentials__registryImpl-RegistryOperations",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/AMRMProxyService.java",
  "functionStartLine": 648,
  "functionEndLine": 658,
  "numCommitsSeen": 37,
  "timeTaken": 3632,
  "changeHistory": [
    "d5f66888b8d767ee6706fab9950c194a1bf26d32",
    "749e5c09b9990590c282ea944e24735b795351fc",
    "6f72f1e6003ab11679bebeb96f27f1f62b3b3e02"
  ],
  "changeHistoryShort": {
    "d5f66888b8d767ee6706fab9950c194a1bf26d32": "Ymultichange(Yparameterchange,Ybodychange)",
    "749e5c09b9990590c282ea944e24735b795351fc": "Ymultichange(Yparameterchange,Ybodychange)",
    "6f72f1e6003ab11679bebeb96f27f1f62b3b3e02": "Yintroduced"
  },
  "changeHistoryDetails": {
    "d5f66888b8d767ee6706fab9950c194a1bf26d32": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-6128. Add support for AMRMProxy HA. (Botong Huang via Subru).\n",
      "commitDate": "17/11/17 5:39 PM",
      "commitName": "d5f66888b8d767ee6706fab9950c194a1bf26d32",
      "commitAuthor": "Subru Krishnan",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-6128. Add support for AMRMProxy HA. (Botong Huang via Subru).\n",
          "commitDate": "17/11/17 5:39 PM",
          "commitName": "d5f66888b8d767ee6706fab9950c194a1bf26d32",
          "commitAuthor": "Subru Krishnan",
          "commitDateOld": "22/06/17 11:27 AM",
          "commitNameOld": "49aa60e50d20f8c18ed6f00fa8966244536fe7da",
          "commitAuthorOld": "Arun Suresh",
          "daysBetweenCommits": 148.3,
          "commitsBetweenForRepo": 1203,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,11 @@\n   private AMRMProxyApplicationContext createApplicationMasterContext(\n       Context context, ApplicationAttemptId applicationAttemptId, String user,\n       Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n-      Token\u003cAMRMTokenIdentifier\u003e localToken) {\n+      Token\u003cAMRMTokenIdentifier\u003e localToken, Credentials credentials,\n+      RegistryOperations registryImpl) {\n     AMRMProxyApplicationContextImpl appContext \u003d\n         new AMRMProxyApplicationContextImpl(context, getConfig(),\n-            applicationAttemptId, user, amrmToken, localToken);\n+            applicationAttemptId, user, amrmToken, localToken, credentials,\n+            registryImpl);\n     return appContext;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private AMRMProxyApplicationContext createApplicationMasterContext(\n      Context context, ApplicationAttemptId applicationAttemptId, String user,\n      Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n      Token\u003cAMRMTokenIdentifier\u003e localToken, Credentials credentials,\n      RegistryOperations registryImpl) {\n    AMRMProxyApplicationContextImpl appContext \u003d\n        new AMRMProxyApplicationContextImpl(context, getConfig(),\n            applicationAttemptId, user, amrmToken, localToken, credentials,\n            registryImpl);\n    return appContext;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/AMRMProxyService.java",
          "extendedDetails": {
            "oldValue": "[context-Context, applicationAttemptId-ApplicationAttemptId, user-String, amrmToken-Token\u003cAMRMTokenIdentifier\u003e, localToken-Token\u003cAMRMTokenIdentifier\u003e]",
            "newValue": "[context-Context, applicationAttemptId-ApplicationAttemptId, user-String, amrmToken-Token\u003cAMRMTokenIdentifier\u003e, localToken-Token\u003cAMRMTokenIdentifier\u003e, credentials-Credentials, registryImpl-RegistryOperations]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-6128. Add support for AMRMProxy HA. (Botong Huang via Subru).\n",
          "commitDate": "17/11/17 5:39 PM",
          "commitName": "d5f66888b8d767ee6706fab9950c194a1bf26d32",
          "commitAuthor": "Subru Krishnan",
          "commitDateOld": "22/06/17 11:27 AM",
          "commitNameOld": "49aa60e50d20f8c18ed6f00fa8966244536fe7da",
          "commitAuthorOld": "Arun Suresh",
          "daysBetweenCommits": 148.3,
          "commitsBetweenForRepo": 1203,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,11 @@\n   private AMRMProxyApplicationContext createApplicationMasterContext(\n       Context context, ApplicationAttemptId applicationAttemptId, String user,\n       Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n-      Token\u003cAMRMTokenIdentifier\u003e localToken) {\n+      Token\u003cAMRMTokenIdentifier\u003e localToken, Credentials credentials,\n+      RegistryOperations registryImpl) {\n     AMRMProxyApplicationContextImpl appContext \u003d\n         new AMRMProxyApplicationContextImpl(context, getConfig(),\n-            applicationAttemptId, user, amrmToken, localToken);\n+            applicationAttemptId, user, amrmToken, localToken, credentials,\n+            registryImpl);\n     return appContext;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private AMRMProxyApplicationContext createApplicationMasterContext(\n      Context context, ApplicationAttemptId applicationAttemptId, String user,\n      Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n      Token\u003cAMRMTokenIdentifier\u003e localToken, Credentials credentials,\n      RegistryOperations registryImpl) {\n    AMRMProxyApplicationContextImpl appContext \u003d\n        new AMRMProxyApplicationContextImpl(context, getConfig(),\n            applicationAttemptId, user, amrmToken, localToken, credentials,\n            registryImpl);\n    return appContext;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/AMRMProxyService.java",
          "extendedDetails": {}
        }
      ]
    },
    "749e5c09b9990590c282ea944e24735b795351fc": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-6281. Cleanup when AMRMProxy fails to initialize a new interceptor chain. (Botong Huang via Subru)\n\n(cherry picked from commit 57a9afbd45b7ef8e6021cc58f96bd0074bf1389d)\n",
      "commitDate": "08/05/17 4:55 PM",
      "commitName": "749e5c09b9990590c282ea944e24735b795351fc",
      "commitAuthor": "Subru Krishnan",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-6281. Cleanup when AMRMProxy fails to initialize a new interceptor chain. (Botong Huang via Subru)\n\n(cherry picked from commit 57a9afbd45b7ef8e6021cc58f96bd0074bf1389d)\n",
          "commitDate": "08/05/17 4:55 PM",
          "commitName": "749e5c09b9990590c282ea944e24735b795351fc",
          "commitAuthor": "Subru Krishnan",
          "commitDateOld": "08/05/17 4:41 PM",
          "commitNameOld": "cd9ff27ffc9369820d0c39200a11bf00e6a767c8",
          "commitAuthorOld": "Subru Krishnan",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,9 @@\n   private AMRMProxyApplicationContext createApplicationMasterContext(\n-      ApplicationAttemptId applicationAttemptId, String user,\n+      Context context, ApplicationAttemptId applicationAttemptId, String user,\n       Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n       Token\u003cAMRMTokenIdentifier\u003e localToken) {\n     AMRMProxyApplicationContextImpl appContext \u003d\n-        new AMRMProxyApplicationContextImpl(this.nmContext, getConfig(),\n+        new AMRMProxyApplicationContextImpl(context, getConfig(),\n             applicationAttemptId, user, amrmToken, localToken);\n     return appContext;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private AMRMProxyApplicationContext createApplicationMasterContext(\n      Context context, ApplicationAttemptId applicationAttemptId, String user,\n      Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n      Token\u003cAMRMTokenIdentifier\u003e localToken) {\n    AMRMProxyApplicationContextImpl appContext \u003d\n        new AMRMProxyApplicationContextImpl(context, getConfig(),\n            applicationAttemptId, user, amrmToken, localToken);\n    return appContext;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/AMRMProxyService.java",
          "extendedDetails": {
            "oldValue": "[applicationAttemptId-ApplicationAttemptId, user-String, amrmToken-Token\u003cAMRMTokenIdentifier\u003e, localToken-Token\u003cAMRMTokenIdentifier\u003e]",
            "newValue": "[context-Context, applicationAttemptId-ApplicationAttemptId, user-String, amrmToken-Token\u003cAMRMTokenIdentifier\u003e, localToken-Token\u003cAMRMTokenIdentifier\u003e]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-6281. Cleanup when AMRMProxy fails to initialize a new interceptor chain. (Botong Huang via Subru)\n\n(cherry picked from commit 57a9afbd45b7ef8e6021cc58f96bd0074bf1389d)\n",
          "commitDate": "08/05/17 4:55 PM",
          "commitName": "749e5c09b9990590c282ea944e24735b795351fc",
          "commitAuthor": "Subru Krishnan",
          "commitDateOld": "08/05/17 4:41 PM",
          "commitNameOld": "cd9ff27ffc9369820d0c39200a11bf00e6a767c8",
          "commitAuthorOld": "Subru Krishnan",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,9 @@\n   private AMRMProxyApplicationContext createApplicationMasterContext(\n-      ApplicationAttemptId applicationAttemptId, String user,\n+      Context context, ApplicationAttemptId applicationAttemptId, String user,\n       Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n       Token\u003cAMRMTokenIdentifier\u003e localToken) {\n     AMRMProxyApplicationContextImpl appContext \u003d\n-        new AMRMProxyApplicationContextImpl(this.nmContext, getConfig(),\n+        new AMRMProxyApplicationContextImpl(context, getConfig(),\n             applicationAttemptId, user, amrmToken, localToken);\n     return appContext;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private AMRMProxyApplicationContext createApplicationMasterContext(\n      Context context, ApplicationAttemptId applicationAttemptId, String user,\n      Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n      Token\u003cAMRMTokenIdentifier\u003e localToken) {\n    AMRMProxyApplicationContextImpl appContext \u003d\n        new AMRMProxyApplicationContextImpl(context, getConfig(),\n            applicationAttemptId, user, amrmToken, localToken);\n    return appContext;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/AMRMProxyService.java",
          "extendedDetails": {}
        }
      ]
    },
    "6f72f1e6003ab11679bebeb96f27f1f62b3b3e02": {
      "type": "Yintroduced",
      "commitMessage": "YARN-2884. Added a proxy service in NM to proxy the the communication between AM and RM. Contributed by Kishore Chaliparambil\n",
      "commitDate": "07/09/15 6:35 PM",
      "commitName": "6f72f1e6003ab11679bebeb96f27f1f62b3b3e02",
      "commitAuthor": "Jian He",
      "diff": "@@ -0,0 +1,9 @@\n+  private AMRMProxyApplicationContext createApplicationMasterContext(\n+      ApplicationAttemptId applicationAttemptId, String user,\n+      Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n+      Token\u003cAMRMTokenIdentifier\u003e localToken) {\n+    AMRMProxyApplicationContextImpl appContext \u003d\n+        new AMRMProxyApplicationContextImpl(this.nmContext, getConfig(),\n+            applicationAttemptId, user, amrmToken, localToken);\n+    return appContext;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private AMRMProxyApplicationContext createApplicationMasterContext(\n      ApplicationAttemptId applicationAttemptId, String user,\n      Token\u003cAMRMTokenIdentifier\u003e amrmToken,\n      Token\u003cAMRMTokenIdentifier\u003e localToken) {\n    AMRMProxyApplicationContextImpl appContext \u003d\n        new AMRMProxyApplicationContextImpl(this.nmContext, getConfig(),\n            applicationAttemptId, user, amrmToken, localToken);\n    return appContext;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/amrmproxy/AMRMProxyService.java"
    }
  }
}