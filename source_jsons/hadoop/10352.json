{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "IncrementalBlockReportManager.java",
  "functionName": "putMissing",
  "functionId": "putMissing___rdbis-ReceivedDeletedBlockInfo[]",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/IncrementalBlockReportManager.java",
  "functionStartLine": 110,
  "functionEndLine": 119,
  "numCommitsSeen": 88,
  "timeTaken": 2817,
  "changeHistory": [
    "4e5e1c0f9938e51699c0437731e7b2eef699d6da"
  ],
  "changeHistoryShort": {
    "4e5e1c0f9938e51699c0437731e7b2eef699d6da": "Ymultichange(Ymovefromfile,Ybodychange,Yrename,Yparameterchange)"
  },
  "changeHistoryDetails": {
    "4e5e1c0f9938e51699c0437731e7b2eef699d6da": {
      "type": "Ymultichange(Ymovefromfile,Ybodychange,Yrename,Yparameterchange)",
      "commitMessage": "HDFS-9726. Refactor IBR code to a new class.\n",
      "commitDate": "05/02/16 7:17 AM",
      "commitName": "4e5e1c0f9938e51699c0437731e7b2eef699d6da",
      "commitAuthor": "Tsz-Wo Nicholas Sze",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "HDFS-9726. Refactor IBR code to a new class.\n",
          "commitDate": "05/02/16 7:17 AM",
          "commitName": "4e5e1c0f9938e51699c0437731e7b2eef699d6da",
          "commitAuthor": "Tsz-Wo Nicholas Sze",
          "commitDateOld": "04/02/16 11:34 AM",
          "commitNameOld": "1bcfab8e7fd8562f1829ac484d2f6c91f7afe3d6",
          "commitAuthorOld": "Haohui Mai",
          "daysBetweenCommits": 0.82,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n-    int putMissingBlockInfos(ReceivedDeletedBlockInfo[] blockArray) {\n-      int blocksPut \u003d 0;\n-      for (ReceivedDeletedBlockInfo rdbi : blockArray) {\n-        if (!pendingIncrementalBR.containsKey(rdbi.getBlock().getBlockId())) {\n-          pendingIncrementalBR.put(rdbi.getBlock().getBlockId(), rdbi);\n-          ++blocksPut;\n+    int putMissing(ReceivedDeletedBlockInfo[] rdbis) {\n+      int count \u003d 0;\n+      for (ReceivedDeletedBlockInfo rdbi : rdbis) {\n+        if (!blocks.containsKey(rdbi.getBlock())) {\n+          put(rdbi);\n+          count++;\n         }\n       }\n-      return blocksPut;\n+      return count;\n     }\n\\ No newline at end of file\n",
          "actualSource": "    int putMissing(ReceivedDeletedBlockInfo[] rdbis) {\n      int count \u003d 0;\n      for (ReceivedDeletedBlockInfo rdbi : rdbis) {\n        if (!blocks.containsKey(rdbi.getBlock())) {\n          put(rdbi);\n          count++;\n        }\n      }\n      return count;\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/IncrementalBlockReportManager.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/BPServiceActor.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/IncrementalBlockReportManager.java",
            "oldMethodName": "putMissingBlockInfos",
            "newMethodName": "putMissing"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-9726. Refactor IBR code to a new class.\n",
          "commitDate": "05/02/16 7:17 AM",
          "commitName": "4e5e1c0f9938e51699c0437731e7b2eef699d6da",
          "commitAuthor": "Tsz-Wo Nicholas Sze",
          "commitDateOld": "04/02/16 11:34 AM",
          "commitNameOld": "1bcfab8e7fd8562f1829ac484d2f6c91f7afe3d6",
          "commitAuthorOld": "Haohui Mai",
          "daysBetweenCommits": 0.82,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n-    int putMissingBlockInfos(ReceivedDeletedBlockInfo[] blockArray) {\n-      int blocksPut \u003d 0;\n-      for (ReceivedDeletedBlockInfo rdbi : blockArray) {\n-        if (!pendingIncrementalBR.containsKey(rdbi.getBlock().getBlockId())) {\n-          pendingIncrementalBR.put(rdbi.getBlock().getBlockId(), rdbi);\n-          ++blocksPut;\n+    int putMissing(ReceivedDeletedBlockInfo[] rdbis) {\n+      int count \u003d 0;\n+      for (ReceivedDeletedBlockInfo rdbi : rdbis) {\n+        if (!blocks.containsKey(rdbi.getBlock())) {\n+          put(rdbi);\n+          count++;\n         }\n       }\n-      return blocksPut;\n+      return count;\n     }\n\\ No newline at end of file\n",
          "actualSource": "    int putMissing(ReceivedDeletedBlockInfo[] rdbis) {\n      int count \u003d 0;\n      for (ReceivedDeletedBlockInfo rdbi : rdbis) {\n        if (!blocks.containsKey(rdbi.getBlock())) {\n          put(rdbi);\n          count++;\n        }\n      }\n      return count;\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/IncrementalBlockReportManager.java",
          "extendedDetails": {}
        },
        {
          "type": "Yrename",
          "commitMessage": "HDFS-9726. Refactor IBR code to a new class.\n",
          "commitDate": "05/02/16 7:17 AM",
          "commitName": "4e5e1c0f9938e51699c0437731e7b2eef699d6da",
          "commitAuthor": "Tsz-Wo Nicholas Sze",
          "commitDateOld": "04/02/16 11:34 AM",
          "commitNameOld": "1bcfab8e7fd8562f1829ac484d2f6c91f7afe3d6",
          "commitAuthorOld": "Haohui Mai",
          "daysBetweenCommits": 0.82,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n-    int putMissingBlockInfos(ReceivedDeletedBlockInfo[] blockArray) {\n-      int blocksPut \u003d 0;\n-      for (ReceivedDeletedBlockInfo rdbi : blockArray) {\n-        if (!pendingIncrementalBR.containsKey(rdbi.getBlock().getBlockId())) {\n-          pendingIncrementalBR.put(rdbi.getBlock().getBlockId(), rdbi);\n-          ++blocksPut;\n+    int putMissing(ReceivedDeletedBlockInfo[] rdbis) {\n+      int count \u003d 0;\n+      for (ReceivedDeletedBlockInfo rdbi : rdbis) {\n+        if (!blocks.containsKey(rdbi.getBlock())) {\n+          put(rdbi);\n+          count++;\n         }\n       }\n-      return blocksPut;\n+      return count;\n     }\n\\ No newline at end of file\n",
          "actualSource": "    int putMissing(ReceivedDeletedBlockInfo[] rdbis) {\n      int count \u003d 0;\n      for (ReceivedDeletedBlockInfo rdbi : rdbis) {\n        if (!blocks.containsKey(rdbi.getBlock())) {\n          put(rdbi);\n          count++;\n        }\n      }\n      return count;\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/IncrementalBlockReportManager.java",
          "extendedDetails": {
            "oldValue": "putMissingBlockInfos",
            "newValue": "putMissing"
          }
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-9726. Refactor IBR code to a new class.\n",
          "commitDate": "05/02/16 7:17 AM",
          "commitName": "4e5e1c0f9938e51699c0437731e7b2eef699d6da",
          "commitAuthor": "Tsz-Wo Nicholas Sze",
          "commitDateOld": "04/02/16 11:34 AM",
          "commitNameOld": "1bcfab8e7fd8562f1829ac484d2f6c91f7afe3d6",
          "commitAuthorOld": "Haohui Mai",
          "daysBetweenCommits": 0.82,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n-    int putMissingBlockInfos(ReceivedDeletedBlockInfo[] blockArray) {\n-      int blocksPut \u003d 0;\n-      for (ReceivedDeletedBlockInfo rdbi : blockArray) {\n-        if (!pendingIncrementalBR.containsKey(rdbi.getBlock().getBlockId())) {\n-          pendingIncrementalBR.put(rdbi.getBlock().getBlockId(), rdbi);\n-          ++blocksPut;\n+    int putMissing(ReceivedDeletedBlockInfo[] rdbis) {\n+      int count \u003d 0;\n+      for (ReceivedDeletedBlockInfo rdbi : rdbis) {\n+        if (!blocks.containsKey(rdbi.getBlock())) {\n+          put(rdbi);\n+          count++;\n         }\n       }\n-      return blocksPut;\n+      return count;\n     }\n\\ No newline at end of file\n",
          "actualSource": "    int putMissing(ReceivedDeletedBlockInfo[] rdbis) {\n      int count \u003d 0;\n      for (ReceivedDeletedBlockInfo rdbi : rdbis) {\n        if (!blocks.containsKey(rdbi.getBlock())) {\n          put(rdbi);\n          count++;\n        }\n      }\n      return count;\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/IncrementalBlockReportManager.java",
          "extendedDetails": {
            "oldValue": "[blockArray-ReceivedDeletedBlockInfo[]]",
            "newValue": "[rdbis-ReceivedDeletedBlockInfo[]]"
          }
        }
      ]
    }
  }
}