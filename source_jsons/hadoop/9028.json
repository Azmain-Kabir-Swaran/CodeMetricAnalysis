{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSNamesystem.java",
  "functionName": "sortLocatedBlocks",
  "functionId": "sortLocatedBlocks___clientMachine-String__blocks-LocatedBlocks",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
  "functionStartLine": 2161,
  "functionEndLine": 2179,
  "numCommitsSeen": 873,
  "timeTaken": 13600,
  "changeHistory": [
    "6ef42873a02bfcbff5521869f4d6f66539d1db41"
  ],
  "changeHistoryShort": {
    "6ef42873a02bfcbff5521869f4d6f66539d1db41": "Yintroduced"
  },
  "changeHistoryDetails": {
    "6ef42873a02bfcbff5521869f4d6f66539d1db41": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-9918. Erasure Coding: Sort located striped blocks based on decommissioned states. Contributed by Rakesh R.\n",
      "commitDate": "12/04/16 1:38 PM",
      "commitName": "6ef42873a02bfcbff5521869f4d6f66539d1db41",
      "commitAuthor": "Zhe Zhang",
      "diff": "@@ -0,0 +1,19 @@\n+  private void sortLocatedBlocks(String clientMachine, LocatedBlocks blocks) {\n+    if (blocks !\u003d null) {\n+      List\u003cLocatedBlock\u003e blkList \u003d blocks.getLocatedBlocks();\n+      if (blkList \u003d\u003d null || blkList.size() \u003d\u003d 0) {\n+        // simply return, block list is empty\n+        return;\n+      }\n+      blockManager.getDatanodeManager().sortLocatedBlocks(clientMachine,\n+          blkList);\n+\n+      // lastBlock is not part of getLocatedBlocks(), might need to sort it too\n+      LocatedBlock lastBlock \u003d blocks.getLastLocatedBlock();\n+      if (lastBlock !\u003d null) {\n+        ArrayList\u003cLocatedBlock\u003e lastBlockList \u003d Lists.newArrayList(lastBlock);\n+        blockManager.getDatanodeManager().sortLocatedBlocks(clientMachine,\n+            lastBlockList);\n+      }\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void sortLocatedBlocks(String clientMachine, LocatedBlocks blocks) {\n    if (blocks !\u003d null) {\n      List\u003cLocatedBlock\u003e blkList \u003d blocks.getLocatedBlocks();\n      if (blkList \u003d\u003d null || blkList.size() \u003d\u003d 0) {\n        // simply return, block list is empty\n        return;\n      }\n      blockManager.getDatanodeManager().sortLocatedBlocks(clientMachine,\n          blkList);\n\n      // lastBlock is not part of getLocatedBlocks(), might need to sort it too\n      LocatedBlock lastBlock \u003d blocks.getLastLocatedBlock();\n      if (lastBlock !\u003d null) {\n        ArrayList\u003cLocatedBlock\u003e lastBlockList \u003d Lists.newArrayList(lastBlock);\n        blockManager.getDatanodeManager().sortLocatedBlocks(clientMachine,\n            lastBlockList);\n      }\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java"
    }
  }
}