{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ApplicationMaster.java",
  "functionName": "main",
  "functionId": "main___args-String[]",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
  "functionStartLine": 392,
  "functionEndLine": 420,
  "numCommitsSeen": 121,
  "timeTaken": 5143,
  "changeHistory": [
    "b0d24ef39cbee53ae092f3aafeeebd22cd81bcac",
    "1ef0a1db1d6a412b2a26782329a8325635866d0a",
    "785f1b0d11a3bf0af9851c080ff0acc34539f17b",
    "0d02ab8729630ad3cfb4300702927333b1d349e3",
    "89e5c44f9e891a3579384c3fa3766937cd4970f1",
    "5712b8f9fd1859fe046b482889239bd164ed7dab",
    "9b5636408005676ae580f8d929f8e912c27828e7",
    "fd1c424548999cb8843f40cb6a342387f98bde6c",
    "6182e7592d7255792ae6a04a5551296d755f6a37",
    "aa0c489a28dbbe8fae0be6a48edb122537784b1d",
    "e1fdf62123625e4ba399af02f8aad500637d29d1",
    "fad230a49d0d4cdbb2062b10c3dea6c755737db5"
  ],
  "changeHistoryShort": {
    "b0d24ef39cbee53ae092f3aafeeebd22cd81bcac": "Ybodychange",
    "1ef0a1db1d6a412b2a26782329a8325635866d0a": "Ybodychange",
    "785f1b0d11a3bf0af9851c080ff0acc34539f17b": "Ybodychange",
    "0d02ab8729630ad3cfb4300702927333b1d349e3": "Ybodychange",
    "89e5c44f9e891a3579384c3fa3766937cd4970f1": "Ybodychange",
    "5712b8f9fd1859fe046b482889239bd164ed7dab": "Ybodychange",
    "9b5636408005676ae580f8d929f8e912c27828e7": "Ybodychange",
    "fd1c424548999cb8843f40cb6a342387f98bde6c": "Ybodychange",
    "6182e7592d7255792ae6a04a5551296d755f6a37": "Ybodychange",
    "aa0c489a28dbbe8fae0be6a48edb122537784b1d": "Ybodychange",
    "e1fdf62123625e4ba399af02f8aad500637d29d1": "Yfilerename",
    "fad230a49d0d4cdbb2062b10c3dea6c755737db5": "Yintroduced"
  },
  "changeHistoryDetails": {
    "b0d24ef39cbee53ae092f3aafeeebd22cd81bcac": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9227. DistributedShell RelativePath is not removed at end. Contributed by Prabhu Joseph.\n",
      "commitDate": "01/04/19 10:59 AM",
      "commitName": "b0d24ef39cbee53ae092f3aafeeebd22cd81bcac",
      "commitAuthor": "Giovanni Matteo Fumarola",
      "commitDateOld": "15/03/19 4:20 PM",
      "commitNameOld": "2064ca015d1584263aac0cc20c60b925a3aff612",
      "commitAuthorOld": "Eric Yang",
      "daysBetweenCommits": 16.78,
      "commitsBetweenForRepo": 106,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,29 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n+    ApplicationMaster appMaster \u003d null;\n     try {\n-      ApplicationMaster appMaster \u003d new ApplicationMaster();\n+      appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n       appMaster.run();\n       result \u003d appMaster.finish();\n     } catch (Throwable t) {\n       LOG.error(\"Error running ApplicationMaster\", t);\n       LogManager.shutdown();\n       ExitUtil.terminate(1, t);\n+    } finally {\n+      if (appMaster !\u003d null) {\n+        appMaster.cleanup();\n+      }\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n       LOG.error(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    ApplicationMaster appMaster \u003d null;\n    try {\n      appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      appMaster.run();\n      result \u003d appMaster.finish();\n    } catch (Throwable t) {\n      LOG.error(\"Error running ApplicationMaster\", t);\n      LogManager.shutdown();\n      ExitUtil.terminate(1, t);\n    } finally {\n      if (appMaster !\u003d null) {\n        appMaster.cleanup();\n      }\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.error(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "1ef0a1db1d6a412b2a26782329a8325635866d0a": {
      "type": "Ybodychange",
      "commitMessage": "YARN-7894. Improve ATS response for DShell DS_CONTAINER when container launch fails. Contributed by Chandni Singh\n",
      "commitDate": "08/05/18 1:49 PM",
      "commitName": "1ef0a1db1d6a412b2a26782329a8325635866d0a",
      "commitAuthor": "Billie Rinaldi",
      "commitDateOld": "01/05/18 7:27 AM",
      "commitNameOld": "4e1382aca4cf23ca229bdd24e0f143c22449b329",
      "commitAuthorOld": "Billie Rinaldi",
      "daysBetweenCommits": 7.27,
      "commitsBetweenForRepo": 45,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,24 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n     try {\n       ApplicationMaster appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n       appMaster.run();\n       result \u003d appMaster.finish();\n     } catch (Throwable t) {\n       LOG.error(\"Error running ApplicationMaster\", t);\n       LogManager.shutdown();\n       ExitUtil.terminate(1, t);\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n-      LOG.info(\"Application Master failed. exiting\");\n+      LOG.error(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      appMaster.run();\n      result \u003d appMaster.finish();\n    } catch (Throwable t) {\n      LOG.error(\"Error running ApplicationMaster\", t);\n      LogManager.shutdown();\n      ExitUtil.terminate(1, t);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.error(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "785f1b0d11a3bf0af9851c080ff0acc34539f17b": {
      "type": "Ybodychange",
      "commitMessage": "YARN-7407. Moving logging APIs over to slf4j in hadoop-yarn-applications. Contributed by Yeliang Cang.\n",
      "commitDate": "31/10/17 12:36 AM",
      "commitName": "785f1b0d11a3bf0af9851c080ff0acc34539f17b",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "12/09/17 9:19 AM",
      "commitNameOld": "7805deed4896e470ebd2f6bbd1ba9962947c63cd",
      "commitAuthorOld": "Sunil G",
      "daysBetweenCommits": 48.64,
      "commitsBetweenForRepo": 400,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,24 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n     try {\n       ApplicationMaster appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n       appMaster.run();\n       result \u003d appMaster.finish();\n     } catch (Throwable t) {\n-      LOG.fatal(\"Error running ApplicationMaster\", t);\n+      LOG.error(\"Error running ApplicationMaster\", t);\n       LogManager.shutdown();\n       ExitUtil.terminate(1, t);\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n       LOG.info(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      appMaster.run();\n      result \u003d appMaster.finish();\n    } catch (Throwable t) {\n      LOG.error(\"Error running ApplicationMaster\", t);\n      LogManager.shutdown();\n      ExitUtil.terminate(1, t);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "0d02ab8729630ad3cfb4300702927333b1d349e3": {
      "type": "Ybodychange",
      "commitMessage": "YARN-3367. Replace starting a separate thread for post entity with event loop in TimelineClient (Naganarasimha G R via sjlee)\n",
      "commitDate": "10/07/16 8:45 AM",
      "commitName": "0d02ab8729630ad3cfb4300702927333b1d349e3",
      "commitAuthor": "Sangjin Lee",
      "commitDateOld": "10/07/16 8:45 AM",
      "commitNameOld": "89e5c44f9e891a3579384c3fa3766937cd4970f1",
      "commitAuthorOld": "Li Lu",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 16,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,28 +1,24 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n     try {\n       ApplicationMaster appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n       appMaster.run();\n       result \u003d appMaster.finish();\n-\n-      if (appMaster.threadPool !\u003d null) {\n-        appMaster.shutdownAndAwaitTermination();\n-      }\n     } catch (Throwable t) {\n       LOG.fatal(\"Error running ApplicationMaster\", t);\n       LogManager.shutdown();\n       ExitUtil.terminate(1, t);\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n       LOG.info(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      appMaster.run();\n      result \u003d appMaster.finish();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error running ApplicationMaster\", t);\n      LogManager.shutdown();\n      ExitUtil.terminate(1, t);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "89e5c44f9e891a3579384c3fa3766937cd4970f1": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4356. Ensure the timeline service v.2 is disabled cleanly and has no\nimpact when it\u0027s turned off. Contributed by Sangjin Lee.\n",
      "commitDate": "10/07/16 8:45 AM",
      "commitName": "89e5c44f9e891a3579384c3fa3766937cd4970f1",
      "commitAuthor": "Li Lu",
      "commitDateOld": "10/07/16 8:45 AM",
      "commitNameOld": "5712b8f9fd1859fe046b482889239bd164ed7dab",
      "commitAuthorOld": "Zhijie Shen",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 52,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,26 +1,28 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n     try {\n       ApplicationMaster appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n       appMaster.run();\n       result \u003d appMaster.finish();\n-      \n-      shutdownAndAwaitTermination();\n+\n+      if (appMaster.threadPool !\u003d null) {\n+        appMaster.shutdownAndAwaitTermination();\n+      }\n     } catch (Throwable t) {\n       LOG.fatal(\"Error running ApplicationMaster\", t);\n       LogManager.shutdown();\n       ExitUtil.terminate(1, t);\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n       LOG.info(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      appMaster.run();\n      result \u003d appMaster.finish();\n\n      if (appMaster.threadPool !\u003d null) {\n        appMaster.shutdownAndAwaitTermination();\n      }\n    } catch (Throwable t) {\n      LOG.fatal(\"Error running ApplicationMaster\", t);\n      LogManager.shutdown();\n      ExitUtil.terminate(1, t);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "5712b8f9fd1859fe046b482889239bd164ed7dab": {
      "type": "Ybodychange",
      "commitMessage": "YARN-3334. NM uses timeline client to publish container metrics to new timeline service. Contributed by Junping Du.\n",
      "commitDate": "10/07/16 8:45 AM",
      "commitName": "5712b8f9fd1859fe046b482889239bd164ed7dab",
      "commitAuthor": "Zhijie Shen",
      "commitDateOld": "10/07/16 8:45 AM",
      "commitNameOld": "2188a07e5bea1da26bf679ca0ece26ab596d3438",
      "commitAuthorOld": "Junping Du",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 5,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,37 +1,26 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n     try {\n       ApplicationMaster appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n       appMaster.run();\n       result \u003d appMaster.finish();\n-\n-      threadPool.shutdown();\n-\n-      while (!threadPool.isTerminated()) { // wait for all posting thread to finish\n-        try {\n-          if (!threadPool.awaitTermination(30, TimeUnit.SECONDS)) {\n-            threadPool.shutdownNow(); // send interrupt to hurry them along\n-          }\n-        } catch (InterruptedException e) {\n-          LOG.warn(\"Timeline client service stop interrupted!\");\n-          break;\n-        }\n-      }\n+      \n+      shutdownAndAwaitTermination();\n     } catch (Throwable t) {\n       LOG.fatal(\"Error running ApplicationMaster\", t);\n       LogManager.shutdown();\n       ExitUtil.terminate(1, t);\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n       LOG.info(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      appMaster.run();\n      result \u003d appMaster.finish();\n      \n      shutdownAndAwaitTermination();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error running ApplicationMaster\", t);\n      LogManager.shutdown();\n      ExitUtil.terminate(1, t);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "9b5636408005676ae580f8d929f8e912c27828e7": {
      "type": "Ybodychange",
      "commitMessage": "YARN-3039. Implemented the app-level timeline aggregator discovery service. Contributed by Junping Du.\n",
      "commitDate": "10/07/16 8:45 AM",
      "commitName": "9b5636408005676ae580f8d929f8e912c27828e7",
      "commitAuthor": "Zhijie Shen",
      "commitDateOld": "10/07/16 8:45 AM",
      "commitNameOld": "d45ff878c4cb8b359abb17ecf09d24b6f862874c",
      "commitAuthorOld": "Zhijie Shen",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,37 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n     try {\n       ApplicationMaster appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n       appMaster.run();\n       result \u003d appMaster.finish();\n+      \n+      threadPool.shutdown();\n+      \n+      while (!threadPool.isTerminated()) { // wait for all posting thread to finish\n+        try {\n+          if (!threadPool.awaitTermination(30, TimeUnit.SECONDS)) {\n+            threadPool.shutdownNow(); // send interrupt to hurry them along\n+          }\n+        } catch (InterruptedException e) {\n+          LOG.warn(\"Timeline client service stop interrupted!\");\n+          break;\n+        }\n+      }\n     } catch (Throwable t) {\n       LOG.fatal(\"Error running ApplicationMaster\", t);\n       LogManager.shutdown();\n       ExitUtil.terminate(1, t);\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n       LOG.info(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      appMaster.run();\n      result \u003d appMaster.finish();\n      \n      threadPool.shutdown();\n      \n      while (!threadPool.isTerminated()) { // wait for all posting thread to finish\n        try {\n          if (!threadPool.awaitTermination(30, TimeUnit.SECONDS)) {\n            threadPool.shutdownNow(); // send interrupt to hurry them along\n          }\n        } catch (InterruptedException e) {\n          LOG.warn(\"Timeline client service stop interrupted!\");\n          break;\n        }\n      }\n    } catch (Throwable t) {\n      LOG.fatal(\"Error running ApplicationMaster\", t);\n      LogManager.shutdown();\n      ExitUtil.terminate(1, t);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "fd1c424548999cb8843f40cb6a342387f98bde6c": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1690. Made DistributedShell send timeline entities+events. Contributed by Mayank Bansal.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1579123 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/03/14 8:49 PM",
      "commitName": "fd1c424548999cb8843f40cb6a342387f98bde6c",
      "commitAuthor": "Zhijie Shen",
      "commitDateOld": "16/03/14 11:32 AM",
      "commitNameOld": "96e0ca2d272dc7ecd7f7f0e65a0c596fcc063bcb",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 2.39,
      "commitsBetweenForRepo": 24,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,23 +1,24 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n     try {\n       ApplicationMaster appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n       appMaster.run();\n       result \u003d appMaster.finish();\n     } catch (Throwable t) {\n       LOG.fatal(\"Error running ApplicationMaster\", t);\n-      System.exit(1);\n+      LogManager.shutdown();\n+      ExitUtil.terminate(1, t);\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n       LOG.info(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      appMaster.run();\n      result \u003d appMaster.finish();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error running ApplicationMaster\", t);\n      LogManager.shutdown();\n      ExitUtil.terminate(1, t);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "6182e7592d7255792ae6a04a5551296d755f6a37": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1661. Fixed DS ApplicationMaster to write the correct exit log. Contributed by Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1565394 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/02/14 10:56 AM",
      "commitName": "6182e7592d7255792ae6a04a5551296d755f6a37",
      "commitAuthor": "Zhijie Shen",
      "commitDateOld": "10/01/14 11:42 PM",
      "commitNameOld": "aa0c489a28dbbe8fae0be6a48edb122537784b1d",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 26.47,
      "commitsBetweenForRepo": 166,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,23 +1,23 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n     try {\n       ApplicationMaster appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n-      result \u003d appMaster.run();\n-      appMaster.finish();\n+      appMaster.run();\n+      result \u003d appMaster.finish();\n     } catch (Throwable t) {\n       LOG.fatal(\"Error running ApplicationMaster\", t);\n       System.exit(1);\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n       LOG.info(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      appMaster.run();\n      result \u003d appMaster.finish();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error running ApplicationMaster\", t);\n      System.exit(1);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "aa0c489a28dbbe8fae0be6a48edb122537784b1d": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1566. Changed Distributed Shell to retain containers across application attempts. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1557322 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/01/14 11:42 PM",
      "commitName": "aa0c489a28dbbe8fae0be6a48edb122537784b1d",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "13/12/13 6:00 PM",
      "commitNameOld": "d63cfdbf1a5389acb27e8cd61f4c14d8eaedb26f",
      "commitAuthorOld": "Zhijie Shen",
      "daysBetweenCommits": 28.24,
      "commitsBetweenForRepo": 121,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,22 +1,23 @@\n   public static void main(String[] args) {\n     boolean result \u003d false;\n     try {\n       ApplicationMaster appMaster \u003d new ApplicationMaster();\n       LOG.info(\"Initializing ApplicationMaster\");\n       boolean doRun \u003d appMaster.init(args);\n       if (!doRun) {\n         System.exit(0);\n       }\n       result \u003d appMaster.run();\n+      appMaster.finish();\n     } catch (Throwable t) {\n       LOG.fatal(\"Error running ApplicationMaster\", t);\n       System.exit(1);\n     }\n     if (result) {\n       LOG.info(\"Application Master completed successfully. exiting\");\n       System.exit(0);\n     } else {\n       LOG.info(\"Application Master failed. exiting\");\n       System.exit(2);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      result \u003d appMaster.run();\n      appMaster.finish();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error running ApplicationMaster\", t);\n      System.exit(1);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    } else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {}
    },
    "e1fdf62123625e4ba399af02f8aad500637d29d1": {
      "type": "Yfilerename",
      "commitMessage": "YARN-1. Promote YARN to be a sub-project of Apache Hadoop.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1370666 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/12 10:22 PM",
      "commitName": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/08/12 7:53 PM",
      "commitNameOld": "34554d1e11ee1d5b564d7d9ed3e6d55931d72749",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\n      if (!doRun) {\n        System.exit(0);\n      }\n      result \u003d appMaster.run();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error running ApplicationMaster\", t);\n      System.exit(1);\n    }\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    }\n    else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java"
      }
    },
    "fad230a49d0d4cdbb2062b10c3dea6c755737db5": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-2719. Add a simple, DistributedShell, application to illustrate alternate frameworks on YARN. Contributed by Hitesh Shah.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1177864 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "30/09/11 3:25 PM",
      "commitName": "fad230a49d0d4cdbb2062b10c3dea6c755737db5",
      "commitAuthor": "Arun Murthy",
      "diff": "@@ -0,0 +1,23 @@\n+  public static void main(String[] args) {\n+    boolean result \u003d false;\n+    try {\n+      ApplicationMaster appMaster \u003d new ApplicationMaster();\n+      LOG.info(\"Initializing ApplicationMaster\");\n+      boolean doRun \u003d appMaster.init(args);\t\n+      if (!doRun) {\n+        System.exit(0);\n+      }\n+      result \u003d appMaster.run();\n+    } catch (Throwable t) {\n+      LOG.fatal(\"Error running ApplicationMaster\", t);\n+      System.exit(1);\n+    }\t\t\n+    if (result) {\n+      LOG.info(\"Application Master completed successfully. exiting\");\n+      System.exit(0);\n+    }\n+    else {\n+      LOG.info(\"Application Master failed. exiting\");\n+      System.exit(2);\t\t\t\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static void main(String[] args) {\n    boolean result \u003d false;\n    try {\n      ApplicationMaster appMaster \u003d new ApplicationMaster();\n      LOG.info(\"Initializing ApplicationMaster\");\n      boolean doRun \u003d appMaster.init(args);\t\n      if (!doRun) {\n        System.exit(0);\n      }\n      result \u003d appMaster.run();\n    } catch (Throwable t) {\n      LOG.fatal(\"Error running ApplicationMaster\", t);\n      System.exit(1);\n    }\t\t\n    if (result) {\n      LOG.info(\"Application Master completed successfully. exiting\");\n      System.exit(0);\n    }\n    else {\n      LOG.info(\"Application Master failed. exiting\");\n      System.exit(2);\t\t\t\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/ApplicationMaster.java"
    }
  }
}