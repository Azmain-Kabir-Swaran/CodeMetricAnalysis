{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "KDiag.java",
  "functionName": "usage",
  "functionId": "usage",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/KDiag.java",
  "functionStartLine": 245,
  "functionEndLine": 262,
  "numCommitsSeen": 11,
  "timeTaken": 1946,
  "changeHistory": [
    "d43af8b3db4743b4b240751b6f29de6c20cfd6e5",
    "d0edd37269bb40290b409d583bcf3b70897c13e0",
    "829a2e4d271f05afb209ddc834cd4a0e85492eda",
    "cfa8513890ec1cd7f71258ff3c3083f6d89a4fc4"
  ],
  "changeHistoryShort": {
    "d43af8b3db4743b4b240751b6f29de6c20cfd6e5": "Ybodychange",
    "d0edd37269bb40290b409d583bcf3b70897c13e0": "Ybodychange",
    "829a2e4d271f05afb209ddc834cd4a0e85492eda": "Ybodychange",
    "cfa8513890ec1cd7f71258ff3c3083f6d89a4fc4": "Yintroduced"
  },
  "changeHistoryDetails": {
    "d43af8b3db4743b4b240751b6f29de6c20cfd6e5": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-15996.  Improved Kerberos username mapping strategy in Hadoop.\n               Contributed by Bolke de Bruin\n",
      "commitDate": "04/01/19 2:54 PM",
      "commitName": "d43af8b3db4743b4b240751b6f29de6c20cfd6e5",
      "commitAuthor": "Eric Yang",
      "commitDateOld": "29/11/18 9:52 AM",
      "commitNameOld": "d0edd37269bb40290b409d583bcf3b70897c13e0",
      "commitAuthorOld": "Steve Loughran",
      "daysBetweenCommits": 36.21,
      "commitsBetweenForRepo": 207,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,18 @@\n   private String usage() {\n     return \"KDiag: Diagnose Kerberos Problems\\n\"\n       + arg(\"-D\", \"key\u003dvalue\", \"Define a configuration option\")\n       + arg(ARG_JAAS, \"\",\n       \"Require a JAAS file to be defined in \" + SUN_SECURITY_JAAS_FILE)\n       + arg(ARG_KEYLEN, \"\u003ckeylen\u003e\",\n       \"Require a minimum size for encryption keys supported by the JVM.\"\n       + \" Default value : \"+ minKeyLength)\n       + arg(ARG_KEYTAB, \"\u003ckeytab\u003e \" + ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n           \"Login from a keytab as a specific principal\")\n       + arg(ARG_NOFAIL, \"\", \"Do not fail on the first problem\")\n       + arg(ARG_NOLOGIN, \"\", \"Do not attempt to log in\")\n       + arg(ARG_OUTPUT, \"\u003cfile\u003e\", \"Write output to a file\")\n       + arg(ARG_RESOURCE, \"\u003cresource\u003e\", \"Load an XML configuration resource\")\n-      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\");\n+      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\")\n+      + arg(ARG_VERIFYSHORTNAME, ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n+      \"Verify the short name of the specific principal does not contain \u0027@\u0027 or \u0027/\u0027\");\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private String usage() {\n    return \"KDiag: Diagnose Kerberos Problems\\n\"\n      + arg(\"-D\", \"key\u003dvalue\", \"Define a configuration option\")\n      + arg(ARG_JAAS, \"\",\n      \"Require a JAAS file to be defined in \" + SUN_SECURITY_JAAS_FILE)\n      + arg(ARG_KEYLEN, \"\u003ckeylen\u003e\",\n      \"Require a minimum size for encryption keys supported by the JVM.\"\n      + \" Default value : \"+ minKeyLength)\n      + arg(ARG_KEYTAB, \"\u003ckeytab\u003e \" + ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n          \"Login from a keytab as a specific principal\")\n      + arg(ARG_NOFAIL, \"\", \"Do not fail on the first problem\")\n      + arg(ARG_NOLOGIN, \"\", \"Do not attempt to log in\")\n      + arg(ARG_OUTPUT, \"\u003cfile\u003e\", \"Write output to a file\")\n      + arg(ARG_RESOURCE, \"\u003cresource\u003e\", \"Load an XML configuration resource\")\n      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\")\n      + arg(ARG_VERIFYSHORTNAME, ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n      \"Verify the short name of the specific principal does not contain \u0027@\u0027 or \u0027/\u0027\");\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/KDiag.java",
      "extendedDetails": {}
    },
    "d0edd37269bb40290b409d583bcf3b70897c13e0": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-15959. Revert \"HADOOP-12751. While using kerberos Hadoop incorrectly assumes names with \u0027@\u0027 to be non-simple\"\n\nThis reverts commit 829a2e4d271f05afb209ddc834cd4a0e85492eda.\n",
      "commitDate": "29/11/18 9:52 AM",
      "commitName": "d0edd37269bb40290b409d583bcf3b70897c13e0",
      "commitAuthor": "Steve Loughran",
      "commitDateOld": "18/01/18 4:35 AM",
      "commitNameOld": "de630708d1912b3e4fa31e00f5d84a08a580e763",
      "commitAuthorOld": "Steve Loughran",
      "daysBetweenCommits": 315.22,
      "commitsBetweenForRepo": 3045,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,18 +1,16 @@\n   private String usage() {\n     return \"KDiag: Diagnose Kerberos Problems\\n\"\n       + arg(\"-D\", \"key\u003dvalue\", \"Define a configuration option\")\n       + arg(ARG_JAAS, \"\",\n       \"Require a JAAS file to be defined in \" + SUN_SECURITY_JAAS_FILE)\n       + arg(ARG_KEYLEN, \"\u003ckeylen\u003e\",\n       \"Require a minimum size for encryption keys supported by the JVM.\"\n       + \" Default value : \"+ minKeyLength)\n       + arg(ARG_KEYTAB, \"\u003ckeytab\u003e \" + ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n           \"Login from a keytab as a specific principal\")\n       + arg(ARG_NOFAIL, \"\", \"Do not fail on the first problem\")\n       + arg(ARG_NOLOGIN, \"\", \"Do not attempt to log in\")\n       + arg(ARG_OUTPUT, \"\u003cfile\u003e\", \"Write output to a file\")\n       + arg(ARG_RESOURCE, \"\u003cresource\u003e\", \"Load an XML configuration resource\")\n-      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\")\n-      + arg(ARG_VERIFYSHORTNAME, ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n-      \"Verify the short name of the specific principal does not contain \u0027@\u0027 or \u0027/\u0027\");\n+      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\");\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private String usage() {\n    return \"KDiag: Diagnose Kerberos Problems\\n\"\n      + arg(\"-D\", \"key\u003dvalue\", \"Define a configuration option\")\n      + arg(ARG_JAAS, \"\",\n      \"Require a JAAS file to be defined in \" + SUN_SECURITY_JAAS_FILE)\n      + arg(ARG_KEYLEN, \"\u003ckeylen\u003e\",\n      \"Require a minimum size for encryption keys supported by the JVM.\"\n      + \" Default value : \"+ minKeyLength)\n      + arg(ARG_KEYTAB, \"\u003ckeytab\u003e \" + ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n          \"Login from a keytab as a specific principal\")\n      + arg(ARG_NOFAIL, \"\", \"Do not fail on the first problem\")\n      + arg(ARG_NOLOGIN, \"\", \"Do not attempt to log in\")\n      + arg(ARG_OUTPUT, \"\u003cfile\u003e\", \"Write output to a file\")\n      + arg(ARG_RESOURCE, \"\u003cresource\u003e\", \"Load an XML configuration resource\")\n      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\");\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/KDiag.java",
      "extendedDetails": {}
    },
    "829a2e4d271f05afb209ddc834cd4a0e85492eda": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-12751. While using kerberos Hadoop incorrectly assumes names with \u0027@\u0027 to be non-simple. (Bolke de Bruin via stevel).\n",
      "commitDate": "10/05/16 1:32 PM",
      "commitName": "829a2e4d271f05afb209ddc834cd4a0e85492eda",
      "commitAuthor": "Steve Loughran",
      "commitDateOld": "05/02/16 3:47 PM",
      "commitNameOld": "cfa8513890ec1cd7f71258ff3c3083f6d89a4fc4",
      "commitAuthorOld": "cnauroth",
      "daysBetweenCommits": 94.86,
      "commitsBetweenForRepo": 577,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,18 @@\n   private String usage() {\n     return \"KDiag: Diagnose Kerberos Problems\\n\"\n       + arg(\"-D\", \"key\u003dvalue\", \"Define a configuration option\")\n       + arg(ARG_JAAS, \"\",\n       \"Require a JAAS file to be defined in \" + SUN_SECURITY_JAAS_FILE)\n       + arg(ARG_KEYLEN, \"\u003ckeylen\u003e\",\n       \"Require a minimum size for encryption keys supported by the JVM.\"\n       + \" Default value : \"+ minKeyLength)\n       + arg(ARG_KEYTAB, \"\u003ckeytab\u003e \" + ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n           \"Login from a keytab as a specific principal\")\n       + arg(ARG_NOFAIL, \"\", \"Do not fail on the first problem\")\n       + arg(ARG_NOLOGIN, \"\", \"Do not attempt to log in\")\n       + arg(ARG_OUTPUT, \"\u003cfile\u003e\", \"Write output to a file\")\n       + arg(ARG_RESOURCE, \"\u003cresource\u003e\", \"Load an XML configuration resource\")\n-      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\");\n+      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\")\n+      + arg(ARG_VERIFYSHORTNAME, ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n+      \"Verify the short name of the specific principal does not contain \u0027@\u0027 or \u0027/\u0027\");\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private String usage() {\n    return \"KDiag: Diagnose Kerberos Problems\\n\"\n      + arg(\"-D\", \"key\u003dvalue\", \"Define a configuration option\")\n      + arg(ARG_JAAS, \"\",\n      \"Require a JAAS file to be defined in \" + SUN_SECURITY_JAAS_FILE)\n      + arg(ARG_KEYLEN, \"\u003ckeylen\u003e\",\n      \"Require a minimum size for encryption keys supported by the JVM.\"\n      + \" Default value : \"+ minKeyLength)\n      + arg(ARG_KEYTAB, \"\u003ckeytab\u003e \" + ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n          \"Login from a keytab as a specific principal\")\n      + arg(ARG_NOFAIL, \"\", \"Do not fail on the first problem\")\n      + arg(ARG_NOLOGIN, \"\", \"Do not attempt to log in\")\n      + arg(ARG_OUTPUT, \"\u003cfile\u003e\", \"Write output to a file\")\n      + arg(ARG_RESOURCE, \"\u003cresource\u003e\", \"Load an XML configuration resource\")\n      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\")\n      + arg(ARG_VERIFYSHORTNAME, ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n      \"Verify the short name of the specific principal does not contain \u0027@\u0027 or \u0027/\u0027\");\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/KDiag.java",
      "extendedDetails": {}
    },
    "cfa8513890ec1cd7f71258ff3c3083f6d89a4fc4": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-12426. Add Entry point for Kerberos health check. Contributed by Steve Loughran.\n",
      "commitDate": "05/02/16 3:47 PM",
      "commitName": "cfa8513890ec1cd7f71258ff3c3083f6d89a4fc4",
      "commitAuthor": "cnauroth",
      "diff": "@@ -0,0 +1,16 @@\n+  private String usage() {\n+    return \"KDiag: Diagnose Kerberos Problems\\n\"\n+      + arg(\"-D\", \"key\u003dvalue\", \"Define a configuration option\")\n+      + arg(ARG_JAAS, \"\",\n+      \"Require a JAAS file to be defined in \" + SUN_SECURITY_JAAS_FILE)\n+      + arg(ARG_KEYLEN, \"\u003ckeylen\u003e\",\n+      \"Require a minimum size for encryption keys supported by the JVM.\"\n+      + \" Default value : \"+ minKeyLength)\n+      + arg(ARG_KEYTAB, \"\u003ckeytab\u003e \" + ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n+          \"Login from a keytab as a specific principal\")\n+      + arg(ARG_NOFAIL, \"\", \"Do not fail on the first problem\")\n+      + arg(ARG_NOLOGIN, \"\", \"Do not attempt to log in\")\n+      + arg(ARG_OUTPUT, \"\u003cfile\u003e\", \"Write output to a file\")\n+      + arg(ARG_RESOURCE, \"\u003cresource\u003e\", \"Load an XML configuration resource\")\n+      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\");\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private String usage() {\n    return \"KDiag: Diagnose Kerberos Problems\\n\"\n      + arg(\"-D\", \"key\u003dvalue\", \"Define a configuration option\")\n      + arg(ARG_JAAS, \"\",\n      \"Require a JAAS file to be defined in \" + SUN_SECURITY_JAAS_FILE)\n      + arg(ARG_KEYLEN, \"\u003ckeylen\u003e\",\n      \"Require a minimum size for encryption keys supported by the JVM.\"\n      + \" Default value : \"+ minKeyLength)\n      + arg(ARG_KEYTAB, \"\u003ckeytab\u003e \" + ARG_PRINCIPAL + \" \u003cprincipal\u003e\",\n          \"Login from a keytab as a specific principal\")\n      + arg(ARG_NOFAIL, \"\", \"Do not fail on the first problem\")\n      + arg(ARG_NOLOGIN, \"\", \"Do not attempt to log in\")\n      + arg(ARG_OUTPUT, \"\u003cfile\u003e\", \"Write output to a file\")\n      + arg(ARG_RESOURCE, \"\u003cresource\u003e\", \"Load an XML configuration resource\")\n      + arg(ARG_SECURE, \"\", \"Require the hadoop configuration to be secure\");\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/KDiag.java"
    }
  }
}