{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ContainerLaunch.java",
  "functionName": "symlink",
  "functionId": "symlink___src-Path__dst-Path",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
  "functionStartLine": 1118,
  "functionEndLine": 1129,
  "numCommitsSeen": 111,
  "timeTaken": 8294,
  "changeHistory": [
    "638801cce16fc1dc3259c541dc30a599faaddda1",
    "e1fdf62123625e4ba399af02f8aad500637d29d1",
    "811a6a9e308935fca762a57610c56b317c43a349",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517"
  ],
  "changeHistoryShort": {
    "638801cce16fc1dc3259c541dc30a599faaddda1": "Ymultichange(Yreturntypechange,Ymodifierchange,Ybodychange)",
    "e1fdf62123625e4ba399af02f8aad500637d29d1": "Yfilerename",
    "811a6a9e308935fca762a57610c56b317c43a349": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": "Yintroduced"
  },
  "changeHistoryDetails": {
    "638801cce16fc1dc3259c541dc30a599faaddda1": {
      "type": "Ymultichange(Yreturntypechange,Ymodifierchange,Ybodychange)",
      "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/03/13 11:15 AM",
      "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
      "commitAuthor": "Suresh Srinivas",
      "subchanges": [
        {
          "type": "Yreturntypechange",
          "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "06/03/13 11:15 AM",
          "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
          "commitAuthor": "Suresh Srinivas",
          "commitDateOld": "09/08/12 12:15 PM",
          "commitNameOld": "82910ecaa383381ea04932a9d5e2dfa78ae9e5cb",
          "commitAuthorOld": "Robert Joseph Evans",
          "daysBetweenCommits": 209.0,
          "commitsBetweenForRepo": 1053,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,12 @@\n-    public ShellScriptBuilder symlink(Path src, Path dst) throws IOException {\n+    public final void symlink(Path src, Path dst) throws IOException {\n       if (!src.isAbsolute()) {\n         throw new IOException(\"Source must be absolute\");\n       }\n       if (dst.isAbsolute()) {\n         throw new IOException(\"Destination must be relative\");\n       }\n       if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n-        line(\"mkdir -p \", dst.getParent().toString());\n+        mkdir(dst.getParent());\n       }\n-      line(\"ln -sf \\\"\", src.toUri().getPath(), \"\\\" \\\"\", dst.toString(), \"\\\"\");\n-      return this;\n+      link(src, dst);\n     }\n\\ No newline at end of file\n",
          "actualSource": "    public final void symlink(Path src, Path dst) throws IOException {\n      if (!src.isAbsolute()) {\n        throw new IOException(\"Source must be absolute\");\n      }\n      if (dst.isAbsolute()) {\n        throw new IOException(\"Destination must be relative\");\n      }\n      if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n        mkdir(dst.getParent());\n      }\n      link(src, dst);\n    }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
          "extendedDetails": {
            "oldValue": "ShellScriptBuilder",
            "newValue": "void"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "06/03/13 11:15 AM",
          "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
          "commitAuthor": "Suresh Srinivas",
          "commitDateOld": "09/08/12 12:15 PM",
          "commitNameOld": "82910ecaa383381ea04932a9d5e2dfa78ae9e5cb",
          "commitAuthorOld": "Robert Joseph Evans",
          "daysBetweenCommits": 209.0,
          "commitsBetweenForRepo": 1053,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,12 @@\n-    public ShellScriptBuilder symlink(Path src, Path dst) throws IOException {\n+    public final void symlink(Path src, Path dst) throws IOException {\n       if (!src.isAbsolute()) {\n         throw new IOException(\"Source must be absolute\");\n       }\n       if (dst.isAbsolute()) {\n         throw new IOException(\"Destination must be relative\");\n       }\n       if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n-        line(\"mkdir -p \", dst.getParent().toString());\n+        mkdir(dst.getParent());\n       }\n-      line(\"ln -sf \\\"\", src.toUri().getPath(), \"\\\" \\\"\", dst.toString(), \"\\\"\");\n-      return this;\n+      link(src, dst);\n     }\n\\ No newline at end of file\n",
          "actualSource": "    public final void symlink(Path src, Path dst) throws IOException {\n      if (!src.isAbsolute()) {\n        throw new IOException(\"Source must be absolute\");\n      }\n      if (dst.isAbsolute()) {\n        throw new IOException(\"Destination must be relative\");\n      }\n      if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n        mkdir(dst.getParent());\n      }\n      link(src, dst);\n    }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
          "extendedDetails": {
            "oldValue": "[public]",
            "newValue": "[public, final]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "06/03/13 11:15 AM",
          "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
          "commitAuthor": "Suresh Srinivas",
          "commitDateOld": "09/08/12 12:15 PM",
          "commitNameOld": "82910ecaa383381ea04932a9d5e2dfa78ae9e5cb",
          "commitAuthorOld": "Robert Joseph Evans",
          "daysBetweenCommits": 209.0,
          "commitsBetweenForRepo": 1053,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,12 @@\n-    public ShellScriptBuilder symlink(Path src, Path dst) throws IOException {\n+    public final void symlink(Path src, Path dst) throws IOException {\n       if (!src.isAbsolute()) {\n         throw new IOException(\"Source must be absolute\");\n       }\n       if (dst.isAbsolute()) {\n         throw new IOException(\"Destination must be relative\");\n       }\n       if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n-        line(\"mkdir -p \", dst.getParent().toString());\n+        mkdir(dst.getParent());\n       }\n-      line(\"ln -sf \\\"\", src.toUri().getPath(), \"\\\" \\\"\", dst.toString(), \"\\\"\");\n-      return this;\n+      link(src, dst);\n     }\n\\ No newline at end of file\n",
          "actualSource": "    public final void symlink(Path src, Path dst) throws IOException {\n      if (!src.isAbsolute()) {\n        throw new IOException(\"Source must be absolute\");\n      }\n      if (dst.isAbsolute()) {\n        throw new IOException(\"Destination must be relative\");\n      }\n      if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n        mkdir(dst.getParent());\n      }\n      link(src, dst);\n    }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
          "extendedDetails": {}
        }
      ]
    },
    "e1fdf62123625e4ba399af02f8aad500637d29d1": {
      "type": "Yfilerename",
      "commitMessage": "YARN-1. Promote YARN to be a sub-project of Apache Hadoop.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1370666 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/12 10:22 PM",
      "commitName": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/08/12 7:53 PM",
      "commitNameOld": "34554d1e11ee1d5b564d7d9ed3e6d55931d72749",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    public ShellScriptBuilder symlink(Path src, Path dst) throws IOException {\n      if (!src.isAbsolute()) {\n        throw new IOException(\"Source must be absolute\");\n      }\n      if (dst.isAbsolute()) {\n        throw new IOException(\"Destination must be relative\");\n      }\n      if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n        line(\"mkdir -p \", dst.getParent().toString());\n      }\n      line(\"ln -sf \\\"\", src.toUri().getPath(), \"\\\" \\\"\", dst.toString(), \"\\\"\");\n      return this;\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java"
      }
    },
    "811a6a9e308935fca762a57610c56b317c43a349": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-3123. Fix NM to quote symlink names to escape special characters. Contributed by Hitesh Shah. \n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1180772 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/10/11 8:27 PM",
      "commitName": "811a6a9e308935fca762a57610c56b317c43a349",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/10/11 8:23 AM",
      "commitNameOld": "02a81203bd0ff6116e3c68d376b3af3838231986",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 2.5,
      "commitsBetweenForRepo": 16,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,13 @@\n     public ShellScriptBuilder symlink(Path src, Path dst) throws IOException {\n       if (!src.isAbsolute()) {\n         throw new IOException(\"Source must be absolute\");\n       }\n       if (dst.isAbsolute()) {\n         throw new IOException(\"Destination must be relative\");\n       }\n       if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n         line(\"mkdir -p \", dst.getParent().toString());\n       }\n-      line(\"ln -sf \", src.toUri().getPath(), \" \", dst.toString());\n+      line(\"ln -sf \\\"\", src.toUri().getPath(), \"\\\" \\\"\", dst.toString(), \"\\\"\");\n       return this;\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public ShellScriptBuilder symlink(Path src, Path dst) throws IOException {\n      if (!src.isAbsolute()) {\n        throw new IOException(\"Source must be absolute\");\n      }\n      if (dst.isAbsolute()) {\n        throw new IOException(\"Destination must be relative\");\n      }\n      if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n        line(\"mkdir -p \", dst.getParent().toString());\n      }\n      line(\"ln -sf \\\"\", src.toUri().getPath(), \"\\\" \\\"\", dst.toString(), \"\\\"\");\n      return this;\n    }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "    public ShellScriptBuilder symlink(Path src, Path dst) throws IOException {\n      if (!src.isAbsolute()) {\n        throw new IOException(\"Source must be absolute\");\n      }\n      if (dst.isAbsolute()) {\n        throw new IOException(\"Destination must be relative\");\n      }\n      if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n        line(\"mkdir -p \", dst.getParent().toString());\n      }\n      line(\"ln -sf \", src.toUri().getPath(), \" \", dst.toString());\n      return this;\n    }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java",
        "newPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java"
      }
    },
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/08/11 4:07 AM",
      "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,13 @@\n+    public ShellScriptBuilder symlink(Path src, Path dst) throws IOException {\n+      if (!src.isAbsolute()) {\n+        throw new IOException(\"Source must be absolute\");\n+      }\n+      if (dst.isAbsolute()) {\n+        throw new IOException(\"Destination must be relative\");\n+      }\n+      if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n+        line(\"mkdir -p \", dst.getParent().toString());\n+      }\n+      line(\"ln -sf \", src.toUri().getPath(), \" \", dst.toString());\n+      return this;\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    public ShellScriptBuilder symlink(Path src, Path dst) throws IOException {\n      if (!src.isAbsolute()) {\n        throw new IOException(\"Source must be absolute\");\n      }\n      if (dst.isAbsolute()) {\n        throw new IOException(\"Destination must be relative\");\n      }\n      if (dst.toUri().getPath().indexOf(\u0027/\u0027) !\u003d -1) {\n        line(\"mkdir -p \", dst.getParent().toString());\n      }\n      line(\"ln -sf \", src.toUri().getPath(), \" \", dst.toString());\n      return this;\n    }",
      "path": "hadoop-mapreduce/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java"
    }
  }
}