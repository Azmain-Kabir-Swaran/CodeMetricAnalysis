{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "HBaseTimelineStorageUtils.java",
  "functionName": "setMetricsTimeRange",
  "functionId": "setMetricsTimeRange___query-Query__metricsCf-byte[]__tsBegin-long__tsEnd-long",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase/hadoop-yarn-server-timelineservice-hbase-client/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/common/HBaseTimelineStorageUtils.java",
  "functionStartLine": 120,
  "functionEndLine": 126,
  "numCommitsSeen": 14,
  "timeTaken": 2938,
  "changeHistory": [
    "9af30d46c6e82332a8eda20cb3eb5f987e25e7a2",
    "61136d03f25377c62aefde859c82df18e37b975e",
    "70078e91e3287aad51f6ddf6acd9ed75e7c6760d"
  ],
  "changeHistoryShort": {
    "9af30d46c6e82332a8eda20cb3eb5f987e25e7a2": "Ymovefromfile",
    "61136d03f25377c62aefde859c82df18e37b975e": "Ybodychange",
    "70078e91e3287aad51f6ddf6acd9ed75e7c6760d": "Yintroduced"
  },
  "changeHistoryDetails": {
    "9af30d46c6e82332a8eda20cb3eb5f987e25e7a2": {
      "type": "Ymovefromfile",
      "commitMessage": "YARN-7919. Refactor timelineservice-hbase module into submodules. Contributed by Haibo Chen.\n",
      "commitDate": "17/02/18 7:00 AM",
      "commitName": "9af30d46c6e82332a8eda20cb3eb5f987e25e7a2",
      "commitAuthor": "Rohith Sharma K S",
      "commitDateOld": "17/02/18 3:24 AM",
      "commitNameOld": "a1e56a62863d8d494af309ec5f476c4b7e4d5ef9",
      "commitAuthorOld": "Arun Suresh",
      "daysBetweenCommits": 0.15,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static void setMetricsTimeRange(Query query, byte[] metricsCf,\n      long tsBegin, long tsEnd) {\n    if (tsBegin !\u003d 0 || tsEnd !\u003d Long.MAX_VALUE) {\n      query.setColumnFamilyTimeRange(metricsCf,\n          tsBegin, ((tsEnd \u003d\u003d Long.MAX_VALUE) ? Long.MAX_VALUE : (tsEnd + 1)));\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase/hadoop-yarn-server-timelineservice-hbase-client/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/common/HBaseTimelineStorageUtils.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/common/HBaseTimelineStorageUtils.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase/hadoop-yarn-server-timelineservice-hbase-client/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/common/HBaseTimelineStorageUtils.java",
        "oldMethodName": "setMetricsTimeRange",
        "newMethodName": "setMetricsTimeRange"
      }
    },
    "61136d03f25377c62aefde859c82df18e37b975e": {
      "type": "Ybodychange",
      "commitMessage": "YARN-6850 Ensure that supplemented timestamp is stored only for flow run metrics (Contributed by Varun Saxena via Vrushali C)\n",
      "commitDate": "29/08/17 10:59 PM",
      "commitName": "61136d03f25377c62aefde859c82df18e37b975e",
      "commitAuthor": "Vrushali C",
      "commitDateOld": "29/08/17 10:59 PM",
      "commitNameOld": "70078e91e3287aad51f6ddf6acd9ed75e7c6760d",
      "commitAuthorOld": "Rohith Sharma K S",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,7 @@\n   public static void setMetricsTimeRange(Query query, byte[] metricsCf,\n       long tsBegin, long tsEnd) {\n     if (tsBegin !\u003d 0 || tsEnd !\u003d Long.MAX_VALUE) {\n-      long supplementedTsBegin \u003d tsBegin \u003d\u003d 0 ? 0 :\n-          TimestampGenerator.getSupplementedTimestamp(tsBegin, null);\n-      long supplementedTsEnd \u003d\n-          (tsEnd \u003d\u003d Long.MAX_VALUE) ? Long.MAX_VALUE :\n-          TimestampGenerator.getSupplementedTimestamp(tsEnd + 1, null);\n-      // Handle overflow by resetting time begin to 0 and time end to\n-      // Long#MAX_VALUE, if required.\n       query.setColumnFamilyTimeRange(metricsCf,\n-          ((supplementedTsBegin \u003c 0) ? 0 : supplementedTsBegin),\n-          ((supplementedTsEnd \u003c 0) ? Long.MAX_VALUE : supplementedTsEnd));\n+          tsBegin, ((tsEnd \u003d\u003d Long.MAX_VALUE) ? Long.MAX_VALUE : (tsEnd + 1)));\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static void setMetricsTimeRange(Query query, byte[] metricsCf,\n      long tsBegin, long tsEnd) {\n    if (tsBegin !\u003d 0 || tsEnd !\u003d Long.MAX_VALUE) {\n      query.setColumnFamilyTimeRange(metricsCf,\n          tsBegin, ((tsEnd \u003d\u003d Long.MAX_VALUE) ? Long.MAX_VALUE : (tsEnd + 1)));\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/common/HBaseTimelineStorageUtils.java",
      "extendedDetails": {}
    },
    "70078e91e3287aad51f6ddf6acd9ed75e7c6760d": {
      "type": "Yintroduced",
      "commitMessage": "YARN-4455. Support fetching metrics by time range. Contributed by Varun Saxena.\n",
      "commitDate": "29/08/17 10:59 PM",
      "commitName": "70078e91e3287aad51f6ddf6acd9ed75e7c6760d",
      "commitAuthor": "Rohith Sharma K S",
      "diff": "@@ -0,0 +1,15 @@\n+  public static void setMetricsTimeRange(Query query, byte[] metricsCf,\n+      long tsBegin, long tsEnd) {\n+    if (tsBegin !\u003d 0 || tsEnd !\u003d Long.MAX_VALUE) {\n+      long supplementedTsBegin \u003d tsBegin \u003d\u003d 0 ? 0 :\n+          TimestampGenerator.getSupplementedTimestamp(tsBegin, null);\n+      long supplementedTsEnd \u003d\n+          (tsEnd \u003d\u003d Long.MAX_VALUE) ? Long.MAX_VALUE :\n+          TimestampGenerator.getSupplementedTimestamp(tsEnd + 1, null);\n+      // Handle overflow by resetting time begin to 0 and time end to\n+      // Long#MAX_VALUE, if required.\n+      query.setColumnFamilyTimeRange(metricsCf,\n+          ((supplementedTsBegin \u003c 0) ? 0 : supplementedTsBegin),\n+          ((supplementedTsEnd \u003c 0) ? Long.MAX_VALUE : supplementedTsEnd));\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static void setMetricsTimeRange(Query query, byte[] metricsCf,\n      long tsBegin, long tsEnd) {\n    if (tsBegin !\u003d 0 || tsEnd !\u003d Long.MAX_VALUE) {\n      long supplementedTsBegin \u003d tsBegin \u003d\u003d 0 ? 0 :\n          TimestampGenerator.getSupplementedTimestamp(tsBegin, null);\n      long supplementedTsEnd \u003d\n          (tsEnd \u003d\u003d Long.MAX_VALUE) ? Long.MAX_VALUE :\n          TimestampGenerator.getSupplementedTimestamp(tsEnd + 1, null);\n      // Handle overflow by resetting time begin to 0 and time end to\n      // Long#MAX_VALUE, if required.\n      query.setColumnFamilyTimeRange(metricsCf,\n          ((supplementedTsBegin \u003c 0) ? 0 : supplementedTsBegin),\n          ((supplementedTsEnd \u003c 0) ? Long.MAX_VALUE : supplementedTsEnd));\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice-hbase/src/main/java/org/apache/hadoop/yarn/server/timelineservice/storage/common/HBaseTimelineStorageUtils.java"
    }
  }
}