{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ProxyUriUtils.java",
  "functionName": "getUriFromAMUrl",
  "functionId": "getUriFromAMUrl___scheme-String__noSchemeUrl-String",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
  "functionStartLine": 177,
  "functionEndLine": 189,
  "numCommitsSeen": 16,
  "timeTaken": 2283,
  "changeHistory": [
    "990cffdcfa9349fff0cee144b1d0e5267c40f63d",
    "21181b65531449e5fda321c11f0672c3067641aa",
    "13420d01f2fb28a0e445dc87ad9ee9b607804d53",
    "4bca22005f48f426b9bc7cf36d435ead470a2590",
    "e1fdf62123625e4ba399af02f8aad500637d29d1",
    "8aabd3d4e67cad8dc7e46f5339981135badc7421"
  ],
  "changeHistoryShort": {
    "990cffdcfa9349fff0cee144b1d0e5267c40f63d": "Ybodychange",
    "21181b65531449e5fda321c11f0672c3067641aa": "Ybodychange",
    "13420d01f2fb28a0e445dc87ad9ee9b607804d53": "Ymultichange(Yparameterchange,Ybodychange)",
    "4bca22005f48f426b9bc7cf36d435ead470a2590": "Ybodychange",
    "e1fdf62123625e4ba399af02f8aad500637d29d1": "Yfilerename",
    "8aabd3d4e67cad8dc7e46f5339981135badc7421": "Yintroduced"
  },
  "changeHistoryDetails": {
    "990cffdcfa9349fff0cee144b1d0e5267c40f63d": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1553. Modified YARN and MR to stop using HttpConfig.isSecure() and\ninstead rely on the http policy framework. And also fix some bugs related\nto https handling in YARN web-apps. Contributed by Haohui Mai.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1568501 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/02/14 12:01 PM",
      "commitName": "990cffdcfa9349fff0cee144b1d0e5267c40f63d",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "06/10/13 11:43 AM",
      "commitNameOld": "21181b65531449e5fda321c11f0672c3067641aa",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 131.05,
      "commitsBetweenForRepo": 786,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,13 @@\n   public static URI getUriFromAMUrl(String scheme, String noSchemeUrl)\n       throws URISyntaxException {\n       if (getSchemeFromUrl(noSchemeUrl).isEmpty()) {\n         /*\n          * check is made to make sure if AM reports with scheme then it will be\n          * used by default otherwise it will default to the one configured using\n          * \"yarn.http.policy\".\n          */\n-        return new URI(scheme + \"://\" + noSchemeUrl);\n+        return new URI(scheme + noSchemeUrl);\n       } else {\n         return new URI(noSchemeUrl);\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "  public static URI getUriFromAMUrl(String scheme, String noSchemeUrl)\n      throws URISyntaxException {\n      if (getSchemeFromUrl(noSchemeUrl).isEmpty()) {\n        /*\n         * check is made to make sure if AM reports with scheme then it will be\n         * used by default otherwise it will default to the one configured using\n         * \"yarn.http.policy\".\n         */\n        return new URI(scheme + noSchemeUrl);\n      } else {\n        return new URI(noSchemeUrl);\n      }\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
      "extendedDetails": {}
    },
    "21181b65531449e5fda321c11f0672c3067641aa": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1277. Added a policy based configuration for http/https in common HttpServer and using the same in YARN - related\nto per project https config support via HADOOP-10022. Contributed by Suresh Srinivas and Omkar Vinit Joshi.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1529662 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/10/13 11:43 AM",
      "commitName": "21181b65531449e5fda321c11f0672c3067641aa",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "19/09/13 4:35 PM",
      "commitNameOld": "13420d01f2fb28a0e445dc87ad9ee9b607804d53",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 16.8,
      "commitsBetweenForRepo": 120,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,13 @@\n   public static URI getUriFromAMUrl(String scheme, String noSchemeUrl)\n       throws URISyntaxException {\n       if (getSchemeFromUrl(noSchemeUrl).isEmpty()) {\n         /*\n          * check is made to make sure if AM reports with scheme then it will be\n          * used by default otherwise it will default to the one configured using\n-         * \"hadoop.ssl.enabled\".\n+         * \"yarn.http.policy\".\n          */\n-        return new URI(scheme + \"://\" + noSchemeUrl);      \n+        return new URI(scheme + \"://\" + noSchemeUrl);\n       } else {\n         return new URI(noSchemeUrl);\n       }\n     }\n\\ No newline at end of file\n",
      "actualSource": "  public static URI getUriFromAMUrl(String scheme, String noSchemeUrl)\n      throws URISyntaxException {\n      if (getSchemeFromUrl(noSchemeUrl).isEmpty()) {\n        /*\n         * check is made to make sure if AM reports with scheme then it will be\n         * used by default otherwise it will default to the one configured using\n         * \"yarn.http.policy\".\n         */\n        return new URI(scheme + \"://\" + noSchemeUrl);\n      } else {\n        return new URI(noSchemeUrl);\n      }\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
      "extendedDetails": {}
    },
    "13420d01f2fb28a0e445dc87ad9ee9b607804d53": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-1203. Changed YARN web-app proxy to handle http and https URLs from AM registration and finish correctly. Contributed by Omkar Vinit Joshi.\nMAPREDUCE-5515. Fixed MR AM\u0027s webapp to depend on a new config mapreduce.ssl.enabled to enable https and disabling it by default as MR AM needs\nto set up its own certificates etc and not depend on clusters\u0027. Contributed by Omkar Vinit Joshi.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1524864 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/09/13 4:35 PM",
      "commitName": "13420d01f2fb28a0e445dc87ad9ee9b607804d53",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-1203. Changed YARN web-app proxy to handle http and https URLs from AM registration and finish correctly. Contributed by Omkar Vinit Joshi.\nMAPREDUCE-5515. Fixed MR AM\u0027s webapp to depend on a new config mapreduce.ssl.enabled to enable https and disabling it by default as MR AM needs\nto set up its own certificates etc and not depend on clusters\u0027. Contributed by Omkar Vinit Joshi.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1524864 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "19/09/13 4:35 PM",
          "commitName": "13420d01f2fb28a0e445dc87ad9ee9b607804d53",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "21/12/12 4:26 PM",
          "commitNameOld": "5a408bdeac0c40cef39c9c0eb1630698f7b77c19",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 271.96,
          "commitsBetweenForRepo": 1569,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,13 @@\n-  public static URI getUriFromAMUrl(String noSchemeUrl)\n-    throws URISyntaxException {\n-      return new URI(HttpConfig.getSchemePrefix() + noSchemeUrl);\n-  }\n\\ No newline at end of file\n+  public static URI getUriFromAMUrl(String scheme, String noSchemeUrl)\n+      throws URISyntaxException {\n+      if (getSchemeFromUrl(noSchemeUrl).isEmpty()) {\n+        /*\n+         * check is made to make sure if AM reports with scheme then it will be\n+         * used by default otherwise it will default to the one configured using\n+         * \"hadoop.ssl.enabled\".\n+         */\n+        return new URI(scheme + \"://\" + noSchemeUrl);      \n+      } else {\n+        return new URI(noSchemeUrl);\n+      }\n+    }\n\\ No newline at end of file\n",
          "actualSource": "  public static URI getUriFromAMUrl(String scheme, String noSchemeUrl)\n      throws URISyntaxException {\n      if (getSchemeFromUrl(noSchemeUrl).isEmpty()) {\n        /*\n         * check is made to make sure if AM reports with scheme then it will be\n         * used by default otherwise it will default to the one configured using\n         * \"hadoop.ssl.enabled\".\n         */\n        return new URI(scheme + \"://\" + noSchemeUrl);      \n      } else {\n        return new URI(noSchemeUrl);\n      }\n    }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
          "extendedDetails": {
            "oldValue": "[noSchemeUrl-String]",
            "newValue": "[scheme-String, noSchemeUrl-String]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-1203. Changed YARN web-app proxy to handle http and https URLs from AM registration and finish correctly. Contributed by Omkar Vinit Joshi.\nMAPREDUCE-5515. Fixed MR AM\u0027s webapp to depend on a new config mapreduce.ssl.enabled to enable https and disabling it by default as MR AM needs\nto set up its own certificates etc and not depend on clusters\u0027. Contributed by Omkar Vinit Joshi.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1524864 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "19/09/13 4:35 PM",
          "commitName": "13420d01f2fb28a0e445dc87ad9ee9b607804d53",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "21/12/12 4:26 PM",
          "commitNameOld": "5a408bdeac0c40cef39c9c0eb1630698f7b77c19",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 271.96,
          "commitsBetweenForRepo": 1569,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,13 @@\n-  public static URI getUriFromAMUrl(String noSchemeUrl)\n-    throws URISyntaxException {\n-      return new URI(HttpConfig.getSchemePrefix() + noSchemeUrl);\n-  }\n\\ No newline at end of file\n+  public static URI getUriFromAMUrl(String scheme, String noSchemeUrl)\n+      throws URISyntaxException {\n+      if (getSchemeFromUrl(noSchemeUrl).isEmpty()) {\n+        /*\n+         * check is made to make sure if AM reports with scheme then it will be\n+         * used by default otherwise it will default to the one configured using\n+         * \"hadoop.ssl.enabled\".\n+         */\n+        return new URI(scheme + \"://\" + noSchemeUrl);      \n+      } else {\n+        return new URI(noSchemeUrl);\n+      }\n+    }\n\\ No newline at end of file\n",
          "actualSource": "  public static URI getUriFromAMUrl(String scheme, String noSchemeUrl)\n      throws URISyntaxException {\n      if (getSchemeFromUrl(noSchemeUrl).isEmpty()) {\n        /*\n         * check is made to make sure if AM reports with scheme then it will be\n         * used by default otherwise it will default to the one configured using\n         * \"hadoop.ssl.enabled\".\n         */\n        return new URI(scheme + \"://\" + noSchemeUrl);      \n      } else {\n        return new URI(noSchemeUrl);\n      }\n    }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
          "extendedDetails": {}
        }
      ]
    },
    "4bca22005f48f426b9bc7cf36d435ead470a2590": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-8681. add support for HTTPS to the web UIs. (tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1371525 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/08/12 3:52 PM",
      "commitName": "4bca22005f48f426b9bc7cf36d435ead470a2590",
      "commitAuthor": "Alejandro Abdelnur",
      "commitDateOld": "07/08/12 10:22 PM",
      "commitNameOld": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 1.73,
      "commitsBetweenForRepo": 14,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,4 +1,4 @@\n-  public static URI getUriFromAMUrl(String noSchemeUrl) \n+  public static URI getUriFromAMUrl(String noSchemeUrl)\n     throws URISyntaxException {\n-    return new URI(\"http://\"+noSchemeUrl);\n+      return new URI(HttpConfig.getSchemePrefix() + noSchemeUrl);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static URI getUriFromAMUrl(String noSchemeUrl)\n    throws URISyntaxException {\n      return new URI(HttpConfig.getSchemePrefix() + noSchemeUrl);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
      "extendedDetails": {}
    },
    "e1fdf62123625e4ba399af02f8aad500637d29d1": {
      "type": "Yfilerename",
      "commitMessage": "YARN-1. Promote YARN to be a sub-project of Apache Hadoop.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1370666 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/12 10:22 PM",
      "commitName": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/08/12 7:53 PM",
      "commitNameOld": "34554d1e11ee1d5b564d7d9ed3e6d55931d72749",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static URI getUriFromAMUrl(String noSchemeUrl) \n    throws URISyntaxException {\n    return new URI(\"http://\"+noSchemeUrl);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java"
      }
    },
    "8aabd3d4e67cad8dc7e46f5339981135badc7421": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-2858. Added a WebApp Proxy for applications. Contributed by Robert Evans.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1189036 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "25/10/11 11:29 PM",
      "commitName": "8aabd3d4e67cad8dc7e46f5339981135badc7421",
      "commitAuthor": "Arun Murthy",
      "diff": "@@ -0,0 +1,4 @@\n+  public static URI getUriFromAMUrl(String noSchemeUrl) \n+    throws URISyntaxException {\n+    return new URI(\"http://\"+noSchemeUrl);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static URI getUriFromAMUrl(String noSchemeUrl) \n    throws URISyntaxException {\n    return new URI(\"http://\"+noSchemeUrl);\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java"
    }
  }
}