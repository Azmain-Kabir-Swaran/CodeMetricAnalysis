{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "SchedulerPageUtil.java",
  "functionName": "reopenQueue",
  "functionId": "reopenQueue___html-Block",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/SchedulerPageUtil.java",
  "functionStartLine": 27,
  "functionEndLine": 57,
  "numCommitsSeen": 3,
  "timeTaken": 1644,
  "changeHistory": [
    "29ff7fb1400efecfb71491ac97194a229d0af8de",
    "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397",
    "9ff520b7d69c831b9bc9276c9158a121a4b44be0"
  ],
  "changeHistoryShort": {
    "29ff7fb1400efecfb71491ac97194a229d0af8de": "Ybodychange",
    "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397": "Ybodychange",
    "9ff520b7d69c831b9bc9276c9158a121a4b44be0": "Yintroduced"
  },
  "changeHistoryDetails": {
    "29ff7fb1400efecfb71491ac97194a229d0af8de": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9493. Scheduler Page does not display the right page by query string. Contributed by Wanqiang Ji.\n",
      "commitDate": "13/05/19 10:57 AM",
      "commitName": "29ff7fb1400efecfb71491ac97194a229d0af8de",
      "commitAuthor": "Giovanni Matteo Fumarola",
      "commitDateOld": "27/07/17 5:10 PM",
      "commitNameOld": "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397",
      "commitAuthorOld": "Akira Ajisaka",
      "daysBetweenCommits": 654.74,
      "commitsBetweenForRepo": 5522,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,30 +1,31 @@\n     private void reopenQueue(Block html) {\n       html.\n           script().$type(\"text/javascript\").\n           __(\"function reopenQueryNodes() {\",\n-            \"  var currentParam \u003d window.location.href.split(\u0027?\u0027);\",\n+            \"  var currentParam \u003d decodeURIComponent(window.location.href)\"\n+                + \".split(\u0027?\u0027);\",\n             \"  var tmpCurrentParam \u003d currentParam;\",\n             \"  var queryQueuesString \u003d \u0027\u0027;\",\n             \"  if (tmpCurrentParam.length \u003e 1) {\",\n             \"    // openQueues\u003dq1#q2\u0026param1\u003dvalue1\u0026param2\u003dvalue2\",\n             \"    tmpCurrentParam \u003d tmpCurrentParam[1];\",\n             \"    if (tmpCurrentParam.indexOf(\u0027openQueues\u003d\u0027) !\u003d -1 ) {\",\n             \"      tmpCurrentParam \u003d tmpCurrentParam.split(\u0027openQueues\u003d\u0027)[1].split(\u0027\u0026\u0027)[0];\",\n             \"      queryQueuesString \u003d tmpCurrentParam;\",\n             \"    }\",\n             \"  }\",\n             \"  if (queryQueuesString !\u003d \u0027\u0027) {\",\n             \"    queueArray \u003d queryQueuesString.split(\u0027#\u0027);\",\n             \"    $(\u0027#cs .q\u0027).each(function() {\",\n             \"      var name \u003d $(this).html();\",\n             \"      if (name !\u003d \u0027root\u0027 \u0026\u0026 $.inArray(name, queueArray) !\u003d -1) {\",\n             \"        $(this).closest(\u0027li\u0027).removeClass(\u0027jstree-closed\u0027).addClass(\u0027jstree-open\u0027); \",\n             \"      }\",\n             \"    });\",\n             \"  }\",\n             \"  $(\u0027#cs\u0027).bind( {\",\n             \"                  \u0027open_node.jstree\u0027 :function(e, data) { storeExpandedQueue(e, data); },\",\n             \"                  \u0027close_node.jstree\u0027:function(e, data) { storeExpandedQueue(e, data); }\",\n             \"  });\",\n             \"}\").__();\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void reopenQueue(Block html) {\n      html.\n          script().$type(\"text/javascript\").\n          __(\"function reopenQueryNodes() {\",\n            \"  var currentParam \u003d decodeURIComponent(window.location.href)\"\n                + \".split(\u0027?\u0027);\",\n            \"  var tmpCurrentParam \u003d currentParam;\",\n            \"  var queryQueuesString \u003d \u0027\u0027;\",\n            \"  if (tmpCurrentParam.length \u003e 1) {\",\n            \"    // openQueues\u003dq1#q2\u0026param1\u003dvalue1\u0026param2\u003dvalue2\",\n            \"    tmpCurrentParam \u003d tmpCurrentParam[1];\",\n            \"    if (tmpCurrentParam.indexOf(\u0027openQueues\u003d\u0027) !\u003d -1 ) {\",\n            \"      tmpCurrentParam \u003d tmpCurrentParam.split(\u0027openQueues\u003d\u0027)[1].split(\u0027\u0026\u0027)[0];\",\n            \"      queryQueuesString \u003d tmpCurrentParam;\",\n            \"    }\",\n            \"  }\",\n            \"  if (queryQueuesString !\u003d \u0027\u0027) {\",\n            \"    queueArray \u003d queryQueuesString.split(\u0027#\u0027);\",\n            \"    $(\u0027#cs .q\u0027).each(function() {\",\n            \"      var name \u003d $(this).html();\",\n            \"      if (name !\u003d \u0027root\u0027 \u0026\u0026 $.inArray(name, queueArray) !\u003d -1) {\",\n            \"        $(this).closest(\u0027li\u0027).removeClass(\u0027jstree-closed\u0027).addClass(\u0027jstree-open\u0027); \",\n            \"      }\",\n            \"    });\",\n            \"  }\",\n            \"  $(\u0027#cs\u0027).bind( {\",\n            \"                  \u0027open_node.jstree\u0027 :function(e, data) { storeExpandedQueue(e, data); },\",\n            \"                  \u0027close_node.jstree\u0027:function(e, data) { storeExpandedQueue(e, data); }\",\n            \"  });\",\n            \"}\").__();\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/SchedulerPageUtil.java",
      "extendedDetails": {}
    },
    "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-11875. [JDK9] Adding a second copy of Hamlet without _ as a one-character identifier.\n",
      "commitDate": "27/07/17 5:10 PM",
      "commitName": "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "19/11/13 1:00 AM",
      "commitNameOld": "9ff520b7d69c831b9bc9276c9158a121a4b44be0",
      "commitAuthorOld": "Sanford Ryza",
      "daysBetweenCommits": 1346.63,
      "commitsBetweenForRepo": 9711,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,30 +1,30 @@\n     private void reopenQueue(Block html) {\n       html.\n           script().$type(\"text/javascript\").\n-          _(\"function reopenQueryNodes() {\",\n+          __(\"function reopenQueryNodes() {\",\n             \"  var currentParam \u003d window.location.href.split(\u0027?\u0027);\",\n             \"  var tmpCurrentParam \u003d currentParam;\",\n             \"  var queryQueuesString \u003d \u0027\u0027;\",\n             \"  if (tmpCurrentParam.length \u003e 1) {\",\n             \"    // openQueues\u003dq1#q2\u0026param1\u003dvalue1\u0026param2\u003dvalue2\",\n             \"    tmpCurrentParam \u003d tmpCurrentParam[1];\",\n             \"    if (tmpCurrentParam.indexOf(\u0027openQueues\u003d\u0027) !\u003d -1 ) {\",\n             \"      tmpCurrentParam \u003d tmpCurrentParam.split(\u0027openQueues\u003d\u0027)[1].split(\u0027\u0026\u0027)[0];\",\n             \"      queryQueuesString \u003d tmpCurrentParam;\",\n             \"    }\",\n             \"  }\",\n             \"  if (queryQueuesString !\u003d \u0027\u0027) {\",\n             \"    queueArray \u003d queryQueuesString.split(\u0027#\u0027);\",\n             \"    $(\u0027#cs .q\u0027).each(function() {\",\n             \"      var name \u003d $(this).html();\",\n             \"      if (name !\u003d \u0027root\u0027 \u0026\u0026 $.inArray(name, queueArray) !\u003d -1) {\",\n             \"        $(this).closest(\u0027li\u0027).removeClass(\u0027jstree-closed\u0027).addClass(\u0027jstree-open\u0027); \",\n             \"      }\",\n             \"    });\",\n             \"  }\",\n             \"  $(\u0027#cs\u0027).bind( {\",\n             \"                  \u0027open_node.jstree\u0027 :function(e, data) { storeExpandedQueue(e, data); },\",\n             \"                  \u0027close_node.jstree\u0027:function(e, data) { storeExpandedQueue(e, data); }\",\n             \"  });\",\n-            \"}\")._();\n+            \"}\").__();\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void reopenQueue(Block html) {\n      html.\n          script().$type(\"text/javascript\").\n          __(\"function reopenQueryNodes() {\",\n            \"  var currentParam \u003d window.location.href.split(\u0027?\u0027);\",\n            \"  var tmpCurrentParam \u003d currentParam;\",\n            \"  var queryQueuesString \u003d \u0027\u0027;\",\n            \"  if (tmpCurrentParam.length \u003e 1) {\",\n            \"    // openQueues\u003dq1#q2\u0026param1\u003dvalue1\u0026param2\u003dvalue2\",\n            \"    tmpCurrentParam \u003d tmpCurrentParam[1];\",\n            \"    if (tmpCurrentParam.indexOf(\u0027openQueues\u003d\u0027) !\u003d -1 ) {\",\n            \"      tmpCurrentParam \u003d tmpCurrentParam.split(\u0027openQueues\u003d\u0027)[1].split(\u0027\u0026\u0027)[0];\",\n            \"      queryQueuesString \u003d tmpCurrentParam;\",\n            \"    }\",\n            \"  }\",\n            \"  if (queryQueuesString !\u003d \u0027\u0027) {\",\n            \"    queueArray \u003d queryQueuesString.split(\u0027#\u0027);\",\n            \"    $(\u0027#cs .q\u0027).each(function() {\",\n            \"      var name \u003d $(this).html();\",\n            \"      if (name !\u003d \u0027root\u0027 \u0026\u0026 $.inArray(name, queueArray) !\u003d -1) {\",\n            \"        $(this).closest(\u0027li\u0027).removeClass(\u0027jstree-closed\u0027).addClass(\u0027jstree-open\u0027); \",\n            \"      }\",\n            \"    });\",\n            \"  }\",\n            \"  $(\u0027#cs\u0027).bind( {\",\n            \"                  \u0027open_node.jstree\u0027 :function(e, data) { storeExpandedQueue(e, data); },\",\n            \"                  \u0027close_node.jstree\u0027:function(e, data) { storeExpandedQueue(e, data); }\",\n            \"  });\",\n            \"}\").__();\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/SchedulerPageUtil.java",
      "extendedDetails": {}
    },
    "9ff520b7d69c831b9bc9276c9158a121a4b44be0": {
      "type": "Yintroduced",
      "commitMessage": "YARN-584. In scheduler web UIs, queues unexpand on refresh. (Harshit Daga via Sandy Ryza)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1543350 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/11/13 1:00 AM",
      "commitName": "9ff520b7d69c831b9bc9276c9158a121a4b44be0",
      "commitAuthor": "Sanford Ryza",
      "diff": "@@ -0,0 +1,30 @@\n+    private void reopenQueue(Block html) {\n+      html.\n+          script().$type(\"text/javascript\").\n+          _(\"function reopenQueryNodes() {\",\n+            \"  var currentParam \u003d window.location.href.split(\u0027?\u0027);\",\n+            \"  var tmpCurrentParam \u003d currentParam;\",\n+            \"  var queryQueuesString \u003d \u0027\u0027;\",\n+            \"  if (tmpCurrentParam.length \u003e 1) {\",\n+            \"    // openQueues\u003dq1#q2\u0026param1\u003dvalue1\u0026param2\u003dvalue2\",\n+            \"    tmpCurrentParam \u003d tmpCurrentParam[1];\",\n+            \"    if (tmpCurrentParam.indexOf(\u0027openQueues\u003d\u0027) !\u003d -1 ) {\",\n+            \"      tmpCurrentParam \u003d tmpCurrentParam.split(\u0027openQueues\u003d\u0027)[1].split(\u0027\u0026\u0027)[0];\",\n+            \"      queryQueuesString \u003d tmpCurrentParam;\",\n+            \"    }\",\n+            \"  }\",\n+            \"  if (queryQueuesString !\u003d \u0027\u0027) {\",\n+            \"    queueArray \u003d queryQueuesString.split(\u0027#\u0027);\",\n+            \"    $(\u0027#cs .q\u0027).each(function() {\",\n+            \"      var name \u003d $(this).html();\",\n+            \"      if (name !\u003d \u0027root\u0027 \u0026\u0026 $.inArray(name, queueArray) !\u003d -1) {\",\n+            \"        $(this).closest(\u0027li\u0027).removeClass(\u0027jstree-closed\u0027).addClass(\u0027jstree-open\u0027); \",\n+            \"      }\",\n+            \"    });\",\n+            \"  }\",\n+            \"  $(\u0027#cs\u0027).bind( {\",\n+            \"                  \u0027open_node.jstree\u0027 :function(e, data) { storeExpandedQueue(e, data); },\",\n+            \"                  \u0027close_node.jstree\u0027:function(e, data) { storeExpandedQueue(e, data); }\",\n+            \"  });\",\n+            \"}\")._();\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    private void reopenQueue(Block html) {\n      html.\n          script().$type(\"text/javascript\").\n          _(\"function reopenQueryNodes() {\",\n            \"  var currentParam \u003d window.location.href.split(\u0027?\u0027);\",\n            \"  var tmpCurrentParam \u003d currentParam;\",\n            \"  var queryQueuesString \u003d \u0027\u0027;\",\n            \"  if (tmpCurrentParam.length \u003e 1) {\",\n            \"    // openQueues\u003dq1#q2\u0026param1\u003dvalue1\u0026param2\u003dvalue2\",\n            \"    tmpCurrentParam \u003d tmpCurrentParam[1];\",\n            \"    if (tmpCurrentParam.indexOf(\u0027openQueues\u003d\u0027) !\u003d -1 ) {\",\n            \"      tmpCurrentParam \u003d tmpCurrentParam.split(\u0027openQueues\u003d\u0027)[1].split(\u0027\u0026\u0027)[0];\",\n            \"      queryQueuesString \u003d tmpCurrentParam;\",\n            \"    }\",\n            \"  }\",\n            \"  if (queryQueuesString !\u003d \u0027\u0027) {\",\n            \"    queueArray \u003d queryQueuesString.split(\u0027#\u0027);\",\n            \"    $(\u0027#cs .q\u0027).each(function() {\",\n            \"      var name \u003d $(this).html();\",\n            \"      if (name !\u003d \u0027root\u0027 \u0026\u0026 $.inArray(name, queueArray) !\u003d -1) {\",\n            \"        $(this).closest(\u0027li\u0027).removeClass(\u0027jstree-closed\u0027).addClass(\u0027jstree-open\u0027); \",\n            \"      }\",\n            \"    });\",\n            \"  }\",\n            \"  $(\u0027#cs\u0027).bind( {\",\n            \"                  \u0027open_node.jstree\u0027 :function(e, data) { storeExpandedQueue(e, data); },\",\n            \"                  \u0027close_node.jstree\u0027:function(e, data) { storeExpandedQueue(e, data); }\",\n            \"  });\",\n            \"}\")._();\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/SchedulerPageUtil.java"
    }
  }
}