{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSNamesystem.java",
  "functionName": "getLockReportInfoSupplier",
  "functionId": "getLockReportInfoSupplier___src-String__dst-String__status-FileStatus",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
  "functionStartLine": 8451,
  "functionEndLine": 8474,
  "numCommitsSeen": 873,
  "timeTaken": 1449,
  "changeHistory": [
    "1824aee9da4056de0fb638906b2172e486bbebe7"
  ],
  "changeHistoryShort": {
    "1824aee9da4056de0fb638906b2172e486bbebe7": "Yintroduced"
  },
  "changeHistoryDetails": {
    "1824aee9da4056de0fb638906b2172e486bbebe7": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-15217 Add more information to longest write/read lock held log\n\n",
      "commitDate": "18/04/20 1:52 PM",
      "commitName": "1824aee9da4056de0fb638906b2172e486bbebe7",
      "commitAuthor": "Toshihiro Suzuki",
      "diff": "@@ -0,0 +1,24 @@\n+  private Supplier\u003cString\u003e getLockReportInfoSupplier(String src, String dst,\n+      FileStatus status) {\n+    return () -\u003e {\n+      UserGroupInformation ugi \u003d Server.getRemoteUser();\n+      String userName \u003d ugi !\u003d null ? ugi.toString() : null;\n+      InetAddress addr \u003d Server.getRemoteIp();\n+      StringBuilder sb \u003d new StringBuilder();\n+      String s \u003d escapeJava(src);\n+      String d \u003d escapeJava(dst);\n+      sb.append(\"ugi\u003d\").append(userName).append(\",\")\n+          .append(\"ip\u003d\").append(addr).append(\",\")\n+          .append(\"src\u003d\").append(s).append(\",\")\n+          .append(\"dst\u003d\").append(d).append(\",\");\n+      if (null \u003d\u003d status) {\n+        sb.append(\"perm\u003dnull\");\n+      } else {\n+        sb.append(\"perm\u003d\")\n+            .append(status.getOwner()).append(\":\")\n+            .append(status.getGroup()).append(\":\")\n+            .append(status.getPermission());\n+      }\n+      return sb.toString();\n+    };\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private Supplier\u003cString\u003e getLockReportInfoSupplier(String src, String dst,\n      FileStatus status) {\n    return () -\u003e {\n      UserGroupInformation ugi \u003d Server.getRemoteUser();\n      String userName \u003d ugi !\u003d null ? ugi.toString() : null;\n      InetAddress addr \u003d Server.getRemoteIp();\n      StringBuilder sb \u003d new StringBuilder();\n      String s \u003d escapeJava(src);\n      String d \u003d escapeJava(dst);\n      sb.append(\"ugi\u003d\").append(userName).append(\",\")\n          .append(\"ip\u003d\").append(addr).append(\",\")\n          .append(\"src\u003d\").append(s).append(\",\")\n          .append(\"dst\u003d\").append(d).append(\",\");\n      if (null \u003d\u003d status) {\n        sb.append(\"perm\u003dnull\");\n      } else {\n        sb.append(\"perm\u003d\")\n            .append(status.getOwner()).append(\":\")\n            .append(status.getGroup()).append(\":\")\n            .append(status.getPermission());\n      }\n      return sb.toString();\n    };\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java"
    }
  }
}