{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "GangliaSink30.java",
  "functionName": "appendPrefix",
  "functionId": "appendPrefix___record-MetricsRecord__sb-StringBuilder",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/sink/ganglia/GangliaSink30.java",
  "functionStartLine": 87,
  "functionEndLine": 106,
  "numCommitsSeen": 4,
  "timeTaken": 638,
  "changeHistory": [
    "2ca9c8d926a8eeb871b2868e6eb4dfb97d7dc63d"
  ],
  "changeHistoryShort": {
    "2ca9c8d926a8eeb871b2868e6eb4dfb97d7dc63d": "Yintroduced"
  },
  "changeHistoryDetails": {
    "2ca9c8d926a8eeb871b2868e6eb4dfb97d7dc63d": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7507. Allow ganglia metrics to include the metrics system tags in the gmetric names. Contributed by Alejandro Abdelnur.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1166460 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/09/11 3:59 PM",
      "commitName": "2ca9c8d926a8eeb871b2868e6eb4dfb97d7dc63d",
      "commitAuthor": "Todd Lipcon",
      "diff": "@@ -0,0 +1,20 @@\n+  public void appendPrefix(MetricsRecord record, StringBuilder sb) {\n+    String contextName \u003d record.context();\n+    Collection\u003cMetricsTag\u003e tags \u003d record.tags();\n+    if (useTagsMap.containsKey(contextName)) {\n+      Set\u003cString\u003e useTags \u003d useTagsMap.get(contextName);\n+      for (MetricsTag t : tags) {\n+        if (useTags \u003d\u003d null || useTags.contains(t.name())) {\n+\n+          // the context is always skipped here because it is always added\n+          \n+          // the hostname is always skipped to avoid case-mismatches \n+          // from different DNSes.\n+\n+          if (t.info() !\u003d MsInfo.Context \u0026\u0026 t.info() !\u003d MsInfo.Hostname \u0026\u0026 t.value() !\u003d null) {\n+            sb.append(\u0027.\u0027).append(t.name()).append(\u0027\u003d\u0027).append(t.value());\n+          }\n+        }\n+      }\n+    }          \n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void appendPrefix(MetricsRecord record, StringBuilder sb) {\n    String contextName \u003d record.context();\n    Collection\u003cMetricsTag\u003e tags \u003d record.tags();\n    if (useTagsMap.containsKey(contextName)) {\n      Set\u003cString\u003e useTags \u003d useTagsMap.get(contextName);\n      for (MetricsTag t : tags) {\n        if (useTags \u003d\u003d null || useTags.contains(t.name())) {\n\n          // the context is always skipped here because it is always added\n          \n          // the hostname is always skipped to avoid case-mismatches \n          // from different DNSes.\n\n          if (t.info() !\u003d MsInfo.Context \u0026\u0026 t.info() !\u003d MsInfo.Hostname \u0026\u0026 t.value() !\u003d null) {\n            sb.append(\u0027.\u0027).append(t.name()).append(\u0027\u003d\u0027).append(t.value());\n          }\n        }\n      }\n    }          \n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/metrics2/sink/ganglia/GangliaSink30.java"
    }
  }
}