{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "INodeFile.java",
  "functionName": "setFileReplication",
  "functionId": "setFileReplication___replication-short",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
  "functionStartLine": 550,
  "functionEndLine": 557,
  "numCommitsSeen": 163,
  "timeTaken": 3308,
  "changeHistory": [
    "7600e3c48ff2043654dbe9f415a186a336b5ea6c",
    "47f4c54106ebb234a7d3dc71320aa584ecba161a",
    "9f2f583f401189c3f4a2687795a9e3e0b288322b",
    "e67b80ec3a9ebeec613241c8b41fe01358012e38"
  ],
  "changeHistoryShort": {
    "7600e3c48ff2043654dbe9f415a186a336b5ea6c": "Ybodychange",
    "47f4c54106ebb234a7d3dc71320aa584ecba161a": "Ymodifierchange",
    "9f2f583f401189c3f4a2687795a9e3e0b288322b": "Ymodifierchange",
    "e67b80ec3a9ebeec613241c8b41fe01358012e38": "Ybodychange"
  },
  "changeHistoryDetails": {
    "7600e3c48ff2043654dbe9f415a186a336b5ea6c": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7866. Erasure coding: NameNode manages multiple erasure coding policies. Contributed by Rui Li.\n",
      "commitDate": "08/03/16 10:30 PM",
      "commitName": "7600e3c48ff2043654dbe9f415a186a336b5ea6c",
      "commitAuthor": "Zhe Zhang",
      "commitDateOld": "12/02/16 11:07 AM",
      "commitNameOld": "972782d9568e0849484c027f27c1638ba50ec56e",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 25.47,
      "commitsBetweenForRepo": 166,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,3 +1,8 @@\n   private void setFileReplication(short replication) {\n-    header \u003d HeaderFormat.REPLICATION.BITS.combine(replication, header);\n+    long layoutRedundancy \u003d\n+        HeaderFormat.BLOCK_LAYOUT_AND_REDUNDANCY.BITS.retrieve(header);\n+    layoutRedundancy \u003d (layoutRedundancy \u0026\n+        ~HeaderFormat.MAX_REDUNDANCY) | replication;\n+    header \u003d HeaderFormat.BLOCK_LAYOUT_AND_REDUNDANCY.BITS.\n+        combine(layoutRedundancy, header);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void setFileReplication(short replication) {\n    long layoutRedundancy \u003d\n        HeaderFormat.BLOCK_LAYOUT_AND_REDUNDANCY.BITS.retrieve(header);\n    layoutRedundancy \u003d (layoutRedundancy \u0026\n        ~HeaderFormat.MAX_REDUNDANCY) | replication;\n    header \u003d HeaderFormat.BLOCK_LAYOUT_AND_REDUNDANCY.BITS.\n        combine(layoutRedundancy, header);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
      "extendedDetails": {}
    },
    "47f4c54106ebb234a7d3dc71320aa584ecba161a": {
      "type": "Ymodifierchange",
      "commitMessage": "HDFS-8751. Remove setBlocks API from INodeFile and misc code cleanup. Contributed by Zhe Zhang\n",
      "commitDate": "10/07/15 2:15 PM",
      "commitName": "47f4c54106ebb234a7d3dc71320aa584ecba161a",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "17/06/15 8:05 AM",
      "commitNameOld": "6e3fcffe291faec40fa9214f4880a35a952836c4",
      "commitAuthorOld": "Andrew Wang",
      "daysBetweenCommits": 23.26,
      "commitsBetweenForRepo": 160,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,3 +1,3 @@\n-  public final void setFileReplication(short replication) {\n+  private void setFileReplication(short replication) {\n     header \u003d HeaderFormat.REPLICATION.BITS.combine(replication, header);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void setFileReplication(short replication) {\n    header \u003d HeaderFormat.REPLICATION.BITS.combine(replication, header);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
      "extendedDetails": {
        "oldValue": "[public, final]",
        "newValue": "[private]"
      }
    },
    "9f2f583f401189c3f4a2687795a9e3e0b288322b": {
      "type": "Ymodifierchange",
      "commitMessage": "HDFS-7749. Erasure Coding: Add striped block support in INodeFile. Contributed by Jing Zhao.\n",
      "commitDate": "26/05/15 11:07 AM",
      "commitName": "9f2f583f401189c3f4a2687795a9e3e0b288322b",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "26/05/15 11:03 AM",
      "commitNameOld": "bc2833b1c91e107d090619d755c584f6eae82327",
      "commitAuthorOld": "Zhe Zhang",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 8,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,3 +1,3 @@\n-  public final void setFileReplication(short replication) {\n+  private void setFileReplication(short replication) {\n     header \u003d HeaderFormat.REPLICATION.BITS.combine(replication, header);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void setFileReplication(short replication) {\n    header \u003d HeaderFormat.REPLICATION.BITS.combine(replication, header);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
      "extendedDetails": {
        "oldValue": "[public, final]",
        "newValue": "[private]"
      }
    },
    "e67b80ec3a9ebeec613241c8b41fe01358012e38": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6643. Refactor INodeWithAdditionalFields.PermissionStatusFormat and INodeFile.HeaderFormat.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1609401 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/07/14 11:16 PM",
      "commitName": "e67b80ec3a9ebeec613241c8b41fe01358012e38",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "22/06/14 12:39 AM",
      "commitNameOld": "1e89eba47d0f291b33fc26f9406231fc70b63a87",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 17.94,
      "commitsBetweenForRepo": 112,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,3 +1,3 @@\n   public final void setFileReplication(short replication) {\n-    header \u003d HeaderFormat.combineReplication(header, replication);\n+    header \u003d HeaderFormat.REPLICATION.BITS.combine(replication, header);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public final void setFileReplication(short replication) {\n    header \u003d HeaderFormat.REPLICATION.BITS.combine(replication, header);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INodeFile.java",
      "extendedDetails": {}
    }
  }
}