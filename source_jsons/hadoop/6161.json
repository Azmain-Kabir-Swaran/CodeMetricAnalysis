{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSImageFormat.java",
  "functionName": "loadSecretManagerState",
  "functionId": "loadSecretManagerState___in-DataInput",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.java",
  "functionStartLine": 977,
  "functionEndLine": 988,
  "numCommitsSeen": 127,
  "timeTaken": 2567,
  "changeHistory": [
    "00067895a01c66d53715b50bbcb3605efd6425f2",
    "ca5d73d1ab45541169f76b183f67e7a6150c1a2c"
  ],
  "changeHistoryShort": {
    "00067895a01c66d53715b50bbcb3605efd6425f2": "Ybodychange",
    "ca5d73d1ab45541169f76b183f67e7a6150c1a2c": "Ybodychange"
  },
  "changeHistoryDetails": {
    "00067895a01c66d53715b50bbcb3605efd6425f2": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5754. Split LayoutVerion into NameNodeLayoutVersion and DataNodeLayoutVersion. Contributed by Brandon Li\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-5535@1563041 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "30/01/14 7:21 PM",
      "commitName": "00067895a01c66d53715b50bbcb3605efd6425f2",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "16/01/14 5:32 PM",
      "commitNameOld": "a7ec44d41b0ad1fa133408a10caaae32a27ea569",
      "commitAuthorOld": "Colin McCabe",
      "daysBetweenCommits": 14.08,
      "commitsBetweenForRepo": 56,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,12 @@\n     private void loadSecretManagerState(DataInput in)\n         throws IOException {\n       int imgVersion \u003d getLayoutVersion();\n \n-      if (!LayoutVersion.supports(Feature.DELEGATION_TOKEN, imgVersion)) {\n+      if (!NameNodeLayoutVersion.supports(\n+          LayoutVersion.Feature.DELEGATION_TOKEN, imgVersion)) {\n         //SecretManagerState is not available.\n         //This must not happen if security is turned on.\n         return; \n       }\n       namesystem.loadSecretManagerStateCompat(in);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadSecretManagerState(DataInput in)\n        throws IOException {\n      int imgVersion \u003d getLayoutVersion();\n\n      if (!NameNodeLayoutVersion.supports(\n          LayoutVersion.Feature.DELEGATION_TOKEN, imgVersion)) {\n        //SecretManagerState is not available.\n        //This must not happen if security is turned on.\n        return; \n      }\n      namesystem.loadSecretManagerStateCompat(in);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.java",
      "extendedDetails": {}
    },
    "ca5d73d1ab45541169f76b183f67e7a6150c1a2c": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5768. Consolidate the serialization code in DelegationTokenSecretManager. Contributed by Haohui Mai\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1558598 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "15/01/14 3:11 PM",
      "commitName": "ca5d73d1ab45541169f76b183f67e7a6150c1a2c",
      "commitAuthor": "Brandon Li",
      "commitDateOld": "07/01/14 12:52 PM",
      "commitNameOld": "70cff9e2f0c8f78c1dc54a064182971bb2106795",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 8.1,
      "commitsBetweenForRepo": 44,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n     private void loadSecretManagerState(DataInput in)\n         throws IOException {\n       int imgVersion \u003d getLayoutVersion();\n \n       if (!LayoutVersion.supports(Feature.DELEGATION_TOKEN, imgVersion)) {\n         //SecretManagerState is not available.\n         //This must not happen if security is turned on.\n         return; \n       }\n-      namesystem.loadSecretManagerState(in);\n+      namesystem.loadSecretManagerStateCompat(in);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    private void loadSecretManagerState(DataInput in)\n        throws IOException {\n      int imgVersion \u003d getLayoutVersion();\n\n      if (!LayoutVersion.supports(Feature.DELEGATION_TOKEN, imgVersion)) {\n        //SecretManagerState is not available.\n        //This must not happen if security is turned on.\n        return; \n      }\n      namesystem.loadSecretManagerStateCompat(in);\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.java",
      "extendedDetails": {}
    }
  }
}