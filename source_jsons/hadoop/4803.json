{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FileDiff.java",
  "functionName": "destroyDiffAndCollectBlocks",
  "functionId": "destroyDiffAndCollectBlocks___reclaimContext-INode.ReclaimContext__currentINode-INodeFile",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
  "functionStartLine": 110,
  "functionEndLine": 114,
  "numCommitsSeen": 61,
  "timeTaken": 6206,
  "changeHistory": [
    "b2c85db86c9a62b0a03ee87547265077f664970a",
    "4536399d47f6c061e149e2504600804a0f1e093d",
    "5dae97a584d30cef3e34141edfaca49c4ec57913",
    "4c87a27ad851ffaa3cc3e2074a9ef7073b5a164a",
    "8df119da214babde03e73243c7ca4cfe6d0ca562",
    "92e0416ced279a910616985bf11fa3f8b1b1de9b",
    "3b3ea5c4220e674064c7603a449f63904c10bac1",
    "f29fa9e820e25730d00a1a00c51c6f11028fb5a7"
  ],
  "changeHistoryShort": {
    "b2c85db86c9a62b0a03ee87547265077f664970a": "Ymultichange(Yreturntypechange,Ybodychange)",
    "4536399d47f6c061e149e2504600804a0f1e093d": "Ymultichange(Yparameterchange,Ybodychange)",
    "5dae97a584d30cef3e34141edfaca49c4ec57913": "Ymultichange(Yparameterchange,Yreturntypechange,Ybodychange)",
    "4c87a27ad851ffaa3cc3e2074a9ef7073b5a164a": "Ymultichange(Yparameterchange,Ybodychange)",
    "8df119da214babde03e73243c7ca4cfe6d0ca562": "Ymultichange(Ymovefromfile,Ybodychange,Yparameterchange)",
    "92e0416ced279a910616985bf11fa3f8b1b1de9b": "Ymultichange(Yparameterchange,Ybodychange)",
    "3b3ea5c4220e674064c7603a449f63904c10bac1": "Ymultichange(Yrename,Yreturntypechange,Ybodychange)",
    "f29fa9e820e25730d00a1a00c51c6f11028fb5a7": "Yintroduced"
  },
  "changeHistoryDetails": {
    "b2c85db86c9a62b0a03ee87547265077f664970a": {
      "type": "Ymultichange(Yreturntypechange,Ybodychange)",
      "commitMessage": "HDFS-7728. Avoid updating quota usage while loading edits. Contributed by Jing Zhao.\n",
      "commitDate": "13/05/15 9:50 PM",
      "commitName": "b2c85db86c9a62b0a03ee87547265077f664970a",
      "commitAuthor": "Haohui Mai",
      "subchanges": [
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-7728. Avoid updating quota usage while loading edits. Contributed by Jing Zhao.\n",
          "commitDate": "13/05/15 9:50 PM",
          "commitName": "b2c85db86c9a62b0a03ee87547265077f664970a",
          "commitAuthor": "Haohui Mai",
          "commitDateOld": "09/05/15 10:51 PM",
          "commitNameOld": "4536399d47f6c061e149e2504600804a0f1e093d",
          "commitAuthorOld": "Haohui Mai",
          "daysBetweenCommits": 3.96,
          "commitsBetweenForRepo": 43,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-  QuotaCounts destroyDiffAndCollectBlocks(\n-      INode.ReclaimContext reclaimContext, INodeFile currentINode) {\n-    return currentINode.getFileWithSnapshotFeature()\n-        .updateQuotaAndCollectBlocks(reclaimContext, currentINode, this);\n+  void destroyDiffAndCollectBlocks(INode.ReclaimContext reclaimContext,\n+      INodeFile currentINode) {\n+    currentINode.getFileWithSnapshotFeature().updateQuotaAndCollectBlocks(\n+        reclaimContext, currentINode, this);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void destroyDiffAndCollectBlocks(INode.ReclaimContext reclaimContext,\n      INodeFile currentINode) {\n    currentINode.getFileWithSnapshotFeature().updateQuotaAndCollectBlocks(\n        reclaimContext, currentINode, this);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {
            "oldValue": "QuotaCounts",
            "newValue": "void"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-7728. Avoid updating quota usage while loading edits. Contributed by Jing Zhao.\n",
          "commitDate": "13/05/15 9:50 PM",
          "commitName": "b2c85db86c9a62b0a03ee87547265077f664970a",
          "commitAuthor": "Haohui Mai",
          "commitDateOld": "09/05/15 10:51 PM",
          "commitNameOld": "4536399d47f6c061e149e2504600804a0f1e093d",
          "commitAuthorOld": "Haohui Mai",
          "daysBetweenCommits": 3.96,
          "commitsBetweenForRepo": 43,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-  QuotaCounts destroyDiffAndCollectBlocks(\n-      INode.ReclaimContext reclaimContext, INodeFile currentINode) {\n-    return currentINode.getFileWithSnapshotFeature()\n-        .updateQuotaAndCollectBlocks(reclaimContext, currentINode, this);\n+  void destroyDiffAndCollectBlocks(INode.ReclaimContext reclaimContext,\n+      INodeFile currentINode) {\n+    currentINode.getFileWithSnapshotFeature().updateQuotaAndCollectBlocks(\n+        reclaimContext, currentINode, this);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void destroyDiffAndCollectBlocks(INode.ReclaimContext reclaimContext,\n      INodeFile currentINode) {\n    currentINode.getFileWithSnapshotFeature().updateQuotaAndCollectBlocks(\n        reclaimContext, currentINode, this);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {}
        }
      ]
    },
    "4536399d47f6c061e149e2504600804a0f1e093d": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-8357. Consolidate parameters of INode.CleanSubtree() into a parameter objects. Contributed by Li Lu.\n",
      "commitDate": "09/05/15 10:51 PM",
      "commitName": "4536399d47f6c061e149e2504600804a0f1e093d",
      "commitAuthor": "Haohui Mai",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-8357. Consolidate parameters of INode.CleanSubtree() into a parameter objects. Contributed by Li Lu.\n",
          "commitDate": "09/05/15 10:51 PM",
          "commitName": "4536399d47f6c061e149e2504600804a0f1e093d",
          "commitAuthor": "Haohui Mai",
          "commitDateOld": "11/02/15 10:41 AM",
          "commitNameOld": "5dae97a584d30cef3e34141edfaca49c4ec57913",
          "commitAuthorOld": "Arpit Agarwal",
          "daysBetweenCommits": 87.47,
          "commitsBetweenForRepo": 861,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,5 @@\n-  QuotaCounts destroyDiffAndCollectBlocks(BlockStoragePolicySuite bsps, INodeFile currentINode,\n-      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n+  QuotaCounts destroyDiffAndCollectBlocks(\n+      INode.ReclaimContext reclaimContext, INodeFile currentINode) {\n     return currentINode.getFileWithSnapshotFeature()\n-        .updateQuotaAndCollectBlocks(bsps, currentINode, this, collectedBlocks,\n-            removedINodes);\n+        .updateQuotaAndCollectBlocks(reclaimContext, currentINode, this);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  QuotaCounts destroyDiffAndCollectBlocks(\n      INode.ReclaimContext reclaimContext, INodeFile currentINode) {\n    return currentINode.getFileWithSnapshotFeature()\n        .updateQuotaAndCollectBlocks(reclaimContext, currentINode, this);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {
            "oldValue": "[bsps-BlockStoragePolicySuite, currentINode-INodeFile, collectedBlocks-BlocksMapUpdateInfo, removedINodes-List\u003cINode\u003e(modifiers-final)]",
            "newValue": "[reclaimContext-INode.ReclaimContext, currentINode-INodeFile]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-8357. Consolidate parameters of INode.CleanSubtree() into a parameter objects. Contributed by Li Lu.\n",
          "commitDate": "09/05/15 10:51 PM",
          "commitName": "4536399d47f6c061e149e2504600804a0f1e093d",
          "commitAuthor": "Haohui Mai",
          "commitDateOld": "11/02/15 10:41 AM",
          "commitNameOld": "5dae97a584d30cef3e34141edfaca49c4ec57913",
          "commitAuthorOld": "Arpit Agarwal",
          "daysBetweenCommits": 87.47,
          "commitsBetweenForRepo": 861,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,5 @@\n-  QuotaCounts destroyDiffAndCollectBlocks(BlockStoragePolicySuite bsps, INodeFile currentINode,\n-      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n+  QuotaCounts destroyDiffAndCollectBlocks(\n+      INode.ReclaimContext reclaimContext, INodeFile currentINode) {\n     return currentINode.getFileWithSnapshotFeature()\n-        .updateQuotaAndCollectBlocks(bsps, currentINode, this, collectedBlocks,\n-            removedINodes);\n+        .updateQuotaAndCollectBlocks(reclaimContext, currentINode, this);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  QuotaCounts destroyDiffAndCollectBlocks(\n      INode.ReclaimContext reclaimContext, INodeFile currentINode) {\n    return currentINode.getFileWithSnapshotFeature()\n        .updateQuotaAndCollectBlocks(reclaimContext, currentINode, this);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {}
        }
      ]
    },
    "5dae97a584d30cef3e34141edfaca49c4ec57913": {
      "type": "Ymultichange(Yparameterchange,Yreturntypechange,Ybodychange)",
      "commitMessage": "HDFS-7723. Quota By Storage Type namenode implemenation. (Contributed by Xiaoyu Yao)\n",
      "commitDate": "11/02/15 10:41 AM",
      "commitName": "5dae97a584d30cef3e34141edfaca49c4ec57913",
      "commitAuthor": "Arpit Agarwal",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-7723. Quota By Storage Type namenode implemenation. (Contributed by Xiaoyu Yao)\n",
          "commitDate": "11/02/15 10:41 AM",
          "commitName": "5dae97a584d30cef3e34141edfaca49c4ec57913",
          "commitAuthor": "Arpit Agarwal",
          "commitDateOld": "08/02/15 11:51 AM",
          "commitNameOld": "1382ae525c67bf95d8f3a436b547dbc72cfbb177",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 2.95,
          "commitsBetweenForRepo": 40,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,6 @@\n-  Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n+  QuotaCounts destroyDiffAndCollectBlocks(BlockStoragePolicySuite bsps, INodeFile currentINode,\n       BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n     return currentINode.getFileWithSnapshotFeature()\n-        .updateQuotaAndCollectBlocks(currentINode, this, collectedBlocks,\n+        .updateQuotaAndCollectBlocks(bsps, currentINode, this, collectedBlocks,\n             removedINodes);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  QuotaCounts destroyDiffAndCollectBlocks(BlockStoragePolicySuite bsps, INodeFile currentINode,\n      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n    return currentINode.getFileWithSnapshotFeature()\n        .updateQuotaAndCollectBlocks(bsps, currentINode, this, collectedBlocks,\n            removedINodes);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {
            "oldValue": "[currentINode-INodeFile, collectedBlocks-BlocksMapUpdateInfo, removedINodes-List\u003cINode\u003e(modifiers-final)]",
            "newValue": "[bsps-BlockStoragePolicySuite, currentINode-INodeFile, collectedBlocks-BlocksMapUpdateInfo, removedINodes-List\u003cINode\u003e(modifiers-final)]"
          }
        },
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-7723. Quota By Storage Type namenode implemenation. (Contributed by Xiaoyu Yao)\n",
          "commitDate": "11/02/15 10:41 AM",
          "commitName": "5dae97a584d30cef3e34141edfaca49c4ec57913",
          "commitAuthor": "Arpit Agarwal",
          "commitDateOld": "08/02/15 11:51 AM",
          "commitNameOld": "1382ae525c67bf95d8f3a436b547dbc72cfbb177",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 2.95,
          "commitsBetweenForRepo": 40,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,6 @@\n-  Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n+  QuotaCounts destroyDiffAndCollectBlocks(BlockStoragePolicySuite bsps, INodeFile currentINode,\n       BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n     return currentINode.getFileWithSnapshotFeature()\n-        .updateQuotaAndCollectBlocks(currentINode, this, collectedBlocks,\n+        .updateQuotaAndCollectBlocks(bsps, currentINode, this, collectedBlocks,\n             removedINodes);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  QuotaCounts destroyDiffAndCollectBlocks(BlockStoragePolicySuite bsps, INodeFile currentINode,\n      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n    return currentINode.getFileWithSnapshotFeature()\n        .updateQuotaAndCollectBlocks(bsps, currentINode, this, collectedBlocks,\n            removedINodes);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {
            "oldValue": "Quota.Counts",
            "newValue": "QuotaCounts"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-7723. Quota By Storage Type namenode implemenation. (Contributed by Xiaoyu Yao)\n",
          "commitDate": "11/02/15 10:41 AM",
          "commitName": "5dae97a584d30cef3e34141edfaca49c4ec57913",
          "commitAuthor": "Arpit Agarwal",
          "commitDateOld": "08/02/15 11:51 AM",
          "commitNameOld": "1382ae525c67bf95d8f3a436b547dbc72cfbb177",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 2.95,
          "commitsBetweenForRepo": 40,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,6 @@\n-  Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n+  QuotaCounts destroyDiffAndCollectBlocks(BlockStoragePolicySuite bsps, INodeFile currentINode,\n       BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n     return currentINode.getFileWithSnapshotFeature()\n-        .updateQuotaAndCollectBlocks(currentINode, this, collectedBlocks,\n+        .updateQuotaAndCollectBlocks(bsps, currentINode, this, collectedBlocks,\n             removedINodes);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  QuotaCounts destroyDiffAndCollectBlocks(BlockStoragePolicySuite bsps, INodeFile currentINode,\n      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n    return currentINode.getFileWithSnapshotFeature()\n        .updateQuotaAndCollectBlocks(bsps, currentINode, this, collectedBlocks,\n            removedINodes);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {}
        }
      ]
    },
    "4c87a27ad851ffaa3cc3e2074a9ef7073b5a164a": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-5554. Flatten INodeFile hierarchy: Replace INodeFileWithSnapshot with FileWithSnapshotFeature.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1548796 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/12/13 10:17 PM",
      "commitName": "4c87a27ad851ffaa3cc3e2074a9ef7073b5a164a",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-5554. Flatten INodeFile hierarchy: Replace INodeFileWithSnapshot with FileWithSnapshotFeature.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1548796 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "06/12/13 10:17 PM",
          "commitName": "4c87a27ad851ffaa3cc3e2074a9ef7073b5a164a",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "27/11/13 12:32 PM",
          "commitNameOld": "8df119da214babde03e73243c7ca4cfe6d0ca562",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 9.41,
          "commitsBetweenForRepo": 53,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,6 @@\n-  Quota.Counts destroyDiffAndCollectBlocks(INodeFileWithSnapshot currentINode,\n+  Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n       BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n-    return currentINode.updateQuotaAndCollectBlocks(this, collectedBlocks,\n-        removedINodes);\n+    return currentINode.getFileWithSnapshotFeature()\n+        .updateQuotaAndCollectBlocks(currentINode, this, collectedBlocks,\n+            removedINodes);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n    return currentINode.getFileWithSnapshotFeature()\n        .updateQuotaAndCollectBlocks(currentINode, this, collectedBlocks,\n            removedINodes);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {
            "oldValue": "[currentINode-INodeFileWithSnapshot, collectedBlocks-BlocksMapUpdateInfo, removedINodes-List\u003cINode\u003e(modifiers-final)]",
            "newValue": "[currentINode-INodeFile, collectedBlocks-BlocksMapUpdateInfo, removedINodes-List\u003cINode\u003e(modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-5554. Flatten INodeFile hierarchy: Replace INodeFileWithSnapshot with FileWithSnapshotFeature.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1548796 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "06/12/13 10:17 PM",
          "commitName": "4c87a27ad851ffaa3cc3e2074a9ef7073b5a164a",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "27/11/13 12:32 PM",
          "commitNameOld": "8df119da214babde03e73243c7ca4cfe6d0ca562",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 9.41,
          "commitsBetweenForRepo": 53,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,6 @@\n-  Quota.Counts destroyDiffAndCollectBlocks(INodeFileWithSnapshot currentINode,\n+  Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n       BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n-    return currentINode.updateQuotaAndCollectBlocks(this, collectedBlocks,\n-        removedINodes);\n+    return currentINode.getFileWithSnapshotFeature()\n+        .updateQuotaAndCollectBlocks(currentINode, this, collectedBlocks,\n+            removedINodes);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n    return currentINode.getFileWithSnapshotFeature()\n        .updateQuotaAndCollectBlocks(currentINode, this, collectedBlocks,\n            removedINodes);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {}
        }
      ]
    },
    "8df119da214babde03e73243c7ca4cfe6d0ca562": {
      "type": "Ymultichange(Ymovefromfile,Ybodychange,Yparameterchange)",
      "commitMessage": "HDFS-5537. Remove FileWithSnapshot interface.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1546184 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "27/11/13 12:32 PM",
      "commitName": "8df119da214babde03e73243c7ca4cfe6d0ca562",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "HDFS-5537. Remove FileWithSnapshot interface.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1546184 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "27/11/13 12:32 PM",
          "commitName": "8df119da214babde03e73243c7ca4cfe6d0ca562",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "27/11/13 10:20 AM",
          "commitNameOld": "2214871d916fdcae62aa51afbb5fd571f2808745",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 0.09,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n-        BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n-      return updateQuotaAndCollectBlocks(currentINode, this,\n-          collectedBlocks, removedINodes);\n-    }\n\\ No newline at end of file\n+  Quota.Counts destroyDiffAndCollectBlocks(INodeFileWithSnapshot currentINode,\n+      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n+    return currentINode.updateQuotaAndCollectBlocks(this, collectedBlocks,\n+        removedINodes);\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  Quota.Counts destroyDiffAndCollectBlocks(INodeFileWithSnapshot currentINode,\n      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n    return currentINode.updateQuotaAndCollectBlocks(this, collectedBlocks,\n        removedINodes);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileWithSnapshot.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
            "oldMethodName": "destroyDiffAndCollectBlocks",
            "newMethodName": "destroyDiffAndCollectBlocks"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-5537. Remove FileWithSnapshot interface.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1546184 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "27/11/13 12:32 PM",
          "commitName": "8df119da214babde03e73243c7ca4cfe6d0ca562",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "27/11/13 10:20 AM",
          "commitNameOld": "2214871d916fdcae62aa51afbb5fd571f2808745",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 0.09,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n-        BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n-      return updateQuotaAndCollectBlocks(currentINode, this,\n-          collectedBlocks, removedINodes);\n-    }\n\\ No newline at end of file\n+  Quota.Counts destroyDiffAndCollectBlocks(INodeFileWithSnapshot currentINode,\n+      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n+    return currentINode.updateQuotaAndCollectBlocks(this, collectedBlocks,\n+        removedINodes);\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  Quota.Counts destroyDiffAndCollectBlocks(INodeFileWithSnapshot currentINode,\n      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n    return currentINode.updateQuotaAndCollectBlocks(this, collectedBlocks,\n        removedINodes);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {}
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-5537. Remove FileWithSnapshot interface.  Contributed by jing9\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1546184 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "27/11/13 12:32 PM",
          "commitName": "8df119da214babde03e73243c7ca4cfe6d0ca562",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "27/11/13 10:20 AM",
          "commitNameOld": "2214871d916fdcae62aa51afbb5fd571f2808745",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 0.09,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n-        BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n-      return updateQuotaAndCollectBlocks(currentINode, this,\n-          collectedBlocks, removedINodes);\n-    }\n\\ No newline at end of file\n+  Quota.Counts destroyDiffAndCollectBlocks(INodeFileWithSnapshot currentINode,\n+      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n+    return currentINode.updateQuotaAndCollectBlocks(this, collectedBlocks,\n+        removedINodes);\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  Quota.Counts destroyDiffAndCollectBlocks(INodeFileWithSnapshot currentINode,\n      BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n    return currentINode.updateQuotaAndCollectBlocks(this, collectedBlocks,\n        removedINodes);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileDiff.java",
          "extendedDetails": {
            "oldValue": "[currentINode-INodeFile, collectedBlocks-BlocksMapUpdateInfo, removedINodes-List\u003cINode\u003e(modifiers-final)]",
            "newValue": "[currentINode-INodeFileWithSnapshot, collectedBlocks-BlocksMapUpdateInfo, removedINodes-List\u003cINode\u003e(modifiers-final)]"
          }
        }
      ]
    },
    "92e0416ced279a910616985bf11fa3f8b1b1de9b": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-4727. Update inodeMap after deleting files/directories/snapshots.  Contributed by Jing Zhao\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1470756 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "22/04/13 5:00 PM",
      "commitName": "92e0416ced279a910616985bf11fa3f8b1b1de9b",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-4727. Update inodeMap after deleting files/directories/snapshots.  Contributed by Jing Zhao\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1470756 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "22/04/13 5:00 PM",
          "commitName": "92e0416ced279a910616985bf11fa3f8b1b1de9b",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "01/04/13 4:24 PM",
          "commitNameOld": "1096917649fd951be633e5619518764f23cca645",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 21.03,
          "commitsBetweenForRepo": 126,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n     Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n-        BlocksMapUpdateInfo collectedBlocks) {\n+        BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n       return updateQuotaAndCollectBlocks(currentINode, this,\n-          collectedBlocks);\n+          collectedBlocks, removedINodes);\n     }\n\\ No newline at end of file\n",
          "actualSource": "    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n        BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n      return updateQuotaAndCollectBlocks(currentINode, this,\n          collectedBlocks, removedINodes);\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileWithSnapshot.java",
          "extendedDetails": {
            "oldValue": "[currentINode-INodeFile, collectedBlocks-BlocksMapUpdateInfo]",
            "newValue": "[currentINode-INodeFile, collectedBlocks-BlocksMapUpdateInfo, removedINodes-List\u003cINode\u003e(modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-4727. Update inodeMap after deleting files/directories/snapshots.  Contributed by Jing Zhao\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1470756 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "22/04/13 5:00 PM",
          "commitName": "92e0416ced279a910616985bf11fa3f8b1b1de9b",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "01/04/13 4:24 PM",
          "commitNameOld": "1096917649fd951be633e5619518764f23cca645",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 21.03,
          "commitsBetweenForRepo": 126,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n     Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n-        BlocksMapUpdateInfo collectedBlocks) {\n+        BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n       return updateQuotaAndCollectBlocks(currentINode, this,\n-          collectedBlocks);\n+          collectedBlocks, removedINodes);\n     }\n\\ No newline at end of file\n",
          "actualSource": "    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n        BlocksMapUpdateInfo collectedBlocks, final List\u003cINode\u003e removedINodes) {\n      return updateQuotaAndCollectBlocks(currentINode, this,\n          collectedBlocks, removedINodes);\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileWithSnapshot.java",
          "extendedDetails": {}
        }
      ]
    },
    "3b3ea5c4220e674064c7603a449f63904c10bac1": {
      "type": "Ymultichange(Yrename,Yreturntypechange,Ybodychange)",
      "commitMessage": "HDFS-4563. Update namespace/diskspace usage after deleting snapshots.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1455396 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "11/03/13 7:41 PM",
      "commitName": "3b3ea5c4220e674064c7603a449f63904c10bac1",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "HDFS-4563. Update namespace/diskspace usage after deleting snapshots.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1455396 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "11/03/13 7:41 PM",
          "commitName": "3b3ea5c4220e674064c7603a449f63904c10bac1",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "20/02/13 7:27 PM",
          "commitNameOld": "f29fa9e820e25730d00a1a00c51c6f11028fb5a7",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 18.97,
          "commitsBetweenForRepo": 96,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,5 @@\n-    int destroyAndCollectBlocks(INodeFile currentINode,\n+    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n         BlocksMapUpdateInfo collectedBlocks) {\n-      Util.collectBlocksAndClear((FileWithSnapshot) currentINode,\n+      return updateQuotaAndCollectBlocks(currentINode, this,\n           collectedBlocks);\n-      return 0;\n     }\n\\ No newline at end of file\n",
          "actualSource": "    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n        BlocksMapUpdateInfo collectedBlocks) {\n      return updateQuotaAndCollectBlocks(currentINode, this,\n          collectedBlocks);\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileWithSnapshot.java",
          "extendedDetails": {
            "oldValue": "destroyAndCollectBlocks",
            "newValue": "destroyDiffAndCollectBlocks"
          }
        },
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-4563. Update namespace/diskspace usage after deleting snapshots.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1455396 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "11/03/13 7:41 PM",
          "commitName": "3b3ea5c4220e674064c7603a449f63904c10bac1",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "20/02/13 7:27 PM",
          "commitNameOld": "f29fa9e820e25730d00a1a00c51c6f11028fb5a7",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 18.97,
          "commitsBetweenForRepo": 96,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,5 @@\n-    int destroyAndCollectBlocks(INodeFile currentINode,\n+    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n         BlocksMapUpdateInfo collectedBlocks) {\n-      Util.collectBlocksAndClear((FileWithSnapshot) currentINode,\n+      return updateQuotaAndCollectBlocks(currentINode, this,\n           collectedBlocks);\n-      return 0;\n     }\n\\ No newline at end of file\n",
          "actualSource": "    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n        BlocksMapUpdateInfo collectedBlocks) {\n      return updateQuotaAndCollectBlocks(currentINode, this,\n          collectedBlocks);\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileWithSnapshot.java",
          "extendedDetails": {
            "oldValue": "int",
            "newValue": "Quota.Counts"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-4563. Update namespace/diskspace usage after deleting snapshots.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1455396 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "11/03/13 7:41 PM",
          "commitName": "3b3ea5c4220e674064c7603a449f63904c10bac1",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "20/02/13 7:27 PM",
          "commitNameOld": "f29fa9e820e25730d00a1a00c51c6f11028fb5a7",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 18.97,
          "commitsBetweenForRepo": 96,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,6 +1,5 @@\n-    int destroyAndCollectBlocks(INodeFile currentINode,\n+    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n         BlocksMapUpdateInfo collectedBlocks) {\n-      Util.collectBlocksAndClear((FileWithSnapshot) currentINode,\n+      return updateQuotaAndCollectBlocks(currentINode, this,\n           collectedBlocks);\n-      return 0;\n     }\n\\ No newline at end of file\n",
          "actualSource": "    Quota.Counts destroyDiffAndCollectBlocks(INodeFile currentINode,\n        BlocksMapUpdateInfo collectedBlocks) {\n      return updateQuotaAndCollectBlocks(currentINode, this,\n          collectedBlocks);\n    }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileWithSnapshot.java",
          "extendedDetails": {}
        }
      ]
    },
    "f29fa9e820e25730d00a1a00c51c6f11028fb5a7": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-4499. Fix file/directory/snapshot deletion for file diff.  Contributed by Jing Zhao\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1448504 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "20/02/13 7:27 PM",
      "commitName": "f29fa9e820e25730d00a1a00c51c6f11028fb5a7",
      "commitAuthor": "Tsz-wo Sze",
      "diff": "@@ -0,0 +1,6 @@\n+    int destroyAndCollectBlocks(INodeFile currentINode,\n+        BlocksMapUpdateInfo collectedBlocks) {\n+      Util.collectBlocksAndClear((FileWithSnapshot) currentINode,\n+          collectedBlocks);\n+      return 0;\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    int destroyAndCollectBlocks(INodeFile currentINode,\n        BlocksMapUpdateInfo collectedBlocks) {\n      Util.collectBlocksAndClear((FileWithSnapshot) currentINode,\n          collectedBlocks);\n      return 0;\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/snapshot/FileWithSnapshot.java"
    }
  }
}