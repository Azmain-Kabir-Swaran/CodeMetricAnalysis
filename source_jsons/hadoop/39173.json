{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "SchedulerApplicationAttempt.java",
  "functionName": "incNumAllocatedContainers",
  "functionId": "incNumAllocatedContainers___containerType-NodeType__requestType-NodeType",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerApplicationAttempt.java",
  "functionStartLine": 1257,
  "functionEndLine": 1272,
  "numCommitsSeen": 105,
  "timeTaken": 2967,
  "changeHistory": [
    "251f528814c4a4647cac0af6effb9a73135db180",
    "de3b4aac561258ad242a3c5ed1c919428893fd4c",
    "e17e5ba9d7e2bd45ba6884f59f8045817594b284"
  ],
  "changeHistoryShort": {
    "251f528814c4a4647cac0af6effb9a73135db180": "Ybodychange",
    "de3b4aac561258ad242a3c5ed1c919428893fd4c": "Ybodychange",
    "e17e5ba9d7e2bd45ba6884f59f8045817594b284": "Yintroduced"
  },
  "changeHistoryDetails": {
    "251f528814c4a4647cac0af6effb9a73135db180": {
      "type": "Ybodychange",
      "commitMessage": "YARN-8222. Fix potential NPE when gets RMApp from RM context. Contributed by Tao Yang.\n",
      "commitDate": "02/05/18 2:54 AM",
      "commitName": "251f528814c4a4647cac0af6effb9a73135db180",
      "commitAuthor": "Weiwei Yang",
      "commitDateOld": "16/03/18 3:57 AM",
      "commitNameOld": "154cfb2b620002a7d3b7fdbf8b68236c432771e1",
      "commitAuthorOld": "Weiwei Yang",
      "daysBetweenCommits": 46.96,
      "commitsBetweenForRepo": 930,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,16 @@\n   public void incNumAllocatedContainers(NodeType containerType,\n       NodeType requestType) {\n     if (containerType \u003d\u003d null || requestType \u003d\u003d null) {\n       // Sanity check\n       return;\n     }\n \n-    RMAppAttempt attempt \u003d\n-        rmContext.getRMApps().get(attemptId.getApplicationId())\n-          .getCurrentAppAttempt();\n-    if (attempt !\u003d null) {\n-      attempt.getRMAppAttemptMetrics().incNumAllocatedContainers(containerType,\n-        requestType);\n+    RMApp app \u003d rmContext.getRMApps().get(attemptId.getApplicationId());\n+    if (app !\u003d null) {\n+      RMAppAttempt attempt \u003d app.getCurrentAppAttempt();\n+      if (attempt !\u003d null) {\n+        attempt.getRMAppAttemptMetrics()\n+            .incNumAllocatedContainers(containerType, requestType);\n+      }\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void incNumAllocatedContainers(NodeType containerType,\n      NodeType requestType) {\n    if (containerType \u003d\u003d null || requestType \u003d\u003d null) {\n      // Sanity check\n      return;\n    }\n\n    RMApp app \u003d rmContext.getRMApps().get(attemptId.getApplicationId());\n    if (app !\u003d null) {\n      RMAppAttempt attempt \u003d app.getCurrentAppAttempt();\n      if (attempt !\u003d null) {\n        attempt.getRMAppAttemptMetrics()\n            .incNumAllocatedContainers(containerType, requestType);\n      }\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerApplicationAttempt.java",
      "extendedDetails": {}
    },
    "de3b4aac561258ad242a3c5ed1c919428893fd4c": {
      "type": "Ybodychange",
      "commitMessage": "YARN-5716. Add global scheduler interface definition and update CapacityScheduler to use it. Contributed by Wangda Tan\n",
      "commitDate": "07/11/16 10:14 AM",
      "commitName": "de3b4aac561258ad242a3c5ed1c919428893fd4c",
      "commitAuthor": "Jian He",
      "commitDateOld": "04/10/16 5:23 PM",
      "commitNameOld": "31f8da22d0b8d2dcce5fbc8e45d832f40acf056f",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 33.74,
      "commitsBetweenForRepo": 321,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,15 @@\n   public void incNumAllocatedContainers(NodeType containerType,\n       NodeType requestType) {\n+    if (containerType \u003d\u003d null || requestType \u003d\u003d null) {\n+      // Sanity check\n+      return;\n+    }\n+\n     RMAppAttempt attempt \u003d\n         rmContext.getRMApps().get(attemptId.getApplicationId())\n           .getCurrentAppAttempt();\n     if (attempt !\u003d null) {\n       attempt.getRMAppAttemptMetrics().incNumAllocatedContainers(containerType,\n         requestType);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void incNumAllocatedContainers(NodeType containerType,\n      NodeType requestType) {\n    if (containerType \u003d\u003d null || requestType \u003d\u003d null) {\n      // Sanity check\n      return;\n    }\n\n    RMAppAttempt attempt \u003d\n        rmContext.getRMApps().get(attemptId.getApplicationId())\n          .getCurrentAppAttempt();\n    if (attempt !\u003d null) {\n      attempt.getRMAppAttemptMetrics().incNumAllocatedContainers(containerType,\n        requestType);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerApplicationAttempt.java",
      "extendedDetails": {}
    },
    "e17e5ba9d7e2bd45ba6884f59f8045817594b284": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3272. Surface container locality info in RM web UI (Jian He via wangda)\n",
      "commitDate": "03/03/15 11:49 AM",
      "commitName": "e17e5ba9d7e2bd45ba6884f59f8045817594b284",
      "commitAuthor": "Wangda Tan",
      "diff": "@@ -0,0 +1,10 @@\n+  public void incNumAllocatedContainers(NodeType containerType,\n+      NodeType requestType) {\n+    RMAppAttempt attempt \u003d\n+        rmContext.getRMApps().get(attemptId.getApplicationId())\n+          .getCurrentAppAttempt();\n+    if (attempt !\u003d null) {\n+      attempt.getRMAppAttemptMetrics().incNumAllocatedContainers(containerType,\n+        requestType);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void incNumAllocatedContainers(NodeType containerType,\n      NodeType requestType) {\n    RMAppAttempt attempt \u003d\n        rmContext.getRMApps().get(attemptId.getApplicationId())\n          .getCurrentAppAttempt();\n    if (attempt !\u003d null) {\n      attempt.getRMAppAttemptMetrics().incNumAllocatedContainers(containerType,\n        requestType);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/SchedulerApplicationAttempt.java"
    }
  }
}