{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ContainerImpl.java",
  "functionName": "addDiagnostics",
  "functionId": "addDiagnostics___diags-String",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/ContainerImpl.java",
  "functionStartLine": 1084,
  "functionEndLine": 1097,
  "numCommitsSeen": 103,
  "timeTaken": 3861,
  "changeHistory": [
    "8236130b2c61ab0ee9b8ed747ce8cf96af7f17aa",
    "e6fcfe28e304062c7d09231db757acb2953703ce",
    "0f25a1bb52bc56661fd020a6ba82df99f8c6ef1f",
    "c2febdcbaa12078db42403fe8fd74180fb58a84b"
  ],
  "changeHistoryShort": {
    "8236130b2c61ab0ee9b8ed747ce8cf96af7f17aa": "Ybodychange",
    "e6fcfe28e304062c7d09231db757acb2953703ce": "Ybodychange",
    "0f25a1bb52bc56661fd020a6ba82df99f8c6ef1f": "Ybodychange",
    "c2febdcbaa12078db42403fe8fd74180fb58a84b": "Yintroduced"
  },
  "changeHistoryDetails": {
    "8236130b2c61ab0ee9b8ed747ce8cf96af7f17aa": {
      "type": "Ybodychange",
      "commitMessage": "YARN-6306. NMClient API change for container upgrade. Contributed by Arun Suresh\n",
      "commitDate": "16/05/17 10:48 AM",
      "commitName": "8236130b2c61ab0ee9b8ed747ce8cf96af7f17aa",
      "commitAuthor": "Jian He",
      "commitDateOld": "16/03/17 7:30 AM",
      "commitNameOld": "7114baddb627628a54cdab77f68504332a5a0e28",
      "commitAuthorOld": "Jason Lowe",
      "daysBetweenCommits": 61.14,
      "commitsBetweenForRepo": 340,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n   private void addDiagnostics(String... diags) {\n     for (String s : diags) {\n-      this.diagnostics.append(s);\n+      this.diagnostics.append(\"[\" + dateFormat.format(new Date()) + \"]\" + s);\n     }\n     if (diagnostics.length() \u003e diagnosticsMaxSize) {\n       diagnostics.delete(0, diagnostics.length() - diagnosticsMaxSize);\n     }\n     try {\n       stateStore.storeContainerDiagnostics(containerId, diagnostics);\n     } catch (IOException e) {\n       LOG.warn(\"Unable to update diagnostics in state store for \"\n           + containerId, e);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void addDiagnostics(String... diags) {\n    for (String s : diags) {\n      this.diagnostics.append(\"[\" + dateFormat.format(new Date()) + \"]\" + s);\n    }\n    if (diagnostics.length() \u003e diagnosticsMaxSize) {\n      diagnostics.delete(0, diagnostics.length() - diagnosticsMaxSize);\n    }\n    try {\n      stateStore.storeContainerDiagnostics(containerId, diagnostics);\n    } catch (IOException e) {\n      LOG.warn(\"Unable to update diagnostics in state store for \"\n          + containerId, e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/ContainerImpl.java",
      "extendedDetails": {}
    },
    "e6fcfe28e304062c7d09231db757acb2953703ce": {
      "type": "Ybodychange",
      "commitMessage": "YARN-5576. Allow resource localization while container is running. Contributed by Jian He.\n",
      "commitDate": "06/09/16 7:31 AM",
      "commitName": "e6fcfe28e304062c7d09231db757acb2953703ce",
      "commitAuthor": "Varun Vasudev",
      "commitDateOld": "30/08/16 3:52 PM",
      "commitNameOld": "d6d9cff21b7b6141ed88359652cf22e8973c0661",
      "commitAuthorOld": "Arun Suresh",
      "daysBetweenCommits": 6.65,
      "commitsBetweenForRepo": 21,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n   private void addDiagnostics(String... diags) {\n     for (String s : diags) {\n       this.diagnostics.append(s);\n     }\n-    if (isRetryContextSet() \u0026\u0026 diagnostics.length() \u003e diagnosticsMaxSize) {\n+    if (diagnostics.length() \u003e diagnosticsMaxSize) {\n       diagnostics.delete(0, diagnostics.length() - diagnosticsMaxSize);\n     }\n     try {\n       stateStore.storeContainerDiagnostics(containerId, diagnostics);\n     } catch (IOException e) {\n       LOG.warn(\"Unable to update diagnostics in state store for \"\n           + containerId, e);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void addDiagnostics(String... diags) {\n    for (String s : diags) {\n      this.diagnostics.append(s);\n    }\n    if (diagnostics.length() \u003e diagnosticsMaxSize) {\n      diagnostics.delete(0, diagnostics.length() - diagnosticsMaxSize);\n    }\n    try {\n      stateStore.storeContainerDiagnostics(containerId, diagnostics);\n    } catch (IOException e) {\n      LOG.warn(\"Unable to update diagnostics in state store for \"\n          + containerId, e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/ContainerImpl.java",
      "extendedDetails": {}
    },
    "0f25a1bb52bc56661fd020a6ba82df99f8c6ef1f": {
      "type": "Ybodychange",
      "commitMessage": "YARN-3998. Add support in the NodeManager to re-launch containers. Contributed by Jun Gong.\n",
      "commitDate": "29/04/16 3:39 AM",
      "commitName": "0f25a1bb52bc56661fd020a6ba82df99f8c6ef1f",
      "commitAuthor": "Varun Vasudev",
      "commitDateOld": "20/04/16 9:55 AM",
      "commitNameOld": "c8172f5f143d2fefafa5a412899ab7cd081b406d",
      "commitAuthorOld": "Karthik Kambatla",
      "daysBetweenCommits": 8.74,
      "commitsBetweenForRepo": 61,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,14 @@\n   private void addDiagnostics(String... diags) {\n     for (String s : diags) {\n       this.diagnostics.append(s);\n     }\n+    if (isRetryContextSet() \u0026\u0026 diagnostics.length() \u003e diagnosticsMaxSize) {\n+      diagnostics.delete(0, diagnostics.length() - diagnosticsMaxSize);\n+    }\n     try {\n       stateStore.storeContainerDiagnostics(containerId, diagnostics);\n     } catch (IOException e) {\n       LOG.warn(\"Unable to update diagnostics in state store for \"\n           + containerId, e);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void addDiagnostics(String... diags) {\n    for (String s : diags) {\n      this.diagnostics.append(s);\n    }\n    if (isRetryContextSet() \u0026\u0026 diagnostics.length() \u003e diagnosticsMaxSize) {\n      diagnostics.delete(0, diagnostics.length() - diagnosticsMaxSize);\n    }\n    try {\n      stateStore.storeContainerDiagnostics(containerId, diagnostics);\n    } catch (IOException e) {\n      LOG.warn(\"Unable to update diagnostics in state store for \"\n          + containerId, e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/ContainerImpl.java",
      "extendedDetails": {}
    },
    "c2febdcbaa12078db42403fe8fd74180fb58a84b": {
      "type": "Yintroduced",
      "commitMessage": "YARN-1337. Recover containers upon nodemanager restart. (Contributed by Jason Lowe)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1617448 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/08/14 3:56 AM",
      "commitName": "c2febdcbaa12078db42403fe8fd74180fb58a84b",
      "commitAuthor": "Junping Du",
      "diff": "@@ -0,0 +1,11 @@\n+  private void addDiagnostics(String... diags) {\n+    for (String s : diags) {\n+      this.diagnostics.append(s);\n+    }\n+    try {\n+      stateStore.storeContainerDiagnostics(containerId, diagnostics);\n+    } catch (IOException e) {\n+      LOG.warn(\"Unable to update diagnostics in state store for \"\n+          + containerId, e);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void addDiagnostics(String... diags) {\n    for (String s : diags) {\n      this.diagnostics.append(s);\n    }\n    try {\n      stateStore.storeContainerDiagnostics(containerId, diagnostics);\n    } catch (IOException e) {\n      LOG.warn(\"Unable to update diagnostics in state store for \"\n          + containerId, e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/container/ContainerImpl.java"
    }
  }
}