{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FairSchedulerPage.java",
  "functionName": "render",
  "functionId": "render___html-Block",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/FairSchedulerPage.java",
  "functionStartLine": 107,
  "functionEndLine": 125,
  "numCommitsSeen": 23,
  "timeTaken": 1742,
  "changeHistory": [
    "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397",
    "270a271f53f52a1f33e63a0520ae6032536dd4c6",
    "c221204ccaadcf70992d9e858ef71c6f8864ff4e",
    "595d52cf3727ca3f8883d30e50f67975b1a3f796",
    "b54e794fb059fa68b115c2ca5e58f11a0d7f3985"
  ],
  "changeHistoryShort": {
    "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397": "Ybodychange",
    "270a271f53f52a1f33e63a0520ae6032536dd4c6": "Ybodychange",
    "c221204ccaadcf70992d9e858ef71c6f8864ff4e": "Ybodychange",
    "595d52cf3727ca3f8883d30e50f67975b1a3f796": "Ybodychange",
    "b54e794fb059fa68b115c2ca5e58f11a0d7f3985": "Yintroduced"
  },
  "changeHistoryDetails": {
    "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-11875. [JDK9] Adding a second copy of Hamlet without _ as a one-character identifier.\n",
      "commitDate": "27/07/17 5:10 PM",
      "commitName": "38c6fa5c7a61c7f6d4d2db5f12f9c60d477fb397",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "29/06/17 4:53 PM",
      "commitNameOld": "ec975197799417a1d5727dedc395fe6c15c30eb2",
      "commitAuthorOld": "Daniel Templeton",
      "daysBetweenCommits": 28.01,
      "commitsBetweenForRepo": 123,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,51 +1,51 @@\n     public void render(Block html) {\n-      html._(MetricsOverviewTable.class);\n+      html.__(MetricsOverviewTable.class);\n       UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n         div(\"#cs-wrapper.ui-widget\").\n           div(\".ui-widget-header.ui-corner-top\").\n-            _(\"Application Queues\")._().\n+          __(\"Application Queues\").__().\n           div(\"#cs.ui-widget-content.ui-corner-bottom\").\n             ul();\n       if (fs \u003d\u003d null) {\n         ul.\n           li().\n             a(_Q).$style(width(Q_MAX_WIDTH)).\n-              span().$style(Q_END)._(\"100% \")._().\n-              span(\".q\", \"default\")._()._();\n+              span().$style(Q_END).__(\"100% \").__().\n+              span(\".q\", \"default\").__().__();\n       } else {\n         FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n         fsqinfo.qinfo \u003d sinfo.getRootQueueInfo();\n         float used \u003d fsqinfo.qinfo.getUsedMemoryFraction();\n \n         ul.\n           li().$style(\"margin-bottom: 1em\").\n-            span().$style(\"font-weight: bold\")._(\"Legend:\")._().\n+            span().$style(\"font-weight: bold\").__(\"Legend:\").__().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n               $title(\"The steady fair shares consider all queues, \" +\n                   \"both active (with running applications) and inactive.\").\n-              _(STEADY_FAIR_SHARE)._().\n+            __(STEADY_FAIR_SHARE).__().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_INSTANTANEOUS_FS).\n               $title(\"The instantaneous fair shares consider only active \" +\n                   \"queues (with running applications).\").\n-              _(INSTANTANEOUS_FAIR_SHARE)._().\n+            __(INSTANTANEOUS_FAIR_SHARE).__().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n-              _(\"Used\")._().\n+            __(\"Used\").__().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n-              _(\"Used (over fair share)\")._().\n+            __(\"Used (over fair share)\").__().\n             span().$class(\"qlegend ui-corner-all ui-state-default\").\n-              _(\"Max Capacity\")._().\n-        _().\n+            __(\"Max Capacity\").__().\n+            __().\n           li().\n             a(_Q).$style(width(Q_MAX_WIDTH)).\n               span().$style(join(width(used), \";left:0%;\",\n-                  used \u003e 1 ? Q_OVER : Q_UNDER))._(\".\")._().\n-              span(\".q\", \"root\")._().\n+                  used \u003e 1 ? Q_OVER : Q_UNDER)).__(\".\").__().\n+              span(\".q\", \"root\").__().\n             span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n-              _(join(percent(used), \" used\"))._().\n-            _(QueueBlock.class)._();\n+            __(join(percent(used), \" used\")).__().\n+            __(QueueBlock.class).__();\n       }\n-      ul._()._().\n+      ul.__().__().\n       script().$type(\"text/javascript\").\n-          _(\"$(\u0027#cs\u0027).hide();\")._()._().\n-      _(FairSchedulerAppsBlock.class);\n+          __(\"$(\u0027#cs\u0027).hide();\").__().__().\n+          __(FairSchedulerAppsBlock.class);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void render(Block html) {\n      html.__(MetricsOverviewTable.class);\n      UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n        div(\"#cs-wrapper.ui-widget\").\n          div(\".ui-widget-header.ui-corner-top\").\n          __(\"Application Queues\").__().\n          div(\"#cs.ui-widget-content.ui-corner-bottom\").\n            ul();\n      if (fs \u003d\u003d null) {\n        ul.\n          li().\n            a(_Q).$style(width(Q_MAX_WIDTH)).\n              span().$style(Q_END).__(\"100% \").__().\n              span(\".q\", \"default\").__().__();\n      } else {\n        FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n        fsqinfo.qinfo \u003d sinfo.getRootQueueInfo();\n        float used \u003d fsqinfo.qinfo.getUsedMemoryFraction();\n\n        ul.\n          li().$style(\"margin-bottom: 1em\").\n            span().$style(\"font-weight: bold\").__(\"Legend:\").__().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n              $title(\"The steady fair shares consider all queues, \" +\n                  \"both active (with running applications) and inactive.\").\n            __(STEADY_FAIR_SHARE).__().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_INSTANTANEOUS_FS).\n              $title(\"The instantaneous fair shares consider only active \" +\n                  \"queues (with running applications).\").\n            __(INSTANTANEOUS_FAIR_SHARE).__().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n            __(\"Used\").__().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n            __(\"Used (over fair share)\").__().\n            span().$class(\"qlegend ui-corner-all ui-state-default\").\n            __(\"Max Capacity\").__().\n            __().\n          li().\n            a(_Q).$style(width(Q_MAX_WIDTH)).\n              span().$style(join(width(used), \";left:0%;\",\n                  used \u003e 1 ? Q_OVER : Q_UNDER)).__(\".\").__().\n              span(\".q\", \"root\").__().\n            span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n            __(join(percent(used), \" used\")).__().\n            __(QueueBlock.class).__();\n      }\n      ul.__().__().\n      script().$type(\"text/javascript\").\n          __(\"$(\u0027#cs\u0027).hide();\").__().__().\n          __(FairSchedulerAppsBlock.class);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/FairSchedulerPage.java",
      "extendedDetails": {}
    },
    "270a271f53f52a1f33e63a0520ae6032536dd4c6": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2360. Fair Scheduler: Display dynamic fair share for queues on the scheduler page. (Ashwin Shankar and Wei Yan via kasha)\n",
      "commitDate": "29/08/14 5:15 PM",
      "commitName": "270a271f53f52a1f33e63a0520ae6032536dd4c6",
      "commitAuthor": "Karthik Kambatla",
      "commitDateOld": "27/06/14 4:11 PM",
      "commitNameOld": "73927ba6957181a121e60b0732310ce4185f96e7",
      "commitAuthorOld": "Jason Darrell Lowe",
      "daysBetweenCommits": 63.04,
      "commitsBetweenForRepo": 509,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,45 +1,51 @@\n     public void render(Block html) {\n       html._(MetricsOverviewTable.class);\n       UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n         div(\"#cs-wrapper.ui-widget\").\n           div(\".ui-widget-header.ui-corner-top\").\n             _(\"Application Queues\")._().\n           div(\"#cs.ui-widget-content.ui-corner-bottom\").\n             ul();\n       if (fs \u003d\u003d null) {\n         ul.\n           li().\n             a(_Q).$style(width(Q_MAX_WIDTH)).\n               span().$style(Q_END)._(\"100% \")._().\n               span(\".q\", \"default\")._()._();\n       } else {\n         FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n         fsqinfo.qinfo \u003d sinfo.getRootQueueInfo();\n         float used \u003d fsqinfo.qinfo.getUsedMemoryFraction();\n \n         ul.\n           li().$style(\"margin-bottom: 1em\").\n             span().$style(\"font-weight: bold\")._(\"Legend:\")._().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n-              _(\"Fair Share\")._().\n+              $title(\"The steady fair shares consider all queues, \" +\n+                  \"both active (with running applications) and inactive.\").\n+              _(STEADY_FAIR_SHARE)._().\n+            span().$class(\"qlegend ui-corner-all\").$style(Q_INSTANTANEOUS_FS).\n+              $title(\"The instantaneous fair shares consider only active \" +\n+                  \"queues (with running applications).\").\n+              _(INSTANTANEOUS_FAIR_SHARE)._().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n               _(\"Used\")._().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n               _(\"Used (over fair share)\")._().\n             span().$class(\"qlegend ui-corner-all ui-state-default\").\n               _(\"Max Capacity\")._().\n         _().\n           li().\n             a(_Q).$style(width(Q_MAX_WIDTH)).\n               span().$style(join(width(used), \";left:0%;\",\n                   used \u003e 1 ? Q_OVER : Q_UNDER))._(\".\")._().\n               span(\".q\", \"root\")._().\n             span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n               _(join(percent(used), \" used\"))._().\n             _(QueueBlock.class)._();\n       }\n       ul._()._().\n       script().$type(\"text/javascript\").\n           _(\"$(\u0027#cs\u0027).hide();\")._()._().\n       _(FairSchedulerAppsBlock.class);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void render(Block html) {\n      html._(MetricsOverviewTable.class);\n      UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n        div(\"#cs-wrapper.ui-widget\").\n          div(\".ui-widget-header.ui-corner-top\").\n            _(\"Application Queues\")._().\n          div(\"#cs.ui-widget-content.ui-corner-bottom\").\n            ul();\n      if (fs \u003d\u003d null) {\n        ul.\n          li().\n            a(_Q).$style(width(Q_MAX_WIDTH)).\n              span().$style(Q_END)._(\"100% \")._().\n              span(\".q\", \"default\")._()._();\n      } else {\n        FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n        fsqinfo.qinfo \u003d sinfo.getRootQueueInfo();\n        float used \u003d fsqinfo.qinfo.getUsedMemoryFraction();\n\n        ul.\n          li().$style(\"margin-bottom: 1em\").\n            span().$style(\"font-weight: bold\")._(\"Legend:\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n              $title(\"The steady fair shares consider all queues, \" +\n                  \"both active (with running applications) and inactive.\").\n              _(STEADY_FAIR_SHARE)._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_INSTANTANEOUS_FS).\n              $title(\"The instantaneous fair shares consider only active \" +\n                  \"queues (with running applications).\").\n              _(INSTANTANEOUS_FAIR_SHARE)._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n              _(\"Used\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n              _(\"Used (over fair share)\")._().\n            span().$class(\"qlegend ui-corner-all ui-state-default\").\n              _(\"Max Capacity\")._().\n        _().\n          li().\n            a(_Q).$style(width(Q_MAX_WIDTH)).\n              span().$style(join(width(used), \";left:0%;\",\n                  used \u003e 1 ? Q_OVER : Q_UNDER))._(\".\")._().\n              span(\".q\", \"root\")._().\n            span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n              _(join(percent(used), \" used\"))._().\n            _(QueueBlock.class)._();\n      }\n      ul._()._().\n      script().$type(\"text/javascript\").\n          _(\"$(\u0027#cs\u0027).hide();\")._()._().\n      _(FairSchedulerAppsBlock.class);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/FairSchedulerPage.java",
      "extendedDetails": {}
    },
    "c221204ccaadcf70992d9e858ef71c6f8864ff4e": {
      "type": "Ybodychange",
      "commitMessage": "YARN-883. Expose Fair Scheduler-specific queue metrics. (sandyr via tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1497884 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "28/06/13 11:59 AM",
      "commitName": "c221204ccaadcf70992d9e858ef71c6f8864ff4e",
      "commitAuthor": "Alejandro Abdelnur",
      "commitDateOld": "18/12/12 7:04 PM",
      "commitNameOld": "595d52cf3727ca3f8883d30e50f67975b1a3f796",
      "commitAuthorOld": "Alejandro Abdelnur",
      "daysBetweenCommits": 191.66,
      "commitsBetweenForRepo": 1122,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,45 +1,45 @@\n     public void render(Block html) {\n       html._(MetricsOverviewTable.class);\n       UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n         div(\"#cs-wrapper.ui-widget\").\n           div(\".ui-widget-header.ui-corner-top\").\n             _(\"Application Queues\")._().\n           div(\"#cs.ui-widget-content.ui-corner-bottom\").\n             ul();\n       if (fs \u003d\u003d null) {\n         ul.\n           li().\n             a(_Q).$style(width(Q_MAX_WIDTH)).\n               span().$style(Q_END)._(\"100% \")._().\n               span(\".q\", \"default\")._()._();\n       } else {\n         FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n         fsqinfo.qinfo \u003d sinfo.getRootQueueInfo();\n-        float used \u003d fsqinfo.qinfo.getUsedFraction();\n+        float used \u003d fsqinfo.qinfo.getUsedMemoryFraction();\n \n         ul.\n           li().$style(\"margin-bottom: 1em\").\n             span().$style(\"font-weight: bold\")._(\"Legend:\")._().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n               _(\"Fair Share\")._().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n               _(\"Used\")._().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n               _(\"Used (over fair share)\")._().\n             span().$class(\"qlegend ui-corner-all ui-state-default\").\n               _(\"Max Capacity\")._().\n         _().\n           li().\n             a(_Q).$style(width(Q_MAX_WIDTH)).\n               span().$style(join(width(used), \";left:0%;\",\n                   used \u003e 1 ? Q_OVER : Q_UNDER))._(\".\")._().\n               span(\".q\", \"root\")._().\n             span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n               _(join(percent(used), \" used\"))._().\n             _(QueueBlock.class)._();\n       }\n       ul._()._().\n       script().$type(\"text/javascript\").\n           _(\"$(\u0027#cs\u0027).hide();\")._()._().\n       _(FairSchedulerAppsBlock.class);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void render(Block html) {\n      html._(MetricsOverviewTable.class);\n      UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n        div(\"#cs-wrapper.ui-widget\").\n          div(\".ui-widget-header.ui-corner-top\").\n            _(\"Application Queues\")._().\n          div(\"#cs.ui-widget-content.ui-corner-bottom\").\n            ul();\n      if (fs \u003d\u003d null) {\n        ul.\n          li().\n            a(_Q).$style(width(Q_MAX_WIDTH)).\n              span().$style(Q_END)._(\"100% \")._().\n              span(\".q\", \"default\")._()._();\n      } else {\n        FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n        fsqinfo.qinfo \u003d sinfo.getRootQueueInfo();\n        float used \u003d fsqinfo.qinfo.getUsedMemoryFraction();\n\n        ul.\n          li().$style(\"margin-bottom: 1em\").\n            span().$style(\"font-weight: bold\")._(\"Legend:\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n              _(\"Fair Share\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n              _(\"Used\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n              _(\"Used (over fair share)\")._().\n            span().$class(\"qlegend ui-corner-all ui-state-default\").\n              _(\"Max Capacity\")._().\n        _().\n          li().\n            a(_Q).$style(width(Q_MAX_WIDTH)).\n              span().$style(join(width(used), \";left:0%;\",\n                  used \u003e 1 ? Q_OVER : Q_UNDER))._(\".\")._().\n              span(\".q\", \"root\")._().\n            span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n              _(join(percent(used), \" used\"))._().\n            _(QueueBlock.class)._();\n      }\n      ul._()._().\n      script().$type(\"text/javascript\").\n          _(\"$(\u0027#cs\u0027).hide();\")._()._().\n      _(FairSchedulerAppsBlock.class);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/FairSchedulerPage.java",
      "extendedDetails": {}
    },
    "595d52cf3727ca3f8883d30e50f67975b1a3f796": {
      "type": "Ybodychange",
      "commitMessage": "YARN-254. Update fair scheduler web UI for hierarchical queues. (sandyr via tucu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1423742 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/12/12 7:04 PM",
      "commitName": "595d52cf3727ca3f8883d30e50f67975b1a3f796",
      "commitAuthor": "Alejandro Abdelnur",
      "commitDateOld": "12/12/12 6:35 AM",
      "commitNameOld": "618fa6cd59386b560755b485a760e1f734e3edb3",
      "commitAuthorOld": "Thomas White",
      "daysBetweenCommits": 6.52,
      "commitsBetweenForRepo": 24,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,59 +1,45 @@\n-    @Override public void render(Block html) {\n+    public void render(Block html) {\n       html._(MetricsOverviewTable.class);\n       UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n         div(\"#cs-wrapper.ui-widget\").\n           div(\".ui-widget-header.ui-corner-top\").\n             _(\"Application Queues\")._().\n           div(\"#cs.ui-widget-content.ui-corner-bottom\").\n             ul();\n       if (fs \u003d\u003d null) {\n         ul.\n           li().\n             a(_Q).$style(width(Q_MAX_WIDTH)).\n               span().$style(Q_END)._(\"100% \")._().\n               span(\".q\", \"default\")._()._();\n       } else {\n         FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n-        fsqinfo.fsinfo \u003d sinfo;\n-        fsqinfo.qinfo \u003d null;\n+        fsqinfo.qinfo \u003d sinfo.getRootQueueInfo();\n+        float used \u003d fsqinfo.qinfo.getUsedFraction();\n \n         ul.\n           li().$style(\"margin-bottom: 1em\").\n             span().$style(\"font-weight: bold\")._(\"Legend:\")._().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n               _(\"Fair Share\")._().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n               _(\"Used\")._().\n             span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n               _(\"Used (over fair share)\")._().\n             span().$class(\"qlegend ui-corner-all ui-state-default\").\n               _(\"Max Capacity\")._().\n-          _();\n-        \n-        List\u003cFairSchedulerQueueInfo\u003e subQueues \u003d fsqinfo.fsinfo.getQueueInfos();\n-        for (FairSchedulerQueueInfo info : subQueues) {\n-          fsqinfo.qinfo \u003d info;\n-          float capacity \u003d info.getMaxResourcesFraction();\n-          float fairShare \u003d info.getFairShareFraction();\n-          float used \u003d info.getUsedFraction();\n-          ul.\n-              li().\n-                a(_Q).$style(width(capacity * Q_MAX_WIDTH)).\n-                  $title(join(\"Fair Share:\", percent(fairShare))).\n-                  span().$style(join(Q_GIVEN, \";font-size:1px;\", width(fairShare/capacity))).\n-                    _(\u0027.\u0027)._().\n-                  span().$style(join(width(used/capacity),\n-                    \";font-size:1px;left:0%;\", used \u003e fairShare ? Q_OVER : Q_UNDER)).\n-                    _(\u0027.\u0027)._().\n-                  span(\".q\", info.getQueueName())._().\n-                span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n-                  _(join(percent(used), \" used\"))._().\n-                ul(\"#lq\").li()._(QueueInfoBlock.class)._()._().\n-              _();\n-        }\n+        _().\n+          li().\n+            a(_Q).$style(width(Q_MAX_WIDTH)).\n+              span().$style(join(width(used), \";left:0%;\",\n+                  used \u003e 1 ? Q_OVER : Q_UNDER))._(\".\")._().\n+              span(\".q\", \"root\")._().\n+            span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n+              _(join(percent(used), \" used\"))._().\n+            _(QueueBlock.class)._();\n       }\n       ul._()._().\n       script().$type(\"text/javascript\").\n           _(\"$(\u0027#cs\u0027).hide();\")._()._().\n       _(FairSchedulerAppsBlock.class);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void render(Block html) {\n      html._(MetricsOverviewTable.class);\n      UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n        div(\"#cs-wrapper.ui-widget\").\n          div(\".ui-widget-header.ui-corner-top\").\n            _(\"Application Queues\")._().\n          div(\"#cs.ui-widget-content.ui-corner-bottom\").\n            ul();\n      if (fs \u003d\u003d null) {\n        ul.\n          li().\n            a(_Q).$style(width(Q_MAX_WIDTH)).\n              span().$style(Q_END)._(\"100% \")._().\n              span(\".q\", \"default\")._()._();\n      } else {\n        FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n        fsqinfo.qinfo \u003d sinfo.getRootQueueInfo();\n        float used \u003d fsqinfo.qinfo.getUsedFraction();\n\n        ul.\n          li().$style(\"margin-bottom: 1em\").\n            span().$style(\"font-weight: bold\")._(\"Legend:\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n              _(\"Fair Share\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n              _(\"Used\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n              _(\"Used (over fair share)\")._().\n            span().$class(\"qlegend ui-corner-all ui-state-default\").\n              _(\"Max Capacity\")._().\n        _().\n          li().\n            a(_Q).$style(width(Q_MAX_WIDTH)).\n              span().$style(join(width(used), \";left:0%;\",\n                  used \u003e 1 ? Q_OVER : Q_UNDER))._(\".\")._().\n              span(\".q\", \"root\")._().\n            span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n              _(join(percent(used), \" used\"))._().\n            _(QueueBlock.class)._();\n      }\n      ul._()._().\n      script().$type(\"text/javascript\").\n          _(\"$(\u0027#cs\u0027).hide();\")._()._().\n      _(FairSchedulerAppsBlock.class);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/FairSchedulerPage.java",
      "extendedDetails": {}
    },
    "b54e794fb059fa68b115c2ca5e58f11a0d7f3985": {
      "type": "Yintroduced",
      "commitMessage": "YARN-145. Add a Web UI to the fair share scheduler. Contributed by Sandy Ryza.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1402657 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "26/10/12 1:55 PM",
      "commitName": "b54e794fb059fa68b115c2ca5e58f11a0d7f3985",
      "commitAuthor": "Thomas White",
      "diff": "@@ -0,0 +1,59 @@\n+    @Override public void render(Block html) {\n+      html._(MetricsOverviewTable.class);\n+      UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n+        div(\"#cs-wrapper.ui-widget\").\n+          div(\".ui-widget-header.ui-corner-top\").\n+            _(\"Application Queues\")._().\n+          div(\"#cs.ui-widget-content.ui-corner-bottom\").\n+            ul();\n+      if (fs \u003d\u003d null) {\n+        ul.\n+          li().\n+            a(_Q).$style(width(Q_MAX_WIDTH)).\n+              span().$style(Q_END)._(\"100% \")._().\n+              span(\".q\", \"default\")._()._();\n+      } else {\n+        FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n+        fsqinfo.fsinfo \u003d sinfo;\n+        fsqinfo.qinfo \u003d null;\n+\n+        ul.\n+          li().$style(\"margin-bottom: 1em\").\n+            span().$style(\"font-weight: bold\")._(\"Legend:\")._().\n+            span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n+              _(\"Fair Share\")._().\n+            span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n+              _(\"Used\")._().\n+            span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n+              _(\"Used (over fair share)\")._().\n+            span().$class(\"qlegend ui-corner-all ui-state-default\").\n+              _(\"Max Capacity\")._().\n+          _();\n+        \n+        List\u003cFairSchedulerQueueInfo\u003e subQueues \u003d fsqinfo.fsinfo.getQueueInfos();\n+        for (FairSchedulerQueueInfo info : subQueues) {\n+          fsqinfo.qinfo \u003d info;\n+          float capacity \u003d info.getMaxResourcesFraction();\n+          float fairShare \u003d info.getFairShareFraction();\n+          float used \u003d info.getUsedFraction();\n+          ul.\n+              li().\n+                a(_Q).$style(width(capacity * Q_MAX_WIDTH)).\n+                  $title(join(\"Fair Share:\", percent(fairShare))).\n+                  span().$style(join(Q_GIVEN, \";font-size:1px;\", width(fairShare/capacity))).\n+                    _(\u0027.\u0027)._().\n+                  span().$style(join(width(used/capacity),\n+                    \";font-size:1px;left:0%;\", used \u003e fairShare ? Q_OVER : Q_UNDER)).\n+                    _(\u0027.\u0027)._().\n+                  span(\".q\", info.getQueueName())._().\n+                span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n+                  _(join(percent(used), \" used\"))._().\n+                ul(\"#lq\").li()._(QueueInfoBlock.class)._()._().\n+              _();\n+        }\n+      }\n+      ul._()._().\n+      script().$type(\"text/javascript\").\n+          _(\"$(\u0027#cs\u0027).hide();\")._()._().\n+      _(FairSchedulerAppsBlock.class);\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    @Override public void render(Block html) {\n      html._(MetricsOverviewTable.class);\n      UL\u003cDIV\u003cDIV\u003cHamlet\u003e\u003e\u003e ul \u003d html.\n        div(\"#cs-wrapper.ui-widget\").\n          div(\".ui-widget-header.ui-corner-top\").\n            _(\"Application Queues\")._().\n          div(\"#cs.ui-widget-content.ui-corner-bottom\").\n            ul();\n      if (fs \u003d\u003d null) {\n        ul.\n          li().\n            a(_Q).$style(width(Q_MAX_WIDTH)).\n              span().$style(Q_END)._(\"100% \")._().\n              span(\".q\", \"default\")._()._();\n      } else {\n        FairSchedulerInfo sinfo \u003d new FairSchedulerInfo(fs);\n        fsqinfo.fsinfo \u003d sinfo;\n        fsqinfo.qinfo \u003d null;\n\n        ul.\n          li().$style(\"margin-bottom: 1em\").\n            span().$style(\"font-weight: bold\")._(\"Legend:\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_GIVEN).\n              _(\"Fair Share\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_UNDER).\n              _(\"Used\")._().\n            span().$class(\"qlegend ui-corner-all\").$style(Q_OVER).\n              _(\"Used (over fair share)\")._().\n            span().$class(\"qlegend ui-corner-all ui-state-default\").\n              _(\"Max Capacity\")._().\n          _();\n        \n        List\u003cFairSchedulerQueueInfo\u003e subQueues \u003d fsqinfo.fsinfo.getQueueInfos();\n        for (FairSchedulerQueueInfo info : subQueues) {\n          fsqinfo.qinfo \u003d info;\n          float capacity \u003d info.getMaxResourcesFraction();\n          float fairShare \u003d info.getFairShareFraction();\n          float used \u003d info.getUsedFraction();\n          ul.\n              li().\n                a(_Q).$style(width(capacity * Q_MAX_WIDTH)).\n                  $title(join(\"Fair Share:\", percent(fairShare))).\n                  span().$style(join(Q_GIVEN, \";font-size:1px;\", width(fairShare/capacity))).\n                    _(\u0027.\u0027)._().\n                  span().$style(join(width(used/capacity),\n                    \";font-size:1px;left:0%;\", used \u003e fairShare ? Q_OVER : Q_UNDER)).\n                    _(\u0027.\u0027)._().\n                  span(\".q\", info.getQueueName())._().\n                span().$class(\"qstats\").$style(left(Q_STATS_POS)).\n                  _(join(percent(used), \" used\"))._().\n                ul(\"#lq\").li()._(QueueInfoBlock.class)._()._().\n              _();\n        }\n      }\n      ul._()._().\n      script().$type(\"text/javascript\").\n          _(\"$(\u0027#cs\u0027).hide();\")._()._().\n      _(FairSchedulerAppsBlock.class);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/webapp/FairSchedulerPage.java"
    }
  }
}