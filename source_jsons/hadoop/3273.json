{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "WebHdfsFileSystem.java",
  "functionName": "getKeyProviderUri",
  "functionId": "getKeyProviderUri",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/WebHdfsFileSystem.java",
  "functionStartLine": 2064,
  "functionEndLine": 2083,
  "numCommitsSeen": 73,
  "timeTaken": 2246,
  "changeHistory": [
    "4e9a59ce16e81b4bd6fae443a997ef24d588a6e8",
    "404eab4dc0582e0384b93664ea6ee77ccd5eeebc"
  ],
  "changeHistoryShort": {
    "4e9a59ce16e81b4bd6fae443a997ef24d588a6e8": "Ybodychange",
    "404eab4dc0582e0384b93664ea6ee77ccd5eeebc": "Yintroduced"
  },
  "changeHistoryDetails": {
    "4e9a59ce16e81b4bd6fae443a997ef24d588a6e8": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-13100. Handle IllegalArgumentException when GETSERVERDEFAULTS is not implemented in webhdfs. Contributed by Aaron T. Myers and Yongjun Zhang.\n",
      "commitDate": "02/02/18 10:58 PM",
      "commitName": "4e9a59ce16e81b4bd6fae443a997ef24d588a6e8",
      "commitAuthor": "Yongjun Zhang",
      "commitDateOld": "29/01/18 3:23 PM",
      "commitNameOld": "fde95d463c3123b315b3d07cb5b7b7dc19f7cb73",
      "commitAuthorOld": "Kihwal Lee",
      "daysBetweenCommits": 4.32,
      "commitsBetweenForRepo": 66,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,20 @@\n   public URI getKeyProviderUri() throws IOException {\n     String keyProviderUri \u003d null;\n     try {\n       keyProviderUri \u003d getServerDefaults().getKeyProviderUri();\n     } catch (UnsupportedOperationException e) {\n-      // This means server doesn\u0027t supports GETSERVERDEFAULTS call.\n+      // This means server doesn\u0027t support GETSERVERDEFAULTS call.\n       // Do nothing, let keyProviderUri \u003d null.\n+    } catch (RemoteException e) {\n+      if (e.getClassName() !\u003d null \u0026\u0026\n+          e.getClassName().equals(\"java.lang.IllegalArgumentException\")) {\n+        // See HDFS-13100.\n+        // This means server doesn\u0027t support GETSERVERDEFAULTS call.\n+        // Do nothing, let keyProviderUri \u003d null.\n+      } else {\n+        throw e;\n+      }\n     }\n     return HdfsKMSUtil.getKeyProviderUri(ugi, getUri(), keyProviderUri,\n         getConf());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public URI getKeyProviderUri() throws IOException {\n    String keyProviderUri \u003d null;\n    try {\n      keyProviderUri \u003d getServerDefaults().getKeyProviderUri();\n    } catch (UnsupportedOperationException e) {\n      // This means server doesn\u0027t support GETSERVERDEFAULTS call.\n      // Do nothing, let keyProviderUri \u003d null.\n    } catch (RemoteException e) {\n      if (e.getClassName() !\u003d null \u0026\u0026\n          e.getClassName().equals(\"java.lang.IllegalArgumentException\")) {\n        // See HDFS-13100.\n        // This means server doesn\u0027t support GETSERVERDEFAULTS call.\n        // Do nothing, let keyProviderUri \u003d null.\n      } else {\n        throw e;\n      }\n    }\n    return HdfsKMSUtil.getKeyProviderUri(ugi, getUri(), keyProviderUri,\n        getConf());\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/WebHdfsFileSystem.java",
      "extendedDetails": {}
    },
    "404eab4dc0582e0384b93664ea6ee77ccd5eeebc": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-12396. Webhdfs file system should get delegation token from kms provider. Contributed by Rushabh S Shah.\n",
      "commitDate": "04/12/17 10:40 AM",
      "commitName": "404eab4dc0582e0384b93664ea6ee77ccd5eeebc",
      "commitAuthor": "Xiao Chen",
      "diff": "@@ -0,0 +1,11 @@\n+  public URI getKeyProviderUri() throws IOException {\n+    String keyProviderUri \u003d null;\n+    try {\n+      keyProviderUri \u003d getServerDefaults().getKeyProviderUri();\n+    } catch (UnsupportedOperationException e) {\n+      // This means server doesn\u0027t supports GETSERVERDEFAULTS call.\n+      // Do nothing, let keyProviderUri \u003d null.\n+    }\n+    return HdfsKMSUtil.getKeyProviderUri(ugi, getUri(), keyProviderUri,\n+        getConf());\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public URI getKeyProviderUri() throws IOException {\n    String keyProviderUri \u003d null;\n    try {\n      keyProviderUri \u003d getServerDefaults().getKeyProviderUri();\n    } catch (UnsupportedOperationException e) {\n      // This means server doesn\u0027t supports GETSERVERDEFAULTS call.\n      // Do nothing, let keyProviderUri \u003d null.\n    }\n    return HdfsKMSUtil.getKeyProviderUri(ugi, getUri(), keyProviderUri,\n        getConf());\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/web/WebHdfsFileSystem.java"
    }
  }
}