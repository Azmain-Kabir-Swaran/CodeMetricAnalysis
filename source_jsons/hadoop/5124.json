{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "INode.java",
  "functionName": "isInCurrentState",
  "functionId": "isInCurrentState",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INode.java",
  "functionStartLine": 228,
  "functionEndLine": 246,
  "numCommitsSeen": 131,
  "timeTaken": 1493,
  "changeHistory": [
    "82343790eebc3ebe7ef81f6b89260e5bbf121d83"
  ],
  "changeHistoryShort": {
    "82343790eebc3ebe7ef81f6b89260e5bbf121d83": "Yintroduced"
  },
  "changeHistoryDetails": {
    "82343790eebc3ebe7ef81f6b89260e5bbf121d83": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-15313. Ensure inodes in active filesytem are not deleted during snapshot delete. Contributed by Shashikant Banerjee.\n",
      "commitDate": "30/04/20 11:46 PM",
      "commitName": "82343790eebc3ebe7ef81f6b89260e5bbf121d83",
      "commitAuthor": "Shashikant Banerjee",
      "diff": "@@ -0,0 +1,19 @@\n+  public boolean isInCurrentState() {\n+    if (isRoot()) {\n+      return true;\n+    }\n+    final INodeDirectory parentDir \u003d getParent();\n+    if (parentDir \u003d\u003d null) {\n+      return false; // this inode is only referenced in snapshots\n+    }\n+    if (!parentDir.isInCurrentState()) {\n+      return false;\n+    }\n+    final INode child \u003d parentDir.getChild(getLocalNameBytes(),\n+            Snapshot.CURRENT_STATE_ID);\n+    if (this \u003d\u003d child) {\n+      return true;\n+    }\n+    return child !\u003d null \u0026\u0026 child.isReference() \u0026\u0026\n+        this.equals(child.asReference().getReferredINode());\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public boolean isInCurrentState() {\n    if (isRoot()) {\n      return true;\n    }\n    final INodeDirectory parentDir \u003d getParent();\n    if (parentDir \u003d\u003d null) {\n      return false; // this inode is only referenced in snapshots\n    }\n    if (!parentDir.isInCurrentState()) {\n      return false;\n    }\n    final INode child \u003d parentDir.getChild(getLocalNameBytes(),\n            Snapshot.CURRENT_STATE_ID);\n    if (this \u003d\u003d child) {\n      return true;\n    }\n    return child !\u003d null \u0026\u0026 child.isReference() \u0026\u0026\n        this.equals(child.asReference().getReferredINode());\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/INode.java"
    }
  }
}