{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "MapReduceChildJVM.java",
  "functionName": "getChildJavaOpts",
  "functionId": "getChildJavaOpts___jobConf-JobConf__isMapTask-boolean",
  "sourceFilePath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapred/MapReduceChildJVM.java",
  "functionStartLine": 103,
  "functionEndLine": 105,
  "numCommitsSeen": 24,
  "timeTaken": 7663,
  "changeHistory": [
    "a003f71cacd35834a1abbc2ffb5446a1166caf73",
    "a655973e781caf662b360c96e0fa3f5a873cf676",
    "a4df9eed059977374c8e889cb85d79e8e514ad30",
    "d00b3c49f6fb3f6a617add6203c6b55f6c345940",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517"
  ],
  "changeHistoryShort": {
    "a003f71cacd35834a1abbc2ffb5446a1166caf73": "Ybodychange",
    "a655973e781caf662b360c96e0fa3f5a873cf676": "Ybodychange",
    "a4df9eed059977374c8e889cb85d79e8e514ad30": "Ybodychange",
    "d00b3c49f6fb3f6a617add6203c6b55f6c345940": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": "Yintroduced"
  },
  "changeHistoryDetails": {
    "a003f71cacd35834a1abbc2ffb5446a1166caf73": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-5785. Derive heap size or mapreduce.*.memory.mb automatically. (Gera Shegalov and Karthik Kambatla via gera)\n",
      "commitDate": "21/01/15 6:42 PM",
      "commitName": "a003f71cacd35834a1abbc2ffb5446a1166caf73",
      "commitAuthor": "Gera Shegalov",
      "commitDateOld": "03/12/14 9:02 AM",
      "commitNameOld": "03ab24aa01ffea1cacf1fa9cbbf73c3f2904d981",
      "commitAuthorOld": "Jason Lowe",
      "daysBetweenCommits": 49.4,
      "commitsBetweenForRepo": 295,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,3 @@\n   private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n-    String userClasspath \u003d \"\";\n-    String adminClasspath \u003d \"\";\n-    if (isMapTask) {\n-      userClasspath \u003d \n-          jobConf.get(\n-              JobConf.MAPRED_MAP_TASK_JAVA_OPTS, \n-              jobConf.get(\n-                  JobConf.MAPRED_TASK_JAVA_OPTS, \n-                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n-          );\n-      adminClasspath \u003d \n-          jobConf.get(\n-              MRJobConfig.MAPRED_MAP_ADMIN_JAVA_OPTS,\n-              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n-    } else {\n-      userClasspath \u003d\n-          jobConf.get(\n-              JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, \n-              jobConf.get(\n-                  JobConf.MAPRED_TASK_JAVA_OPTS,\n-                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n-              );\n-      adminClasspath \u003d\n-          jobConf.get(\n-              MRJobConfig.MAPRED_REDUCE_ADMIN_JAVA_OPTS,\n-              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n-    }\n-    \n-    // Add admin classpath first so it can be overridden by user.\n-    return adminClasspath + \" \" + userClasspath;\n+    return jobConf.getTaskJavaOpts(isMapTask ? TaskType.MAP : TaskType.REDUCE);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n    return jobConf.getTaskJavaOpts(isMapTask ? TaskType.MAP : TaskType.REDUCE);\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapred/MapReduceChildJVM.java",
      "extendedDetails": {}
    },
    "a655973e781caf662b360c96e0fa3f5a873cf676": {
      "type": "Ybodychange",
      "commitMessage": "Revert \"MAPREDUCE-5785. Derive heap size or mapreduce.*.memory.mb automatically. (Gera Shegalov and Karthik Kambatla via kasha)\"\n\nThis reverts commit a4df9eed059977374c8e889cb85d79e8e514ad30.\n",
      "commitDate": "25/11/14 4:24 PM",
      "commitName": "a655973e781caf662b360c96e0fa3f5a873cf676",
      "commitAuthor": "Karthik Kambatla",
      "commitDateOld": "21/11/14 6:36 PM",
      "commitNameOld": "a4df9eed059977374c8e889cb85d79e8e514ad30",
      "commitAuthorOld": "Karthik Kambatla",
      "daysBetweenCommits": 3.91,
      "commitsBetweenForRepo": 20,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,3 +1,32 @@\n   private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n-    return jobConf.getTaskJavaOpts(isMapTask ? TaskType.MAP : TaskType.REDUCE);\n+    String userClasspath \u003d \"\";\n+    String adminClasspath \u003d \"\";\n+    if (isMapTask) {\n+      userClasspath \u003d \n+          jobConf.get(\n+              JobConf.MAPRED_MAP_TASK_JAVA_OPTS, \n+              jobConf.get(\n+                  JobConf.MAPRED_TASK_JAVA_OPTS, \n+                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n+          );\n+      adminClasspath \u003d \n+          jobConf.get(\n+              MRJobConfig.MAPRED_MAP_ADMIN_JAVA_OPTS,\n+              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n+    } else {\n+      userClasspath \u003d\n+          jobConf.get(\n+              JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, \n+              jobConf.get(\n+                  JobConf.MAPRED_TASK_JAVA_OPTS,\n+                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n+              );\n+      adminClasspath \u003d\n+          jobConf.get(\n+              MRJobConfig.MAPRED_REDUCE_ADMIN_JAVA_OPTS,\n+              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n+    }\n+    \n+    // Add admin classpath first so it can be overridden by user.\n+    return adminClasspath + \" \" + userClasspath;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n    String userClasspath \u003d \"\";\n    String adminClasspath \u003d \"\";\n    if (isMapTask) {\n      userClasspath \u003d \n          jobConf.get(\n              JobConf.MAPRED_MAP_TASK_JAVA_OPTS, \n              jobConf.get(\n                  JobConf.MAPRED_TASK_JAVA_OPTS, \n                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n          );\n      adminClasspath \u003d \n          jobConf.get(\n              MRJobConfig.MAPRED_MAP_ADMIN_JAVA_OPTS,\n              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n    } else {\n      userClasspath \u003d\n          jobConf.get(\n              JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, \n              jobConf.get(\n                  JobConf.MAPRED_TASK_JAVA_OPTS,\n                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n              );\n      adminClasspath \u003d\n          jobConf.get(\n              MRJobConfig.MAPRED_REDUCE_ADMIN_JAVA_OPTS,\n              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n    }\n    \n    // Add admin classpath first so it can be overridden by user.\n    return adminClasspath + \" \" + userClasspath;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapred/MapReduceChildJVM.java",
      "extendedDetails": {}
    },
    "a4df9eed059977374c8e889cb85d79e8e514ad30": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-5785. Derive heap size or mapreduce.*.memory.mb automatically. (Gera Shegalov and Karthik Kambatla via kasha)\n",
      "commitDate": "21/11/14 6:36 PM",
      "commitName": "a4df9eed059977374c8e889cb85d79e8e514ad30",
      "commitAuthor": "Karthik Kambatla",
      "commitDateOld": "01/11/14 12:47 AM",
      "commitNameOld": "ed63b116465290fdb0acdf89170025f47b307599",
      "commitAuthorOld": "Zhijie Shen",
      "daysBetweenCommits": 20.78,
      "commitsBetweenForRepo": 189,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,3 @@\n   private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n-    String userClasspath \u003d \"\";\n-    String adminClasspath \u003d \"\";\n-    if (isMapTask) {\n-      userClasspath \u003d \n-          jobConf.get(\n-              JobConf.MAPRED_MAP_TASK_JAVA_OPTS, \n-              jobConf.get(\n-                  JobConf.MAPRED_TASK_JAVA_OPTS, \n-                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n-          );\n-      adminClasspath \u003d \n-          jobConf.get(\n-              MRJobConfig.MAPRED_MAP_ADMIN_JAVA_OPTS,\n-              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n-    } else {\n-      userClasspath \u003d\n-          jobConf.get(\n-              JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, \n-              jobConf.get(\n-                  JobConf.MAPRED_TASK_JAVA_OPTS,\n-                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n-              );\n-      adminClasspath \u003d\n-          jobConf.get(\n-              MRJobConfig.MAPRED_REDUCE_ADMIN_JAVA_OPTS,\n-              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n-    }\n-    \n-    // Add admin classpath first so it can be overridden by user.\n-    return adminClasspath + \" \" + userClasspath;\n+    return jobConf.getTaskJavaOpts(isMapTask ? TaskType.MAP : TaskType.REDUCE);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n    return jobConf.getTaskJavaOpts(isMapTask ? TaskType.MAP : TaskType.REDUCE);\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapred/MapReduceChildJVM.java",
      "extendedDetails": {}
    },
    "d00b3c49f6fb3f6a617add6203c6b55f6c345940": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-2880. Improved classpath-construction for mapreduce AM and containers. Contributed by Arun C Murthy.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1173783 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "21/09/11 11:28 AM",
      "commitName": "d00b3c49f6fb3f6a617add6203c6b55f6c345940",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "24/08/11 5:14 PM",
      "commitNameOld": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 27.76,
      "commitsBetweenForRepo": 171,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,32 @@\n   private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n+    String userClasspath \u003d \"\";\n+    String adminClasspath \u003d \"\";\n     if (isMapTask) {\n-      return jobConf.get(JobConf.MAPRED_MAP_TASK_JAVA_OPTS, jobConf.get(\n-          JobConf.MAPRED_TASK_JAVA_OPTS,\n-          JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS));\n+      userClasspath \u003d \n+          jobConf.get(\n+              JobConf.MAPRED_MAP_TASK_JAVA_OPTS, \n+              jobConf.get(\n+                  JobConf.MAPRED_TASK_JAVA_OPTS, \n+                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n+          );\n+      adminClasspath \u003d \n+          jobConf.get(\n+              MRJobConfig.MAPRED_MAP_ADMIN_JAVA_OPTS,\n+              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n+    } else {\n+      userClasspath \u003d\n+          jobConf.get(\n+              JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, \n+              jobConf.get(\n+                  JobConf.MAPRED_TASK_JAVA_OPTS,\n+                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n+              );\n+      adminClasspath \u003d\n+          jobConf.get(\n+              MRJobConfig.MAPRED_REDUCE_ADMIN_JAVA_OPTS,\n+              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n     }\n-    return jobConf\n-        .get(JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, jobConf.get(\n-            JobConf.MAPRED_TASK_JAVA_OPTS,\n-            JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS));\n+    \n+    // Add admin classpath first so it can be overridden by user.\n+    return adminClasspath + \" \" + userClasspath;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n    String userClasspath \u003d \"\";\n    String adminClasspath \u003d \"\";\n    if (isMapTask) {\n      userClasspath \u003d \n          jobConf.get(\n              JobConf.MAPRED_MAP_TASK_JAVA_OPTS, \n              jobConf.get(\n                  JobConf.MAPRED_TASK_JAVA_OPTS, \n                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n          );\n      adminClasspath \u003d \n          jobConf.get(\n              MRJobConfig.MAPRED_MAP_ADMIN_JAVA_OPTS,\n              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n    } else {\n      userClasspath \u003d\n          jobConf.get(\n              JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, \n              jobConf.get(\n                  JobConf.MAPRED_TASK_JAVA_OPTS,\n                  JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS)\n              );\n      adminClasspath \u003d\n          jobConf.get(\n              MRJobConfig.MAPRED_REDUCE_ADMIN_JAVA_OPTS,\n              MRJobConfig.DEFAULT_MAPRED_ADMIN_JAVA_OPTS);\n    }\n    \n    // Add admin classpath first so it can be overridden by user.\n    return adminClasspath + \" \" + userClasspath;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapred/MapReduceChildJVM.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n    if (isMapTask) {\n      return jobConf.get(JobConf.MAPRED_MAP_TASK_JAVA_OPTS, jobConf.get(\n          JobConf.MAPRED_TASK_JAVA_OPTS,\n          JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS));\n    }\n    return jobConf\n        .get(JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, jobConf.get(\n            JobConf.MAPRED_TASK_JAVA_OPTS,\n            JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS));\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapred/MapReduceChildJVM.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapred/MapReduceChildJVM.java",
        "newPath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapred/MapReduceChildJVM.java"
      }
    },
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/08/11 4:07 AM",
      "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,11 @@\n+  private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n+    if (isMapTask) {\n+      return jobConf.get(JobConf.MAPRED_MAP_TASK_JAVA_OPTS, jobConf.get(\n+          JobConf.MAPRED_TASK_JAVA_OPTS,\n+          JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS));\n+    }\n+    return jobConf\n+        .get(JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, jobConf.get(\n+            JobConf.MAPRED_TASK_JAVA_OPTS,\n+            JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS));\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static String getChildJavaOpts(JobConf jobConf, boolean isMapTask) {\n    if (isMapTask) {\n      return jobConf.get(JobConf.MAPRED_MAP_TASK_JAVA_OPTS, jobConf.get(\n          JobConf.MAPRED_TASK_JAVA_OPTS,\n          JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS));\n    }\n    return jobConf\n        .get(JobConf.MAPRED_REDUCE_TASK_JAVA_OPTS, jobConf.get(\n            JobConf.MAPRED_TASK_JAVA_OPTS,\n            JobConf.DEFAULT_MAPRED_TASK_JAVA_OPTS));\n  }",
      "path": "hadoop-mapreduce/hadoop-mr-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapred/MapReduceChildJVM.java"
    }
  }
}