{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "JobFinishedEvent.java",
  "functionName": "getTimelineMetrics",
  "functionId": "getTimelineMetrics",
  "sourceFilePath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/JobFinishedEvent.java",
  "functionStartLine": 179,
  "functionEndLine": 187,
  "numCommitsSeen": 8,
  "timeTaken": 1189,
  "changeHistory": [
    "8bf87eede2b1735993abc0f2cc49c971f9f8e222",
    "f0dbd7a40f0dd9b619ca13b0a0648636c9e21b3b"
  ],
  "changeHistoryShort": {
    "8bf87eede2b1735993abc0f2cc49c971f9f8e222": "Ybodychange",
    "f0dbd7a40f0dd9b619ca13b0a0648636c9e21b3b": "Yintroduced"
  },
  "changeHistoryDetails": {
    "8bf87eede2b1735993abc0f2cc49c971f9f8e222": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-6720. Inconsistent values of counters across tasks and job reported to timeline service. Contributed by Varun Saxena\n",
      "commitDate": "10/07/16 8:46 AM",
      "commitName": "8bf87eede2b1735993abc0f2cc49c971f9f8e222",
      "commitAuthor": "Naganarasimha",
      "commitDateOld": "10/07/16 8:46 AM",
      "commitNameOld": "1ff6833bbacf5c4eeaff5e70553ac083a691bb21",
      "commitAuthorOld": "Varun Saxena",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   public Set\u003cTimelineMetric\u003e getTimelineMetrics() {\n-    Set\u003cTimelineMetric\u003e jobMetrics \u003d JobHistoryEventUtils\n-        .countersToTimelineMetric(getMapCounters(), finishTime);\n-    jobMetrics.addAll(JobHistoryEventUtils\n-        .countersToTimelineMetric(getReduceCounters(), finishTime));\n-    jobMetrics.addAll(JobHistoryEventUtils\n-        .countersToTimelineMetric(getTotalCounters(), finishTime));\n+    Set\u003cTimelineMetric\u003e jobMetrics \u003d JobHistoryEventUtils.\n+        countersToTimelineMetric(getTotalCounters(), finishTime);\n+    jobMetrics.addAll(JobHistoryEventUtils.\n+        countersToTimelineMetric(getMapCounters(), finishTime, \"MAP:\"));\n+    jobMetrics.addAll(JobHistoryEventUtils.\n+        countersToTimelineMetric(getReduceCounters(), finishTime, \"REDUCE:\"));\n     return jobMetrics;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public Set\u003cTimelineMetric\u003e getTimelineMetrics() {\n    Set\u003cTimelineMetric\u003e jobMetrics \u003d JobHistoryEventUtils.\n        countersToTimelineMetric(getTotalCounters(), finishTime);\n    jobMetrics.addAll(JobHistoryEventUtils.\n        countersToTimelineMetric(getMapCounters(), finishTime, \"MAP:\"));\n    jobMetrics.addAll(JobHistoryEventUtils.\n        countersToTimelineMetric(getReduceCounters(), finishTime, \"REDUCE:\"));\n    return jobMetrics;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/JobFinishedEvent.java",
      "extendedDetails": {}
    },
    "f0dbd7a40f0dd9b619ca13b0a0648636c9e21b3b": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-6424. Store MR counters as timeline metrics instead of event. (Naganarasimha G R via varunsaxena)\n",
      "commitDate": "10/07/16 8:45 AM",
      "commitName": "f0dbd7a40f0dd9b619ca13b0a0648636c9e21b3b",
      "commitAuthor": "Varun Saxena",
      "diff": "@@ -0,0 +1,9 @@\n+  public Set\u003cTimelineMetric\u003e getTimelineMetrics() {\n+    Set\u003cTimelineMetric\u003e jobMetrics \u003d JobHistoryEventUtils\n+        .countersToTimelineMetric(getMapCounters(), finishTime);\n+    jobMetrics.addAll(JobHistoryEventUtils\n+        .countersToTimelineMetric(getReduceCounters(), finishTime));\n+    jobMetrics.addAll(JobHistoryEventUtils\n+        .countersToTimelineMetric(getTotalCounters(), finishTime));\n+    return jobMetrics;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public Set\u003cTimelineMetric\u003e getTimelineMetrics() {\n    Set\u003cTimelineMetric\u003e jobMetrics \u003d JobHistoryEventUtils\n        .countersToTimelineMetric(getMapCounters(), finishTime);\n    jobMetrics.addAll(JobHistoryEventUtils\n        .countersToTimelineMetric(getReduceCounters(), finishTime));\n    jobMetrics.addAll(JobHistoryEventUtils\n        .countersToTimelineMetric(getTotalCounters(), finishTime));\n    return jobMetrics;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/main/java/org/apache/hadoop/mapreduce/jobhistory/JobFinishedEvent.java"
    }
  }
}