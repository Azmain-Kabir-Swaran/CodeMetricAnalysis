{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "HttpFSFileSystem.java",
  "functionName": "toFsPermission",
  "functionId": "toFsPermission___json-JSONObject",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/fs/http/client/HttpFSFileSystem.java",
  "functionStartLine": 1093,
  "functionEndLine": 1096,
  "numCommitsSeen": 51,
  "timeTaken": 2214,
  "changeHistory": [
    "12e44e7bdaf53d3720a89d32f0cc2717241bd6b2",
    "52b00600df921763725396ed92194d3338167655",
    "cba973f036a2c8fcc21a5826b8306247ec154c7b"
  ],
  "changeHistoryShort": {
    "12e44e7bdaf53d3720a89d32f0cc2717241bd6b2": "Ybodychange",
    "52b00600df921763725396ed92194d3338167655": "Ybodychange",
    "cba973f036a2c8fcc21a5826b8306247ec154c7b": "Yintroduced"
  },
  "changeHistoryDetails": {
    "12e44e7bdaf53d3720a89d32f0cc2717241bd6b2": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6984. Serialize FileStatus via protobuf.\n",
      "commitDate": "02/08/17 12:12 PM",
      "commitName": "12e44e7bdaf53d3720a89d32f0cc2717241bd6b2",
      "commitAuthor": "Chris Douglas",
      "commitDateOld": "12/07/17 2:15 PM",
      "commitNameOld": "931a49800ef05ee0a6fdc143be1799abb228735d",
      "commitAuthorOld": "Tsz-Wo Nicholas Sze",
      "daysBetweenCommits": 20.92,
      "commitsBetweenForRepo": 171,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,4 @@\n   static FsPermission toFsPermission(JSONObject json) {\n     final String s \u003d (String) json.get(PERMISSION_JSON);\n-    final Boolean aclBit \u003d (Boolean) json.get(ACL_BIT_JSON);\n-    final Boolean encBit \u003d (Boolean) json.get(ENC_BIT_JSON);\n-    final Boolean erasureBit \u003d (Boolean) json.get(EC_BIT_JSON);\n-    FsPermission perm \u003d new FsPermission(Short.parseShort(s, 8));\n-    final boolean aBit \u003d (aclBit !\u003d null) ? aclBit : false;\n-    final boolean eBit \u003d (encBit !\u003d null) ? encBit : false;\n-    final boolean ecBit \u003d (erasureBit !\u003d null) ? erasureBit : false;\n-    if (aBit || eBit || ecBit) {\n-      return new FsPermissionExtension(perm, aBit, eBit, ecBit);\n-    } else {\n-      return perm;\n-    }\n+    return new FsPermission(Short.parseShort(s, 8));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static FsPermission toFsPermission(JSONObject json) {\n    final String s \u003d (String) json.get(PERMISSION_JSON);\n    return new FsPermission(Short.parseShort(s, 8));\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/fs/http/client/HttpFSFileSystem.java",
      "extendedDetails": {}
    },
    "52b00600df921763725396ed92194d3338167655": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-13715. Add isErasureCoded() API to FileStatus class. Contributed by Manoj Govindassamy.\n",
      "commitDate": "24/03/17 11:44 AM",
      "commitName": "52b00600df921763725396ed92194d3338167655",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "07/12/16 3:52 PM",
      "commitNameOld": "ea2895f4ed5031809d856faa52e9de5b9501bdea",
      "commitAuthorOld": "Andrew Wang",
      "daysBetweenCommits": 106.79,
      "commitsBetweenForRepo": 545,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,15 @@\n   static FsPermission toFsPermission(JSONObject json) {\n     final String s \u003d (String) json.get(PERMISSION_JSON);\n     final Boolean aclBit \u003d (Boolean) json.get(ACL_BIT_JSON);\n     final Boolean encBit \u003d (Boolean) json.get(ENC_BIT_JSON);\n+    final Boolean erasureBit \u003d (Boolean) json.get(EC_BIT_JSON);\n     FsPermission perm \u003d new FsPermission(Short.parseShort(s, 8));\n     final boolean aBit \u003d (aclBit !\u003d null) ? aclBit : false;\n     final boolean eBit \u003d (encBit !\u003d null) ? encBit : false;\n-    if (aBit || eBit) {\n-      return new FsPermissionExtension(perm, aBit, eBit);\n+    final boolean ecBit \u003d (erasureBit !\u003d null) ? erasureBit : false;\n+    if (aBit || eBit || ecBit) {\n+      return new FsPermissionExtension(perm, aBit, eBit, ecBit);\n     } else {\n       return perm;\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static FsPermission toFsPermission(JSONObject json) {\n    final String s \u003d (String) json.get(PERMISSION_JSON);\n    final Boolean aclBit \u003d (Boolean) json.get(ACL_BIT_JSON);\n    final Boolean encBit \u003d (Boolean) json.get(ENC_BIT_JSON);\n    final Boolean erasureBit \u003d (Boolean) json.get(EC_BIT_JSON);\n    FsPermission perm \u003d new FsPermission(Short.parseShort(s, 8));\n    final boolean aBit \u003d (aclBit !\u003d null) ? aclBit : false;\n    final boolean eBit \u003d (encBit !\u003d null) ? encBit : false;\n    final boolean ecBit \u003d (erasureBit !\u003d null) ? erasureBit : false;\n    if (aBit || eBit || ecBit) {\n      return new FsPermissionExtension(perm, aBit, eBit, ecBit);\n    } else {\n      return perm;\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/fs/http/client/HttpFSFileSystem.java",
      "extendedDetails": {}
    },
    "cba973f036a2c8fcc21a5826b8306247ec154c7b": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-10832. Propagate ACL bit and isEncrypted bit in HttpFS FileStatus permissions.\n",
      "commitDate": "09/09/16 12:12 PM",
      "commitName": "cba973f036a2c8fcc21a5826b8306247ec154c7b",
      "commitAuthor": "Andrew Wang",
      "diff": "@@ -0,0 +1,13 @@\n+  static FsPermission toFsPermission(JSONObject json) {\n+    final String s \u003d (String) json.get(PERMISSION_JSON);\n+    final Boolean aclBit \u003d (Boolean) json.get(ACL_BIT_JSON);\n+    final Boolean encBit \u003d (Boolean) json.get(ENC_BIT_JSON);\n+    FsPermission perm \u003d new FsPermission(Short.parseShort(s, 8));\n+    final boolean aBit \u003d (aclBit !\u003d null) ? aclBit : false;\n+    final boolean eBit \u003d (encBit !\u003d null) ? encBit : false;\n+    if (aBit || eBit) {\n+      return new FsPermissionExtension(perm, aBit, eBit);\n+    } else {\n+      return perm;\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  static FsPermission toFsPermission(JSONObject json) {\n    final String s \u003d (String) json.get(PERMISSION_JSON);\n    final Boolean aclBit \u003d (Boolean) json.get(ACL_BIT_JSON);\n    final Boolean encBit \u003d (Boolean) json.get(ENC_BIT_JSON);\n    FsPermission perm \u003d new FsPermission(Short.parseShort(s, 8));\n    final boolean aBit \u003d (aclBit !\u003d null) ? aclBit : false;\n    final boolean eBit \u003d (encBit !\u003d null) ? encBit : false;\n    if (aBit || eBit) {\n      return new FsPermissionExtension(perm, aBit, eBit);\n    } else {\n      return perm;\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-httpfs/src/main/java/org/apache/hadoop/fs/http/client/HttpFSFileSystem.java"
    }
  }
}