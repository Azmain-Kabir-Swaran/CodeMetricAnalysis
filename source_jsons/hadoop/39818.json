{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "YarnConfigurationStoreFactory.java",
  "functionName": "getStore",
  "functionId": "getStore___conf-Configuration",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/conf/YarnConfigurationStoreFactory.java",
  "functionStartLine": 39,
  "functionEndLine": 59,
  "numCommitsSeen": 3,
  "timeTaken": 1560,
  "changeHistory": [
    "3990ffa0834e6b24314a565a92e92d6e8fa37a1e",
    "ef686635c1aa0cd4bd52ca212a95769f2532aa1a"
  ],
  "changeHistoryShort": {
    "3990ffa0834e6b24314a565a92e92d6e8fa37a1e": "Ybodychange",
    "ef686635c1aa0cd4bd52ca212a95769f2532aa1a": "Yintroduced"
  },
  "changeHistoryDetails": {
    "3990ffa0834e6b24314a565a92e92d6e8fa37a1e": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9909. Offline format of YarnConfigurationStore. Contributed by Prabhu Joseph.\n",
      "commitDate": "16/10/19 6:13 PM",
      "commitName": "3990ffa0834e6b24314a565a92e92d6e8fa37a1e",
      "commitAuthor": "Sunil G",
      "commitDateOld": "04/03/19 9:10 PM",
      "commitNameOld": "e40e2d6ad5cbe782c3a067229270738b501ed27e",
      "commitAuthorOld": "Prabhu Joseph",
      "daysBetweenCommits": 225.84,
      "commitsBetweenForRepo": 1749,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,21 @@\n   public static YarnConfigurationStore getStore(Configuration conf) {\n-    Class\u003c? extends YarnConfigurationStore\u003e storeClass \u003d\n-        conf.getClass(YarnConfiguration.SCHEDULER_CONFIGURATION_STORE_CLASS,\n+    String store \u003d conf.get(\n+        YarnConfiguration.SCHEDULER_CONFIGURATION_STORE_CLASS,\n+        YarnConfiguration.MEMORY_CONFIGURATION_STORE);\n+    switch (store) {\n+      case YarnConfiguration.MEMORY_CONFIGURATION_STORE:\n+        return new InMemoryConfigurationStore();\n+      case YarnConfiguration.LEVELDB_CONFIGURATION_STORE:\n+        return new LeveldbConfigurationStore();\n+      case YarnConfiguration.ZK_CONFIGURATION_STORE:\n+        return new ZKConfigurationStore();\n+      case YarnConfiguration.FS_CONFIGURATION_STORE:\n+        return new FSSchedulerConfigurationStore();\n+      default:\n+        Class\u003c? extends YarnConfigurationStore\u003e storeClass \u003d\n+            conf.getClass(YarnConfiguration.SCHEDULER_CONFIGURATION_STORE_CLASS,\n             InMemoryConfigurationStore.class, YarnConfigurationStore.class);\n-    LOG.info(\"Using YarnConfigurationStore implementation - \" + storeClass);\n-    return ReflectionUtils.newInstance(storeClass, conf);\n+        LOG.info(\"Using YarnConfigurationStore implementation - \" + storeClass);\n+        return ReflectionUtils.newInstance(storeClass, conf);\n+    }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static YarnConfigurationStore getStore(Configuration conf) {\n    String store \u003d conf.get(\n        YarnConfiguration.SCHEDULER_CONFIGURATION_STORE_CLASS,\n        YarnConfiguration.MEMORY_CONFIGURATION_STORE);\n    switch (store) {\n      case YarnConfiguration.MEMORY_CONFIGURATION_STORE:\n        return new InMemoryConfigurationStore();\n      case YarnConfiguration.LEVELDB_CONFIGURATION_STORE:\n        return new LeveldbConfigurationStore();\n      case YarnConfiguration.ZK_CONFIGURATION_STORE:\n        return new ZKConfigurationStore();\n      case YarnConfiguration.FS_CONFIGURATION_STORE:\n        return new FSSchedulerConfigurationStore();\n      default:\n        Class\u003c? extends YarnConfigurationStore\u003e storeClass \u003d\n            conf.getClass(YarnConfiguration.SCHEDULER_CONFIGURATION_STORE_CLASS,\n            InMemoryConfigurationStore.class, YarnConfigurationStore.class);\n        LOG.info(\"Using YarnConfigurationStore implementation - \" + storeClass);\n        return ReflectionUtils.newInstance(storeClass, conf);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/conf/YarnConfigurationStoreFactory.java",
      "extendedDetails": {}
    },
    "ef686635c1aa0cd4bd52ca212a95769f2532aa1a": {
      "type": "Yintroduced",
      "commitMessage": "YARN-5948. Implement MutableConfigurationManager for handling storage into configuration store\n",
      "commitDate": "09/10/17 11:11 AM",
      "commitName": "ef686635c1aa0cd4bd52ca212a95769f2532aa1a",
      "commitAuthor": "Jonathan Hung",
      "diff": "@@ -0,0 +1,7 @@\n+  public static YarnConfigurationStore getStore(Configuration conf) {\n+    Class\u003c? extends YarnConfigurationStore\u003e storeClass \u003d\n+        conf.getClass(YarnConfiguration.SCHEDULER_CONFIGURATION_STORE_CLASS,\n+            InMemoryConfigurationStore.class, YarnConfigurationStore.class);\n+    LOG.info(\"Using YarnConfigurationStore implementation - \" + storeClass);\n+    return ReflectionUtils.newInstance(storeClass, conf);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static YarnConfigurationStore getStore(Configuration conf) {\n    Class\u003c? extends YarnConfigurationStore\u003e storeClass \u003d\n        conf.getClass(YarnConfiguration.SCHEDULER_CONFIGURATION_STORE_CLASS,\n            InMemoryConfigurationStore.class, YarnConfigurationStore.class);\n    LOG.info(\"Using YarnConfigurationStore implementation - \" + storeClass);\n    return ReflectionUtils.newInstance(storeClass, conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/conf/YarnConfigurationStoreFactory.java"
    }
  }
}