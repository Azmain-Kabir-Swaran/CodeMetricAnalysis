{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "OfflineImageViewerPB.java",
  "functionName": "buildOptions",
  "functionId": "buildOptions",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageViewerPB.java",
  "functionStartLine": 115,
  "functionEndLine": 137,
  "numCommitsSeen": 23,
  "timeTaken": 3360,
  "changeHistory": [
    "865021b8c96ae96940ca060faae87452b433d970",
    "63f594892ecd4687e37a99790288e36eb278849f",
    "caf7298e49f646a40023af999f62d61846fde5e2",
    "71bae5cae4f758c4366d32cbc61522b8b4093a1b",
    "54c1daa580e1cceee541be86fc2b694fa1be26df",
    "146bf6c01ed56d0ab4d3ad06f6841622ff800b87",
    "a2edb11b68ae01a44092cb14ac2717a6aad93305"
  ],
  "changeHistoryShort": {
    "865021b8c96ae96940ca060faae87452b433d970": "Ybodychange",
    "63f594892ecd4687e37a99790288e36eb278849f": "Ybodychange",
    "caf7298e49f646a40023af999f62d61846fde5e2": "Ybodychange",
    "71bae5cae4f758c4366d32cbc61522b8b4093a1b": "Ybodychange",
    "54c1daa580e1cceee541be86fc2b694fa1be26df": "Ybodychange",
    "146bf6c01ed56d0ab4d3ad06f6841622ff800b87": "Ybodychange",
    "a2edb11b68ae01a44092cb14ac2717a6aad93305": "Yintroduced"
  },
  "changeHistoryDetails": {
    "865021b8c96ae96940ca060faae87452b433d970": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-14195. OIV: print out storage policy id in oiv Delimited output. Contributed by Wang, Xinglong.\n",
      "commitDate": "09/08/19 3:37 PM",
      "commitName": "865021b8c96ae96940ca060faae87452b433d970",
      "commitAuthor": "Wei-Chiu Chuang",
      "commitDateOld": "03/12/18 10:34 AM",
      "commitNameOld": "fb10803dfa67394650072bdea327296f8ad2a744",
      "commitAuthorOld": "Adam Antal",
      "daysBetweenCommits": 249.17,
      "commitsBetweenForRepo": 1812,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,22 +1,23 @@\n   private static Options buildOptions() {\n     Options options \u003d new Options();\n \n     // Build in/output file arguments, which are required, but there is no\n     // addOption method that can specify this\n     OptionBuilder.isRequired();\n     OptionBuilder.hasArgs();\n     OptionBuilder.withLongOpt(\"inputFile\");\n     options.addOption(OptionBuilder.create(\"i\"));\n \n     options.addOption(\"o\", \"outputFile\", true, \"\");\n     options.addOption(\"p\", \"processor\", true, \"\");\n     options.addOption(\"h\", \"help\", false, \"\");\n     options.addOption(\"maxSize\", true, \"\");\n     options.addOption(\"step\", true, \"\");\n     options.addOption(\"format\", false, \"\");\n     options.addOption(\"addr\", true, \"\");\n     options.addOption(\"delimiter\", true, \"\");\n+    options.addOption(\"sp\", false, \"\");\n     options.addOption(\"t\", \"temp\", true, \"\");\n \n     return options;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static Options buildOptions() {\n    Options options \u003d new Options();\n\n    // Build in/output file arguments, which are required, but there is no\n    // addOption method that can specify this\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"inputFile\");\n    options.addOption(OptionBuilder.create(\"i\"));\n\n    options.addOption(\"o\", \"outputFile\", true, \"\");\n    options.addOption(\"p\", \"processor\", true, \"\");\n    options.addOption(\"h\", \"help\", false, \"\");\n    options.addOption(\"maxSize\", true, \"\");\n    options.addOption(\"step\", true, \"\");\n    options.addOption(\"format\", false, \"\");\n    options.addOption(\"addr\", true, \"\");\n    options.addOption(\"delimiter\", true, \"\");\n    options.addOption(\"sp\", false, \"\");\n    options.addOption(\"t\", \"temp\", true, \"\");\n\n    return options;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageViewerPB.java",
      "extendedDetails": {}
    },
    "63f594892ecd4687e37a99790288e36eb278849f": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10778. Add -format option to make the output of FileDistribution processor human-readable in OfflineImageViewer.\n",
      "commitDate": "07/09/16 11:13 PM",
      "commitName": "63f594892ecd4687e37a99790288e36eb278849f",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "10/03/16 1:43 PM",
      "commitNameOld": "79961ecea888e0ee85b7a75e239bb6bb3335eb17",
      "commitAuthorOld": "Colin Patrick Mccabe",
      "daysBetweenCommits": 181.35,
      "commitsBetweenForRepo": 1285,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,22 @@\n   private static Options buildOptions() {\n     Options options \u003d new Options();\n \n     // Build in/output file arguments, which are required, but there is no\n     // addOption method that can specify this\n     OptionBuilder.isRequired();\n     OptionBuilder.hasArgs();\n     OptionBuilder.withLongOpt(\"inputFile\");\n     options.addOption(OptionBuilder.create(\"i\"));\n \n     options.addOption(\"o\", \"outputFile\", true, \"\");\n     options.addOption(\"p\", \"processor\", true, \"\");\n     options.addOption(\"h\", \"help\", false, \"\");\n     options.addOption(\"maxSize\", true, \"\");\n     options.addOption(\"step\", true, \"\");\n+    options.addOption(\"format\", false, \"\");\n     options.addOption(\"addr\", true, \"\");\n     options.addOption(\"delimiter\", true, \"\");\n     options.addOption(\"t\", \"temp\", true, \"\");\n \n     return options;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static Options buildOptions() {\n    Options options \u003d new Options();\n\n    // Build in/output file arguments, which are required, but there is no\n    // addOption method that can specify this\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"inputFile\");\n    options.addOption(OptionBuilder.create(\"i\"));\n\n    options.addOption(\"o\", \"outputFile\", true, \"\");\n    options.addOption(\"p\", \"processor\", true, \"\");\n    options.addOption(\"h\", \"help\", false, \"\");\n    options.addOption(\"maxSize\", true, \"\");\n    options.addOption(\"step\", true, \"\");\n    options.addOption(\"format\", false, \"\");\n    options.addOption(\"addr\", true, \"\");\n    options.addOption(\"delimiter\", true, \"\");\n    options.addOption(\"t\", \"temp\", true, \"\");\n\n    return options;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageViewerPB.java",
      "extendedDetails": {}
    },
    "caf7298e49f646a40023af999f62d61846fde5e2": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6673. Add delimited format support to PB OIV tool. Contributed by Eddy Xu.\n",
      "commitDate": "28/01/15 12:36 PM",
      "commitName": "caf7298e49f646a40023af999f62d61846fde5e2",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "11/12/14 12:36 PM",
      "commitNameOld": "b9f6d0c956f0278c8b9b83e05b523a442a730ebb",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 48.0,
      "commitsBetweenForRepo": 276,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,21 @@\n   private static Options buildOptions() {\n     Options options \u003d new Options();\n \n     // Build in/output file arguments, which are required, but there is no\n     // addOption method that can specify this\n     OptionBuilder.isRequired();\n     OptionBuilder.hasArgs();\n     OptionBuilder.withLongOpt(\"inputFile\");\n     options.addOption(OptionBuilder.create(\"i\"));\n \n     options.addOption(\"o\", \"outputFile\", true, \"\");\n     options.addOption(\"p\", \"processor\", true, \"\");\n     options.addOption(\"h\", \"help\", false, \"\");\n     options.addOption(\"maxSize\", true, \"\");\n     options.addOption(\"step\", true, \"\");\n     options.addOption(\"addr\", true, \"\");\n+    options.addOption(\"delimiter\", true, \"\");\n+    options.addOption(\"t\", \"temp\", true, \"\");\n \n     return options;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static Options buildOptions() {\n    Options options \u003d new Options();\n\n    // Build in/output file arguments, which are required, but there is no\n    // addOption method that can specify this\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"inputFile\");\n    options.addOption(OptionBuilder.create(\"i\"));\n\n    options.addOption(\"o\", \"outputFile\", true, \"\");\n    options.addOption(\"p\", \"processor\", true, \"\");\n    options.addOption(\"h\", \"help\", false, \"\");\n    options.addOption(\"maxSize\", true, \"\");\n    options.addOption(\"step\", true, \"\");\n    options.addOption(\"addr\", true, \"\");\n    options.addOption(\"delimiter\", true, \"\");\n    options.addOption(\"t\", \"temp\", true, \"\");\n\n    return options;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageViewerPB.java",
      "extendedDetails": {}
    },
    "71bae5cae4f758c4366d32cbc61522b8b4093a1b": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6173. Move the default processor from Ls to Web in OfflineImageViewer. Contributed by Akira Ajisaka.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1583384 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "31/03/14 11:05 AM",
      "commitName": "71bae5cae4f758c4366d32cbc61522b8b4093a1b",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "27/03/14 4:11 PM",
      "commitNameOld": "9d2d55e490a2092f9ff3a7f1a570b673555c43c8",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 3.79,
      "commitsBetweenForRepo": 18,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,23 +1,19 @@\n   private static Options buildOptions() {\n     Options options \u003d new Options();\n \n     // Build in/output file arguments, which are required, but there is no\n     // addOption method that can specify this\n     OptionBuilder.isRequired();\n     OptionBuilder.hasArgs();\n-    OptionBuilder.withLongOpt(\"outputFile\");\n-    options.addOption(OptionBuilder.create(\"o\"));\n-\n-    OptionBuilder.isRequired();\n-    OptionBuilder.hasArgs();\n     OptionBuilder.withLongOpt(\"inputFile\");\n     options.addOption(OptionBuilder.create(\"i\"));\n \n+    options.addOption(\"o\", \"outputFile\", true, \"\");\n     options.addOption(\"p\", \"processor\", true, \"\");\n     options.addOption(\"h\", \"help\", false, \"\");\n     options.addOption(\"maxSize\", true, \"\");\n     options.addOption(\"step\", true, \"\");\n     options.addOption(\"addr\", true, \"\");\n \n     return options;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static Options buildOptions() {\n    Options options \u003d new Options();\n\n    // Build in/output file arguments, which are required, but there is no\n    // addOption method that can specify this\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"inputFile\");\n    options.addOption(OptionBuilder.create(\"i\"));\n\n    options.addOption(\"o\", \"outputFile\", true, \"\");\n    options.addOption(\"p\", \"processor\", true, \"\");\n    options.addOption(\"h\", \"help\", false, \"\");\n    options.addOption(\"maxSize\", true, \"\");\n    options.addOption(\"step\", true, \"\");\n    options.addOption(\"addr\", true, \"\");\n\n    return options;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageViewerPB.java",
      "extendedDetails": {}
    },
    "54c1daa580e1cceee541be86fc2b694fa1be26df": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5978. Create a tool to take fsimage and expose read-only WebHDFS API. Contributed by Akira Ajisaka.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1582433 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "27/03/14 11:15 AM",
      "commitName": "54c1daa580e1cceee541be86fc2b694fa1be26df",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "26/03/14 7:58 PM",
      "commitNameOld": "fd3d5ab7920a22800c7c0903642a1a08a887d967",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 0.64,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,22 +1,23 @@\n   private static Options buildOptions() {\n     Options options \u003d new Options();\n \n     // Build in/output file arguments, which are required, but there is no\n     // addOption method that can specify this\n     OptionBuilder.isRequired();\n     OptionBuilder.hasArgs();\n     OptionBuilder.withLongOpt(\"outputFile\");\n     options.addOption(OptionBuilder.create(\"o\"));\n \n     OptionBuilder.isRequired();\n     OptionBuilder.hasArgs();\n     OptionBuilder.withLongOpt(\"inputFile\");\n     options.addOption(OptionBuilder.create(\"i\"));\n \n     options.addOption(\"p\", \"processor\", true, \"\");\n     options.addOption(\"h\", \"help\", false, \"\");\n     options.addOption(\"maxSize\", true, \"\");\n     options.addOption(\"step\", true, \"\");\n+    options.addOption(\"addr\", true, \"\");\n \n     return options;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static Options buildOptions() {\n    Options options \u003d new Options();\n\n    // Build in/output file arguments, which are required, but there is no\n    // addOption method that can specify this\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"outputFile\");\n    options.addOption(OptionBuilder.create(\"o\"));\n\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"inputFile\");\n    options.addOption(OptionBuilder.create(\"i\"));\n\n    options.addOption(\"p\", \"processor\", true, \"\");\n    options.addOption(\"h\", \"help\", false, \"\");\n    options.addOption(\"maxSize\", true, \"\");\n    options.addOption(\"step\", true, \"\");\n    options.addOption(\"addr\", true, \"\");\n\n    return options;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageViewerPB.java",
      "extendedDetails": {}
    },
    "146bf6c01ed56d0ab4d3ad06f6841622ff800b87": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5866. \u0027-maxSize\u0027 and \u0027-step\u0027 option fail in OfflineImageViewer. Contributed by Akira Ajisaka.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1573694 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/03/14 11:40 AM",
      "commitName": "146bf6c01ed56d0ab4d3ad06f6841622ff800b87",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "20/02/14 10:39 PM",
      "commitNameOld": "4f8a487fcd3c5d324b0bb03157f404fb127e21e8",
      "commitAuthorOld": "Chris Nauroth",
      "daysBetweenCommits": 10.54,
      "commitsBetweenForRepo": 63,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,23 +1,22 @@\n   private static Options buildOptions() {\n     Options options \u003d new Options();\n \n     // Build in/output file arguments, which are required, but there is no\n     // addOption method that can specify this\n     OptionBuilder.isRequired();\n     OptionBuilder.hasArgs();\n     OptionBuilder.withLongOpt(\"outputFile\");\n     options.addOption(OptionBuilder.create(\"o\"));\n \n     OptionBuilder.isRequired();\n     OptionBuilder.hasArgs();\n     OptionBuilder.withLongOpt(\"inputFile\");\n     options.addOption(OptionBuilder.create(\"i\"));\n \n     options.addOption(\"p\", \"processor\", true, \"\");\n     options.addOption(\"h\", \"help\", false, \"\");\n-    options.addOption(\"skipBlocks\", false, \"\");\n-    options.addOption(\"printToScreen\", false, \"\");\n-    options.addOption(\"delimiter\", true, \"\");\n+    options.addOption(\"maxSize\", true, \"\");\n+    options.addOption(\"step\", true, \"\");\n \n     return options;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static Options buildOptions() {\n    Options options \u003d new Options();\n\n    // Build in/output file arguments, which are required, but there is no\n    // addOption method that can specify this\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"outputFile\");\n    options.addOption(OptionBuilder.create(\"o\"));\n\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"inputFile\");\n    options.addOption(OptionBuilder.create(\"i\"));\n\n    options.addOption(\"p\", \"processor\", true, \"\");\n    options.addOption(\"h\", \"help\", false, \"\");\n    options.addOption(\"maxSize\", true, \"\");\n    options.addOption(\"step\", true, \"\");\n\n    return options;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageViewerPB.java",
      "extendedDetails": {}
    },
    "a2edb11b68ae01a44092cb14ac2717a6aad93305": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-5698. Use protobuf to serialize / deserialize FSImage. Contributed by Haohui Mai.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1566359 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "09/02/14 11:18 AM",
      "commitName": "a2edb11b68ae01a44092cb14ac2717a6aad93305",
      "commitAuthor": "Jing Zhao",
      "diff": "@@ -0,0 +1,23 @@\n+  private static Options buildOptions() {\n+    Options options \u003d new Options();\n+\n+    // Build in/output file arguments, which are required, but there is no\n+    // addOption method that can specify this\n+    OptionBuilder.isRequired();\n+    OptionBuilder.hasArgs();\n+    OptionBuilder.withLongOpt(\"outputFile\");\n+    options.addOption(OptionBuilder.create(\"o\"));\n+\n+    OptionBuilder.isRequired();\n+    OptionBuilder.hasArgs();\n+    OptionBuilder.withLongOpt(\"inputFile\");\n+    options.addOption(OptionBuilder.create(\"i\"));\n+\n+    options.addOption(\"p\", \"processor\", true, \"\");\n+    options.addOption(\"h\", \"help\", false, \"\");\n+    options.addOption(\"skipBlocks\", false, \"\");\n+    options.addOption(\"printToScreen\", false, \"\");\n+    options.addOption(\"delimiter\", true, \"\");\n+\n+    return options;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static Options buildOptions() {\n    Options options \u003d new Options();\n\n    // Build in/output file arguments, which are required, but there is no\n    // addOption method that can specify this\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"outputFile\");\n    options.addOption(OptionBuilder.create(\"o\"));\n\n    OptionBuilder.isRequired();\n    OptionBuilder.hasArgs();\n    OptionBuilder.withLongOpt(\"inputFile\");\n    options.addOption(OptionBuilder.create(\"i\"));\n\n    options.addOption(\"p\", \"processor\", true, \"\");\n    options.addOption(\"h\", \"help\", false, \"\");\n    options.addOption(\"skipBlocks\", false, \"\");\n    options.addOption(\"printToScreen\", false, \"\");\n    options.addOption(\"delimiter\", true, \"\");\n\n    return options;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageViewerPB.java"
    }
  }
}