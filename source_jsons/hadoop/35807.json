{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMNodeImpl.java",
  "functionName": "updateMetricsForRejoinedNode",
  "functionId": "updateMetricsForRejoinedNode___previousNodeState-NodeState",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
  "functionStartLine": 708,
  "functionEndLine": 734,
  "numCommitsSeen": 129,
  "timeTaken": 4016,
  "changeHistory": [
    "0da69c324dee9baab0f0b9700db1cc5b623f8421",
    "d7e7f6aa03c67b6a6ccf664adcb06d90bc963e58",
    "241d3b3a50c6af92f023d8b2c24598f4813f4674",
    "e1fdf62123625e4ba399af02f8aad500637d29d1",
    "407cfa3b56a0645d64d2d9af305f6ef24307e775",
    "3343494d6c39883485d29c7439831ab3c1c7248d",
    "3cdc100369ce920701fdddae12d7f7247332b3f3"
  ],
  "changeHistoryShort": {
    "0da69c324dee9baab0f0b9700db1cc5b623f8421": "Ybodychange",
    "d7e7f6aa03c67b6a6ccf664adcb06d90bc963e58": "Ybodychange",
    "241d3b3a50c6af92f023d8b2c24598f4813f4674": "Ybodychange",
    "e1fdf62123625e4ba399af02f8aad500637d29d1": "Yfilerename",
    "407cfa3b56a0645d64d2d9af305f6ef24307e775": "Yparameterchange",
    "3343494d6c39883485d29c7439831ab3c1c7248d": "Ymultichange(Ymovefromfile,Ybodychange,Yrename,Yparameterchange)",
    "3cdc100369ce920701fdddae12d7f7247332b3f3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "0da69c324dee9baab0f0b9700db1cc5b623f8421": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4676. Automatic and Asynchronous Decommissioning Nodes Status Tracking. Contributed by Diniel Zhi.\n(cherry picked from commit d464483bf7f0b3e3be3ba32cd6c3eee546747ab5)\n\nConflicts:\n\n\thadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceTrackerService.java\n\thadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNode.java\n\thadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java\n",
      "commitDate": "18/08/16 7:27 AM",
      "commitName": "0da69c324dee9baab0f0b9700db1cc5b623f8421",
      "commitAuthor": "Junping Du",
      "commitDateOld": "10/06/16 9:52 PM",
      "commitNameOld": "e0f4620cc7db3db4b781e6042ab7dd754af28f18",
      "commitAuthorOld": "Rohith Sharma K S",
      "daysBetweenCommits": 68.4,
      "commitsBetweenForRepo": 586,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,27 @@\n   private void updateMetricsForRejoinedNode(NodeState previousNodeState) {\n     ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n     metrics.incrNumActiveNodes();\n \n     switch (previousNodeState) {\n     case LOST:\n       metrics.decrNumLostNMs();\n       break;\n     case REBOOTED:\n       metrics.decrNumRebootedNMs();\n       break;\n     case DECOMMISSIONED:\n       metrics.decrDecommisionedNMs();\n       break;\n     case UNHEALTHY:\n       metrics.decrNumUnhealthyNMs();\n       break;\n     case SHUTDOWN:\n       metrics.decrNumShutdownNMs();\n       break;\n+    case DECOMMISSIONING:\n+      metrics.decrDecommissioningNMs();\n+      break;\n     default:\n       LOG.debug(\"Unexpected previous node state\");\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void updateMetricsForRejoinedNode(NodeState previousNodeState) {\n    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n    metrics.incrNumActiveNodes();\n\n    switch (previousNodeState) {\n    case LOST:\n      metrics.decrNumLostNMs();\n      break;\n    case REBOOTED:\n      metrics.decrNumRebootedNMs();\n      break;\n    case DECOMMISSIONED:\n      metrics.decrDecommisionedNMs();\n      break;\n    case UNHEALTHY:\n      metrics.decrNumUnhealthyNMs();\n      break;\n    case SHUTDOWN:\n      metrics.decrNumShutdownNMs();\n      break;\n    case DECOMMISSIONING:\n      metrics.decrDecommissioningNMs();\n      break;\n    default:\n      LOG.debug(\"Unexpected previous node state\");\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
      "extendedDetails": {}
    },
    "d7e7f6aa03c67b6a6ccf664adcb06d90bc963e58": {
      "type": "Ybodychange",
      "commitMessage": "YARN-41. The RM should handle the graceful shutdown of the NM. Contributed by Devaraj K.\n",
      "commitDate": "04/06/15 4:59 AM",
      "commitName": "d7e7f6aa03c67b6a6ccf664adcb06d90bc963e58",
      "commitAuthor": "Junping Du",
      "commitDateOld": "14/05/15 10:58 AM",
      "commitNameOld": "15ccd967ee3e7046a50522089f67ba01f36ec76a",
      "commitAuthorOld": "Junping Du",
      "daysBetweenCommits": 20.75,
      "commitsBetweenForRepo": 157,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,24 @@\n   private void updateMetricsForRejoinedNode(NodeState previousNodeState) {\n     ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n     metrics.incrNumActiveNodes();\n \n     switch (previousNodeState) {\n     case LOST:\n       metrics.decrNumLostNMs();\n       break;\n     case REBOOTED:\n       metrics.decrNumRebootedNMs();\n       break;\n     case DECOMMISSIONED:\n       metrics.decrDecommisionedNMs();\n       break;\n     case UNHEALTHY:\n       metrics.decrNumUnhealthyNMs();\n       break;\n+    case SHUTDOWN:\n+      metrics.decrNumShutdownNMs();\n+      break;\n     default:\n       LOG.debug(\"Unexpected previous node state\");    \n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void updateMetricsForRejoinedNode(NodeState previousNodeState) {\n    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n    metrics.incrNumActiveNodes();\n\n    switch (previousNodeState) {\n    case LOST:\n      metrics.decrNumLostNMs();\n      break;\n    case REBOOTED:\n      metrics.decrNumRebootedNMs();\n      break;\n    case DECOMMISSIONED:\n      metrics.decrDecommisionedNMs();\n      break;\n    case UNHEALTHY:\n      metrics.decrNumUnhealthyNMs();\n      break;\n    case SHUTDOWN:\n      metrics.decrNumShutdownNMs();\n      break;\n    default:\n      LOG.debug(\"Unexpected previous node state\");    \n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
      "extendedDetails": {}
    },
    "241d3b3a50c6af92f023d8b2c24598f4813f4674": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2938. Fixed new findbugs warnings in hadoop-yarn-resourcemanager and hadoop-yarn-applicationhistoryservice. Contributed by Varun Saxena.\n",
      "commitDate": "29/12/14 9:59 AM",
      "commitName": "241d3b3a50c6af92f023d8b2c24598f4813f4674",
      "commitAuthor": "Zhijie Shen",
      "commitDateOld": "22/12/14 4:51 PM",
      "commitNameOld": "fdf042dfffa4d2474e3cac86cfb8fe9ee4648beb",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 6.71,
      "commitsBetweenForRepo": 18,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,21 @@\n   private void updateMetricsForRejoinedNode(NodeState previousNodeState) {\n     ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n     metrics.incrNumActiveNodes();\n \n     switch (previousNodeState) {\n     case LOST:\n       metrics.decrNumLostNMs();\n       break;\n     case REBOOTED:\n       metrics.decrNumRebootedNMs();\n       break;\n     case DECOMMISSIONED:\n       metrics.decrDecommisionedNMs();\n       break;\n     case UNHEALTHY:\n       metrics.decrNumUnhealthyNMs();\n       break;\n+    default:\n+      LOG.debug(\"Unexpected previous node state\");    \n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void updateMetricsForRejoinedNode(NodeState previousNodeState) {\n    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n    metrics.incrNumActiveNodes();\n\n    switch (previousNodeState) {\n    case LOST:\n      metrics.decrNumLostNMs();\n      break;\n    case REBOOTED:\n      metrics.decrNumRebootedNMs();\n      break;\n    case DECOMMISSIONED:\n      metrics.decrDecommisionedNMs();\n      break;\n    case UNHEALTHY:\n      metrics.decrNumUnhealthyNMs();\n      break;\n    default:\n      LOG.debug(\"Unexpected previous node state\");    \n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
      "extendedDetails": {}
    },
    "e1fdf62123625e4ba399af02f8aad500637d29d1": {
      "type": "Yfilerename",
      "commitMessage": "YARN-1. Promote YARN to be a sub-project of Apache Hadoop.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1370666 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/12 10:22 PM",
      "commitName": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/08/12 7:53 PM",
      "commitNameOld": "34554d1e11ee1d5b564d7d9ed3e6d55931d72749",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private void updateMetricsForRejoinedNode(NodeState previousNodeState) {\n    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n    metrics.incrNumActiveNodes();\n\n    switch (previousNodeState) {\n    case LOST:\n      metrics.decrNumLostNMs();\n      break;\n    case REBOOTED:\n      metrics.decrNumRebootedNMs();\n      break;\n    case DECOMMISSIONED:\n      metrics.decrDecommisionedNMs();\n      break;\n    case UNHEALTHY:\n      metrics.decrNumUnhealthyNMs();\n      break;\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java"
      }
    },
    "407cfa3b56a0645d64d2d9af305f6ef24307e775": {
      "type": "Yparameterchange",
      "commitMessage": "MAPREDUCE-3958. RM: Remove RMNodeState and replace it with NodeState (Bikas Saha via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1334043 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "04/05/12 8:47 AM",
      "commitName": "407cfa3b56a0645d64d2d9af305f6ef24307e775",
      "commitAuthor": "Robert Joseph Evans",
      "commitDateOld": "25/03/12 10:45 PM",
      "commitNameOld": "606114d6029758f2be130960b8fc3102457406ba",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 39.42,
      "commitsBetweenForRepo": 315,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,19 @@\n-  private void updateMetricsForRejoinedNode(RMNodeState previousNodeState) {\n+  private void updateMetricsForRejoinedNode(NodeState previousNodeState) {\n     ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n     metrics.incrNumActiveNodes();\n \n     switch (previousNodeState) {\n     case LOST:\n       metrics.decrNumLostNMs();\n       break;\n     case REBOOTED:\n       metrics.decrNumRebootedNMs();\n       break;\n     case DECOMMISSIONED:\n       metrics.decrDecommisionedNMs();\n       break;\n     case UNHEALTHY:\n       metrics.decrNumUnhealthyNMs();\n       break;\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void updateMetricsForRejoinedNode(NodeState previousNodeState) {\n    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n    metrics.incrNumActiveNodes();\n\n    switch (previousNodeState) {\n    case LOST:\n      metrics.decrNumLostNMs();\n      break;\n    case REBOOTED:\n      metrics.decrNumRebootedNMs();\n      break;\n    case DECOMMISSIONED:\n      metrics.decrDecommisionedNMs();\n      break;\n    case UNHEALTHY:\n      metrics.decrNumUnhealthyNMs();\n      break;\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
      "extendedDetails": {
        "oldValue": "[previousNodeState-RMNodeState]",
        "newValue": "[previousNodeState-NodeState]"
      }
    },
    "3343494d6c39883485d29c7439831ab3c1c7248d": {
      "type": "Ymultichange(Ymovefromfile,Ybodychange,Yrename,Yparameterchange)",
      "commitMessage": "MAPREDUCE-3760. Changed active nodes list to not contain unhealthy nodes on the webUI and metrics. (vinodkv)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1240421 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/02/12 5:03 PM",
      "commitName": "3343494d6c39883485d29c7439831ab3c1c7248d",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "MAPREDUCE-3760. Changed active nodes list to not contain unhealthy nodes on the webUI and metrics. (vinodkv)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1240421 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "03/02/12 5:03 PM",
          "commitName": "3343494d6c39883485d29c7439831ab3c1c7248d",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "03/02/12 4:04 PM",
          "commitNameOld": "94242c93857a06fb9c56ee571a47d6ca18f00f48",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 0.04,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,14 +1,19 @@\n-    private void updateMetrics(RMNodeState nodeState) {\n-      ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n-      switch (nodeState) {\n-      case LOST:\n-        metrics.decrNumLostNMs();\n-        break;\n-      case REBOOTED:\n-        metrics.decrNumRebootedNMs();\n-        break;\n-      case DECOMMISSIONED:\n-        metrics.decrDecommisionedNMs();\n-        break;\n-      }\n-    }\n\\ No newline at end of file\n+  private void updateMetricsForRejoinedNode(RMNodeState previousNodeState) {\n+    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n+    metrics.incrNumActiveNodes();\n+\n+    switch (previousNodeState) {\n+    case LOST:\n+      metrics.decrNumLostNMs();\n+      break;\n+    case REBOOTED:\n+      metrics.decrNumRebootedNMs();\n+      break;\n+    case DECOMMISSIONED:\n+      metrics.decrDecommisionedNMs();\n+      break;\n+    case UNHEALTHY:\n+      metrics.decrNumUnhealthyNMs();\n+      break;\n+    }\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  private void updateMetricsForRejoinedNode(RMNodeState previousNodeState) {\n    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n    metrics.incrNumActiveNodes();\n\n    switch (previousNodeState) {\n    case LOST:\n      metrics.decrNumLostNMs();\n      break;\n    case REBOOTED:\n      metrics.decrNumRebootedNMs();\n      break;\n    case DECOMMISSIONED:\n      metrics.decrDecommisionedNMs();\n      break;\n    case UNHEALTHY:\n      metrics.decrNumUnhealthyNMs();\n      break;\n    }\n  }",
          "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
          "extendedDetails": {
            "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
            "newPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
            "oldMethodName": "updateMetrics",
            "newMethodName": "updateMetricsForRejoinedNode"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "MAPREDUCE-3760. Changed active nodes list to not contain unhealthy nodes on the webUI and metrics. (vinodkv)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1240421 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "03/02/12 5:03 PM",
          "commitName": "3343494d6c39883485d29c7439831ab3c1c7248d",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "03/02/12 4:04 PM",
          "commitNameOld": "94242c93857a06fb9c56ee571a47d6ca18f00f48",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 0.04,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,14 +1,19 @@\n-    private void updateMetrics(RMNodeState nodeState) {\n-      ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n-      switch (nodeState) {\n-      case LOST:\n-        metrics.decrNumLostNMs();\n-        break;\n-      case REBOOTED:\n-        metrics.decrNumRebootedNMs();\n-        break;\n-      case DECOMMISSIONED:\n-        metrics.decrDecommisionedNMs();\n-        break;\n-      }\n-    }\n\\ No newline at end of file\n+  private void updateMetricsForRejoinedNode(RMNodeState previousNodeState) {\n+    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n+    metrics.incrNumActiveNodes();\n+\n+    switch (previousNodeState) {\n+    case LOST:\n+      metrics.decrNumLostNMs();\n+      break;\n+    case REBOOTED:\n+      metrics.decrNumRebootedNMs();\n+      break;\n+    case DECOMMISSIONED:\n+      metrics.decrDecommisionedNMs();\n+      break;\n+    case UNHEALTHY:\n+      metrics.decrNumUnhealthyNMs();\n+      break;\n+    }\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  private void updateMetricsForRejoinedNode(RMNodeState previousNodeState) {\n    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n    metrics.incrNumActiveNodes();\n\n    switch (previousNodeState) {\n    case LOST:\n      metrics.decrNumLostNMs();\n      break;\n    case REBOOTED:\n      metrics.decrNumRebootedNMs();\n      break;\n    case DECOMMISSIONED:\n      metrics.decrDecommisionedNMs();\n      break;\n    case UNHEALTHY:\n      metrics.decrNumUnhealthyNMs();\n      break;\n    }\n  }",
          "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
          "extendedDetails": {}
        },
        {
          "type": "Yrename",
          "commitMessage": "MAPREDUCE-3760. Changed active nodes list to not contain unhealthy nodes on the webUI and metrics. (vinodkv)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1240421 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "03/02/12 5:03 PM",
          "commitName": "3343494d6c39883485d29c7439831ab3c1c7248d",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "03/02/12 4:04 PM",
          "commitNameOld": "94242c93857a06fb9c56ee571a47d6ca18f00f48",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 0.04,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,14 +1,19 @@\n-    private void updateMetrics(RMNodeState nodeState) {\n-      ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n-      switch (nodeState) {\n-      case LOST:\n-        metrics.decrNumLostNMs();\n-        break;\n-      case REBOOTED:\n-        metrics.decrNumRebootedNMs();\n-        break;\n-      case DECOMMISSIONED:\n-        metrics.decrDecommisionedNMs();\n-        break;\n-      }\n-    }\n\\ No newline at end of file\n+  private void updateMetricsForRejoinedNode(RMNodeState previousNodeState) {\n+    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n+    metrics.incrNumActiveNodes();\n+\n+    switch (previousNodeState) {\n+    case LOST:\n+      metrics.decrNumLostNMs();\n+      break;\n+    case REBOOTED:\n+      metrics.decrNumRebootedNMs();\n+      break;\n+    case DECOMMISSIONED:\n+      metrics.decrDecommisionedNMs();\n+      break;\n+    case UNHEALTHY:\n+      metrics.decrNumUnhealthyNMs();\n+      break;\n+    }\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  private void updateMetricsForRejoinedNode(RMNodeState previousNodeState) {\n    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n    metrics.incrNumActiveNodes();\n\n    switch (previousNodeState) {\n    case LOST:\n      metrics.decrNumLostNMs();\n      break;\n    case REBOOTED:\n      metrics.decrNumRebootedNMs();\n      break;\n    case DECOMMISSIONED:\n      metrics.decrDecommisionedNMs();\n      break;\n    case UNHEALTHY:\n      metrics.decrNumUnhealthyNMs();\n      break;\n    }\n  }",
          "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
          "extendedDetails": {
            "oldValue": "updateMetrics",
            "newValue": "updateMetricsForRejoinedNode"
          }
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "MAPREDUCE-3760. Changed active nodes list to not contain unhealthy nodes on the webUI and metrics. (vinodkv)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1240421 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "03/02/12 5:03 PM",
          "commitName": "3343494d6c39883485d29c7439831ab3c1c7248d",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "03/02/12 4:04 PM",
          "commitNameOld": "94242c93857a06fb9c56ee571a47d6ca18f00f48",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 0.04,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,14 +1,19 @@\n-    private void updateMetrics(RMNodeState nodeState) {\n-      ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n-      switch (nodeState) {\n-      case LOST:\n-        metrics.decrNumLostNMs();\n-        break;\n-      case REBOOTED:\n-        metrics.decrNumRebootedNMs();\n-        break;\n-      case DECOMMISSIONED:\n-        metrics.decrDecommisionedNMs();\n-        break;\n-      }\n-    }\n\\ No newline at end of file\n+  private void updateMetricsForRejoinedNode(RMNodeState previousNodeState) {\n+    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n+    metrics.incrNumActiveNodes();\n+\n+    switch (previousNodeState) {\n+    case LOST:\n+      metrics.decrNumLostNMs();\n+      break;\n+    case REBOOTED:\n+      metrics.decrNumRebootedNMs();\n+      break;\n+    case DECOMMISSIONED:\n+      metrics.decrDecommisionedNMs();\n+      break;\n+    case UNHEALTHY:\n+      metrics.decrNumUnhealthyNMs();\n+      break;\n+    }\n+  }\n\\ No newline at end of file\n",
          "actualSource": "  private void updateMetricsForRejoinedNode(RMNodeState previousNodeState) {\n    ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n    metrics.incrNumActiveNodes();\n\n    switch (previousNodeState) {\n    case LOST:\n      metrics.decrNumLostNMs();\n      break;\n    case REBOOTED:\n      metrics.decrNumRebootedNMs();\n      break;\n    case DECOMMISSIONED:\n      metrics.decrDecommisionedNMs();\n      break;\n    case UNHEALTHY:\n      metrics.decrNumUnhealthyNMs();\n      break;\n    }\n  }",
          "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java",
          "extendedDetails": {
            "oldValue": "[nodeState-RMNodeState]",
            "newValue": "[previousNodeState-RMNodeState]"
          }
        }
      ]
    },
    "3cdc100369ce920701fdddae12d7f7247332b3f3": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-3360. Added information about lost/rebooted/decommissioned nodes on the webapps. Contributed by Bhallamudi Venkata Siva Kamesh and Jason Lowe.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1236433 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "26/01/12 2:56 PM",
      "commitName": "3cdc100369ce920701fdddae12d7f7247332b3f3",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,14 @@\n+    private void updateMetrics(RMNodeState nodeState) {\n+      ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n+      switch (nodeState) {\n+      case LOST:\n+        metrics.decrNumLostNMs();\n+        break;\n+      case REBOOTED:\n+        metrics.decrNumRebootedNMs();\n+        break;\n+      case DECOMMISSIONED:\n+        metrics.decrDecommisionedNMs();\n+        break;\n+      }\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    private void updateMetrics(RMNodeState nodeState) {\n      ClusterMetrics metrics \u003d ClusterMetrics.getMetrics();\n      switch (nodeState) {\n      case LOST:\n        metrics.decrNumLostNMs();\n        break;\n      case REBOOTED:\n        metrics.decrNumRebootedNMs();\n        break;\n      case DECOMMISSIONED:\n        metrics.decrDecommisionedNMs();\n        break;\n      }\n    }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java"
    }
  }
}