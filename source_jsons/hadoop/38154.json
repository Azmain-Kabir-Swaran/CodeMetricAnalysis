{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "CapacitySchedulerPreemptionUtils.java",
  "functionName": "addToPreemptMap",
  "functionId": "addToPreemptMap___preemptMap-Map__ApplicationAttemptId,Set__RMContainer______curCandidates-Map__ApplicationAttemptId,Set__RMContainer______appAttemptId-ApplicationAttemptId__containerToPreempt-RMContainer",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionUtils.java",
  "functionStartLine": 235,
  "functionEndLine": 252,
  "numCommitsSeen": 46,
  "timeTaken": 7421,
  "changeHistory": [
    "291194302cc1a875d6d94ea93cf1184a3f1fc2cc",
    "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
    "60e4116bf1d00afed91010e57357fe54057e4e39",
    "ae14e5d07f1b6702a5160637438028bb03d9387e",
    "fa7a43529d529f0006c8033c2003f15b9b93f103",
    "7e8c9beb4156dcaeb3a11e60aaa06d2370626913",
    "d497f6ea2be559aa31ed76f37ae949dbfabe2a51"
  ],
  "changeHistoryShort": {
    "291194302cc1a875d6d94ea93cf1184a3f1fc2cc": "Ymultichange(Yparameterchange,Ymodifierchange,Ybodychange)",
    "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9": "Ymultichange(Ymovefromfile,Ymodifierchange,Ybodychange)",
    "60e4116bf1d00afed91010e57357fe54057e4e39": "Ymovefromfile",
    "ae14e5d07f1b6702a5160637438028bb03d9387e": "Ybodychange",
    "fa7a43529d529f0006c8033c2003f15b9b93f103": "Ybodychange",
    "7e8c9beb4156dcaeb3a11e60aaa06d2370626913": "Ybodychange",
    "d497f6ea2be559aa31ed76f37ae949dbfabe2a51": "Yintroduced"
  },
  "changeHistoryDetails": {
    "291194302cc1a875d6d94ea93cf1184a3f1fc2cc": {
      "type": "Ymultichange(Yparameterchange,Ymodifierchange,Ybodychange)",
      "commitMessage": "YARN-8379. Improve balancing resources in already satisfied queues by using Capacity Scheduler preemption. Contributed by Zian Chen.\n",
      "commitDate": "28/06/18 10:23 AM",
      "commitName": "291194302cc1a875d6d94ea93cf1184a3f1fc2cc",
      "commitAuthor": "Sunil G",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-8379. Improve balancing resources in already satisfied queues by using Capacity Scheduler preemption. Contributed by Zian Chen.\n",
          "commitDate": "28/06/18 10:23 AM",
          "commitName": "291194302cc1a875d6d94ea93cf1184a3f1fc2cc",
          "commitAuthor": "Sunil G",
          "commitDateOld": "29/05/18 9:27 AM",
          "commitNameOld": "17aa40f669f197d43387d67dc00040d14cd00948",
          "commitAuthorOld": "Wangda Tan",
          "daysBetweenCommits": 30.04,
          "commitsBetweenForRepo": 207,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,18 @@\n-  private static void addToPreemptMap(\n+  protected static void addToPreemptMap(\n       Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n+      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e curCandidates,\n       ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n-    Set\u003cRMContainer\u003e set \u003d preemptMap.get(appAttemptId);\n-    if (null \u003d\u003d set) {\n-      set \u003d new HashSet\u003c\u003e();\n-      preemptMap.put(appAttemptId, set);\n+    Set\u003cRMContainer\u003e setForToPreempt \u003d preemptMap.get(appAttemptId);\n+    Set\u003cRMContainer\u003e setForCurCandidates \u003d curCandidates.get(appAttemptId);\n+    if (null \u003d\u003d setForToPreempt) {\n+      setForToPreempt \u003d new HashSet\u003c\u003e();\n+      preemptMap.put(appAttemptId, setForToPreempt);\n     }\n-    set.add(containerToPreempt);\n+    setForToPreempt.add(containerToPreempt);\n+\n+    if (null \u003d\u003d setForCurCandidates) {\n+      setForCurCandidates \u003d new HashSet\u003c\u003e();\n+      curCandidates.put(appAttemptId, setForCurCandidates);\n+    }\n+    setForCurCandidates.add(containerToPreempt);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  protected static void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e curCandidates,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e setForToPreempt \u003d preemptMap.get(appAttemptId);\n    Set\u003cRMContainer\u003e setForCurCandidates \u003d curCandidates.get(appAttemptId);\n    if (null \u003d\u003d setForToPreempt) {\n      setForToPreempt \u003d new HashSet\u003c\u003e();\n      preemptMap.put(appAttemptId, setForToPreempt);\n    }\n    setForToPreempt.add(containerToPreempt);\n\n    if (null \u003d\u003d setForCurCandidates) {\n      setForCurCandidates \u003d new HashSet\u003c\u003e();\n      curCandidates.put(appAttemptId, setForCurCandidates);\n    }\n    setForCurCandidates.add(containerToPreempt);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionUtils.java",
          "extendedDetails": {
            "oldValue": "[preemptMap-Map\u003cApplicationAttemptId,Set\u003cRMContainer\u003e\u003e, appAttemptId-ApplicationAttemptId, containerToPreempt-RMContainer]",
            "newValue": "[preemptMap-Map\u003cApplicationAttemptId,Set\u003cRMContainer\u003e\u003e, curCandidates-Map\u003cApplicationAttemptId,Set\u003cRMContainer\u003e\u003e, appAttemptId-ApplicationAttemptId, containerToPreempt-RMContainer]"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "YARN-8379. Improve balancing resources in already satisfied queues by using Capacity Scheduler preemption. Contributed by Zian Chen.\n",
          "commitDate": "28/06/18 10:23 AM",
          "commitName": "291194302cc1a875d6d94ea93cf1184a3f1fc2cc",
          "commitAuthor": "Sunil G",
          "commitDateOld": "29/05/18 9:27 AM",
          "commitNameOld": "17aa40f669f197d43387d67dc00040d14cd00948",
          "commitAuthorOld": "Wangda Tan",
          "daysBetweenCommits": 30.04,
          "commitsBetweenForRepo": 207,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,18 @@\n-  private static void addToPreemptMap(\n+  protected static void addToPreemptMap(\n       Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n+      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e curCandidates,\n       ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n-    Set\u003cRMContainer\u003e set \u003d preemptMap.get(appAttemptId);\n-    if (null \u003d\u003d set) {\n-      set \u003d new HashSet\u003c\u003e();\n-      preemptMap.put(appAttemptId, set);\n+    Set\u003cRMContainer\u003e setForToPreempt \u003d preemptMap.get(appAttemptId);\n+    Set\u003cRMContainer\u003e setForCurCandidates \u003d curCandidates.get(appAttemptId);\n+    if (null \u003d\u003d setForToPreempt) {\n+      setForToPreempt \u003d new HashSet\u003c\u003e();\n+      preemptMap.put(appAttemptId, setForToPreempt);\n     }\n-    set.add(containerToPreempt);\n+    setForToPreempt.add(containerToPreempt);\n+\n+    if (null \u003d\u003d setForCurCandidates) {\n+      setForCurCandidates \u003d new HashSet\u003c\u003e();\n+      curCandidates.put(appAttemptId, setForCurCandidates);\n+    }\n+    setForCurCandidates.add(containerToPreempt);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  protected static void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e curCandidates,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e setForToPreempt \u003d preemptMap.get(appAttemptId);\n    Set\u003cRMContainer\u003e setForCurCandidates \u003d curCandidates.get(appAttemptId);\n    if (null \u003d\u003d setForToPreempt) {\n      setForToPreempt \u003d new HashSet\u003c\u003e();\n      preemptMap.put(appAttemptId, setForToPreempt);\n    }\n    setForToPreempt.add(containerToPreempt);\n\n    if (null \u003d\u003d setForCurCandidates) {\n      setForCurCandidates \u003d new HashSet\u003c\u003e();\n      curCandidates.put(appAttemptId, setForCurCandidates);\n    }\n    setForCurCandidates.add(containerToPreempt);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionUtils.java",
          "extendedDetails": {
            "oldValue": "[private, static]",
            "newValue": "[protected, static]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-8379. Improve balancing resources in already satisfied queues by using Capacity Scheduler preemption. Contributed by Zian Chen.\n",
          "commitDate": "28/06/18 10:23 AM",
          "commitName": "291194302cc1a875d6d94ea93cf1184a3f1fc2cc",
          "commitAuthor": "Sunil G",
          "commitDateOld": "29/05/18 9:27 AM",
          "commitNameOld": "17aa40f669f197d43387d67dc00040d14cd00948",
          "commitAuthorOld": "Wangda Tan",
          "daysBetweenCommits": 30.04,
          "commitsBetweenForRepo": 207,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,18 @@\n-  private static void addToPreemptMap(\n+  protected static void addToPreemptMap(\n       Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n+      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e curCandidates,\n       ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n-    Set\u003cRMContainer\u003e set \u003d preemptMap.get(appAttemptId);\n-    if (null \u003d\u003d set) {\n-      set \u003d new HashSet\u003c\u003e();\n-      preemptMap.put(appAttemptId, set);\n+    Set\u003cRMContainer\u003e setForToPreempt \u003d preemptMap.get(appAttemptId);\n+    Set\u003cRMContainer\u003e setForCurCandidates \u003d curCandidates.get(appAttemptId);\n+    if (null \u003d\u003d setForToPreempt) {\n+      setForToPreempt \u003d new HashSet\u003c\u003e();\n+      preemptMap.put(appAttemptId, setForToPreempt);\n     }\n-    set.add(containerToPreempt);\n+    setForToPreempt.add(containerToPreempt);\n+\n+    if (null \u003d\u003d setForCurCandidates) {\n+      setForCurCandidates \u003d new HashSet\u003c\u003e();\n+      curCandidates.put(appAttemptId, setForCurCandidates);\n+    }\n+    setForCurCandidates.add(containerToPreempt);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  protected static void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e curCandidates,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e setForToPreempt \u003d preemptMap.get(appAttemptId);\n    Set\u003cRMContainer\u003e setForCurCandidates \u003d curCandidates.get(appAttemptId);\n    if (null \u003d\u003d setForToPreempt) {\n      setForToPreempt \u003d new HashSet\u003c\u003e();\n      preemptMap.put(appAttemptId, setForToPreempt);\n    }\n    setForToPreempt.add(containerToPreempt);\n\n    if (null \u003d\u003d setForCurCandidates) {\n      setForCurCandidates \u003d new HashSet\u003c\u003e();\n      curCandidates.put(appAttemptId, setForCurCandidates);\n    }\n    setForCurCandidates.add(containerToPreempt);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionUtils.java",
          "extendedDetails": {}
        }
      ]
    },
    "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9": {
      "type": "Ymultichange(Ymovefromfile,Ymodifierchange,Ybodychange)",
      "commitMessage": "YARN-2009. CapacityScheduler: Add intra-queue preemption for app priority support. (Sunil G via wangda)\n",
      "commitDate": "31/10/16 3:18 PM",
      "commitName": "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
      "commitAuthor": "Wangda Tan",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "YARN-2009. CapacityScheduler: Add intra-queue preemption for app priority support. (Sunil G via wangda)\n",
          "commitDate": "31/10/16 3:18 PM",
          "commitName": "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
          "commitAuthor": "Wangda Tan",
          "commitDateOld": "31/10/16 2:47 PM",
          "commitNameOld": "773c60bd7bd00651dc3016799b424b9bd2233eb3",
          "commitAuthorOld": "Daniel Templeton",
          "daysBetweenCommits": 0.02,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n-  private void addToPreemptMap(\n+  private static void addToPreemptMap(\n       Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n       ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n-    Set\u003cRMContainer\u003e set;\n-    if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n+    Set\u003cRMContainer\u003e set \u003d preemptMap.get(appAttemptId);\n+    if (null \u003d\u003d set) {\n       set \u003d new HashSet\u003c\u003e();\n       preemptMap.put(appAttemptId, set);\n     }\n     set.add(containerToPreempt);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private static void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e set \u003d preemptMap.get(appAttemptId);\n    if (null \u003d\u003d set) {\n      set \u003d new HashSet\u003c\u003e();\n      preemptMap.put(appAttemptId, set);\n    }\n    set.add(containerToPreempt);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionUtils.java",
          "extendedDetails": {
            "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/FifoCandidatesSelector.java",
            "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionUtils.java",
            "oldMethodName": "addToPreemptMap",
            "newMethodName": "addToPreemptMap"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "YARN-2009. CapacityScheduler: Add intra-queue preemption for app priority support. (Sunil G via wangda)\n",
          "commitDate": "31/10/16 3:18 PM",
          "commitName": "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
          "commitAuthor": "Wangda Tan",
          "commitDateOld": "31/10/16 2:47 PM",
          "commitNameOld": "773c60bd7bd00651dc3016799b424b9bd2233eb3",
          "commitAuthorOld": "Daniel Templeton",
          "daysBetweenCommits": 0.02,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n-  private void addToPreemptMap(\n+  private static void addToPreemptMap(\n       Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n       ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n-    Set\u003cRMContainer\u003e set;\n-    if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n+    Set\u003cRMContainer\u003e set \u003d preemptMap.get(appAttemptId);\n+    if (null \u003d\u003d set) {\n       set \u003d new HashSet\u003c\u003e();\n       preemptMap.put(appAttemptId, set);\n     }\n     set.add(containerToPreempt);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private static void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e set \u003d preemptMap.get(appAttemptId);\n    if (null \u003d\u003d set) {\n      set \u003d new HashSet\u003c\u003e();\n      preemptMap.put(appAttemptId, set);\n    }\n    set.add(containerToPreempt);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionUtils.java",
          "extendedDetails": {
            "oldValue": "[private]",
            "newValue": "[private, static]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-2009. CapacityScheduler: Add intra-queue preemption for app priority support. (Sunil G via wangda)\n",
          "commitDate": "31/10/16 3:18 PM",
          "commitName": "90dd3a8148468ac37a3f2173ad8d45e38bfcb0c9",
          "commitAuthor": "Wangda Tan",
          "commitDateOld": "31/10/16 2:47 PM",
          "commitNameOld": "773c60bd7bd00651dc3016799b424b9bd2233eb3",
          "commitAuthorOld": "Daniel Templeton",
          "daysBetweenCommits": 0.02,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n-  private void addToPreemptMap(\n+  private static void addToPreemptMap(\n       Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n       ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n-    Set\u003cRMContainer\u003e set;\n-    if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n+    Set\u003cRMContainer\u003e set \u003d preemptMap.get(appAttemptId);\n+    if (null \u003d\u003d set) {\n       set \u003d new HashSet\u003c\u003e();\n       preemptMap.put(appAttemptId, set);\n     }\n     set.add(containerToPreempt);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private static void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e set \u003d preemptMap.get(appAttemptId);\n    if (null \u003d\u003d set) {\n      set \u003d new HashSet\u003c\u003e();\n      preemptMap.put(appAttemptId, set);\n    }\n    set.add(containerToPreempt);\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/CapacitySchedulerPreemptionUtils.java",
          "extendedDetails": {}
        }
      ]
    },
    "60e4116bf1d00afed91010e57357fe54057e4e39": {
      "type": "Ymovefromfile",
      "commitMessage": "YARN-4822. Refactor existing Preemption Policy of CS for easier adding new approach to select preemption candidates. Contributed by Wangda Tan\n",
      "commitDate": "30/03/16 12:43 PM",
      "commitName": "60e4116bf1d00afed91010e57357fe54057e4e39",
      "commitAuthor": "Jian He",
      "commitDateOld": "29/03/16 11:22 PM",
      "commitNameOld": "09d63d5a192b5d6b172f94ff6c94da348fd49ea6",
      "commitAuthorOld": "Vinayakumar B",
      "daysBetweenCommits": 0.56,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e set;\n    if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n      set \u003d new HashSet\u003c\u003e();\n      preemptMap.put(appAttemptId, set);\n    }\n    set.add(containerToPreempt);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/FifoCandidatesSelector.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/FifoCandidatesSelector.java",
        "oldMethodName": "addToPreemptMap",
        "newMethodName": "addToPreemptMap"
      }
    },
    "ae14e5d07f1b6702a5160637438028bb03d9387e": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4108. CapacityScheduler: Improve preemption to only kill containers that would satisfy the incoming request. (Wangda Tan)\n\n(cherry picked from commit 7e8c9beb4156dcaeb3a11e60aaa06d2370626913)\n",
      "commitDate": "16/03/16 5:02 PM",
      "commitName": "ae14e5d07f1b6702a5160637438028bb03d9387e",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "16/03/16 5:02 PM",
      "commitNameOld": "fa7a43529d529f0006c8033c2003f15b9b93f103",
      "commitAuthorOld": "Wangda Tan",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   private void addToPreemptMap(\n       Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n       ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n     Set\u003cRMContainer\u003e set;\n     if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n-      set \u003d new HashSet\u003cRMContainer\u003e();\n+      set \u003d new HashSet\u003c\u003e();\n       preemptMap.put(appAttemptId, set);\n     }\n     set.add(containerToPreempt);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e set;\n    if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n      set \u003d new HashSet\u003c\u003e();\n      preemptMap.put(appAttemptId, set);\n    }\n    set.add(containerToPreempt);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java",
      "extendedDetails": {}
    },
    "fa7a43529d529f0006c8033c2003f15b9b93f103": {
      "type": "Ybodychange",
      "commitMessage": "Revert \"CapacityScheduler: Improve preemption to only kill containers that would satisfy the incoming request. (Wangda Tan)\"\n\nThis reverts commit 7e8c9beb4156dcaeb3a11e60aaa06d2370626913.\n",
      "commitDate": "16/03/16 5:02 PM",
      "commitName": "fa7a43529d529f0006c8033c2003f15b9b93f103",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "16/03/16 4:59 PM",
      "commitNameOld": "7e8c9beb4156dcaeb3a11e60aaa06d2370626913",
      "commitAuthorOld": "Wangda Tan",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   private void addToPreemptMap(\n       Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n       ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n     Set\u003cRMContainer\u003e set;\n     if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n-      set \u003d new HashSet\u003c\u003e();\n+      set \u003d new HashSet\u003cRMContainer\u003e();\n       preemptMap.put(appAttemptId, set);\n     }\n     set.add(containerToPreempt);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e set;\n    if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n      set \u003d new HashSet\u003cRMContainer\u003e();\n      preemptMap.put(appAttemptId, set);\n    }\n    set.add(containerToPreempt);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java",
      "extendedDetails": {}
    },
    "7e8c9beb4156dcaeb3a11e60aaa06d2370626913": {
      "type": "Ybodychange",
      "commitMessage": "CapacityScheduler: Improve preemption to only kill containers that would satisfy the incoming request. (Wangda Tan)\n",
      "commitDate": "16/03/16 4:59 PM",
      "commitName": "7e8c9beb4156dcaeb3a11e60aaa06d2370626913",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "18/01/16 5:30 PM",
      "commitNameOld": "a44ce3f14fd940601f984fbf7980aa6fdc8f23b7",
      "commitAuthorOld": "Wangda Tan",
      "daysBetweenCommits": 57.94,
      "commitsBetweenForRepo": 394,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   private void addToPreemptMap(\n       Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n       ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n     Set\u003cRMContainer\u003e set;\n     if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n-      set \u003d new HashSet\u003cRMContainer\u003e();\n+      set \u003d new HashSet\u003c\u003e();\n       preemptMap.put(appAttemptId, set);\n     }\n     set.add(containerToPreempt);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e set;\n    if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n      set \u003d new HashSet\u003c\u003e();\n      preemptMap.put(appAttemptId, set);\n    }\n    set.add(containerToPreempt);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java",
      "extendedDetails": {}
    },
    "d497f6ea2be559aa31ed76f37ae949dbfabe2a51": {
      "type": "Yintroduced",
      "commitMessage": "YARN-2498. Respect labels in preemption policy of capacity scheduler for inter-queue preemption. Contributed by Wangda Tan\n",
      "commitDate": "24/04/15 5:03 PM",
      "commitName": "d497f6ea2be559aa31ed76f37ae949dbfabe2a51",
      "commitAuthor": "Jian He",
      "diff": "@@ -0,0 +1,10 @@\n+  private void addToPreemptMap(\n+      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n+      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n+    Set\u003cRMContainer\u003e set;\n+    if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n+      set \u003d new HashSet\u003cRMContainer\u003e();\n+      preemptMap.put(appAttemptId, set);\n+    }\n+    set.add(containerToPreempt);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void addToPreemptMap(\n      Map\u003cApplicationAttemptId, Set\u003cRMContainer\u003e\u003e preemptMap,\n      ApplicationAttemptId appAttemptId, RMContainer containerToPreempt) {\n    Set\u003cRMContainer\u003e set;\n    if (null \u003d\u003d (set \u003d preemptMap.get(appAttemptId))) {\n      set \u003d new HashSet\u003cRMContainer\u003e();\n      preemptMap.put(appAttemptId, set);\n    }\n    set.add(containerToPreempt);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/monitor/capacity/ProportionalCapacityPreemptionPolicy.java"
    }
  }
}