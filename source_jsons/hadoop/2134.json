{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "DFSClient.java",
  "functionName": "close",
  "functionId": "close",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
  "functionStartLine": 648,
  "functionEndLine": 661,
  "numCommitsSeen": 340,
  "timeTaken": 12885,
  "changeHistory": [
    "97b797c314fcc6fe389a7e5635a19b4fc0895d6b",
    "b3119b9ab60a19d624db476c4e1c53410870c7a6",
    "738d1a206aba05f0b4be7d633b17db7fcd1c74bc",
    "bf37d3d80e5179dea27e5bd5aea804a38aa9934c",
    "02340a24f211212b91dc7380c1e5b54ddb5e82eb",
    "2a51494ce1b05fc494fb3a818a7a3526f3f40070",
    "beb0d25d2a7ba5004c6aabd105546ba9a9fec9be",
    "67f86baab0c8a95d6ae5d1f431fa06764e46c79d",
    "a7bcdcc0518595b7d94383606ab8e9aa711292b0",
    "0a6806ce8c946b26eceac7d16b467c54c453df84",
    "25882b199b586633cca5c092b9fd8b015cb59476",
    "e4db38bdbe25752ebf7040f4ac99c91dc08ea71f",
    "a89d4609b200ec18c9d79811626e798a4e16c646",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "d86f3183d93714ba078416af4f609d26376eadb0",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc"
  ],
  "changeHistoryShort": {
    "97b797c314fcc6fe389a7e5635a19b4fc0895d6b": "Ybodychange",
    "b3119b9ab60a19d624db476c4e1c53410870c7a6": "Ybodychange",
    "738d1a206aba05f0b4be7d633b17db7fcd1c74bc": "Ybodychange",
    "bf37d3d80e5179dea27e5bd5aea804a38aa9934c": "Yfilerename",
    "02340a24f211212b91dc7380c1e5b54ddb5e82eb": "Ybodychange",
    "2a51494ce1b05fc494fb3a818a7a3526f3f40070": "Ybodychange",
    "beb0d25d2a7ba5004c6aabd105546ba9a9fec9be": "Ybodychange",
    "67f86baab0c8a95d6ae5d1f431fa06764e46c79d": "Ybodychange",
    "a7bcdcc0518595b7d94383606ab8e9aa711292b0": "Ybodychange",
    "0a6806ce8c946b26eceac7d16b467c54c453df84": "Ybodychange",
    "25882b199b586633cca5c092b9fd8b015cb59476": "Ybodychange",
    "e4db38bdbe25752ebf7040f4ac99c91dc08ea71f": "Ybodychange",
    "a89d4609b200ec18c9d79811626e798a4e16c646": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "d86f3183d93714ba078416af4f609d26376eadb0": "Yfilerename",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yintroduced"
  },
  "changeHistoryDetails": {
    "97b797c314fcc6fe389a7e5635a19b4fc0895d6b": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-15149. TestDeadNodeDetection test cases time-out. Contributed by Lisheng Sun.\n",
      "commitDate": "28/02/20 6:47 PM",
      "commitName": "97b797c314fcc6fe389a7e5635a19b4fc0895d6b",
      "commitAuthor": "Inigo Goiri",
      "commitDateOld": "11/02/20 10:40 AM",
      "commitNameOld": "9b8a78d97bfd825ce840c6033371c7f10e49a5b8",
      "commitAuthorOld": "Kihwal Lee",
      "daysBetweenCommits": 17.34,
      "commitsBetweenForRepo": 69,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,14 @@\n   public synchronized void close() throws IOException {\n     if(clientRunning) {\n       // lease renewal stops when all files are closed\n       closeAllFilesBeingWritten(false);\n       clientRunning \u003d false;\n       // close dead node detector thread\n-      clientContext.stopDeadNodeDetectorThread();\n+      if (!disabledStopDeadNodeDetectorThreadForTest) {\n+        clientContext.stopDeadNodeDetectorThread();\n+      }\n+\n       // close connections to the namenode\n       closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      // lease renewal stops when all files are closed\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      // close dead node detector thread\n      if (!disabledStopDeadNodeDetectorThreadForTest) {\n        clientContext.stopDeadNodeDetectorThread();\n      }\n\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "b3119b9ab60a19d624db476c4e1c53410870c7a6": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-14648. Implement DeadNodeDetector basic model. Contributed by Lisheng Sun.\n",
      "commitDate": "15/11/19 7:32 PM",
      "commitName": "b3119b9ab60a19d624db476c4e1c53410870c7a6",
      "commitAuthor": "Yiqun Lin",
      "commitDateOld": "14/02/19 8:43 AM",
      "commitNameOld": "0d7a5ac5f526801367a9ec963e6d72783b637d55",
      "commitAuthorOld": "Surendra Singh Lilhore",
      "daysBetweenCommits": 274.45,
      "commitsBetweenForRepo": 2023,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,11 @@\n   public synchronized void close() throws IOException {\n     if(clientRunning) {\n       // lease renewal stops when all files are closed\n       closeAllFilesBeingWritten(false);\n       clientRunning \u003d false;\n+      // close dead node detector thread\n+      clientContext.stopDeadNodeDetectorThread();\n       // close connections to the namenode\n       closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      // lease renewal stops when all files are closed\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      // close dead node detector thread\n      clientContext.stopDeadNodeDetectorThread();\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "738d1a206aba05f0b4be7d633b17db7fcd1c74bc": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-12754. Lease renewal can hit a deadlock. Contributed by Kuhu Shukla.\n",
      "commitDate": "22/11/17 11:01 AM",
      "commitName": "738d1a206aba05f0b4be7d633b17db7fcd1c74bc",
      "commitAuthor": "Kihwal Lee",
      "commitDateOld": "02/11/17 9:27 PM",
      "commitNameOld": "e565b5277d5b890dad107fe85e295a3907e4bfc1",
      "commitAuthorOld": "Xiao Chen",
      "daysBetweenCommits": 19.61,
      "commitsBetweenForRepo": 204,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   public synchronized void close() throws IOException {\n     if(clientRunning) {\n+      // lease renewal stops when all files are closed\n       closeAllFilesBeingWritten(false);\n       clientRunning \u003d false;\n-      getLeaseRenewer().closeClient(this);\n       // close connections to the namenode\n       closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      // lease renewal stops when all files are closed\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "bf37d3d80e5179dea27e5bd5aea804a38aa9934c": {
      "type": "Yfilerename",
      "commitMessage": "HDFS-8053. Move DFSIn/OutputStream and related classes to hadoop-hdfs-client. Contributed by Mingliang Liu.\n",
      "commitDate": "26/09/15 11:08 AM",
      "commitName": "bf37d3d80e5179dea27e5bd5aea804a38aa9934c",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "26/09/15 9:06 AM",
      "commitNameOld": "861b52db242f238d7e36ad75c158025be959a696",
      "commitAuthorOld": "Vinayakumar B",
      "daysBetweenCommits": 0.08,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      getLeaseRenewer().closeClient(this);\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {
        "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
        "newPath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/DFSClient.java"
      }
    },
    "02340a24f211212b91dc7380c1e5b54ddb5e82eb": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7718. Store KeyProvider in ClientContext to avoid leaking key provider threads when using FileContext (Arun Suresh via Colin P. McCabe)\n",
      "commitDate": "09/02/15 8:23 PM",
      "commitName": "02340a24f211212b91dc7380c1e5b54ddb5e82eb",
      "commitAuthor": "Colin Patrick Mccabe",
      "commitDateOld": "06/02/15 5:01 PM",
      "commitNameOld": "8de80ff71234f8fb005f297f1ce6d4755633d5e4",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 3.14,
      "commitsBetweenForRepo": 22,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,9 @@\n   public synchronized void close() throws IOException {\n-    try {\n-      if(clientRunning) {\n-        closeAllFilesBeingWritten(false);\n-        clientRunning \u003d false;\n-        getLeaseRenewer().closeClient(this);\n-        // close connections to the namenode\n-        closeConnectionToNamenode();\n-      }\n-    } finally {\n-      if (provider !\u003d null) {\n-        provider.close();\n-      }\n+    if(clientRunning) {\n+      closeAllFilesBeingWritten(false);\n+      clientRunning \u003d false;\n+      getLeaseRenewer().closeClient(this);\n+      // close connections to the namenode\n+      closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      getLeaseRenewer().closeClient(this);\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "2a51494ce1b05fc494fb3a818a7a3526f3f40070": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-11161. Expose close method in KeyProvider to give clients of Provider implementations a hook to release resources. Contribued by Arun Suresh.\n",
      "commitDate": "08/10/14 6:01 PM",
      "commitName": "2a51494ce1b05fc494fb3a818a7a3526f3f40070",
      "commitAuthor": "Aaron T. Myers",
      "commitDateOld": "08/10/14 1:05 PM",
      "commitNameOld": "853cb704edf54207313c0e70c9c375212d288b60",
      "commitAuthorOld": "Kihwal Lee",
      "daysBetweenCommits": 0.21,
      "commitsBetweenForRepo": 6,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,15 @@\n   public synchronized void close() throws IOException {\n-    if(clientRunning) {\n-      closeAllFilesBeingWritten(false);\n-      clientRunning \u003d false;\n-      getLeaseRenewer().closeClient(this);\n-      // close connections to the namenode\n-      closeConnectionToNamenode();\n+    try {\n+      if(clientRunning) {\n+        closeAllFilesBeingWritten(false);\n+        clientRunning \u003d false;\n+        getLeaseRenewer().closeClient(this);\n+        // close connections to the namenode\n+        closeConnectionToNamenode();\n+      }\n+    } finally {\n+      if (provider !\u003d null) {\n+        provider.close();\n+      }\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    try {\n      if(clientRunning) {\n        closeAllFilesBeingWritten(false);\n        clientRunning \u003d false;\n        getLeaseRenewer().closeClient(this);\n        // close connections to the namenode\n        closeConnectionToNamenode();\n      }\n    } finally {\n      if (provider !\u003d null) {\n        provider.close();\n      }\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "beb0d25d2a7ba5004c6aabd105546ba9a9fec9be": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-5810. Unify mmap cache and short-circuit file descriptor cache (cmccabe)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1567720 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/02/14 11:08 AM",
      "commitName": "beb0d25d2a7ba5004c6aabd105546ba9a9fec9be",
      "commitAuthor": "Colin McCabe",
      "commitDateOld": "04/02/14 8:18 PM",
      "commitNameOld": "0aa09f6d5a97f523e9ee6f30bb44f206433ead0a",
      "commitAuthorOld": "Todd Lipcon",
      "daysBetweenCommits": 7.62,
      "commitsBetweenForRepo": 58,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,9 @@\n   public synchronized void close() throws IOException {\n-    if (mmapManager !\u003d null) {\n-      MMAP_MANAGER_FACTORY.unref(mmapManager);\n-      mmapManager \u003d null;\n-    }\n     if(clientRunning) {\n       closeAllFilesBeingWritten(false);\n       clientRunning \u003d false;\n       getLeaseRenewer().closeClient(this);\n       // close connections to the namenode\n       closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      getLeaseRenewer().closeClient(this);\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "67f86baab0c8a95d6ae5d1f431fa06764e46c79d": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4953. Enable HDFS local reads via mmap. Contributed by Colin Patrick McCabe.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1515906 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "20/08/13 11:07 AM",
      "commitName": "67f86baab0c8a95d6ae5d1f431fa06764e46c79d",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "30/07/13 12:51 AM",
      "commitNameOld": "8c7a7e619699386f9e6991842558d78aa0c8053d",
      "commitAuthorOld": "Suresh Srinivas",
      "daysBetweenCommits": 21.43,
      "commitsBetweenForRepo": 94,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,13 @@\n   public synchronized void close() throws IOException {\n+    if (mmapManager !\u003d null) {\n+      MMAP_MANAGER_FACTORY.unref(mmapManager);\n+      mmapManager \u003d null;\n+    }\n     if(clientRunning) {\n       closeAllFilesBeingWritten(false);\n       clientRunning \u003d false;\n       getLeaseRenewer().closeClient(this);\n       // close connections to the namenode\n       closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if (mmapManager !\u003d null) {\n      MMAP_MANAGER_FACTORY.unref(mmapManager);\n      mmapManager \u003d null;\n    }\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      getLeaseRenewer().closeClient(this);\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "a7bcdcc0518595b7d94383606ab8e9aa711292b0": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-3373. Change DFSClient input stream socket cache to global static and add a thread to cleanup expired cache entries.  Contributed by John George\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1390466 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "26/09/12 6:23 AM",
      "commitName": "a7bcdcc0518595b7d94383606ab8e9aa711292b0",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "23/09/12 3:50 AM",
      "commitNameOld": "9c9b3f09ed65520acb6352f018fd739266a0eb29",
      "commitAuthorOld": "Harsh J",
      "daysBetweenCommits": 3.11,
      "commitsBetweenForRepo": 21,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,9 @@\n   public synchronized void close() throws IOException {\n     if(clientRunning) {\n       closeAllFilesBeingWritten(false);\n-      socketCache.clear();\n       clientRunning \u003d false;\n       getLeaseRenewer().closeClient(this);\n       // close connections to the namenode\n       closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      getLeaseRenewer().closeClient(this);\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "0a6806ce8c946b26eceac7d16b467c54c453df84": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-3646. LeaseRenewer can hold reference to inactive DFSClient instances forever (Kihwal Lee via daryn)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1363170 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/07/12 4:21 PM",
      "commitName": "0a6806ce8c946b26eceac7d16b467c54c453df84",
      "commitAuthor": "Daryn Sharp",
      "commitDateOld": "15/07/12 7:58 PM",
      "commitNameOld": "0e8e499ff482c165d21c8e4f5ff9c33f306ca0d9",
      "commitAuthorOld": "Harsh J",
      "daysBetweenCommits": 2.85,
      "commitsBetweenForRepo": 27,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n   public synchronized void close() throws IOException {\n     if(clientRunning) {\n       closeAllFilesBeingWritten(false);\n       socketCache.clear();\n       clientRunning \u003d false;\n-      leaserenewer.closeClient(this);\n+      getLeaseRenewer().closeClient(this);\n       // close connections to the namenode\n       closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      socketCache.clear();\n      clientRunning \u003d false;\n      getLeaseRenewer().closeClient(this);\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "25882b199b586633cca5c092b9fd8b015cb59476": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-3359. DFSClient.close should close cached sockets. Contributed by Todd Lipcon.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1333624 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/05/12 2:13 PM",
      "commitName": "25882b199b586633cca5c092b9fd8b015cb59476",
      "commitAuthor": "Todd Lipcon",
      "commitDateOld": "25/04/12 1:17 PM",
      "commitNameOld": "3b773da0361bdec594acd6814c49b81f867bd673",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 8.04,
      "commitsBetweenForRepo": 53,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,10 @@\n   public synchronized void close() throws IOException {\n     if(clientRunning) {\n       closeAllFilesBeingWritten(false);\n+      socketCache.clear();\n       clientRunning \u003d false;\n       leaserenewer.closeClient(this);\n       // close connections to the namenode\n       closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      socketCache.clear();\n      clientRunning \u003d false;\n      leaserenewer.closeClient(this);\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "e4db38bdbe25752ebf7040f4ac99c91dc08ea71f": {
      "type": "Ybodychange",
      "commitMessage": "\tHDFS-2181 Separate HDFS Client wire protocol data types (sanjay)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1179877 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/10/11 2:58 PM",
      "commitName": "e4db38bdbe25752ebf7040f4ac99c91dc08ea71f",
      "commitAuthor": "Sanjay Radia",
      "commitDateOld": "30/09/11 11:01 AM",
      "commitNameOld": "f48280ac56108ccb1c2903012542e2ae982647da",
      "commitAuthorOld": "Doug Cutting",
      "daysBetweenCommits": 6.16,
      "commitsBetweenForRepo": 43,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   public synchronized void close() throws IOException {\n     if(clientRunning) {\n       closeAllFilesBeingWritten(false);\n       clientRunning \u003d false;\n       leaserenewer.closeClient(this);\n       // close connections to the namenode\n-      RPC.stopProxy(namenode);\n+      closeConnectionToNamenode();\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      leaserenewer.closeClient(this);\n      // close connections to the namenode\n      closeConnectionToNamenode();\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "a89d4609b200ec18c9d79811626e798a4e16c646": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-2337. DFSClient shouldn\u0027t keep multiple RPC proxy references (atm)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1171711 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/09/11 11:38 AM",
      "commitName": "a89d4609b200ec18c9d79811626e798a4e16c646",
      "commitAuthor": "Aaron Myers",
      "commitDateOld": "15/09/11 8:28 AM",
      "commitNameOld": "376a1a251123699806a3114511bdcc3d9f7bc6f4",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 1.13,
      "commitsBetweenForRepo": 8,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   public synchronized void close() throws IOException {\n     if(clientRunning) {\n       closeAllFilesBeingWritten(false);\n       clientRunning \u003d false;\n       leaserenewer.closeClient(this);\n       // close connections to the namenode\n-      RPC.stopProxy(rpcNamenode);\n+      RPC.stopProxy(namenode);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      leaserenewer.closeClient(this);\n      // close connections to the namenode\n      RPC.stopProxy(namenode);\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      leaserenewer.closeClient(this);\n      // close connections to the namenode\n      RPC.stopProxy(rpcNamenode);\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {
        "oldPath": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
        "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java"
      }
    },
    "d86f3183d93714ba078416af4f609d26376eadb0": {
      "type": "Yfilerename",
      "commitMessage": "HDFS-2096. Mavenization of hadoop-hdfs. Contributed by Alejandro Abdelnur.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159702 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "19/08/11 10:36 AM",
      "commitName": "d86f3183d93714ba078416af4f609d26376eadb0",
      "commitAuthor": "Thomas White",
      "commitDateOld": "19/08/11 10:26 AM",
      "commitNameOld": "6ee5a73e0e91a2ef27753a32c576835e951d8119",
      "commitAuthorOld": "Thomas White",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      leaserenewer.closeClient(this);\n      // close connections to the namenode\n      RPC.stopProxy(rpcNamenode);\n    }\n  }",
      "path": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java",
      "extendedDetails": {
        "oldPath": "hdfs/src/java/org/apache/hadoop/hdfs/DFSClient.java",
        "newPath": "hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/DFSClient.java"
      }
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "diff": "@@ -0,0 +1,9 @@\n+  public synchronized void close() throws IOException {\n+    if(clientRunning) {\n+      closeAllFilesBeingWritten(false);\n+      clientRunning \u003d false;\n+      leaserenewer.closeClient(this);\n+      // close connections to the namenode\n+      RPC.stopProxy(rpcNamenode);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if(clientRunning) {\n      closeAllFilesBeingWritten(false);\n      clientRunning \u003d false;\n      leaserenewer.closeClient(this);\n      // close connections to the namenode\n      RPC.stopProxy(rpcNamenode);\n    }\n  }",
      "path": "hdfs/src/java/org/apache/hadoop/hdfs/DFSClient.java"
    }
  }
}