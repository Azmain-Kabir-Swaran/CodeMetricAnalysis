{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSDirErasureCodingOp.java",
  "functionName": "removeErasureCodingPolicy",
  "functionId": "removeErasureCodingPolicy___fsn-FSNamesystem(modifiers-final)__ecPolicyName-String__logRetryCache-boolean(modifiers-final)",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
  "functionStartLine": 265,
  "functionEndLine": 270,
  "numCommitsSeen": 71,
  "timeTaken": 3386,
  "changeHistory": [
    "08d996d3e9265efad737efad50cbc5b10a0202f8",
    "f99b6d19de77c6e730fed8444f8848a7e63d6130"
  ],
  "changeHistoryShort": {
    "08d996d3e9265efad737efad50cbc5b10a0202f8": "Ymultichange(Yrename,Yparameterchange,Ybodychange)",
    "f99b6d19de77c6e730fed8444f8848a7e63d6130": "Yintroduced"
  },
  "changeHistoryDetails": {
    "08d996d3e9265efad737efad50cbc5b10a0202f8": {
      "type": "Ymultichange(Yrename,Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-12395. Support erasure coding policy operations in namenode edit log. Contributed by Sammi Chen\n",
      "commitDate": "14/09/17 6:43 PM",
      "commitName": "08d996d3e9265efad737efad50cbc5b10a0202f8",
      "commitAuthor": "Kai Zheng",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "HDFS-12395. Support erasure coding policy operations in namenode edit log. Contributed by Sammi Chen\n",
          "commitDate": "14/09/17 6:43 PM",
          "commitName": "08d996d3e9265efad737efad50cbc5b10a0202f8",
          "commitAuthor": "Kai Zheng",
          "commitDateOld": "13/09/17 6:15 PM",
          "commitNameOld": "e0b3c644e186d89138d4174efe0cbe77a0200315",
          "commitAuthorOld": "ChenSammi",
          "daysBetweenCommits": 1.02,
          "commitsBetweenForRepo": 15,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,6 @@\n-  static void enableErasureCodePolicy(final FSNamesystem fsn,\n-      String ecPolicyName) throws IOException {\n+  static void removeErasureCodingPolicy(final FSNamesystem fsn,\n+      String ecPolicyName, final boolean logRetryCache) throws IOException {\n     Preconditions.checkNotNull(ecPolicyName);\n-    fsn.getErasureCodingPolicyManager().enablePolicy(ecPolicyName);\n+    fsn.getErasureCodingPolicyManager().removePolicy(ecPolicyName);\n+    fsn.getEditLog().logRemoveErasureCodingPolicy(ecPolicyName, logRetryCache);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static void removeErasureCodingPolicy(final FSNamesystem fsn,\n      String ecPolicyName, final boolean logRetryCache) throws IOException {\n    Preconditions.checkNotNull(ecPolicyName);\n    fsn.getErasureCodingPolicyManager().removePolicy(ecPolicyName);\n    fsn.getEditLog().logRemoveErasureCodingPolicy(ecPolicyName, logRetryCache);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
          "extendedDetails": {
            "oldValue": "enableErasureCodePolicy",
            "newValue": "removeErasureCodingPolicy"
          }
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-12395. Support erasure coding policy operations in namenode edit log. Contributed by Sammi Chen\n",
          "commitDate": "14/09/17 6:43 PM",
          "commitName": "08d996d3e9265efad737efad50cbc5b10a0202f8",
          "commitAuthor": "Kai Zheng",
          "commitDateOld": "13/09/17 6:15 PM",
          "commitNameOld": "e0b3c644e186d89138d4174efe0cbe77a0200315",
          "commitAuthorOld": "ChenSammi",
          "daysBetweenCommits": 1.02,
          "commitsBetweenForRepo": 15,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,6 @@\n-  static void enableErasureCodePolicy(final FSNamesystem fsn,\n-      String ecPolicyName) throws IOException {\n+  static void removeErasureCodingPolicy(final FSNamesystem fsn,\n+      String ecPolicyName, final boolean logRetryCache) throws IOException {\n     Preconditions.checkNotNull(ecPolicyName);\n-    fsn.getErasureCodingPolicyManager().enablePolicy(ecPolicyName);\n+    fsn.getErasureCodingPolicyManager().removePolicy(ecPolicyName);\n+    fsn.getEditLog().logRemoveErasureCodingPolicy(ecPolicyName, logRetryCache);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static void removeErasureCodingPolicy(final FSNamesystem fsn,\n      String ecPolicyName, final boolean logRetryCache) throws IOException {\n    Preconditions.checkNotNull(ecPolicyName);\n    fsn.getErasureCodingPolicyManager().removePolicy(ecPolicyName);\n    fsn.getEditLog().logRemoveErasureCodingPolicy(ecPolicyName, logRetryCache);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
          "extendedDetails": {
            "oldValue": "[fsn-FSNamesystem(modifiers-final), ecPolicyName-String]",
            "newValue": "[fsn-FSNamesystem(modifiers-final), ecPolicyName-String, logRetryCache-boolean(modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-12395. Support erasure coding policy operations in namenode edit log. Contributed by Sammi Chen\n",
          "commitDate": "14/09/17 6:43 PM",
          "commitName": "08d996d3e9265efad737efad50cbc5b10a0202f8",
          "commitAuthor": "Kai Zheng",
          "commitDateOld": "13/09/17 6:15 PM",
          "commitNameOld": "e0b3c644e186d89138d4174efe0cbe77a0200315",
          "commitAuthorOld": "ChenSammi",
          "daysBetweenCommits": 1.02,
          "commitsBetweenForRepo": 15,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,6 @@\n-  static void enableErasureCodePolicy(final FSNamesystem fsn,\n-      String ecPolicyName) throws IOException {\n+  static void removeErasureCodingPolicy(final FSNamesystem fsn,\n+      String ecPolicyName, final boolean logRetryCache) throws IOException {\n     Preconditions.checkNotNull(ecPolicyName);\n-    fsn.getErasureCodingPolicyManager().enablePolicy(ecPolicyName);\n+    fsn.getErasureCodingPolicyManager().removePolicy(ecPolicyName);\n+    fsn.getEditLog().logRemoveErasureCodingPolicy(ecPolicyName, logRetryCache);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  static void removeErasureCodingPolicy(final FSNamesystem fsn,\n      String ecPolicyName, final boolean logRetryCache) throws IOException {\n    Preconditions.checkNotNull(ecPolicyName);\n    fsn.getErasureCodingPolicyManager().removePolicy(ecPolicyName);\n    fsn.getEditLog().logRemoveErasureCodingPolicy(ecPolicyName, logRetryCache);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
          "extendedDetails": {}
        }
      ]
    },
    "f99b6d19de77c6e730fed8444f8848a7e63d6130": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-11870. Add CLI cmd to enable/disable an erasure code policy. Contributed by lufei.\n",
      "commitDate": "28/06/17 10:54 AM",
      "commitName": "f99b6d19de77c6e730fed8444f8848a7e63d6130",
      "commitAuthor": "Wei-Chiu Chuang",
      "diff": "@@ -0,0 +1,5 @@\n+  static void enableErasureCodePolicy(final FSNamesystem fsn,\n+      String ecPolicyName) throws IOException {\n+    Preconditions.checkNotNull(ecPolicyName);\n+    fsn.getErasureCodingPolicyManager().enablePolicy(ecPolicyName);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  static void enableErasureCodePolicy(final FSNamesystem fsn,\n      String ecPolicyName) throws IOException {\n    Preconditions.checkNotNull(ecPolicyName);\n    fsn.getErasureCodingPolicyManager().enablePolicy(ecPolicyName);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java"
    }
  }
}