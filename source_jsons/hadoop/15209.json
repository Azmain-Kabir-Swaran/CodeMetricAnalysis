{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "DFSAdmin.java",
  "functionName": "run",
  "functionId": "run___dfs-DistributedFileSystem__argv-String[]__idx-int",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DFSAdmin.java",
  "functionStartLine": 404,
  "functionEndLine": 427,
  "numCommitsSeen": 114,
  "timeTaken": 3462,
  "changeHistory": [
    "bffaa38a91b26920206a3350bf1cd60ec950aa74",
    "3dfd6e68fe5028fe3766ae5056dc175c38cc97e1"
  ],
  "changeHistoryShort": {
    "bffaa38a91b26920206a3350bf1cd60ec950aa74": "Ybodychange",
    "3dfd6e68fe5028fe3766ae5056dc175c38cc97e1": "Ybodychange"
  },
  "changeHistoryDetails": {
    "bffaa38a91b26920206a3350bf1cd60ec950aa74": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9777. Fix typos in DFSAdmin command line and documentation.(Wei-Chiu Chuang via umamahesh)\n",
      "commitDate": "08/02/16 1:47 PM",
      "commitName": "bffaa38a91b26920206a3350bf1cd60ec950aa74",
      "commitAuthor": "Uma Maheswara Rao G",
      "commitDateOld": "25/01/16 12:17 PM",
      "commitNameOld": "d62b4a4de75edb840df6634f49cb4beb74e3fb07",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 14.06,
      "commitsBetweenForRepo": 98,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,24 @@\n     static int run(DistributedFileSystem dfs, String[] argv, int idx) throws IOException {\n       final RollingUpgradeAction action \u003d RollingUpgradeAction.fromString(\n           argv.length \u003e\u003d 2? argv[1]: \"\");\n       if (action \u003d\u003d null) {\n-        throw new IllegalArgumentException(\"Failed to covert \\\"\" + argv[1]\n+        throw new IllegalArgumentException(\"Failed to convert \\\"\" + argv[1]\n             +\"\\\" to \" + RollingUpgradeAction.class.getSimpleName());\n       }\n \n       System.out.println(action + \" rolling upgrade ...\");\n \n       final RollingUpgradeInfo info \u003d dfs.rollingUpgrade(action);\n       switch(action){\n       case QUERY:\n         break;\n       case PREPARE:\n         Preconditions.checkState(info.isStarted());\n         break;\n       case FINALIZE:\n         Preconditions.checkState(info \u003d\u003d null || info.isFinalized());\n         break;\n       }\n       printMessage(info, System.out);\n       return 0;\n     }\n\\ No newline at end of file\n",
      "actualSource": "    static int run(DistributedFileSystem dfs, String[] argv, int idx) throws IOException {\n      final RollingUpgradeAction action \u003d RollingUpgradeAction.fromString(\n          argv.length \u003e\u003d 2? argv[1]: \"\");\n      if (action \u003d\u003d null) {\n        throw new IllegalArgumentException(\"Failed to convert \\\"\" + argv[1]\n            +\"\\\" to \" + RollingUpgradeAction.class.getSimpleName());\n      }\n\n      System.out.println(action + \" rolling upgrade ...\");\n\n      final RollingUpgradeInfo info \u003d dfs.rollingUpgrade(action);\n      switch(action){\n      case QUERY:\n        break;\n      case PREPARE:\n        Preconditions.checkState(info.isStarted());\n        break;\n      case FINALIZE:\n        Preconditions.checkState(info \u003d\u003d null || info.isFinalized());\n        break;\n      }\n      printMessage(info, System.out);\n      return 0;\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DFSAdmin.java",
      "extendedDetails": {}
    },
    "3dfd6e68fe5028fe3766ae5056dc175c38cc97e1": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7340. Make rollingUpgrade start/finalize idempotent. Contributed by Jing Zhao.\n",
      "commitDate": "04/11/14 10:16 AM",
      "commitName": "3dfd6e68fe5028fe3766ae5056dc175c38cc97e1",
      "commitAuthor": "Jing Zhao",
      "commitDateOld": "27/10/14 9:53 AM",
      "commitNameOld": "baf794dc404ac54f4e8332654eadfac1bebacb8f",
      "commitAuthorOld": "Colin Patrick Mccabe",
      "daysBetweenCommits": 8.06,
      "commitsBetweenForRepo": 87,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,24 @@\n     static int run(DistributedFileSystem dfs, String[] argv, int idx) throws IOException {\n       final RollingUpgradeAction action \u003d RollingUpgradeAction.fromString(\n           argv.length \u003e\u003d 2? argv[1]: \"\");\n       if (action \u003d\u003d null) {\n         throw new IllegalArgumentException(\"Failed to covert \\\"\" + argv[1]\n             +\"\\\" to \" + RollingUpgradeAction.class.getSimpleName());\n       }\n \n       System.out.println(action + \" rolling upgrade ...\");\n \n       final RollingUpgradeInfo info \u003d dfs.rollingUpgrade(action);\n       switch(action){\n       case QUERY:\n         break;\n       case PREPARE:\n         Preconditions.checkState(info.isStarted());\n         break;\n       case FINALIZE:\n-        Preconditions.checkState(info.isFinalized());\n+        Preconditions.checkState(info \u003d\u003d null || info.isFinalized());\n         break;\n       }\n       printMessage(info, System.out);\n       return 0;\n     }\n\\ No newline at end of file\n",
      "actualSource": "    static int run(DistributedFileSystem dfs, String[] argv, int idx) throws IOException {\n      final RollingUpgradeAction action \u003d RollingUpgradeAction.fromString(\n          argv.length \u003e\u003d 2? argv[1]: \"\");\n      if (action \u003d\u003d null) {\n        throw new IllegalArgumentException(\"Failed to covert \\\"\" + argv[1]\n            +\"\\\" to \" + RollingUpgradeAction.class.getSimpleName());\n      }\n\n      System.out.println(action + \" rolling upgrade ...\");\n\n      final RollingUpgradeInfo info \u003d dfs.rollingUpgrade(action);\n      switch(action){\n      case QUERY:\n        break;\n      case PREPARE:\n        Preconditions.checkState(info.isStarted());\n        break;\n      case FINALIZE:\n        Preconditions.checkState(info \u003d\u003d null || info.isFinalized());\n        break;\n      }\n      printMessage(info, System.out);\n      return 0;\n    }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DFSAdmin.java",
      "extendedDetails": {}
    }
  }
}