{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSDirectory.java",
  "functionName": "createRoot",
  "functionId": "createRoot___namesystem-FSNamesystem",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
  "functionStartLine": 111,
  "functionEndLine": 125,
  "numCommitsSeen": 321,
  "timeTaken": 8528,
  "changeHistory": [
    "f2231cebcddc80f0b753c4a7cb45ee4040846951",
    "5dae97a584d30cef3e34141edfaca49c4ec57913",
    "76a621ffd2d66bf012a554f4400091a92a5b473e",
    "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b",
    "0b101bd7e875ee5597ddb8f0d887159076310ffa",
    "980e6c54bab4ffc87e168cd5c217fef44c72a878",
    "0fa9c7a825f444d50c89b986bacea7a547e4ab8b",
    "b9f965de120b5278ac84a7e98aecb32aafde4c16",
    "506938f0b323784f58f1ca398ac2475b473d1670"
  ],
  "changeHistoryShort": {
    "f2231cebcddc80f0b753c4a7cb45ee4040846951": "Ybodychange",
    "5dae97a584d30cef3e34141edfaca49c4ec57913": "Ybodychange",
    "76a621ffd2d66bf012a554f4400091a92a5b473e": "Ymultichange(Yreturntypechange,Ybodychange)",
    "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b": "Ymultichange(Yreturntypechange,Ybodychange)",
    "0b101bd7e875ee5597ddb8f0d887159076310ffa": "Ybodychange",
    "980e6c54bab4ffc87e168cd5c217fef44c72a878": "Ybodychange",
    "0fa9c7a825f444d50c89b986bacea7a547e4ab8b": "Ybodychange",
    "b9f965de120b5278ac84a7e98aecb32aafde4c16": "Ybodychange",
    "506938f0b323784f58f1ca398ac2475b473d1670": "Yintroduced"
  },
  "changeHistoryDetails": {
    "f2231cebcddc80f0b753c4a7cb45ee4040846951": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7775. Use consistent naming for NN-internal quota related types and functions. (Contributed bu Xiaoyu Yao)\n",
      "commitDate": "13/02/15 9:01 PM",
      "commitName": "f2231cebcddc80f0b753c4a7cb45ee4040846951",
      "commitAuthor": "Arpit Agarwal",
      "commitDateOld": "11/02/15 10:41 AM",
      "commitNameOld": "5dae97a584d30cef3e34141edfaca49c4ec57913",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 2.43,
      "commitsBetweenForRepo": 58,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,15 @@\n   private static INodeDirectory createRoot(FSNamesystem namesystem) {\n     final INodeDirectory r \u003d new INodeDirectory(\n         INodeId.ROOT_INODE_ID,\n         INodeDirectory.ROOT_NAME,\n         namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n         0L);\n     r.addDirectoryWithQuotaFeature(\n         new DirectoryWithQuotaFeature.Builder().\n             nameSpaceQuota(DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA).\n-            spaceQuota(DirectoryWithQuotaFeature.DEFAULT_SPACE_QUOTA).build());\n+            storageSpaceQuota(DirectoryWithQuotaFeature.DEFAULT_STORAGE_SPACE_QUOTA).\n+            build());\n     r.addSnapshottableFeature();\n     r.setSnapshotQuota(0);\n     return r;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static INodeDirectory createRoot(FSNamesystem namesystem) {\n    final INodeDirectory r \u003d new INodeDirectory(\n        INodeId.ROOT_INODE_ID,\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n        0L);\n    r.addDirectoryWithQuotaFeature(\n        new DirectoryWithQuotaFeature.Builder().\n            nameSpaceQuota(DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA).\n            storageSpaceQuota(DirectoryWithQuotaFeature.DEFAULT_STORAGE_SPACE_QUOTA).\n            build());\n    r.addSnapshottableFeature();\n    r.setSnapshotQuota(0);\n    return r;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
      "extendedDetails": {}
    },
    "5dae97a584d30cef3e34141edfaca49c4ec57913": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7723. Quota By Storage Type namenode implemenation. (Contributed by Xiaoyu Yao)\n",
      "commitDate": "11/02/15 10:41 AM",
      "commitName": "5dae97a584d30cef3e34141edfaca49c4ec57913",
      "commitAuthor": "Arpit Agarwal",
      "commitDateOld": "08/02/15 11:51 AM",
      "commitNameOld": "1382ae525c67bf95d8f3a436b547dbc72cfbb177",
      "commitAuthorOld": "Jing Zhao",
      "daysBetweenCommits": 2.95,
      "commitsBetweenForRepo": 40,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,14 @@\n   private static INodeDirectory createRoot(FSNamesystem namesystem) {\n     final INodeDirectory r \u003d new INodeDirectory(\n         INodeId.ROOT_INODE_ID,\n         INodeDirectory.ROOT_NAME,\n         namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n         0L);\n     r.addDirectoryWithQuotaFeature(\n-        DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA,\n-        DirectoryWithQuotaFeature.DEFAULT_DISKSPACE_QUOTA);\n+        new DirectoryWithQuotaFeature.Builder().\n+            nameSpaceQuota(DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA).\n+            spaceQuota(DirectoryWithQuotaFeature.DEFAULT_SPACE_QUOTA).build());\n     r.addSnapshottableFeature();\n     r.setSnapshotQuota(0);\n     return r;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static INodeDirectory createRoot(FSNamesystem namesystem) {\n    final INodeDirectory r \u003d new INodeDirectory(\n        INodeId.ROOT_INODE_ID,\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n        0L);\n    r.addDirectoryWithQuotaFeature(\n        new DirectoryWithQuotaFeature.Builder().\n            nameSpaceQuota(DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA).\n            spaceQuota(DirectoryWithQuotaFeature.DEFAULT_SPACE_QUOTA).build());\n    r.addSnapshottableFeature();\n    r.setSnapshotQuota(0);\n    return r;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
      "extendedDetails": {}
    },
    "76a621ffd2d66bf012a554f4400091a92a5b473e": {
      "type": "Ymultichange(Yreturntypechange,Ybodychange)",
      "commitMessage": "HDFS-6609. Use DirectorySnapshottableFeature to represent a snapshottable directory. Contributed by Jing Zhao.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1608631 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/07/14 5:08 PM",
      "commitName": "76a621ffd2d66bf012a554f4400091a92a5b473e",
      "commitAuthor": "Haohui Mai",
      "subchanges": [
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-6609. Use DirectorySnapshottableFeature to represent a snapshottable directory. Contributed by Jing Zhao.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1608631 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "07/07/14 5:08 PM",
          "commitName": "76a621ffd2d66bf012a554f4400091a92a5b473e",
          "commitAuthor": "Haohui Mai",
          "commitDateOld": "23/06/14 11:56 PM",
          "commitNameOld": "08986fdbed5a15bcdc57d142922911759b97e9d1",
          "commitAuthorOld": "Haohui Mai",
          "daysBetweenCommits": 13.72,
          "commitsBetweenForRepo": 88,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,13 @@\n-  private static INodeDirectorySnapshottable createRoot(FSNamesystem namesystem) {\n+  private static INodeDirectory createRoot(FSNamesystem namesystem) {\n     final INodeDirectory r \u003d new INodeDirectory(\n         INodeId.ROOT_INODE_ID,\n         INodeDirectory.ROOT_NAME,\n         namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n         0L);\n     r.addDirectoryWithQuotaFeature(\n         DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA,\n         DirectoryWithQuotaFeature.DEFAULT_DISKSPACE_QUOTA);\n-    final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n-    s.setSnapshotQuota(0);\n-    return s;\n+    r.addSnapshottableFeature();\n+    r.setSnapshotQuota(0);\n+    return r;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private static INodeDirectory createRoot(FSNamesystem namesystem) {\n    final INodeDirectory r \u003d new INodeDirectory(\n        INodeId.ROOT_INODE_ID,\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n        0L);\n    r.addDirectoryWithQuotaFeature(\n        DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA,\n        DirectoryWithQuotaFeature.DEFAULT_DISKSPACE_QUOTA);\n    r.addSnapshottableFeature();\n    r.setSnapshotQuota(0);\n    return r;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
          "extendedDetails": {
            "oldValue": "INodeDirectorySnapshottable",
            "newValue": "INodeDirectory"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-6609. Use DirectorySnapshottableFeature to represent a snapshottable directory. Contributed by Jing Zhao.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1608631 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "07/07/14 5:08 PM",
          "commitName": "76a621ffd2d66bf012a554f4400091a92a5b473e",
          "commitAuthor": "Haohui Mai",
          "commitDateOld": "23/06/14 11:56 PM",
          "commitNameOld": "08986fdbed5a15bcdc57d142922911759b97e9d1",
          "commitAuthorOld": "Haohui Mai",
          "daysBetweenCommits": 13.72,
          "commitsBetweenForRepo": 88,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,13 @@\n-  private static INodeDirectorySnapshottable createRoot(FSNamesystem namesystem) {\n+  private static INodeDirectory createRoot(FSNamesystem namesystem) {\n     final INodeDirectory r \u003d new INodeDirectory(\n         INodeId.ROOT_INODE_ID,\n         INodeDirectory.ROOT_NAME,\n         namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n         0L);\n     r.addDirectoryWithQuotaFeature(\n         DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA,\n         DirectoryWithQuotaFeature.DEFAULT_DISKSPACE_QUOTA);\n-    final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n-    s.setSnapshotQuota(0);\n-    return s;\n+    r.addSnapshottableFeature();\n+    r.setSnapshotQuota(0);\n+    return r;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private static INodeDirectory createRoot(FSNamesystem namesystem) {\n    final INodeDirectory r \u003d new INodeDirectory(\n        INodeId.ROOT_INODE_ID,\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n        0L);\n    r.addDirectoryWithQuotaFeature(\n        DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA,\n        DirectoryWithQuotaFeature.DEFAULT_DISKSPACE_QUOTA);\n    r.addSnapshottableFeature();\n    r.setSnapshotQuota(0);\n    return r;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
          "extendedDetails": {}
        }
      ]
    },
    "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b": {
      "type": "Ymultichange(Yreturntypechange,Ybodychange)",
      "commitMessage": "HDFS-5286. Flatten INodeDirectory hierarchy: Replace INodeDirectoryWithQuota with DirectoryWithQuotaFeature.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1545768 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "26/11/13 10:33 AM",
      "commitName": "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b",
      "commitAuthor": "Tsz-wo Sze",
      "subchanges": [
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-5286. Flatten INodeDirectory hierarchy: Replace INodeDirectoryWithQuota with DirectoryWithQuotaFeature.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1545768 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "26/11/13 10:33 AM",
          "commitName": "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "21/11/13 5:39 PM",
          "commitNameOld": "ce68f410b05a58ad05965f32ad7f5b246b363a75",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 4.7,
          "commitsBetweenForRepo": 12,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,13 @@\n-  private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n-    final INodeDirectoryWithQuota r \u003d new INodeDirectoryWithQuota(\n+  private static INodeDirectorySnapshottable createRoot(FSNamesystem namesystem) {\n+    final INodeDirectory r \u003d new INodeDirectory(\n         INodeId.ROOT_INODE_ID,\n         INodeDirectory.ROOT_NAME,\n-        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)));\n+        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n+        0L);\n+    r.addDirectoryWithQuotaFeature(\n+        DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA,\n+        DirectoryWithQuotaFeature.DEFAULT_DISKSPACE_QUOTA);\n     final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n     s.setSnapshotQuota(0);\n     return s;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private static INodeDirectorySnapshottable createRoot(FSNamesystem namesystem) {\n    final INodeDirectory r \u003d new INodeDirectory(\n        INodeId.ROOT_INODE_ID,\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n        0L);\n    r.addDirectoryWithQuotaFeature(\n        DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA,\n        DirectoryWithQuotaFeature.DEFAULT_DISKSPACE_QUOTA);\n    final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n    s.setSnapshotQuota(0);\n    return s;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
          "extendedDetails": {
            "oldValue": "INodeDirectoryWithQuota",
            "newValue": "INodeDirectorySnapshottable"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-5286. Flatten INodeDirectory hierarchy: Replace INodeDirectoryWithQuota with DirectoryWithQuotaFeature.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1545768 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "26/11/13 10:33 AM",
          "commitName": "82ff2d3f2e569879500d851f4d67dfa2d02b5c9b",
          "commitAuthor": "Tsz-wo Sze",
          "commitDateOld": "21/11/13 5:39 PM",
          "commitNameOld": "ce68f410b05a58ad05965f32ad7f5b246b363a75",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 4.7,
          "commitsBetweenForRepo": 12,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,13 @@\n-  private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n-    final INodeDirectoryWithQuota r \u003d new INodeDirectoryWithQuota(\n+  private static INodeDirectorySnapshottable createRoot(FSNamesystem namesystem) {\n+    final INodeDirectory r \u003d new INodeDirectory(\n         INodeId.ROOT_INODE_ID,\n         INodeDirectory.ROOT_NAME,\n-        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)));\n+        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n+        0L);\n+    r.addDirectoryWithQuotaFeature(\n+        DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA,\n+        DirectoryWithQuotaFeature.DEFAULT_DISKSPACE_QUOTA);\n     final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n     s.setSnapshotQuota(0);\n     return s;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private static INodeDirectorySnapshottable createRoot(FSNamesystem namesystem) {\n    final INodeDirectory r \u003d new INodeDirectory(\n        INodeId.ROOT_INODE_ID,\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)),\n        0L);\n    r.addDirectoryWithQuotaFeature(\n        DirectoryWithQuotaFeature.DEFAULT_NAMESPACE_QUOTA,\n        DirectoryWithQuotaFeature.DEFAULT_DISKSPACE_QUOTA);\n    final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n    s.setSnapshotQuota(0);\n    return s;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
          "extendedDetails": {}
        }
      ]
    },
    "0b101bd7e875ee5597ddb8f0d887159076310ffa": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4434. Reverting change r1470089 that merges trunk to HDFS-2802.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1470194 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "20/04/13 9:57 AM",
      "commitName": "0b101bd7e875ee5597ddb8f0d887159076310ffa",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "19/04/13 5:02 PM",
      "commitNameOld": "9af0babe7ef9c4bc956b77aac250f8eee6c8450f",
      "commitAuthorOld": "",
      "daysBetweenCommits": 0.7,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n     final INodeDirectoryWithQuota r \u003d new INodeDirectoryWithQuota(\n-        INodeId.ROOT_INODE_ID,\n+        namesystem.allocateNewInodeId(),\n         INodeDirectory.ROOT_NAME,\n         namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)));\n     final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n     s.setSnapshotQuota(0);\n     return s;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n    final INodeDirectoryWithQuota r \u003d new INodeDirectoryWithQuota(\n        namesystem.allocateNewInodeId(),\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)));\n    final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n    s.setSnapshotQuota(0);\n    return s;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
      "extendedDetails": {}
    },
    "980e6c54bab4ffc87e168cd5c217fef44c72a878": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4434. Provide a mapping from INodeId to INode. Contributed by Suresh Srinivas.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1469644 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/04/13 5:10 PM",
      "commitName": "980e6c54bab4ffc87e168cd5c217fef44c72a878",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "12/04/13 6:35 PM",
      "commitNameOld": "242028a3fb887708dea5ef557c0ded22e014ac7d",
      "commitAuthorOld": "Konstantin Shvachko",
      "daysBetweenCommits": 5.94,
      "commitsBetweenForRepo": 22,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,5 @@\n   private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n-    return new INodeDirectoryWithQuota(namesystem.allocateNewInodeId(),\n+    return new INodeDirectoryWithQuota(INodeId.ROOT_INODE_ID,\n         INodeDirectory.ROOT_NAME,\n         namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n    return new INodeDirectoryWithQuota(INodeId.ROOT_INODE_ID,\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)));\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
      "extendedDetails": {}
    },
    "0fa9c7a825f444d50c89b986bacea7a547e4ab8b": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4334. Add a unique id to INode.  Contributed by Brandon Li\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1426429 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "28/12/12 12:26 AM",
      "commitName": "0fa9c7a825f444d50c89b986bacea7a547e4ab8b",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "03/12/12 2:38 PM",
      "commitNameOld": "c0a8957c2bc505789df6be70be8665cdd4e4f649",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 24.41,
      "commitsBetweenForRepo": 87,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,4 +1,5 @@\n   private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n-    return new INodeDirectoryWithQuota(INodeDirectory.ROOT_NAME,\n-        namesystem.createFsOwnerPermissions(new FsPermission((short)0755)));\n+    return new INodeDirectoryWithQuota(namesystem.allocateNewInodeId(),\n+        INodeDirectory.ROOT_NAME,\n+        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n    return new INodeDirectoryWithQuota(namesystem.allocateNewInodeId(),\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short) 0755)));\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
      "extendedDetails": {}
    },
    "b9f965de120b5278ac84a7e98aecb32aafde4c16": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-4103. Support O(1) snapshot creation.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-2802@1424782 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "20/12/12 5:30 PM",
      "commitName": "b9f965de120b5278ac84a7e98aecb32aafde4c16",
      "commitAuthor": "Tsz-wo Sze",
      "commitDateOld": "16/12/12 7:40 PM",
      "commitNameOld": "cbbaa93ae09bf5cf643263faf78f99315c4f3a8d",
      "commitAuthorOld": "Tsz-wo Sze",
      "daysBetweenCommits": 3.91,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,8 @@\n   private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n     final INodeDirectoryWithQuota r \u003d new INodeDirectoryWithQuota(\n         INodeDirectory.ROOT_NAME,\n         namesystem.createFsOwnerPermissions(new FsPermission((short)0755)));\n-    return INodeDirectorySnapshottable.newInstance(r, 0);\n+    final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n+    s.setSnapshotQuota(0);\n+    return s;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n    final INodeDirectoryWithQuota r \u003d new INodeDirectoryWithQuota(\n        INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short)0755)));\n    final INodeDirectorySnapshottable s \u003d new INodeDirectorySnapshottable(r);\n    s.setSnapshotQuota(0);\n    return s;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java",
      "extendedDetails": {}
    },
    "506938f0b323784f58f1ca398ac2475b473d1670": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-4215. Remove locking from addToParent(..) since it is used in image loading, and add INode.isFile().\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1411947 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "20/11/12 4:13 PM",
      "commitName": "506938f0b323784f58f1ca398ac2475b473d1670",
      "commitAuthor": "Tsz-wo Sze",
      "diff": "@@ -0,0 +1,4 @@\n+  private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n+    return new INodeDirectoryWithQuota(INodeDirectory.ROOT_NAME,\n+        namesystem.createFsOwnerPermissions(new FsPermission((short)0755)));\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static INodeDirectoryWithQuota createRoot(FSNamesystem namesystem) {\n    return new INodeDirectoryWithQuota(INodeDirectory.ROOT_NAME,\n        namesystem.createFsOwnerPermissions(new FsPermission((short)0755)));\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirectory.java"
    }
  }
}