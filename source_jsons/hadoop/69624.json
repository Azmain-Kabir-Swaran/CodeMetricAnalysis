{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AzureBlobFileSystem.java",
  "functionName": "close",
  "functionId": "close",
  "sourceFilePath": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystem.java",
  "functionStartLine": 419,
  "functionEndLine": 428,
  "numCommitsSeen": 34,
  "timeTaken": 2017,
  "changeHistory": [
    "65f60e56b082faf92e1cd3daee2569d8fc669c67",
    "ce03a93f78c4d97ccb48a3906fcd77ad0ac756be",
    "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462",
    "f044deedbbfee0812316d587139cb828f27172e9"
  ],
  "changeHistoryShort": {
    "65f60e56b082faf92e1cd3daee2569d8fc669c67": "Ybodychange",
    "ce03a93f78c4d97ccb48a3906fcd77ad0ac756be": "Ybodychange",
    "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462": "Ybodychange",
    "f044deedbbfee0812316d587139cb828f27172e9": "Yintroduced"
  },
  "changeHistoryDetails": {
    "65f60e56b082faf92e1cd3daee2569d8fc669c67": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16068. ABFS Authentication and Delegation Token plugins to optionally be bound to specific URI of the store.\n\nContributed by Steve Loughran.\n",
      "commitDate": "28/02/19 6:22 AM",
      "commitName": "65f60e56b082faf92e1cd3daee2569d8fc669c67",
      "commitAuthor": "Steve Loughran",
      "commitDateOld": "07/02/19 1:58 PM",
      "commitNameOld": "1f1655028eede24197705a594b6ef19e6737db35",
      "commitAuthorOld": "Da Zhou",
      "daysBetweenCommits": 20.68,
      "commitsBetweenForRepo": 183,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,10 @@\n   public synchronized void close() throws IOException {\n     if (isClosed) {\n       return;\n     }\n-\n+    // does all the delete-on-exit calls, and may be slow.\n     super.close();\n     LOG.debug(\"AzureBlobFileSystem.close\");\n+    IOUtils.cleanupWithLogger(LOG, abfsStore, delegationTokenManager);\n     this.isClosed \u003d true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if (isClosed) {\n      return;\n    }\n    // does all the delete-on-exit calls, and may be slow.\n    super.close();\n    LOG.debug(\"AzureBlobFileSystem.close\");\n    IOUtils.cleanupWithLogger(LOG, abfsStore, delegationTokenManager);\n    this.isClosed \u003d true;\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystem.java",
      "extendedDetails": {}
    },
    "ce03a93f78c4d97ccb48a3906fcd77ad0ac756be": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-15446. ABFS: tune imports \u0026 javadocs; stabilise tests.\nContributed by Steve Loughran and Da Zhou.\n",
      "commitDate": "17/09/18 12:54 PM",
      "commitName": "ce03a93f78c4d97ccb48a3906fcd77ad0ac756be",
      "commitAuthor": "Thomas Marquardt",
      "commitDateOld": "17/09/18 12:54 PM",
      "commitNameOld": "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462",
      "commitAuthorOld": "Steve Loughran",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   public synchronized void close() throws IOException {\n     if (isClosed) {\n       return;\n     }\n \n     super.close();\n-    this.LOG.debug(\"AzureBlobFileSystem.close\");\n+    LOG.debug(\"AzureBlobFileSystem.close\");\n     this.isClosed \u003d true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if (isClosed) {\n      return;\n    }\n\n    super.close();\n    LOG.debug(\"AzureBlobFileSystem.close\");\n    this.isClosed \u003d true;\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystem.java",
      "extendedDetails": {}
    },
    "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-15560. ABFS: removed dependency injection and unnecessary dependencies.\nContributed by Da Zhou.\n",
      "commitDate": "17/09/18 12:54 PM",
      "commitName": "a271fd0eca75cef8b8ba940cdac8ad4fd21b4462",
      "commitAuthor": "Steve Loughran",
      "commitDateOld": "17/09/18 12:54 PM",
      "commitNameOld": "f044deedbbfee0812316d587139cb828f27172e9",
      "commitAuthorOld": "Steve Loughran",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,9 @@\n   public synchronized void close() throws IOException {\n     if (isClosed) {\n       return;\n     }\n \n     super.close();\n     this.LOG.debug(\"AzureBlobFileSystem.close\");\n-\n-    try {\n-      abfsHttpService.closeFileSystem(this);\n-    } catch (AzureBlobFileSystemException ex) {\n-      checkException(null, ex);\n-      this.isClosed \u003d true;\n-    }\n+    this.isClosed \u003d true;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if (isClosed) {\n      return;\n    }\n\n    super.close();\n    this.LOG.debug(\"AzureBlobFileSystem.close\");\n    this.isClosed \u003d true;\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystem.java",
      "extendedDetails": {}
    },
    "f044deedbbfee0812316d587139cb828f27172e9": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-15407. HADOOP-15540. Support Windows Azure Storage - Blob file system \"ABFS\" in Hadoop: Core Commit.\n\nContributed by Shane Mainali, Thomas Marquardt, Zichen Sun, Georgi Chalakov, Esfandiar Manii, Amit Singh, Dana Kaban, Da Zhou, Junhua Gu, Saher Ahwal, Saurabh Pant, James Baker, Shaoyu Zhang, Lawrence Chen, Kevin Chen and Steve Loughran\n",
      "commitDate": "17/09/18 12:54 PM",
      "commitName": "f044deedbbfee0812316d587139cb828f27172e9",
      "commitAuthor": "Steve Loughran",
      "diff": "@@ -0,0 +1,15 @@\n+  public synchronized void close() throws IOException {\n+    if (isClosed) {\n+      return;\n+    }\n+\n+    super.close();\n+    this.LOG.debug(\"AzureBlobFileSystem.close\");\n+\n+    try {\n+      abfsHttpService.closeFileSystem(this);\n+    } catch (AzureBlobFileSystemException ex) {\n+      checkException(null, ex);\n+      this.isClosed \u003d true;\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void close() throws IOException {\n    if (isClosed) {\n      return;\n    }\n\n    super.close();\n    this.LOG.debug(\"AzureBlobFileSystem.close\");\n\n    try {\n      abfsHttpService.closeFileSystem(this);\n    } catch (AzureBlobFileSystemException ex) {\n      checkException(null, ex);\n      this.isClosed \u003d true;\n    }\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/AzureBlobFileSystem.java"
    }
  }
}