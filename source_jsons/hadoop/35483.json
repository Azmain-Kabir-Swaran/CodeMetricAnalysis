{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "NodeManagerHardwareUtils.java",
  "functionName": "getNodeCpuPercentage",
  "functionId": "getNodeCpuPercentage___conf-Configuration",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/util/NodeManagerHardwareUtils.java",
  "functionStartLine": 135,
  "functionEndLine": 151,
  "numCommitsSeen": 10,
  "timeTaken": 2071,
  "changeHistory": [
    "53947f37c7a84a84ef4ab1a3cab63ff27c078385"
  ],
  "changeHistoryShort": {
    "53947f37c7a84a84ef4ab1a3cab63ff27c078385": "Yintroduced"
  },
  "changeHistoryDetails": {
    "53947f37c7a84a84ef4ab1a3cab63ff27c078385": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3122. Metrics for container\u0027s actual CPU usage. (Anubhav Dhoot via kasha)\n",
      "commitDate": "04/03/15 5:33 PM",
      "commitName": "53947f37c7a84a84ef4ab1a3cab63ff27c078385",
      "commitAuthor": "Karthik Kambatla",
      "diff": "@@ -0,0 +1,17 @@\n+  public static int getNodeCpuPercentage(Configuration conf) {\n+    int nodeCpuPercentage \u003d\n+        Math.min(conf.getInt(\n+          YarnConfiguration.NM_RESOURCE_PERCENTAGE_PHYSICAL_CPU_LIMIT,\n+          YarnConfiguration.DEFAULT_NM_RESOURCE_PERCENTAGE_PHYSICAL_CPU_LIMIT),\n+          100);\n+    nodeCpuPercentage \u003d Math.max(0, nodeCpuPercentage);\n+\n+    if (nodeCpuPercentage \u003d\u003d 0) {\n+      String message \u003d\n+          \"Illegal value for \"\n+              + YarnConfiguration.NM_RESOURCE_PERCENTAGE_PHYSICAL_CPU_LIMIT\n+              + \". Value cannot be less than or equal to 0.\";\n+      throw new IllegalArgumentException(message);\n+    }\n+    return nodeCpuPercentage;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static int getNodeCpuPercentage(Configuration conf) {\n    int nodeCpuPercentage \u003d\n        Math.min(conf.getInt(\n          YarnConfiguration.NM_RESOURCE_PERCENTAGE_PHYSICAL_CPU_LIMIT,\n          YarnConfiguration.DEFAULT_NM_RESOURCE_PERCENTAGE_PHYSICAL_CPU_LIMIT),\n          100);\n    nodeCpuPercentage \u003d Math.max(0, nodeCpuPercentage);\n\n    if (nodeCpuPercentage \u003d\u003d 0) {\n      String message \u003d\n          \"Illegal value for \"\n              + YarnConfiguration.NM_RESOURCE_PERCENTAGE_PHYSICAL_CPU_LIMIT\n              + \". Value cannot be less than or equal to 0.\";\n      throw new IllegalArgumentException(message);\n    }\n    return nodeCpuPercentage;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/util/NodeManagerHardwareUtils.java"
    }
  }
}