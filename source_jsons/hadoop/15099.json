{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "OfflineImageReconstructor.java",
  "functionName": "createBlockBuilder",
  "functionId": "createBlockBuilder___block-Node",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageReconstructor.java",
  "functionStartLine": 738,
  "functionEndLine": 758,
  "numCommitsSeen": 15,
  "timeTaken": 1669,
  "changeHistory": [
    "46d37a65cf09c2714b4c0c4ec0399031d60027a5",
    "05391c1845639d4f01da8e5df966e2dc2682f2ca"
  ],
  "changeHistoryShort": {
    "46d37a65cf09c2714b4c0c4ec0399031d60027a5": "Ybodychange",
    "05391c1845639d4f01da8e5df966e2dc2682f2ca": "Yintroduced"
  },
  "changeHistoryDetails": {
    "46d37a65cf09c2714b4c0c4ec0399031d60027a5": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10506. Addendum patch to include missing changes. Contributed by Akira Ajisaka.\n",
      "commitDate": "27/03/17 5:23 AM",
      "commitName": "46d37a65cf09c2714b4c0c4ec0399031d60027a5",
      "commitAuthor": "Wei-Chiu Chuang",
      "commitDateOld": "27/03/17 4:23 AM",
      "commitNameOld": "96e2ab81444f7f87e0df2e1567ae7a26534cd1ab",
      "commitAuthorOld": "Yiqun Lin",
      "daysBetweenCommits": 0.04,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,21 @@\n   private HdfsProtos.BlockProto.Builder createBlockBuilder(Node block)\n       throws IOException {\n     HdfsProtos.BlockProto.Builder blockBld \u003d\n         HdfsProtos.BlockProto.newBuilder();\n     Long id \u003d block.removeChildLong(SECTION_ID);\n     if (id \u003d\u003d null) {\n       throw new IOException(\"\u003cblock\u003e found without \u003cid\u003e\");\n     }\n     blockBld.setBlockId(id);\n-    Long genstamp \u003d block.removeChildLong(INODE_SECTION_GEMSTAMP);\n+    Long genstamp \u003d block.removeChildLong(INODE_SECTION_GENSTAMP);\n     if (genstamp \u003d\u003d null) {\n       throw new IOException(\"\u003cblock\u003e found without \u003cgenstamp\u003e\");\n     }\n     blockBld.setGenStamp(genstamp);\n     Long numBytes \u003d block.removeChildLong(INODE_SECTION_NUM_BYTES);\n     if (numBytes \u003d\u003d null) {\n       throw new IOException(\"\u003cblock\u003e found without \u003cnumBytes\u003e\");\n     }\n     blockBld.setNumBytes(numBytes);\n     return blockBld;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private HdfsProtos.BlockProto.Builder createBlockBuilder(Node block)\n      throws IOException {\n    HdfsProtos.BlockProto.Builder blockBld \u003d\n        HdfsProtos.BlockProto.newBuilder();\n    Long id \u003d block.removeChildLong(SECTION_ID);\n    if (id \u003d\u003d null) {\n      throw new IOException(\"\u003cblock\u003e found without \u003cid\u003e\");\n    }\n    blockBld.setBlockId(id);\n    Long genstamp \u003d block.removeChildLong(INODE_SECTION_GENSTAMP);\n    if (genstamp \u003d\u003d null) {\n      throw new IOException(\"\u003cblock\u003e found without \u003cgenstamp\u003e\");\n    }\n    blockBld.setGenStamp(genstamp);\n    Long numBytes \u003d block.removeChildLong(INODE_SECTION_NUM_BYTES);\n    if (numBytes \u003d\u003d null) {\n      throw new IOException(\"\u003cblock\u003e found without \u003cnumBytes\u003e\");\n    }\n    blockBld.setNumBytes(numBytes);\n    return blockBld;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageReconstructor.java",
      "extendedDetails": {}
    },
    "05391c1845639d4f01da8e5df966e2dc2682f2ca": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-10506. OIV\u0027s ReverseXML processor cannot reconstruct some snapshot details. Contributed by Akira Ajisaka.\n",
      "commitDate": "25/02/17 2:38 PM",
      "commitName": "05391c1845639d4f01da8e5df966e2dc2682f2ca",
      "commitAuthor": "Wei-Chiu Chuang",
      "diff": "@@ -0,0 +1,21 @@\n+  private HdfsProtos.BlockProto.Builder createBlockBuilder(Node block)\n+      throws IOException {\n+    HdfsProtos.BlockProto.Builder blockBld \u003d\n+        HdfsProtos.BlockProto.newBuilder();\n+    Long id \u003d block.removeChildLong(SECTION_ID);\n+    if (id \u003d\u003d null) {\n+      throw new IOException(\"\u003cblock\u003e found without \u003cid\u003e\");\n+    }\n+    blockBld.setBlockId(id);\n+    Long genstamp \u003d block.removeChildLong(INODE_SECTION_GEMSTAMP);\n+    if (genstamp \u003d\u003d null) {\n+      throw new IOException(\"\u003cblock\u003e found without \u003cgenstamp\u003e\");\n+    }\n+    blockBld.setGenStamp(genstamp);\n+    Long numBytes \u003d block.removeChildLong(INODE_SECTION_NUM_BYTES);\n+    if (numBytes \u003d\u003d null) {\n+      throw new IOException(\"\u003cblock\u003e found without \u003cnumBytes\u003e\");\n+    }\n+    blockBld.setNumBytes(numBytes);\n+    return blockBld;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private HdfsProtos.BlockProto.Builder createBlockBuilder(Node block)\n      throws IOException {\n    HdfsProtos.BlockProto.Builder blockBld \u003d\n        HdfsProtos.BlockProto.newBuilder();\n    Long id \u003d block.removeChildLong(SECTION_ID);\n    if (id \u003d\u003d null) {\n      throw new IOException(\"\u003cblock\u003e found without \u003cid\u003e\");\n    }\n    blockBld.setBlockId(id);\n    Long genstamp \u003d block.removeChildLong(INODE_SECTION_GEMSTAMP);\n    if (genstamp \u003d\u003d null) {\n      throw new IOException(\"\u003cblock\u003e found without \u003cgenstamp\u003e\");\n    }\n    blockBld.setGenStamp(genstamp);\n    Long numBytes \u003d block.removeChildLong(INODE_SECTION_NUM_BYTES);\n    if (numBytes \u003d\u003d null) {\n      throw new IOException(\"\u003cblock\u003e found without \u003cnumBytes\u003e\");\n    }\n    blockBld.setNumBytes(numBytes);\n    return blockBld;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/offlineImageViewer/OfflineImageReconstructor.java"
    }
  }
}