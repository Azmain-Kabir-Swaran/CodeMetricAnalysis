{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AdHocLogDumper.java",
  "functionName": "run",
  "functionId": "run",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/AdHocLogDumper.java",
  "functionStartLine": 123,
  "functionEndLine": 137,
  "numCommitsSeen": 3,
  "timeTaken": 1187,
  "changeHistory": [
    "bd8d299ded742813cabd4b4e7ce1e33e0d1f9509",
    "d27e9241e8676a0edb2d35453cac5f9495fcd605"
  ],
  "changeHistoryShort": {
    "bd8d299ded742813cabd4b4e7ce1e33e0d1f9509": "Ybodychange",
    "d27e9241e8676a0edb2d35453cac5f9495fcd605": "Yintroduced"
  },
  "changeHistoryDetails": {
    "bd8d299ded742813cabd4b4e7ce1e33e0d1f9509": {
      "type": "Ybodychange",
      "commitMessage": "YARN-7477. Moving logging APIs over to slf4j in hadoop-yarn-common. Contributed by Prabhu Joseph.\n",
      "commitDate": "03/03/19 11:59 PM",
      "commitName": "bd8d299ded742813cabd4b4e7ce1e33e0d1f9509",
      "commitAuthor": "Akira Ajisaka",
      "commitDateOld": "26/05/16 10:14 PM",
      "commitNameOld": "0a544f8a3e52f3467003a731d77380f56343d322",
      "commitAuthorOld": "Rohith Sharma K S",
      "daysBetweenCommits": 1011.11,
      "commitsBetweenForRepo": 7736,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,18 +1,15 @@\n     public void run() {\n-      Log log \u003d LogFactory.getLog(name);\n-      if (log instanceof Log4JLogger) {\n-        Logger logger \u003d ((Log4JLogger) log).getLogger();\n-        logger.removeAppender(AD_HOC_DUMPER_APPENDER);\n-        logger.setLevel(currentLogLevel);\n-        for (Enumeration appenders \u003d Logger.getRootLogger().getAllAppenders(); appenders\n-          .hasMoreElements();) {\n-          Object obj \u003d appenders.nextElement();\n-          if (obj instanceof AppenderSkeleton) {\n-            AppenderSkeleton appender \u003d (AppenderSkeleton) obj;\n-            appender.setThreshold(appenderLevels.get(appender.getName()));\n-          }\n+      Logger logger \u003d LogManager.getLogger(name);\n+      logger.removeAppender(AD_HOC_DUMPER_APPENDER);\n+      logger.setLevel(currentLogLevel);\n+      for (Enumeration appenders \u003d Logger.getRootLogger().getAllAppenders();\n+          appenders.hasMoreElements();) {\n+        Object obj \u003d appenders.nextElement();\n+        if (obj instanceof AppenderSkeleton) {\n+          AppenderSkeleton appender \u003d (AppenderSkeleton) obj;\n+          appender.setThreshold(appenderLevels.get(appender.getName()));\n         }\n-        logFlag \u003d false;\n-        LOG.info(\"Done dumping adhoc logs for \" + name);\n       }\n+      logFlag \u003d false;\n+      LOG.info(\"Done dumping adhoc logs for \" + name);\n     }\n\\ No newline at end of file\n",
      "actualSource": "    public void run() {\n      Logger logger \u003d LogManager.getLogger(name);\n      logger.removeAppender(AD_HOC_DUMPER_APPENDER);\n      logger.setLevel(currentLogLevel);\n      for (Enumeration appenders \u003d Logger.getRootLogger().getAllAppenders();\n          appenders.hasMoreElements();) {\n        Object obj \u003d appenders.nextElement();\n        if (obj instanceof AppenderSkeleton) {\n          AppenderSkeleton appender \u003d (AppenderSkeleton) obj;\n          appender.setThreshold(appenderLevels.get(appender.getName()));\n        }\n      }\n      logFlag \u003d false;\n      LOG.info(\"Done dumping adhoc logs for \" + name);\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/AdHocLogDumper.java",
      "extendedDetails": {}
    },
    "d27e9241e8676a0edb2d35453cac5f9495fcd605": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3294. Allow dumping of Capacity Scheduler debug logs via web UI for\na fixed time period. Contributed by Varun Vasudev\n",
      "commitDate": "07/04/15 9:52 AM",
      "commitName": "d27e9241e8676a0edb2d35453cac5f9495fcd605",
      "commitAuthor": "Xuan",
      "diff": "@@ -0,0 +1,18 @@\n+    public void run() {\n+      Log log \u003d LogFactory.getLog(name);\n+      if (log instanceof Log4JLogger) {\n+        Logger logger \u003d ((Log4JLogger) log).getLogger();\n+        logger.removeAppender(AD_HOC_DUMPER_APPENDER);\n+        logger.setLevel(currentLogLevel);\n+        for (Enumeration appenders \u003d Logger.getRootLogger().getAllAppenders(); appenders\n+          .hasMoreElements();) {\n+          Object obj \u003d appenders.nextElement();\n+          if (obj instanceof AppenderSkeleton) {\n+            AppenderSkeleton appender \u003d (AppenderSkeleton) obj;\n+            appender.setThreshold(appenderLevels.get(appender.getName()));\n+          }\n+        }\n+        logFlag \u003d false;\n+        LOG.info(\"Done dumping adhoc logs for \" + name);\n+      }\n+    }\n\\ No newline at end of file\n",
      "actualSource": "    public void run() {\n      Log log \u003d LogFactory.getLog(name);\n      if (log instanceof Log4JLogger) {\n        Logger logger \u003d ((Log4JLogger) log).getLogger();\n        logger.removeAppender(AD_HOC_DUMPER_APPENDER);\n        logger.setLevel(currentLogLevel);\n        for (Enumeration appenders \u003d Logger.getRootLogger().getAllAppenders(); appenders\n          .hasMoreElements();) {\n          Object obj \u003d appenders.nextElement();\n          if (obj instanceof AppenderSkeleton) {\n            AppenderSkeleton appender \u003d (AppenderSkeleton) obj;\n            appender.setThreshold(appenderLevels.get(appender.getName()));\n          }\n        }\n        logFlag \u003d false;\n        LOG.info(\"Done dumping adhoc logs for \" + name);\n      }\n    }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/AdHocLogDumper.java"
    }
  }
}