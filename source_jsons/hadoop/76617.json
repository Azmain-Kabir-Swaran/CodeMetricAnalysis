{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "SecureIOUtils.java",
  "functionName": "checkStat",
  "functionId": "checkStat___f-File__owner-String__group-String__expectedOwner-String__expectedGroup-String",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
  "functionStartLine": 264,
  "functionEndLine": 285,
  "numCommitsSeen": 11,
  "timeTaken": 1139,
  "changeHistory": [
    "94225152399e6e89fa7b4cff6d17d33e544329a3",
    "638801cce16fc1dc3259c541dc30a599faaddda1",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
    "dbd07f9e8c2824cdb04d44d07d27c2b56f68c1d5"
  ],
  "changeHistoryShort": {
    "94225152399e6e89fa7b4cff6d17d33e544329a3": "Ybodychange",
    "638801cce16fc1dc3259c541dc30a599faaddda1": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52": "Yfilerename",
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": "Yfilerename",
    "dbd07f9e8c2824cdb04d44d07d27c2b56f68c1d5": "Yintroduced"
  },
  "changeHistoryDetails": {
    "94225152399e6e89fa7b4cff6d17d33e544329a3": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-13442. Optimize UGI group lookups. Contributed by Daryn Sharp.\n",
      "commitDate": "04/08/16 8:45 AM",
      "commitName": "94225152399e6e89fa7b4cff6d17d33e544329a3",
      "commitAuthor": "Kihwal Lee",
      "commitDateOld": "03/05/13 4:43 PM",
      "commitNameOld": "bfc73613fc74c669efc9e4722e8f1bb48d5ced3a",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 1188.67,
      "commitsBetweenForRepo": 8883,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,22 +1,22 @@\n   private static void checkStat(File f, String owner, String group, \n       String expectedOwner, \n       String expectedGroup) throws IOException {\n     boolean success \u003d true;\n     if (expectedOwner !\u003d null \u0026\u0026\n         !expectedOwner.equals(owner)) {\n       if (Path.WINDOWS) {\n         UserGroupInformation ugi \u003d\n             UserGroupInformation.createRemoteUser(expectedOwner);\n         final String adminsGroupString \u003d \"Administrators\";\n         success \u003d owner.equals(adminsGroupString)\n-            \u0026\u0026 Arrays.asList(ugi.getGroupNames()).contains(adminsGroupString);\n+            \u0026\u0026 ugi.getGroups().contains(adminsGroupString);\n       } else {\n         success \u003d false;\n       }\n     }\n     if (!success) {\n       throw new IOException(\n           \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n               \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static void checkStat(File f, String owner, String group, \n      String expectedOwner, \n      String expectedGroup) throws IOException {\n    boolean success \u003d true;\n    if (expectedOwner !\u003d null \u0026\u0026\n        !expectedOwner.equals(owner)) {\n      if (Path.WINDOWS) {\n        UserGroupInformation ugi \u003d\n            UserGroupInformation.createRemoteUser(expectedOwner);\n        final String adminsGroupString \u003d \"Administrators\";\n        success \u003d owner.equals(adminsGroupString)\n            \u0026\u0026 ugi.getGroups().contains(adminsGroupString);\n      } else {\n        success \u003d false;\n      }\n    }\n    if (!success) {\n      throw new IOException(\n          \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n              \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {}
    },
    "638801cce16fc1dc3259c541dc30a599faaddda1": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/03/13 11:15 AM",
      "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "09/11/12 10:25 AM",
      "commitNameOld": "f8c486fbc8b9ea2380b6f7caa2fb8e2364774f5d",
      "commitAuthorOld": "Alejandro Abdelnur",
      "daysBetweenCommits": 117.03,
      "commitsBetweenForRepo": 488,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,22 @@\n   private static void checkStat(File f, String owner, String group, \n       String expectedOwner, \n       String expectedGroup) throws IOException {\n+    boolean success \u003d true;\n     if (expectedOwner !\u003d null \u0026\u0026\n         !expectedOwner.equals(owner)) {\n-      throw new IOException(\n-        \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n-        \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n+      if (Path.WINDOWS) {\n+        UserGroupInformation ugi \u003d\n+            UserGroupInformation.createRemoteUser(expectedOwner);\n+        final String adminsGroupString \u003d \"Administrators\";\n+        success \u003d owner.equals(adminsGroupString)\n+            \u0026\u0026 Arrays.asList(ugi.getGroupNames()).contains(adminsGroupString);\n+      } else {\n+        success \u003d false;\n+      }\n     }\n-    if (expectedGroup !\u003d null \u0026\u0026\n-        !expectedGroup.equals(group)) {\n+    if (!success) {\n       throw new IOException(\n-        \"Group \u0027\" + group + \"\u0027 for path \" + f + \" did not match \" +\n-        \"expected group \u0027\" + expectedGroup + \"\u0027\");\n+          \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n+              \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private static void checkStat(File f, String owner, String group, \n      String expectedOwner, \n      String expectedGroup) throws IOException {\n    boolean success \u003d true;\n    if (expectedOwner !\u003d null \u0026\u0026\n        !expectedOwner.equals(owner)) {\n      if (Path.WINDOWS) {\n        UserGroupInformation ugi \u003d\n            UserGroupInformation.createRemoteUser(expectedOwner);\n        final String adminsGroupString \u003d \"Administrators\";\n        success \u003d owner.equals(adminsGroupString)\n            \u0026\u0026 Arrays.asList(ugi.getGroupNames()).contains(adminsGroupString);\n      } else {\n        success \u003d false;\n      }\n    }\n    if (!success) {\n      throw new IOException(\n          \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n              \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private static void checkStat(File f, String owner, String group, \n      String expectedOwner, \n      String expectedGroup) throws IOException {\n    if (expectedOwner !\u003d null \u0026\u0026\n        !expectedOwner.equals(owner)) {\n      throw new IOException(\n        \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n        \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n    }\n    if (expectedGroup !\u003d null \u0026\u0026\n        !expectedGroup.equals(group)) {\n      throw new IOException(\n        \"Group \u0027\" + group + \"\u0027 for path \" + f + \" did not match \" +\n        \"expected group \u0027\" + expectedGroup + \"\u0027\");\n    }\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {
        "oldPath": "hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
        "newPath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java"
      }
    },
    "0f6dfeeacbab65a31a33927a4eb84871d371fe52": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-6671. Use maven for hadoop common builds. Contributed by Alejandro Abdelnur.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1153184 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "02/08/11 9:37 AM",
      "commitName": "0f6dfeeacbab65a31a33927a4eb84871d371fe52",
      "commitAuthor": "Thomas White",
      "commitDateOld": "01/08/11 3:53 PM",
      "commitNameOld": "9bac807cedbcff34e1a144fb475eff267e5ed86d",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.74,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private static void checkStat(File f, String owner, String group, \n      String expectedOwner, \n      String expectedGroup) throws IOException {\n    if (expectedOwner !\u003d null \u0026\u0026\n        !expectedOwner.equals(owner)) {\n      throw new IOException(\n        \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n        \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n    }\n    if (expectedGroup !\u003d null \u0026\u0026\n        !expectedGroup.equals(group)) {\n      throw new IOException(\n        \"Group \u0027\" + group + \"\u0027 for path \" + f + \" did not match \" +\n        \"expected group \u0027\" + expectedGroup + \"\u0027\");\n    }\n  }",
      "path": "hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {
        "oldPath": "common/src/java/org/apache/hadoop/io/SecureIOUtils.java",
        "newPath": "hadoop-common/src/main/java/org/apache/hadoop/io/SecureIOUtils.java"
      }
    },
    "a196766ea07775f18ded69bd9e8d239f8cfd3ccc": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7106. Reorganize SVN layout to combine HDFS, Common, and MR in a single tree (project unsplit)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1134994 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/06/11 3:00 PM",
      "commitName": "a196766ea07775f18ded69bd9e8d239f8cfd3ccc",
      "commitAuthor": "Todd Lipcon",
      "commitDateOld": "11/06/11 9:13 PM",
      "commitNameOld": "a285fb5effe9ba3be4ec5f942afaf5ddd1186151",
      "commitAuthorOld": "Eli Collins",
      "daysBetweenCommits": 0.74,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private static void checkStat(File f, String owner, String group, \n      String expectedOwner, \n      String expectedGroup) throws IOException {\n    if (expectedOwner !\u003d null \u0026\u0026\n        !expectedOwner.equals(owner)) {\n      throw new IOException(\n        \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n        \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n    }\n    if (expectedGroup !\u003d null \u0026\u0026\n        !expectedGroup.equals(group)) {\n      throw new IOException(\n        \"Group \u0027\" + group + \"\u0027 for path \" + f + \" did not match \" +\n        \"expected group \u0027\" + expectedGroup + \"\u0027\");\n    }\n  }",
      "path": "common/src/java/org/apache/hadoop/io/SecureIOUtils.java",
      "extendedDetails": {
        "oldPath": "src/java/org/apache/hadoop/io/SecureIOUtils.java",
        "newPath": "common/src/java/org/apache/hadoop/io/SecureIOUtils.java"
      }
    },
    "dbd07f9e8c2824cdb04d44d07d27c2b56f68c1d5": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-6978. Adds support for NativeIO using JNI. Contributed by Todd Lipcon, Devaraj Das \u0026 Owen O\u0027Malley.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1040883 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "01/12/10 12:03 AM",
      "commitName": "dbd07f9e8c2824cdb04d44d07d27c2b56f68c1d5",
      "commitAuthor": "Devaraj Das",
      "diff": "@@ -0,0 +1,16 @@\n+  private static void checkStat(File f, String owner, String group, \n+      String expectedOwner, \n+      String expectedGroup) throws IOException {\n+    if (expectedOwner !\u003d null \u0026\u0026\n+        !expectedOwner.equals(owner)) {\n+      throw new IOException(\n+        \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n+        \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n+    }\n+    if (expectedGroup !\u003d null \u0026\u0026\n+        !expectedGroup.equals(group)) {\n+      throw new IOException(\n+        \"Group \u0027\" + group + \"\u0027 for path \" + f + \" did not match \" +\n+        \"expected group \u0027\" + expectedGroup + \"\u0027\");\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static void checkStat(File f, String owner, String group, \n      String expectedOwner, \n      String expectedGroup) throws IOException {\n    if (expectedOwner !\u003d null \u0026\u0026\n        !expectedOwner.equals(owner)) {\n      throw new IOException(\n        \"Owner \u0027\" + owner + \"\u0027 for path \" + f + \" did not match \" +\n        \"expected owner \u0027\" + expectedOwner + \"\u0027\");\n    }\n    if (expectedGroup !\u003d null \u0026\u0026\n        !expectedGroup.equals(group)) {\n      throw new IOException(\n        \"Group \u0027\" + group + \"\u0027 for path \" + f + \" did not match \" +\n        \"expected group \u0027\" + expectedGroup + \"\u0027\");\n    }\n  }",
      "path": "src/java/org/apache/hadoop/io/SecureIOUtils.java"
    }
  }
}