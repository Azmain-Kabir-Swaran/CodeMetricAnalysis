{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ErrorMetricUpdater.java",
  "functionName": "eventOccurred",
  "functionId": "eventOccurred___eventArg-ResponseReceivedEvent",
  "sourceFilePath": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/metrics/ErrorMetricUpdater.java",
  "functionStartLine": 66,
  "functionEndLine": 81,
  "numCommitsSeen": 2,
  "timeTaken": 752,
  "changeHistory": [
    "0d91576ec31f63402f2db6107a04155368e2632d"
  ],
  "changeHistoryShort": {
    "0d91576ec31f63402f2db6107a04155368e2632d": "Yintroduced"
  },
  "changeHistoryDetails": {
    "0d91576ec31f63402f2db6107a04155368e2632d": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-10728. Metrics system for Windows Azure Storage Filesystem. Contributed by Dexter Bradshaw, Mostafa Elhemali, Xi Fang, Johannes Klein, David Lao, Mike Liddell, Chuan Liu, Lengning Liu, Ivan Mitic, Michael Rys, Alexander Stojanovic, Brian Swan, and Min Wei.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1605187 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/06/14 1:52 PM",
      "commitName": "0d91576ec31f63402f2db6107a04155368e2632d",
      "commitAuthor": "Chris Nauroth",
      "diff": "@@ -0,0 +1,16 @@\n+  public void eventOccurred(ResponseReceivedEvent eventArg) {\n+    RequestResult currentResult \u003d operationContext.getLastResult();\n+    int statusCode \u003d currentResult.getStatusCode();\n+    // Check if it\u0027s a client-side error: a 4xx status\n+    // We exclude 404 because it happens frequently during the normal\n+    // course of operation (each call to exists() would generate that\n+    // if it\u0027s not found).\n+    if (statusCode \u003e\u003d HTTP_BAD_REQUEST \u0026\u0026 statusCode \u003c HTTP_INTERNAL_ERROR \n+        \u0026\u0026 statusCode !\u003d HTTP_NOT_FOUND) {\n+      instrumentation.clientErrorEncountered();\n+    } else if (statusCode \u003e\u003d HTTP_INTERNAL_ERROR) {\n+      // It\u0027s a server error: a 5xx status. Could be an Azure Storage\n+      // bug or (more likely) throttling.\n+      instrumentation.serverErrorEncountered();\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void eventOccurred(ResponseReceivedEvent eventArg) {\n    RequestResult currentResult \u003d operationContext.getLastResult();\n    int statusCode \u003d currentResult.getStatusCode();\n    // Check if it\u0027s a client-side error: a 4xx status\n    // We exclude 404 because it happens frequently during the normal\n    // course of operation (each call to exists() would generate that\n    // if it\u0027s not found).\n    if (statusCode \u003e\u003d HTTP_BAD_REQUEST \u0026\u0026 statusCode \u003c HTTP_INTERNAL_ERROR \n        \u0026\u0026 statusCode !\u003d HTTP_NOT_FOUND) {\n      instrumentation.clientErrorEncountered();\n    } else if (statusCode \u003e\u003d HTTP_INTERNAL_ERROR) {\n      // It\u0027s a server error: a 5xx status. Could be an Azure Storage\n      // bug or (more likely) throttling.\n      instrumentation.serverErrorEncountered();\n    }\n  }",
      "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azure/metrics/ErrorMetricUpdater.java"
    }
  }
}