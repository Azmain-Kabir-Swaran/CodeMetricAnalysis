{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ResourceCalculatorPlugin.java",
  "functionName": "getResourceCalculatorPlugin",
  "functionId": "getResourceCalculatorPlugin___clazz-Class__? extends ResourceCalculatorPlugin____conf-Configuration",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java",
  "functionStartLine": 185,
  "functionEndLine": 200,
  "numCommitsSeen": 18,
  "timeTaken": 7458,
  "changeHistory": [
    "3541ed80685f25486f33ef0f553854ccbdeb51d4",
    "d7319dee37ea93f1a1ba4153ea63ea8010ba2441",
    "ac6048372a58b3a3b57cd5f2702b44a3d4667f3d",
    "638801cce16fc1dc3259c541dc30a599faaddda1",
    "e1fdf62123625e4ba399af02f8aad500637d29d1",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517"
  ],
  "changeHistoryShort": {
    "3541ed80685f25486f33ef0f553854ccbdeb51d4": "Ybodychange",
    "d7319dee37ea93f1a1ba4153ea63ea8010ba2441": "Ybodychange",
    "ac6048372a58b3a3b57cd5f2702b44a3d4667f3d": "Ybodychange",
    "638801cce16fc1dc3259c541dc30a599faaddda1": "Ybodychange",
    "e1fdf62123625e4ba399af02f8aad500637d29d1": "Yfilerename",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": "Yintroduced"
  },
  "changeHistoryDetails": {
    "3541ed80685f25486f33ef0f553854ccbdeb51d4": {
      "type": "Ybodychange",
      "commitMessage": "YARN-4330. MiniYARNCluster is showing multiple  Failed to instantiate default resource calculator warning messages. Contributed by Varun Saxena\n",
      "commitDate": "23/11/16 12:42 AM",
      "commitName": "3541ed80685f25486f33ef0f553854ccbdeb51d4",
      "commitAuthor": "Naganarasimha",
      "commitDateOld": "08/11/16 2:01 PM",
      "commitNameOld": "3f93ac0733058238a2c8f23960c986c71dca0e02",
      "commitAuthorOld": "Jason Lowe",
      "daysBetweenCommits": 14.45,
      "commitsBetweenForRepo": 94,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,16 @@\n   public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n       Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n \n     if (clazz !\u003d null) {\n       return ReflectionUtils.newInstance(clazz, conf);\n     }\n     try {\n       return new ResourceCalculatorPlugin();\n+    } catch (UnsupportedOperationException ue) {\n+      LOG.warn(\"Failed to instantiate default resource calculator. \"\n+          + ue.getMessage());\n     } catch (Throwable t) {\n       LOG.warn(t + \": Failed to instantiate default resource calculator.\", t);\n     }\n     return null;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n      Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n\n    if (clazz !\u003d null) {\n      return ReflectionUtils.newInstance(clazz, conf);\n    }\n    try {\n      return new ResourceCalculatorPlugin();\n    } catch (UnsupportedOperationException ue) {\n      LOG.warn(\"Failed to instantiate default resource calculator. \"\n          + ue.getMessage());\n    } catch (Throwable t) {\n      LOG.warn(t + \": Failed to instantiate default resource calculator.\", t);\n    }\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java",
      "extendedDetails": {}
    },
    "d7319dee37ea93f1a1ba4153ea63ea8010ba2441": {
      "type": "Ybodychange",
      "commitMessage": "YARN-3917. getResourceCalculatorPlugin for the default should intercept all exceptions. (gera)\n",
      "commitDate": "11/07/15 10:29 PM",
      "commitName": "d7319dee37ea93f1a1ba4153ea63ea8010ba2441",
      "commitAuthor": "Gera Shegalov",
      "commitDateOld": "09/07/15 5:48 PM",
      "commitNameOld": "1a0752d85a15499d120b4a79af9bd740fcd1f8e0",
      "commitAuthorOld": "Chris Douglas",
      "daysBetweenCommits": 2.2,
      "commitsBetweenForRepo": 8,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,13 @@\n   public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n       Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n \n     if (clazz !\u003d null) {\n       return ReflectionUtils.newInstance(clazz, conf);\n     }\n     try {\n       return new ResourceCalculatorPlugin();\n-    } catch (SecurityException e) {\n-      return null;\n+    } catch (Throwable t) {\n+      LOG.warn(t + \": Failed to instantiate default resource calculator.\", t);\n     }\n+    return null;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n      Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n\n    if (clazz !\u003d null) {\n      return ReflectionUtils.newInstance(clazz, conf);\n    }\n    try {\n      return new ResourceCalculatorPlugin();\n    } catch (Throwable t) {\n      LOG.warn(t + \": Failed to instantiate default resource calculator.\", t);\n    }\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java",
      "extendedDetails": {}
    },
    "ac6048372a58b3a3b57cd5f2702b44a3d4667f3d": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-12180. Move ResourceCalculatorPlugin from YARN to Common. (Chris Douglas via kasha)\n",
      "commitDate": "09/07/15 9:56 AM",
      "commitName": "ac6048372a58b3a3b57cd5f2702b44a3d4667f3d",
      "commitAuthor": "Karthik Kambatla",
      "commitDateOld": "26/05/15 11:38 AM",
      "commitNameOld": "500a1d9c76ec612b4e737888f4be79951c11591d",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 43.93,
      "commitsBetweenForRepo": 314,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,23 +1,12 @@\n   public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n       Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n \n     if (clazz !\u003d null) {\n       return ReflectionUtils.newInstance(clazz, conf);\n     }\n-\n-    // No class given, try a os specific class\n     try {\n-      if (Shell.LINUX) {\n-        return new LinuxResourceCalculatorPlugin();\n-      }\n-      if (Shell.WINDOWS) {\n-        return new WindowsResourceCalculatorPlugin();\n-      }\n-    } catch (SecurityException se) {\n-      // Failed to get Operating System name.\n+      return new ResourceCalculatorPlugin();\n+    } catch (SecurityException e) {\n       return null;\n     }\n-\n-    // Not supported on this system.\n-    return null;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n      Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n\n    if (clazz !\u003d null) {\n      return ReflectionUtils.newInstance(clazz, conf);\n    }\n    try {\n      return new ResourceCalculatorPlugin();\n    } catch (SecurityException e) {\n      return null;\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java",
      "extendedDetails": {}
    },
    "638801cce16fc1dc3259c541dc30a599faaddda1": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/03/13 11:15 AM",
      "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
      "commitAuthor": "Suresh Srinivas",
      "commitDateOld": "19/12/12 4:20 PM",
      "commitNameOld": "1a49c854386d3ba4aef6f29f46e2bd5e71e86dc1",
      "commitAuthorOld": "Luke Lu",
      "daysBetweenCommits": 76.79,
      "commitsBetweenForRepo": 320,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,23 @@\n   public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n       Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n \n     if (clazz !\u003d null) {\n       return ReflectionUtils.newInstance(clazz, conf);\n     }\n \n     // No class given, try a os specific class\n     try {\n-      String osName \u003d System.getProperty(\"os.name\");\n-      if (osName.startsWith(\"Linux\")) {\n+      if (Shell.LINUX) {\n         return new LinuxResourceCalculatorPlugin();\n       }\n+      if (Shell.WINDOWS) {\n+        return new WindowsResourceCalculatorPlugin();\n+      }\n     } catch (SecurityException se) {\n       // Failed to get Operating System name.\n       return null;\n     }\n \n     // Not supported on this system.\n     return null;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n      Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n\n    if (clazz !\u003d null) {\n      return ReflectionUtils.newInstance(clazz, conf);\n    }\n\n    // No class given, try a os specific class\n    try {\n      if (Shell.LINUX) {\n        return new LinuxResourceCalculatorPlugin();\n      }\n      if (Shell.WINDOWS) {\n        return new WindowsResourceCalculatorPlugin();\n      }\n    } catch (SecurityException se) {\n      // Failed to get Operating System name.\n      return null;\n    }\n\n    // Not supported on this system.\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java",
      "extendedDetails": {}
    },
    "e1fdf62123625e4ba399af02f8aad500637d29d1": {
      "type": "Yfilerename",
      "commitMessage": "YARN-1. Promote YARN to be a sub-project of Apache Hadoop.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1370666 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/12 10:22 PM",
      "commitName": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/08/12 7:53 PM",
      "commitNameOld": "34554d1e11ee1d5b564d7d9ed3e6d55931d72749",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n      Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n\n    if (clazz !\u003d null) {\n      return ReflectionUtils.newInstance(clazz, conf);\n    }\n\n    // No class given, try a os specific class\n    try {\n      String osName \u003d System.getProperty(\"os.name\");\n      if (osName.startsWith(\"Linux\")) {\n        return new LinuxResourceCalculatorPlugin();\n      }\n    } catch (SecurityException se) {\n      // Failed to get Operating System name.\n      return null;\n    }\n\n    // Not supported on this system.\n    return null;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java"
      }
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n      Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n\n    if (clazz !\u003d null) {\n      return ReflectionUtils.newInstance(clazz, conf);\n    }\n\n    // No class given, try a os specific class\n    try {\n      String osName \u003d System.getProperty(\"os.name\");\n      if (osName.startsWith(\"Linux\")) {\n        return new LinuxResourceCalculatorPlugin();\n      }\n    } catch (SecurityException se) {\n      // Failed to get Operating System name.\n      return null;\n    }\n\n    // Not supported on this system.\n    return null;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java",
        "newPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java"
      }
    },
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/08/11 4:07 AM",
      "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,21 @@\n+  public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n+      Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n+\n+    if (clazz !\u003d null) {\n+      return ReflectionUtils.newInstance(clazz, conf);\n+    }\n+\n+    // No class given, try a os specific class\n+    try {\n+      String osName \u003d System.getProperty(\"os.name\");\n+      if (osName.startsWith(\"Linux\")) {\n+        return new LinuxResourceCalculatorPlugin();\n+      }\n+    } catch (SecurityException se) {\n+      // Failed to get Operating System name.\n+      return null;\n+    }\n+\n+    // Not supported on this system.\n+    return null;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static ResourceCalculatorPlugin getResourceCalculatorPlugin(\n      Class\u003c? extends ResourceCalculatorPlugin\u003e clazz, Configuration conf) {\n\n    if (clazz !\u003d null) {\n      return ReflectionUtils.newInstance(clazz, conf);\n    }\n\n    // No class given, try a os specific class\n    try {\n      String osName \u003d System.getProperty(\"os.name\");\n      if (osName.startsWith(\"Linux\")) {\n        return new LinuxResourceCalculatorPlugin();\n      }\n    } catch (SecurityException se) {\n      // Failed to get Operating System name.\n      return null;\n    }\n\n    // Not supported on this system.\n    return null;\n  }",
      "path": "hadoop-mapreduce/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/util/ResourceCalculatorPlugin.java"
    }
  }
}