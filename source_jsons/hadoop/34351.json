{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ContainerLocalizer.java",
  "functionName": "buildMainArgs",
  "functionId": "buildMainArgs___command-List__String____user-String__appId-String__locId-String__nmAddr-InetSocketAddress__tokenFileName-String__localDirs-List__String____conf-Configuration",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ContainerLocalizer.java",
  "functionStartLine": 416,
  "functionEndLine": 436,
  "numCommitsSeen": 80,
  "timeTaken": 5362,
  "changeHistory": [
    "21ec4bdaef4b68adbbf4f33a6f74494c074f803c",
    "d8923cdbf1567aee10a54f144fef734d1465ebed",
    "ba7f31c2ee8d23ecb183f88920ef06053c0b9769"
  ],
  "changeHistoryShort": {
    "21ec4bdaef4b68adbbf4f33a6f74494c074f803c": "Ymultichange(Yparameterchange,Ybodychange)",
    "d8923cdbf1567aee10a54f144fef734d1465ebed": "Ymultichange(Yparameterchange,Ybodychange)",
    "ba7f31c2ee8d23ecb183f88920ef06053c0b9769": "Yintroduced"
  },
  "changeHistoryDetails": {
    "21ec4bdaef4b68adbbf4f33a6f74494c074f803c": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-8672.  Improve token filename management for localization.\n            Contributed by Chandni Singh\n",
      "commitDate": "14/11/18 12:22 PM",
      "commitName": "21ec4bdaef4b68adbbf4f33a6f74494c074f803c",
      "commitAuthor": "Eric Yang",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-8672.  Improve token filename management for localization.\n            Contributed by Chandni Singh\n",
          "commitDate": "14/11/18 12:22 PM",
          "commitName": "21ec4bdaef4b68adbbf4f33a6f74494c074f803c",
          "commitAuthor": "Eric Yang",
          "commitDateOld": "22/06/18 2:03 PM",
          "commitNameOld": "1cdce86d33d4b73ba6dd4136c966eb7e822b6f36",
          "commitAuthorOld": "Yufei Gu",
          "daysBetweenCommits": 144.97,
          "commitsBetweenForRepo": 1201,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,21 @@\n   public static void buildMainArgs(List\u003cString\u003e command,\n       String user, String appId, String locId,\n-      InetSocketAddress nmAddr, List\u003cString\u003e localDirs, Configuration conf) {\n+      InetSocketAddress nmAddr,\n+      String tokenFileName,\n+      List\u003cString\u003e localDirs, Configuration conf) {\n \n     String logLevel \u003d conf.get(YarnConfiguration.\n             NM_CONTAINER_LOCALIZER_LOG_LEVEL,\n         YarnConfiguration.NM_CONTAINER_LOCALIZER_LOG_LEVEL_DEFAULT);\n     addLog4jSystemProperties(logLevel, command);\n     command.add(ContainerLocalizer.class.getName());\n     command.add(user);\n     command.add(appId);\n     command.add(locId);\n     command.add(nmAddr.getHostName());\n     command.add(Integer.toString(nmAddr.getPort()));\n+    command.add(tokenFileName);\n     for(String dir : localDirs) {\n       command.add(dir);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void buildMainArgs(List\u003cString\u003e command,\n      String user, String appId, String locId,\n      InetSocketAddress nmAddr,\n      String tokenFileName,\n      List\u003cString\u003e localDirs, Configuration conf) {\n\n    String logLevel \u003d conf.get(YarnConfiguration.\n            NM_CONTAINER_LOCALIZER_LOG_LEVEL,\n        YarnConfiguration.NM_CONTAINER_LOCALIZER_LOG_LEVEL_DEFAULT);\n    addLog4jSystemProperties(logLevel, command);\n    command.add(ContainerLocalizer.class.getName());\n    command.add(user);\n    command.add(appId);\n    command.add(locId);\n    command.add(nmAddr.getHostName());\n    command.add(Integer.toString(nmAddr.getPort()));\n    command.add(tokenFileName);\n    for(String dir : localDirs) {\n      command.add(dir);\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ContainerLocalizer.java",
          "extendedDetails": {
            "oldValue": "[command-List\u003cString\u003e, user-String, appId-String, locId-String, nmAddr-InetSocketAddress, localDirs-List\u003cString\u003e, conf-Configuration]",
            "newValue": "[command-List\u003cString\u003e, user-String, appId-String, locId-String, nmAddr-InetSocketAddress, tokenFileName-String, localDirs-List\u003cString\u003e, conf-Configuration]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-8672.  Improve token filename management for localization.\n            Contributed by Chandni Singh\n",
          "commitDate": "14/11/18 12:22 PM",
          "commitName": "21ec4bdaef4b68adbbf4f33a6f74494c074f803c",
          "commitAuthor": "Eric Yang",
          "commitDateOld": "22/06/18 2:03 PM",
          "commitNameOld": "1cdce86d33d4b73ba6dd4136c966eb7e822b6f36",
          "commitAuthorOld": "Yufei Gu",
          "daysBetweenCommits": 144.97,
          "commitsBetweenForRepo": 1201,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,21 @@\n   public static void buildMainArgs(List\u003cString\u003e command,\n       String user, String appId, String locId,\n-      InetSocketAddress nmAddr, List\u003cString\u003e localDirs, Configuration conf) {\n+      InetSocketAddress nmAddr,\n+      String tokenFileName,\n+      List\u003cString\u003e localDirs, Configuration conf) {\n \n     String logLevel \u003d conf.get(YarnConfiguration.\n             NM_CONTAINER_LOCALIZER_LOG_LEVEL,\n         YarnConfiguration.NM_CONTAINER_LOCALIZER_LOG_LEVEL_DEFAULT);\n     addLog4jSystemProperties(logLevel, command);\n     command.add(ContainerLocalizer.class.getName());\n     command.add(user);\n     command.add(appId);\n     command.add(locId);\n     command.add(nmAddr.getHostName());\n     command.add(Integer.toString(nmAddr.getPort()));\n+    command.add(tokenFileName);\n     for(String dir : localDirs) {\n       command.add(dir);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void buildMainArgs(List\u003cString\u003e command,\n      String user, String appId, String locId,\n      InetSocketAddress nmAddr,\n      String tokenFileName,\n      List\u003cString\u003e localDirs, Configuration conf) {\n\n    String logLevel \u003d conf.get(YarnConfiguration.\n            NM_CONTAINER_LOCALIZER_LOG_LEVEL,\n        YarnConfiguration.NM_CONTAINER_LOCALIZER_LOG_LEVEL_DEFAULT);\n    addLog4jSystemProperties(logLevel, command);\n    command.add(ContainerLocalizer.class.getName());\n    command.add(user);\n    command.add(appId);\n    command.add(locId);\n    command.add(nmAddr.getHostName());\n    command.add(Integer.toString(nmAddr.getPort()));\n    command.add(tokenFileName);\n    for(String dir : localDirs) {\n      command.add(dir);\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ContainerLocalizer.java",
          "extendedDetails": {}
        }
      ]
    },
    "d8923cdbf1567aee10a54f144fef734d1465ebed": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-7363. ContainerLocalizer don\u0027t have a valid log4j config in case of Linux container executor. (Contributed by Yufei Gu)\n",
      "commitDate": "27/11/17 2:31 PM",
      "commitName": "d8923cdbf1567aee10a54f144fef734d1465ebed",
      "commitAuthor": "Yufei Gu",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-7363. ContainerLocalizer don\u0027t have a valid log4j config in case of Linux container executor. (Contributed by Yufei Gu)\n",
          "commitDate": "27/11/17 2:31 PM",
          "commitName": "d8923cdbf1567aee10a54f144fef734d1465ebed",
          "commitAuthor": "Yufei Gu",
          "commitDateOld": "22/08/17 1:14 AM",
          "commitNameOld": "d5ff57a08fac983f8b5d201064ce07945f0f216e",
          "commitAuthorOld": "Akira Ajisaka",
          "daysBetweenCommits": 97.6,
          "commitsBetweenForRepo": 850,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,14 +1,18 @@\n   public static void buildMainArgs(List\u003cString\u003e command,\n       String user, String appId, String locId,\n-      InetSocketAddress nmAddr, List\u003cString\u003e localDirs) {\n-    \n+      InetSocketAddress nmAddr, List\u003cString\u003e localDirs, Configuration conf) {\n+\n+    String logLevel \u003d conf.get(YarnConfiguration.\n+            NM_CONTAINER_LOCALIZER_LOG_LEVEL,\n+        YarnConfiguration.NM_CONTAINER_LOCALIZER_LOG_LEVEL_DEFAULT);\n+    addLog4jSystemProperties(logLevel, command);\n     command.add(ContainerLocalizer.class.getName());\n     command.add(user);\n     command.add(appId);\n     command.add(locId);\n     command.add(nmAddr.getHostName());\n     command.add(Integer.toString(nmAddr.getPort()));\n     for(String dir : localDirs) {\n       command.add(dir);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void buildMainArgs(List\u003cString\u003e command,\n      String user, String appId, String locId,\n      InetSocketAddress nmAddr, List\u003cString\u003e localDirs, Configuration conf) {\n\n    String logLevel \u003d conf.get(YarnConfiguration.\n            NM_CONTAINER_LOCALIZER_LOG_LEVEL,\n        YarnConfiguration.NM_CONTAINER_LOCALIZER_LOG_LEVEL_DEFAULT);\n    addLog4jSystemProperties(logLevel, command);\n    command.add(ContainerLocalizer.class.getName());\n    command.add(user);\n    command.add(appId);\n    command.add(locId);\n    command.add(nmAddr.getHostName());\n    command.add(Integer.toString(nmAddr.getPort()));\n    for(String dir : localDirs) {\n      command.add(dir);\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ContainerLocalizer.java",
          "extendedDetails": {
            "oldValue": "[command-List\u003cString\u003e, user-String, appId-String, locId-String, nmAddr-InetSocketAddress, localDirs-List\u003cString\u003e]",
            "newValue": "[command-List\u003cString\u003e, user-String, appId-String, locId-String, nmAddr-InetSocketAddress, localDirs-List\u003cString\u003e, conf-Configuration]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-7363. ContainerLocalizer don\u0027t have a valid log4j config in case of Linux container executor. (Contributed by Yufei Gu)\n",
          "commitDate": "27/11/17 2:31 PM",
          "commitName": "d8923cdbf1567aee10a54f144fef734d1465ebed",
          "commitAuthor": "Yufei Gu",
          "commitDateOld": "22/08/17 1:14 AM",
          "commitNameOld": "d5ff57a08fac983f8b5d201064ce07945f0f216e",
          "commitAuthorOld": "Akira Ajisaka",
          "daysBetweenCommits": 97.6,
          "commitsBetweenForRepo": 850,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,14 +1,18 @@\n   public static void buildMainArgs(List\u003cString\u003e command,\n       String user, String appId, String locId,\n-      InetSocketAddress nmAddr, List\u003cString\u003e localDirs) {\n-    \n+      InetSocketAddress nmAddr, List\u003cString\u003e localDirs, Configuration conf) {\n+\n+    String logLevel \u003d conf.get(YarnConfiguration.\n+            NM_CONTAINER_LOCALIZER_LOG_LEVEL,\n+        YarnConfiguration.NM_CONTAINER_LOCALIZER_LOG_LEVEL_DEFAULT);\n+    addLog4jSystemProperties(logLevel, command);\n     command.add(ContainerLocalizer.class.getName());\n     command.add(user);\n     command.add(appId);\n     command.add(locId);\n     command.add(nmAddr.getHostName());\n     command.add(Integer.toString(nmAddr.getPort()));\n     for(String dir : localDirs) {\n       command.add(dir);\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static void buildMainArgs(List\u003cString\u003e command,\n      String user, String appId, String locId,\n      InetSocketAddress nmAddr, List\u003cString\u003e localDirs, Configuration conf) {\n\n    String logLevel \u003d conf.get(YarnConfiguration.\n            NM_CONTAINER_LOCALIZER_LOG_LEVEL,\n        YarnConfiguration.NM_CONTAINER_LOCALIZER_LOG_LEVEL_DEFAULT);\n    addLog4jSystemProperties(logLevel, command);\n    command.add(ContainerLocalizer.class.getName());\n    command.add(user);\n    command.add(appId);\n    command.add(locId);\n    command.add(nmAddr.getHostName());\n    command.add(Integer.toString(nmAddr.getPort()));\n    for(String dir : localDirs) {\n      command.add(dir);\n    }\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ContainerLocalizer.java",
          "extendedDetails": {}
        }
      ]
    },
    "ba7f31c2ee8d23ecb183f88920ef06053c0b9769": {
      "type": "Yintroduced",
      "commitMessage": "YARN-1972. Added a secure container-executor for Windows. Contributed by Remus Rusanu.\n",
      "commitDate": "01/10/14 10:14 AM",
      "commitName": "ba7f31c2ee8d23ecb183f88920ef06053c0b9769",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,14 @@\n+  public static void buildMainArgs(List\u003cString\u003e command,\n+      String user, String appId, String locId,\n+      InetSocketAddress nmAddr, List\u003cString\u003e localDirs) {\n+    \n+    command.add(ContainerLocalizer.class.getName());\n+    command.add(user);\n+    command.add(appId);\n+    command.add(locId);\n+    command.add(nmAddr.getHostName());\n+    command.add(Integer.toString(nmAddr.getPort()));\n+    for(String dir : localDirs) {\n+      command.add(dir);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static void buildMainArgs(List\u003cString\u003e command,\n      String user, String appId, String locId,\n      InetSocketAddress nmAddr, List\u003cString\u003e localDirs) {\n    \n    command.add(ContainerLocalizer.class.getName());\n    command.add(user);\n    command.add(appId);\n    command.add(locId);\n    command.add(nmAddr.getHostName());\n    command.add(Integer.toString(nmAddr.getPort()));\n    for(String dir : localDirs) {\n      command.add(dir);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/localizer/ContainerLocalizer.java"
    }
  }
}