{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ProxyUriUtils.java",
  "functionName": "getProxyUri",
  "functionId": "getProxyUri___originalUri-URI__proxyUri-URI__id-ApplicationId",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
  "functionStartLine": 159,
  "functionEndLine": 169,
  "numCommitsSeen": 13,
  "timeTaken": 1042,
  "changeHistory": [
    "e1fdf62123625e4ba399af02f8aad500637d29d1",
    "feb3a23c71a5e000f1100e1ca6459c1fade8befc",
    "8aabd3d4e67cad8dc7e46f5339981135badc7421"
  ],
  "changeHistoryShort": {
    "e1fdf62123625e4ba399af02f8aad500637d29d1": "Yfilerename",
    "feb3a23c71a5e000f1100e1ca6459c1fade8befc": "Ybodychange",
    "8aabd3d4e67cad8dc7e46f5339981135badc7421": "Yintroduced"
  },
  "changeHistoryDetails": {
    "e1fdf62123625e4ba399af02f8aad500637d29d1": {
      "type": "Yfilerename",
      "commitMessage": "YARN-1. Promote YARN to be a sub-project of Apache Hadoop.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1370666 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/12 10:22 PM",
      "commitName": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/08/12 7:53 PM",
      "commitNameOld": "34554d1e11ee1d5b564d7d9ed3e6d55931d72749",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static URI getProxyUri(URI originalUri, URI proxyUri,\n      ApplicationId id) {\n    try {\n      String path \u003d getPath(id, originalUri \u003d\u003d null ? \"/\" : originalUri.getPath());\n      return new URI(proxyUri.getScheme(), proxyUri.getAuthority(), path,\n          originalUri \u003d\u003d null ? null : originalUri.getQuery(),\n          originalUri \u003d\u003d null ? null : originalUri.getFragment());\n    } catch (URISyntaxException e) {\n      throw new RuntimeException(\"Could not proxify \"+originalUri,e);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java"
      }
    },
    "feb3a23c71a5e000f1100e1ca6459c1fade8befc": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-3387. Fixed AM\u0027s tracking URL to always go through the proxy, even before the job started, so that it works properly with oozie throughout the job execution. Contributed by Robert Joseph Evans.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1215345 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/12/11 3:41 PM",
      "commitName": "feb3a23c71a5e000f1100e1ca6459c1fade8befc",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "28/10/11 12:44 AM",
      "commitNameOld": "a39992ea6345a9f29814587604ac61b21c99fc3e",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 49.66,
      "commitsBetweenForRepo": 306,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,11 @@\n   public static URI getProxyUri(URI originalUri, URI proxyUri,\n       ApplicationId id) {\n     try {\n-      String path \u003d getPath(id, originalUri.getPath());\n+      String path \u003d getPath(id, originalUri \u003d\u003d null ? \"/\" : originalUri.getPath());\n       return new URI(proxyUri.getScheme(), proxyUri.getAuthority(), path,\n-          originalUri.getQuery(), originalUri.getFragment());\n+          originalUri \u003d\u003d null ? null : originalUri.getQuery(),\n+          originalUri \u003d\u003d null ? null : originalUri.getFragment());\n     } catch (URISyntaxException e) {\n       throw new RuntimeException(\"Could not proxify \"+originalUri,e);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static URI getProxyUri(URI originalUri, URI proxyUri,\n      ApplicationId id) {\n    try {\n      String path \u003d getPath(id, originalUri \u003d\u003d null ? \"/\" : originalUri.getPath());\n      return new URI(proxyUri.getScheme(), proxyUri.getAuthority(), path,\n          originalUri \u003d\u003d null ? null : originalUri.getQuery(),\n          originalUri \u003d\u003d null ? null : originalUri.getFragment());\n    } catch (URISyntaxException e) {\n      throw new RuntimeException(\"Could not proxify \"+originalUri,e);\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java",
      "extendedDetails": {}
    },
    "8aabd3d4e67cad8dc7e46f5339981135badc7421": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-2858. Added a WebApp Proxy for applications. Contributed by Robert Evans.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1189036 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "25/10/11 11:29 PM",
      "commitName": "8aabd3d4e67cad8dc7e46f5339981135badc7421",
      "commitAuthor": "Arun Murthy",
      "diff": "@@ -0,0 +1,10 @@\n+  public static URI getProxyUri(URI originalUri, URI proxyUri,\n+      ApplicationId id) {\n+    try {\n+      String path \u003d getPath(id, originalUri.getPath());\n+      return new URI(proxyUri.getScheme(), proxyUri.getAuthority(), path,\n+          originalUri.getQuery(), originalUri.getFragment());\n+    } catch (URISyntaxException e) {\n+      throw new RuntimeException(\"Could not proxify \"+originalUri,e);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static URI getProxyUri(URI originalUri, URI proxyUri,\n      ApplicationId id) {\n    try {\n      String path \u003d getPath(id, originalUri.getPath());\n      return new URI(proxyUri.getScheme(), proxyUri.getAuthority(), path,\n          originalUri.getQuery(), originalUri.getFragment());\n    } catch (URISyntaxException e) {\n      throw new RuntimeException(\"Could not proxify \"+originalUri,e);\n    }\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/ProxyUriUtils.java"
    }
  }
}