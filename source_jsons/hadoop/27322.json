{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "TimelineReaderWebServices.java",
  "functionName": "validateAuthUserWithEntityUser",
  "functionId": "validateAuthUserWithEntityUser___readerManager-TimelineReaderManager__ugi-UserGroupInformation__entityUser-String",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServices.java",
  "functionStartLine": 3626,
  "functionEndLine": 3634,
  "numCommitsSeen": 63,
  "timeTaken": 3644,
  "changeHistory": [
    "2064ca015d1584263aac0cc20c60b925a3aff612",
    "469b29c0817b7bf1902c9195c4f8d031a909e1c9",
    "8261f9e5710038ccbc475dbfcea3b9ae79b6f482",
    "c05b5d424b000bab766f57e88a07f2b4e9a56647"
  ],
  "changeHistoryShort": {
    "2064ca015d1584263aac0cc20c60b925a3aff612": "Ybodychange",
    "469b29c0817b7bf1902c9195c4f8d031a909e1c9": "Ymodifierchange",
    "8261f9e5710038ccbc475dbfcea3b9ae79b6f482": "Ymultichange(Yparameterchange,Ybodychange)",
    "c05b5d424b000bab766f57e88a07f2b4e9a56647": "Yintroduced"
  },
  "changeHistoryDetails": {
    "2064ca015d1584263aac0cc20c60b925a3aff612": {
      "type": "Ybodychange",
      "commitMessage": "YARN-9349.  Changed logging to use slf4j api.\n            Contributed by Prabhu Joseph\n",
      "commitDate": "15/03/19 4:20 PM",
      "commitName": "2064ca015d1584263aac0cc20c60b925a3aff612",
      "commitAuthor": "Eric Yang",
      "commitDateOld": "06/02/19 8:28 PM",
      "commitNameOld": "1e5e08d83b8dc168e636e0834584fecf5d44cb65",
      "commitAuthorOld": "Rohith Sharma K S",
      "daysBetweenCommits": 36.79,
      "commitsBetweenForRepo": 334,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,9 @@\n   static boolean validateAuthUserWithEntityUser(\n       TimelineReaderManager readerManager, UserGroupInformation ugi,\n       String entityUser) {\n     String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n     String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n-    if (LOG.isDebugEnabled()) {\n-      LOG.debug(\n-          \"Authenticated User: \" + authUser + \" Requested User:\" + entityUser);\n-    }\n+    LOG.debug(\n+          \"Authenticated User: {} Requested User:{}\", authUser, entityUser);\n     return (readerManager.checkAccess(ugi) || authUser.equals(requestedUser));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static boolean validateAuthUserWithEntityUser(\n      TimelineReaderManager readerManager, UserGroupInformation ugi,\n      String entityUser) {\n    String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n    String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n    LOG.debug(\n          \"Authenticated User: {} Requested User:{}\", authUser, entityUser);\n    return (readerManager.checkAccess(ugi) || authUser.equals(requestedUser));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServices.java",
      "extendedDetails": {}
    },
    "469b29c0817b7bf1902c9195c4f8d031a909e1c9": {
      "type": "Ymodifierchange",
      "commitMessage": "YARN-8455. Add basic ACL check for all ATS v2 REST APIs. Contributed by Rohith Sharma K S.\n",
      "commitDate": "29/06/18 10:02 AM",
      "commitName": "469b29c0817b7bf1902c9195c4f8d031a909e1c9",
      "commitAuthor": "Sunil G",
      "commitDateOld": "01/06/18 8:59 PM",
      "commitNameOld": "8261f9e5710038ccbc475dbfcea3b9ae79b6f482",
      "commitAuthorOld": "Rohith Sharma K S",
      "daysBetweenCommits": 27.54,
      "commitsBetweenForRepo": 167,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n-  private boolean validateAuthUserWithEntityUser(\n+  static boolean validateAuthUserWithEntityUser(\n       TimelineReaderManager readerManager, UserGroupInformation ugi,\n       String entityUser) {\n     String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n     String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n     if (LOG.isDebugEnabled()) {\n       LOG.debug(\n           \"Authenticated User: \" + authUser + \" Requested User:\" + entityUser);\n     }\n     return (readerManager.checkAccess(ugi) || authUser.equals(requestedUser));\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static boolean validateAuthUserWithEntityUser(\n      TimelineReaderManager readerManager, UserGroupInformation ugi,\n      String entityUser) {\n    String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n    String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\n          \"Authenticated User: \" + authUser + \" Requested User:\" + entityUser);\n    }\n    return (readerManager.checkAccess(ugi) || authUser.equals(requestedUser));\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServices.java",
      "extendedDetails": {
        "oldValue": "[private]",
        "newValue": "[static]"
      }
    },
    "8261f9e5710038ccbc475dbfcea3b9ae79b6f482": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "More YARN pages need to honor yarn.resourcemanager.display.per-user-apps(addendum). Contributed by Sunil G.\n",
      "commitDate": "01/06/18 8:59 PM",
      "commitName": "8261f9e5710038ccbc475dbfcea3b9ae79b6f482",
      "commitAuthor": "Rohith Sharma K S",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "More YARN pages need to honor yarn.resourcemanager.display.per-user-apps(addendum). Contributed by Sunil G.\n",
          "commitDate": "01/06/18 8:59 PM",
          "commitName": "8261f9e5710038ccbc475dbfcea3b9ae79b6f482",
          "commitAuthor": "Rohith Sharma K S",
          "commitDateOld": "24/05/18 1:49 AM",
          "commitNameOld": "c05b5d424b000bab766f57e88a07f2b4e9a56647",
          "commitAuthorOld": "Rohith Sharma K S",
          "daysBetweenCommits": 8.8,
          "commitsBetweenForRepo": 74,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,11 @@\n-  private boolean validateAuthUserWithEntityUser(UserGroupInformation ugi,\n+  private boolean validateAuthUserWithEntityUser(\n+      TimelineReaderManager readerManager, UserGroupInformation ugi,\n       String entityUser) {\n     String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n     String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n     if (LOG.isDebugEnabled()) {\n       LOG.debug(\n           \"Authenticated User: \" + authUser + \" Requested User:\" + entityUser);\n     }\n-    return authUser.equals(requestedUser);\n+    return (readerManager.checkAccess(ugi) || authUser.equals(requestedUser));\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private boolean validateAuthUserWithEntityUser(\n      TimelineReaderManager readerManager, UserGroupInformation ugi,\n      String entityUser) {\n    String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n    String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\n          \"Authenticated User: \" + authUser + \" Requested User:\" + entityUser);\n    }\n    return (readerManager.checkAccess(ugi) || authUser.equals(requestedUser));\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServices.java",
          "extendedDetails": {
            "oldValue": "[ugi-UserGroupInformation, entityUser-String]",
            "newValue": "[readerManager-TimelineReaderManager, ugi-UserGroupInformation, entityUser-String]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "More YARN pages need to honor yarn.resourcemanager.display.per-user-apps(addendum). Contributed by Sunil G.\n",
          "commitDate": "01/06/18 8:59 PM",
          "commitName": "8261f9e5710038ccbc475dbfcea3b9ae79b6f482",
          "commitAuthor": "Rohith Sharma K S",
          "commitDateOld": "24/05/18 1:49 AM",
          "commitNameOld": "c05b5d424b000bab766f57e88a07f2b4e9a56647",
          "commitAuthorOld": "Rohith Sharma K S",
          "daysBetweenCommits": 8.8,
          "commitsBetweenForRepo": 74,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,11 @@\n-  private boolean validateAuthUserWithEntityUser(UserGroupInformation ugi,\n+  private boolean validateAuthUserWithEntityUser(\n+      TimelineReaderManager readerManager, UserGroupInformation ugi,\n       String entityUser) {\n     String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n     String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n     if (LOG.isDebugEnabled()) {\n       LOG.debug(\n           \"Authenticated User: \" + authUser + \" Requested User:\" + entityUser);\n     }\n-    return authUser.equals(requestedUser);\n+    return (readerManager.checkAccess(ugi) || authUser.equals(requestedUser));\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private boolean validateAuthUserWithEntityUser(\n      TimelineReaderManager readerManager, UserGroupInformation ugi,\n      String entityUser) {\n    String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n    String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\n          \"Authenticated User: \" + authUser + \" Requested User:\" + entityUser);\n    }\n    return (readerManager.checkAccess(ugi) || authUser.equals(requestedUser));\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServices.java",
          "extendedDetails": {}
        }
      ]
    },
    "c05b5d424b000bab766f57e88a07f2b4e9a56647": {
      "type": "Yintroduced",
      "commitMessage": "YARN-8319. More YARN pages need to honor yarn.resourcemanager.display.per-user-apps. Contributed by Sunil G.\n",
      "commitDate": "24/05/18 1:49 AM",
      "commitName": "c05b5d424b000bab766f57e88a07f2b4e9a56647",
      "commitAuthor": "Rohith Sharma K S",
      "diff": "@@ -0,0 +1,10 @@\n+  private boolean validateAuthUserWithEntityUser(UserGroupInformation ugi,\n+      String entityUser) {\n+    String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n+    String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n+    if (LOG.isDebugEnabled()) {\n+      LOG.debug(\n+          \"Authenticated User: \" + authUser + \" Requested User:\" + entityUser);\n+    }\n+    return authUser.equals(requestedUser);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private boolean validateAuthUserWithEntityUser(UserGroupInformation ugi,\n      String entityUser) {\n    String authUser \u003d TimelineReaderWebServicesUtils.getUserName(ugi);\n    String requestedUser \u003d TimelineReaderWebServicesUtils.parseStr(entityUser);\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\n          \"Authenticated User: \" + authUser + \" Requested User:\" + entityUser);\n    }\n    return authUser.equals(requestedUser);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/reader/TimelineReaderWebServices.java"
    }
  }
}