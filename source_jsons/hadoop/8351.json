{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSDirErasureCodingOp.java",
  "functionName": "getErasureCodingPolicy",
  "functionId": "getErasureCodingPolicy___fsn-FSNamesystem__ecPolicyName-String__iip-INodesInPath",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
  "functionStartLine": 394,
  "functionEndLine": 405,
  "numCommitsSeen": 40,
  "timeTaken": 2367,
  "changeHistory": [
    "92c58901d767f4fea571274544a590608c911cb8",
    "cf4108313da83e28d07676078a33016ec8856ff6"
  ],
  "changeHistoryShort": {
    "92c58901d767f4fea571274544a590608c911cb8": "Ybodychange",
    "cf4108313da83e28d07676078a33016ec8856ff6": "Yintroduced"
  },
  "changeHistoryDetails": {
    "92c58901d767f4fea571274544a590608c911cb8": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-15117. EC: Add getECTopologyResultForPolicies to DistributedFileSystem. Contributed by Ayush Saxena\n",
      "commitDate": "23/01/20 4:48 AM",
      "commitName": "92c58901d767f4fea571274544a590608c911cb8",
      "commitAuthor": "Ayush Saxena",
      "commitDateOld": "09/09/18 8:40 PM",
      "commitNameOld": "30eceec3420fc6be00d3878ba787bd9518d3ca0e",
      "commitAuthorOld": "Vinayakumar B",
      "daysBetweenCommits": 500.38,
      "commitsBetweenForRepo": 3530,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,12 @@\n   static ErasureCodingPolicy getErasureCodingPolicy(FSNamesystem fsn,\n       String ecPolicyName, INodesInPath iip) throws IOException {\n     ErasureCodingPolicy ecPolicy;\n     if (!StringUtils.isEmpty(ecPolicyName)) {\n-      ecPolicy \u003d FSDirErasureCodingOp.getErasureCodingPolicyByName(\n+      ecPolicy \u003d FSDirErasureCodingOp.getEnabledErasureCodingPolicyByName(\n           fsn, ecPolicyName);\n     } else {\n       ecPolicy \u003d FSDirErasureCodingOp.unprotectedGetErasureCodingPolicy(\n           fsn, iip);\n     }\n     return ecPolicy;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  static ErasureCodingPolicy getErasureCodingPolicy(FSNamesystem fsn,\n      String ecPolicyName, INodesInPath iip) throws IOException {\n    ErasureCodingPolicy ecPolicy;\n    if (!StringUtils.isEmpty(ecPolicyName)) {\n      ecPolicy \u003d FSDirErasureCodingOp.getEnabledErasureCodingPolicyByName(\n          fsn, ecPolicyName);\n    } else {\n      ecPolicy \u003d FSDirErasureCodingOp.unprotectedGetErasureCodingPolicy(\n          fsn, iip);\n    }\n    return ecPolicy;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java",
      "extendedDetails": {}
    },
    "cf4108313da83e28d07676078a33016ec8856ff6": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-13642. Creating a file with block size smaller than EC policy\u0027s cell size should fail.\n",
      "commitDate": "08/06/18 3:14 PM",
      "commitName": "cf4108313da83e28d07676078a33016ec8856ff6",
      "commitAuthor": "Xiao Chen",
      "diff": "@@ -0,0 +1,12 @@\n+  static ErasureCodingPolicy getErasureCodingPolicy(FSNamesystem fsn,\n+      String ecPolicyName, INodesInPath iip) throws IOException {\n+    ErasureCodingPolicy ecPolicy;\n+    if (!StringUtils.isEmpty(ecPolicyName)) {\n+      ecPolicy \u003d FSDirErasureCodingOp.getErasureCodingPolicyByName(\n+          fsn, ecPolicyName);\n+    } else {\n+      ecPolicy \u003d FSDirErasureCodingOp.unprotectedGetErasureCodingPolicy(\n+          fsn, iip);\n+    }\n+    return ecPolicy;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  static ErasureCodingPolicy getErasureCodingPolicy(FSNamesystem fsn,\n      String ecPolicyName, INodesInPath iip) throws IOException {\n    ErasureCodingPolicy ecPolicy;\n    if (!StringUtils.isEmpty(ecPolicyName)) {\n      ecPolicy \u003d FSDirErasureCodingOp.getErasureCodingPolicyByName(\n          fsn, ecPolicyName);\n    } else {\n      ecPolicy \u003d FSDirErasureCodingOp.unprotectedGetErasureCodingPolicy(\n          fsn, iip);\n    }\n    return ecPolicy;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSDirErasureCodingOp.java"
    }
  }
}