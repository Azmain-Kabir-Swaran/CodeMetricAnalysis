{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMAppAttemptImpl.java",
  "functionName": "getAMContainerCrashedDiagnostics",
  "functionId": "getAMContainerCrashedDiagnostics___finishEvent-RMAppAttemptContainerFinishedEvent",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java",
  "functionStartLine": 1738,
  "functionEndLine": 1755,
  "numCommitsSeen": 155,
  "timeTaken": 4587,
  "changeHistory": [
    "1970ca7cbcdb7efa160d0cedc2e3e22c1401fad6",
    "b88700dcd0b9aa47662009241dfb83bc4446548d",
    "afb9394c9103aa9f3dbe36d4067621ed1b986395",
    "5cb489f9d39cdfdfcae7ec7e99f08cb86b178721",
    "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6"
  ],
  "changeHistoryShort": {
    "1970ca7cbcdb7efa160d0cedc2e3e22c1401fad6": "Ybodychange",
    "b88700dcd0b9aa47662009241dfb83bc4446548d": "Ybodychange",
    "afb9394c9103aa9f3dbe36d4067621ed1b986395": "Ybodychange",
    "5cb489f9d39cdfdfcae7ec7e99f08cb86b178721": "Ymultichange(Ymodifierchange,Ybodychange)",
    "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6": "Yintroduced"
  },
  "changeHistoryDetails": {
    "1970ca7cbcdb7efa160d0cedc2e3e22c1401fad6": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2392. Add more diags about app retry limits on AM failures. Contributed by Steve Loughran\n",
      "commitDate": "04/06/15 11:14 AM",
      "commitName": "1970ca7cbcdb7efa160d0cedc2e3e22c1401fad6",
      "commitAuthor": "Jian He",
      "commitDateOld": "07/05/15 1:54 PM",
      "commitNameOld": "b88700dcd0b9aa47662009241dfb83bc4446548d",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 27.89,
      "commitsBetweenForRepo": 296,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,18 +1,18 @@\n   private String getAMContainerCrashedDiagnostics(\n       RMAppAttemptContainerFinishedEvent finishEvent) {\n     ContainerStatus status \u003d finishEvent.getContainerStatus();\n     StringBuilder diagnosticsBuilder \u003d new StringBuilder();\n     diagnosticsBuilder.append(\"AM Container for \").append(\n       finishEvent.getApplicationAttemptId()).append(\n       \" exited with \").append(\" exitCode: \").append(status.getExitStatus()).\n       append(\"\\n\");\n     diagnosticsBuilder.append(\"Failing this attempt.\").append(\"Diagnostics: \")\n         .append(status.getDiagnostics());\n     if (this.getTrackingUrl() !\u003d null) {\n       diagnosticsBuilder.append(\"For more detailed output,\").append(\n-        \" check application tracking page: \").append(\n+        \" check the application tracking page: \").append(\n         this.getTrackingUrl()).append(\n-        \" Then, click on links to logs of each attempt.\\n\");\n+        \" Then click on links to logs of each attempt.\\n\");\n     }\n     return diagnosticsBuilder.toString();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private String getAMContainerCrashedDiagnostics(\n      RMAppAttemptContainerFinishedEvent finishEvent) {\n    ContainerStatus status \u003d finishEvent.getContainerStatus();\n    StringBuilder diagnosticsBuilder \u003d new StringBuilder();\n    diagnosticsBuilder.append(\"AM Container for \").append(\n      finishEvent.getApplicationAttemptId()).append(\n      \" exited with \").append(\" exitCode: \").append(status.getExitStatus()).\n      append(\"\\n\");\n    diagnosticsBuilder.append(\"Failing this attempt.\").append(\"Diagnostics: \")\n        .append(status.getDiagnostics());\n    if (this.getTrackingUrl() !\u003d null) {\n      diagnosticsBuilder.append(\"For more detailed output,\").append(\n        \" check the application tracking page: \").append(\n        this.getTrackingUrl()).append(\n        \" Then click on links to logs of each attempt.\\n\");\n    }\n    return diagnosticsBuilder.toString();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java",
      "extendedDetails": {}
    },
    "b88700dcd0b9aa47662009241dfb83bc4446548d": {
      "type": "Ybodychange",
      "commitMessage": "YARN-3584. Fixed attempt diagnostics format shown on the UI. Contributed by nijel\n",
      "commitDate": "07/05/15 1:54 PM",
      "commitName": "b88700dcd0b9aa47662009241dfb83bc4446548d",
      "commitAuthor": "Jian He",
      "commitDateOld": "24/04/15 12:13 PM",
      "commitNameOld": "d03dcb9635dbd79a45d229d1cab5fd28e5e49f49",
      "commitAuthorOld": "Jian He",
      "daysBetweenCommits": 13.07,
      "commitsBetweenForRepo": 121,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,18 +1,18 @@\n   private String getAMContainerCrashedDiagnostics(\n       RMAppAttemptContainerFinishedEvent finishEvent) {\n     ContainerStatus status \u003d finishEvent.getContainerStatus();\n     StringBuilder diagnosticsBuilder \u003d new StringBuilder();\n     diagnosticsBuilder.append(\"AM Container for \").append(\n       finishEvent.getApplicationAttemptId()).append(\n       \" exited with \").append(\" exitCode: \").append(status.getExitStatus()).\n       append(\"\\n\");\n+    diagnosticsBuilder.append(\"Failing this attempt.\").append(\"Diagnostics: \")\n+        .append(status.getDiagnostics());\n     if (this.getTrackingUrl() !\u003d null) {\n       diagnosticsBuilder.append(\"For more detailed output,\").append(\n-        \" check application tracking page:\").append(\n+        \" check application tracking page: \").append(\n         this.getTrackingUrl()).append(\n-        \"Then, click on links to logs of each attempt.\\n\");\n+        \" Then, click on links to logs of each attempt.\\n\");\n     }\n-    diagnosticsBuilder.append(\"Diagnostics: \").append(status.getDiagnostics())\n-        .append(\"Failing this attempt\");\n     return diagnosticsBuilder.toString();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private String getAMContainerCrashedDiagnostics(\n      RMAppAttemptContainerFinishedEvent finishEvent) {\n    ContainerStatus status \u003d finishEvent.getContainerStatus();\n    StringBuilder diagnosticsBuilder \u003d new StringBuilder();\n    diagnosticsBuilder.append(\"AM Container for \").append(\n      finishEvent.getApplicationAttemptId()).append(\n      \" exited with \").append(\" exitCode: \").append(status.getExitStatus()).\n      append(\"\\n\");\n    diagnosticsBuilder.append(\"Failing this attempt.\").append(\"Diagnostics: \")\n        .append(status.getDiagnostics());\n    if (this.getTrackingUrl() !\u003d null) {\n      diagnosticsBuilder.append(\"For more detailed output,\").append(\n        \" check application tracking page: \").append(\n        this.getTrackingUrl()).append(\n        \" Then, click on links to logs of each attempt.\\n\");\n    }\n    return diagnosticsBuilder.toString();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java",
      "extendedDetails": {}
    },
    "afb9394c9103aa9f3dbe36d4067621ed1b986395": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2242. Addendum patch. Improve exception information on AM launch crashes. (Contributed by Li Lu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1612565 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "22/07/14 6:07 AM",
      "commitName": "afb9394c9103aa9f3dbe36d4067621ed1b986395",
      "commitAuthor": "Junping Du",
      "commitDateOld": "18/07/14 2:46 PM",
      "commitNameOld": "f1b831ccfbec37712522bef7a44f51bff0369003",
      "commitAuthorOld": "Xuan Gong",
      "daysBetweenCommits": 3.64,
      "commitsBetweenForRepo": 17,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,18 @@\n   private String getAMContainerCrashedDiagnostics(\n       RMAppAttemptContainerFinishedEvent finishEvent) {\n     ContainerStatus status \u003d finishEvent.getContainerStatus();\n-    String diagnostics \u003d\n-        \"AM Container for \" + finishEvent.getApplicationAttemptId()\n-        + \" exited with \" + \" exitCode: \" + status.getExitStatus() + \". \"\n-        + \"Check application tracking page: \" + this.getTrackingUrl()\n-        + \" . Then, click on links to logs of each attempt for detailed output. \";\n-    return diagnostics;\n+    StringBuilder diagnosticsBuilder \u003d new StringBuilder();\n+    diagnosticsBuilder.append(\"AM Container for \").append(\n+      finishEvent.getApplicationAttemptId()).append(\n+      \" exited with \").append(\" exitCode: \").append(status.getExitStatus()).\n+      append(\"\\n\");\n+    if (this.getTrackingUrl() !\u003d null) {\n+      diagnosticsBuilder.append(\"For more detailed output,\").append(\n+        \" check application tracking page:\").append(\n+        this.getTrackingUrl()).append(\n+        \"Then, click on links to logs of each attempt.\\n\");\n+    }\n+    diagnosticsBuilder.append(\"Diagnostics: \").append(status.getDiagnostics())\n+        .append(\"Failing this attempt\");\n+    return diagnosticsBuilder.toString();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private String getAMContainerCrashedDiagnostics(\n      RMAppAttemptContainerFinishedEvent finishEvent) {\n    ContainerStatus status \u003d finishEvent.getContainerStatus();\n    StringBuilder diagnosticsBuilder \u003d new StringBuilder();\n    diagnosticsBuilder.append(\"AM Container for \").append(\n      finishEvent.getApplicationAttemptId()).append(\n      \" exited with \").append(\" exitCode: \").append(status.getExitStatus()).\n      append(\"\\n\");\n    if (this.getTrackingUrl() !\u003d null) {\n      diagnosticsBuilder.append(\"For more detailed output,\").append(\n        \" check application tracking page:\").append(\n        this.getTrackingUrl()).append(\n        \"Then, click on links to logs of each attempt.\\n\");\n    }\n    diagnosticsBuilder.append(\"Diagnostics: \").append(status.getDiagnostics())\n        .append(\"Failing this attempt\");\n    return diagnosticsBuilder.toString();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java",
      "extendedDetails": {}
    },
    "5cb489f9d39cdfdfcae7ec7e99f08cb86b178721": {
      "type": "Ymultichange(Ymodifierchange,Ybodychange)",
      "commitMessage": "YARN-2242. Improve exception information on AM launch crashes. (Contributed by Li Lu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1607655 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/07/14 7:15 AM",
      "commitName": "5cb489f9d39cdfdfcae7ec7e99f08cb86b178721",
      "commitAuthor": "Junping Du",
      "subchanges": [
        {
          "type": "Ymodifierchange",
          "commitMessage": "YARN-2242. Improve exception information on AM launch crashes. (Contributed by Li Lu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1607655 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "03/07/14 7:15 AM",
          "commitName": "5cb489f9d39cdfdfcae7ec7e99f08cb86b178721",
          "commitAuthor": "Junping Du",
          "commitDateOld": "01/07/14 6:54 PM",
          "commitNameOld": "03a25d2cc1a2fb124d00edf874d67e329c65a5e6",
          "commitAuthorOld": "Mayank Bansal",
          "daysBetweenCommits": 1.51,
          "commitsBetweenForRepo": 21,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n-  private static String getAMContainerCrashedDiagnostics(\n+  private String getAMContainerCrashedDiagnostics(\n       RMAppAttemptContainerFinishedEvent finishEvent) {\n     ContainerStatus status \u003d finishEvent.getContainerStatus();\n     String diagnostics \u003d\n         \"AM Container for \" + finishEvent.getApplicationAttemptId()\n-            + \" exited with \" + \" exitCode: \" + status.getExitStatus()\n-            + \" due to: \" + status.getDiagnostics() + \".\"\n-            + \"Failing this attempt.\";\n+        + \" exited with \" + \" exitCode: \" + status.getExitStatus() + \". \"\n+        + \"Check application tracking page: \" + this.getTrackingUrl()\n+        + \" . Then, click on links to logs of each attempt for detailed output. \";\n     return diagnostics;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private String getAMContainerCrashedDiagnostics(\n      RMAppAttemptContainerFinishedEvent finishEvent) {\n    ContainerStatus status \u003d finishEvent.getContainerStatus();\n    String diagnostics \u003d\n        \"AM Container for \" + finishEvent.getApplicationAttemptId()\n        + \" exited with \" + \" exitCode: \" + status.getExitStatus() + \". \"\n        + \"Check application tracking page: \" + this.getTrackingUrl()\n        + \" . Then, click on links to logs of each attempt for detailed output. \";\n    return diagnostics;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java",
          "extendedDetails": {
            "oldValue": "[private, static]",
            "newValue": "[private]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-2242. Improve exception information on AM launch crashes. (Contributed by Li Lu)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1607655 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "03/07/14 7:15 AM",
          "commitName": "5cb489f9d39cdfdfcae7ec7e99f08cb86b178721",
          "commitAuthor": "Junping Du",
          "commitDateOld": "01/07/14 6:54 PM",
          "commitNameOld": "03a25d2cc1a2fb124d00edf874d67e329c65a5e6",
          "commitAuthorOld": "Mayank Bansal",
          "daysBetweenCommits": 1.51,
          "commitsBetweenForRepo": 21,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n-  private static String getAMContainerCrashedDiagnostics(\n+  private String getAMContainerCrashedDiagnostics(\n       RMAppAttemptContainerFinishedEvent finishEvent) {\n     ContainerStatus status \u003d finishEvent.getContainerStatus();\n     String diagnostics \u003d\n         \"AM Container for \" + finishEvent.getApplicationAttemptId()\n-            + \" exited with \" + \" exitCode: \" + status.getExitStatus()\n-            + \" due to: \" + status.getDiagnostics() + \".\"\n-            + \"Failing this attempt.\";\n+        + \" exited with \" + \" exitCode: \" + status.getExitStatus() + \". \"\n+        + \"Check application tracking page: \" + this.getTrackingUrl()\n+        + \" . Then, click on links to logs of each attempt for detailed output. \";\n     return diagnostics;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private String getAMContainerCrashedDiagnostics(\n      RMAppAttemptContainerFinishedEvent finishEvent) {\n    ContainerStatus status \u003d finishEvent.getContainerStatus();\n    String diagnostics \u003d\n        \"AM Container for \" + finishEvent.getApplicationAttemptId()\n        + \" exited with \" + \" exitCode: \" + status.getExitStatus() + \". \"\n        + \"Check application tracking page: \" + this.getTrackingUrl()\n        + \" . Then, click on links to logs of each attempt for detailed output. \";\n    return diagnostics;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java",
          "extendedDetails": {}
        }
      ]
    },
    "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6": {
      "type": "Yintroduced",
      "commitMessage": "YARN-891. Modified ResourceManager state-store to remember completed applications so that clients can get information about them post RM-restart. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1537560 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "31/10/13 10:25 AM",
      "commitName": "9f4d4e27fb1760b352cc5b301cd65a50d2d43ff6",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,10 @@\n+  private static String getAMContainerCrashedDiagnostics(\n+      RMAppAttemptContainerFinishedEvent finishEvent) {\n+    ContainerStatus status \u003d finishEvent.getContainerStatus();\n+    String diagnostics \u003d\n+        \"AM Container for \" + finishEvent.getApplicationAttemptId()\n+            + \" exited with \" + \" exitCode: \" + status.getExitStatus()\n+            + \" due to: \" + status.getDiagnostics() + \".\"\n+            + \"Failing this attempt.\";\n+    return diagnostics;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private static String getAMContainerCrashedDiagnostics(\n      RMAppAttemptContainerFinishedEvent finishEvent) {\n    ContainerStatus status \u003d finishEvent.getContainerStatus();\n    String diagnostics \u003d\n        \"AM Container for \" + finishEvent.getApplicationAttemptId()\n            + \" exited with \" + \" exitCode: \" + status.getExitStatus()\n            + \" due to: \" + status.getDiagnostics() + \".\"\n            + \"Failing this attempt.\";\n    return diagnostics;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java"
    }
  }
}