{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "ApplicationCLI.java",
  "functionName": "killApplication",
  "functionId": "killApplication___applicationId-String",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java",
  "functionStartLine": 537,
  "functionEndLine": 555,
  "numCommitsSeen": 72,
  "timeTaken": 2420,
  "changeHistory": [
    "9520b2ad790bd8527033a03e7ee50da71a85df1d",
    "c77a1095dc556e8bea87df6d8ddf36e898f27e86",
    "240b4e9a7f16ccd309967771108a671d16dbc1aa",
    "1ad3fe46332586cea73c47ba06342f91359db561",
    "a83fb61ac07c0468cbc7a38526e92683883dd932",
    "0727ecaf50481fa7a529398bc2a12ce18c9a6b43",
    "331b1123fbb892524ecb58e551c20befd26c9ea9"
  ],
  "changeHistoryShort": {
    "9520b2ad790bd8527033a03e7ee50da71a85df1d": "Ybodychange",
    "c77a1095dc556e8bea87df6d8ddf36e898f27e86": "Ybodychange",
    "240b4e9a7f16ccd309967771108a671d16dbc1aa": "Ybodychange",
    "1ad3fe46332586cea73c47ba06342f91359db561": "Ybodychange",
    "a83fb61ac07c0468cbc7a38526e92683883dd932": "Yexceptionschange",
    "0727ecaf50481fa7a529398bc2a12ce18c9a6b43": "Yexceptionschange",
    "331b1123fbb892524ecb58e551c20befd26c9ea9": "Yintroduced"
  },
  "changeHistoryDetails": {
    "9520b2ad790bd8527033a03e7ee50da71a85df1d": {
      "type": "Ybodychange",
      "commitMessage": "YARN-10083. Provide utility to ask whether an application is in final status. Contributed by Adam Antal\n",
      "commitDate": "22/01/20 7:25 AM",
      "commitName": "9520b2ad790bd8527033a03e7ee50da71a85df1d",
      "commitAuthor": "Szilard Nemeth",
      "commitDateOld": "13/05/19 11:11 AM",
      "commitNameOld": "206e6339469ca6d362382efbb488089ece830e98",
      "commitAuthorOld": "Giovanni Matteo Fumarola",
      "daysBetweenCommits": 253.88,
      "commitsBetweenForRepo": 1638,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,19 @@\n   private void killApplication(String applicationId) throws YarnException,\n       IOException {\n     ApplicationId appId \u003d ApplicationId.fromString(applicationId);\n     ApplicationReport  appReport \u003d null;\n     try {\n       appReport \u003d client.getApplicationReport(appId);\n     } catch (ApplicationNotFoundException e) {\n       sysout.println(\"Application with id \u0027\" + applicationId +\n           \"\u0027 doesn\u0027t exist in RM.\");\n       throw e;\n     }\n \n-    if (appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FINISHED\n-        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.KILLED\n-        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FAILED) {\n+    if (Apps.isApplicationFinalState(appReport.getYarnApplicationState())) {\n       sysout.println(\"Application \" + applicationId + \" has already finished \");\n     } else {\n       sysout.println(\"Killing application \" + applicationId);\n       client.killApplication(appId);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void killApplication(String applicationId) throws YarnException,\n      IOException {\n    ApplicationId appId \u003d ApplicationId.fromString(applicationId);\n    ApplicationReport  appReport \u003d null;\n    try {\n      appReport \u003d client.getApplicationReport(appId);\n    } catch (ApplicationNotFoundException e) {\n      sysout.println(\"Application with id \u0027\" + applicationId +\n          \"\u0027 doesn\u0027t exist in RM.\");\n      throw e;\n    }\n\n    if (Apps.isApplicationFinalState(appReport.getYarnApplicationState())) {\n      sysout.println(\"Application \" + applicationId + \" has already finished \");\n    } else {\n      sysout.println(\"Killing application \" + applicationId);\n      client.killApplication(appId);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java",
      "extendedDetails": {}
    },
    "c77a1095dc556e8bea87df6d8ddf36e898f27e86": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1942. Deprecate toString/fromString methods from ConverterUtils and move them to records classes like ContainerId/ApplicationId, etc. (wangda)\n",
      "commitDate": "14/06/16 3:06 PM",
      "commitName": "c77a1095dc556e8bea87df6d8ddf36e898f27e86",
      "commitAuthor": "Wangda Tan",
      "commitDateOld": "06/06/16 2:30 PM",
      "commitNameOld": "4a1cedc010d3fa1d8ef3f2773ca12acadfee5ba5",
      "commitAuthorOld": "Ming Ma",
      "daysBetweenCommits": 8.02,
      "commitsBetweenForRepo": 48,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,21 @@\n   private void killApplication(String applicationId) throws YarnException,\n       IOException {\n-    ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n+    ApplicationId appId \u003d ApplicationId.fromString(applicationId);\n     ApplicationReport  appReport \u003d null;\n     try {\n       appReport \u003d client.getApplicationReport(appId);\n     } catch (ApplicationNotFoundException e) {\n       sysout.println(\"Application with id \u0027\" + applicationId +\n           \"\u0027 doesn\u0027t exist in RM.\");\n       throw e;\n     }\n \n     if (appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FINISHED\n         || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.KILLED\n         || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FAILED) {\n       sysout.println(\"Application \" + applicationId + \" has already finished \");\n     } else {\n       sysout.println(\"Killing application \" + applicationId);\n       client.killApplication(appId);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void killApplication(String applicationId) throws YarnException,\n      IOException {\n    ApplicationId appId \u003d ApplicationId.fromString(applicationId);\n    ApplicationReport  appReport \u003d null;\n    try {\n      appReport \u003d client.getApplicationReport(appId);\n    } catch (ApplicationNotFoundException e) {\n      sysout.println(\"Application with id \u0027\" + applicationId +\n          \"\u0027 doesn\u0027t exist in RM.\");\n      throw e;\n    }\n\n    if (appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FINISHED\n        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.KILLED\n        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FAILED) {\n      sysout.println(\"Application \" + applicationId + \" has already finished \");\n    } else {\n      sysout.println(\"Killing application \" + applicationId);\n      client.killApplication(appId);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java",
      "extendedDetails": {}
    },
    "240b4e9a7f16ccd309967771108a671d16dbc1aa": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1768. Fixed error message being too verbose when killing a non-existent application. Contributed by Tsuyoshi Ozawa\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1574401 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "05/03/14 1:29 AM",
      "commitName": "240b4e9a7f16ccd309967771108a671d16dbc1aa",
      "commitAuthor": "Ravi Prakash",
      "commitDateOld": "10/02/14 1:19 AM",
      "commitNameOld": "1c151c31faca77b67b7f4d50d682e76bc519d79a",
      "commitAuthorOld": "Sanford Ryza",
      "daysBetweenCommits": 23.01,
      "commitsBetweenForRepo": 232,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,21 @@\n   private void killApplication(String applicationId) throws YarnException,\n       IOException {\n     ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n-    ApplicationReport appReport \u003d client.getApplicationReport(appId);\n+    ApplicationReport  appReport \u003d null;\n+    try {\n+      appReport \u003d client.getApplicationReport(appId);\n+    } catch (ApplicationNotFoundException e) {\n+      sysout.println(\"Application with id \u0027\" + applicationId +\n+          \"\u0027 doesn\u0027t exist in RM.\");\n+      throw e;\n+    }\n+\n     if (appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FINISHED\n         || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.KILLED\n         || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FAILED) {\n       sysout.println(\"Application \" + applicationId + \" has already finished \");\n     } else {\n       sysout.println(\"Killing application \" + applicationId);\n       client.killApplication(appId);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void killApplication(String applicationId) throws YarnException,\n      IOException {\n    ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n    ApplicationReport  appReport \u003d null;\n    try {\n      appReport \u003d client.getApplicationReport(appId);\n    } catch (ApplicationNotFoundException e) {\n      sysout.println(\"Application with id \u0027\" + applicationId +\n          \"\u0027 doesn\u0027t exist in RM.\");\n      throw e;\n    }\n\n    if (appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FINISHED\n        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.KILLED\n        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FAILED) {\n      sysout.println(\"Application \" + applicationId + \" has already finished \");\n    } else {\n      sysout.println(\"Killing application \" + applicationId);\n      client.killApplication(appId);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java",
      "extendedDetails": {}
    },
    "1ad3fe46332586cea73c47ba06342f91359db561": {
      "type": "Ybodychange",
      "commitMessage": "YARN-107. Fixed ResourceManager and clients to better handle forceKillApplication on non-running and finished applications. Contributed by Xuan Gong.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1514918 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/08/13 4:00 PM",
      "commitName": "1ad3fe46332586cea73c47ba06342f91359db561",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "09/07/13 4:01 PM",
      "commitNameOld": "e2cce7bd26cb943225a0d4ffb6f674e1b8ee39ae",
      "commitAuthorOld": "Hitesh Shah",
      "daysBetweenCommits": 38.0,
      "commitsBetweenForRepo": 256,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,13 @@\n   private void killApplication(String applicationId)\n       throws YarnException, IOException {\n     ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n-    sysout.println(\"Killing application \" + applicationId);\n-    client.killApplication(appId);\n+    ApplicationReport appReport \u003d client.getApplicationReport(appId);\n+    if (appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FINISHED\n+        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.KILLED\n+        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FAILED) {\n+      sysout.println(\"Application \" + applicationId + \" has already finished \");\n+    } else {\n+      sysout.println(\"Killing application \" + applicationId);\n+      client.killApplication(appId);\n+    }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void killApplication(String applicationId)\n      throws YarnException, IOException {\n    ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n    ApplicationReport appReport \u003d client.getApplicationReport(appId);\n    if (appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FINISHED\n        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.KILLED\n        || appReport.getYarnApplicationState() \u003d\u003d YarnApplicationState.FAILED) {\n      sysout.println(\"Application \" + applicationId + \" has already finished \");\n    } else {\n      sysout.println(\"Killing application \" + applicationId);\n      client.killApplication(appId);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java",
      "extendedDetails": {}
    },
    "a83fb61ac07c0468cbc7a38526e92683883dd932": {
      "type": "Yexceptionschange",
      "commitMessage": "YARN-635. Renamed YarnRemoteException to YarnException. Contributed by Siddharth Seth.\nMAPREDUCE-5301. Updated MR code to work with YARN-635 changes of renaming YarnRemoteException to YarnException. Contributed by Siddharth Seth\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1489283 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "03/06/13 9:05 PM",
      "commitName": "a83fb61ac07c0468cbc7a38526e92683883dd932",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "23/05/13 11:02 AM",
      "commitNameOld": "43876770d91a374563bf3379a5ffab5c2bac2264",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 11.42,
      "commitsBetweenForRepo": 81,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,6 @@\n   private void killApplication(String applicationId)\n-      throws YarnRemoteException, IOException {\n+      throws YarnException, IOException {\n     ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n     sysout.println(\"Killing application \" + applicationId);\n     client.killApplication(appId);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void killApplication(String applicationId)\n      throws YarnException, IOException {\n    ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n    sysout.println(\"Killing application \" + applicationId);\n    client.killApplication(appId);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java",
      "extendedDetails": {
        "oldValue": "[YarnRemoteException, IOException]",
        "newValue": "[YarnException, IOException]"
      }
    },
    "0727ecaf50481fa7a529398bc2a12ce18c9a6b43": {
      "type": "Yexceptionschange",
      "commitMessage": "YARN-631. Changed ClientRMProtocol api to throw IOException and YarnRemoteException. Contributed by Xuan Gong.\nMAPREDUCE-5212. Handling YarnRemoteException separately from IOException in MR App after YARN-631. Contributed by Xuan Gong.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1480494 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "08/05/13 3:53 PM",
      "commitName": "0727ecaf50481fa7a529398bc2a12ce18c9a6b43",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "24/04/13 10:42 PM",
      "commitNameOld": "448df186467c64d992d6d8c9b35b645dbd48898c",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 13.72,
      "commitsBetweenForRepo": 78,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,6 @@\n-  private void killApplication(String applicationId) throws YarnRemoteException {\n+  private void killApplication(String applicationId)\n+      throws YarnRemoteException, IOException {\n     ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n     sysout.println(\"Killing application \" + applicationId);\n     client.killApplication(appId);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void killApplication(String applicationId)\n      throws YarnRemoteException, IOException {\n    ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n    sysout.println(\"Killing application \" + applicationId);\n    client.killApplication(appId);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java",
      "extendedDetails": {
        "oldValue": "[YarnRemoteException]",
        "newValue": "[YarnRemoteException, IOException]"
      }
    },
    "331b1123fbb892524ecb58e551c20befd26c9ea9": {
      "type": "Yintroduced",
      "commitMessage": "YARN-40. Provided support for missing YARN commands Contributed by Devaraj K and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1395793 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "08/10/12 3:18 PM",
      "commitName": "331b1123fbb892524ecb58e551c20befd26c9ea9",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,5 @@\n+  private void killApplication(String applicationId) throws YarnRemoteException {\n+    ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n+    sysout.println(\"Killing application \" + applicationId);\n+    client.killApplication(appId);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void killApplication(String applicationId) throws YarnRemoteException {\n    ApplicationId appId \u003d ConverterUtils.toApplicationId(applicationId);\n    sysout.println(\"Killing application \" + applicationId);\n    client.killApplication(appId);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java"
    }
  }
}