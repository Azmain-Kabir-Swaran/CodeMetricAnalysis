{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "DataTransferSaslUtil.java",
  "functionName": "createStreamPair",
  "functionId": "createStreamPair___conf-Configuration__cipherOption-CipherOption__out-OutputStream__in-InputStream__isServer-boolean",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/datatransfer/sasl/DataTransferSaslUtil.java",
  "functionStartLine": 382,
  "functionEndLine": 398,
  "numCommitsSeen": 13,
  "timeTaken": 2439,
  "changeHistory": [
    "39285e6a1978ea5e53bdc1b0aef62421382124a8",
    "6ee0539ede78b640f01c5eac18ded161182a7835",
    "d5a9a3daa0224249221ffa7b8bd5751ab2feca56",
    "ed78b14ebc9a21bb57ccd088e8b49bfa457a396f",
    "58c0bb9ed9f4a2491395b63c68046562a73526c9"
  ],
  "changeHistoryShort": {
    "39285e6a1978ea5e53bdc1b0aef62421382124a8": "Ybodychange",
    "6ee0539ede78b640f01c5eac18ded161182a7835": "Ybodychange",
    "d5a9a3daa0224249221ffa7b8bd5751ab2feca56": "Ybodychange",
    "ed78b14ebc9a21bb57ccd088e8b49bfa457a396f": "Yfilerename",
    "58c0bb9ed9f4a2491395b63c68046562a73526c9": "Yintroduced"
  },
  "changeHistoryDetails": {
    "39285e6a1978ea5e53bdc1b0aef62421382124a8": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-8971. Remove guards when calling LOG.debug() and LOG.trace() in client package. Contributed by Mingliang Liu.\n",
      "commitDate": "29/09/15 5:52 PM",
      "commitName": "39285e6a1978ea5e53bdc1b0aef62421382124a8",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "29/09/15 5:51 PM",
      "commitNameOld": "6ee0539ede78b640f01c5eac18ded161182a7835",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,17 @@\n   public static IOStreamPair createStreamPair(Configuration conf,\n       CipherOption cipherOption, OutputStream out, InputStream in, \n       boolean isServer) throws IOException {\n-    if (LOG.isDebugEnabled()) {\n-      LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \" +\n-          \"CryptoOutputStream.\");\n-    }\n-    CryptoCodec codec \u003d CryptoCodec.getInstance(conf, \n+    LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \"\n+        + \"CryptoOutputStream.\");\n+    CryptoCodec codec \u003d CryptoCodec.getInstance(conf,\n         cipherOption.getCipherSuite());\n     byte[] inKey \u003d cipherOption.getInKey();\n     byte[] inIv \u003d cipherOption.getInIv();\n     byte[] outKey \u003d cipherOption.getOutKey();\n     byte[] outIv \u003d cipherOption.getOutIv();\n     InputStream cIn \u003d new CryptoInputStream(in, codec, \n         isServer ? inKey : outKey, isServer ? inIv : outIv);\n     OutputStream cOut \u003d new CryptoOutputStream(out, codec, \n         isServer ? outKey : inKey, isServer ? outIv : inIv);\n     return new IOStreamPair(cIn, cOut);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static IOStreamPair createStreamPair(Configuration conf,\n      CipherOption cipherOption, OutputStream out, InputStream in, \n      boolean isServer) throws IOException {\n    LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \"\n        + \"CryptoOutputStream.\");\n    CryptoCodec codec \u003d CryptoCodec.getInstance(conf,\n        cipherOption.getCipherSuite());\n    byte[] inKey \u003d cipherOption.getInKey();\n    byte[] inIv \u003d cipherOption.getInIv();\n    byte[] outKey \u003d cipherOption.getOutKey();\n    byte[] outIv \u003d cipherOption.getOutIv();\n    InputStream cIn \u003d new CryptoInputStream(in, codec, \n        isServer ? inKey : outKey, isServer ? inIv : outIv);\n    OutputStream cOut \u003d new CryptoOutputStream(out, codec, \n        isServer ? outKey : inKey, isServer ? outIv : inIv);\n    return new IOStreamPair(cIn, cOut);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/datatransfer/sasl/DataTransferSaslUtil.java",
      "extendedDetails": {}
    },
    "6ee0539ede78b640f01c5eac18ded161182a7835": {
      "type": "Ybodychange",
      "commitMessage": "Revert \"HDFS-9170. Move libhdfs / fuse-dfs / libwebhdfs to hdfs-client. Contributed by Haohui Mai.\"\n\nThis reverts commit d5a9a3daa0224249221ffa7b8bd5751ab2feca56.\n",
      "commitDate": "29/09/15 5:51 PM",
      "commitName": "6ee0539ede78b640f01c5eac18ded161182a7835",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "29/09/15 5:48 PM",
      "commitNameOld": "d5a9a3daa0224249221ffa7b8bd5751ab2feca56",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,19 @@\n   public static IOStreamPair createStreamPair(Configuration conf,\n       CipherOption cipherOption, OutputStream out, InputStream in, \n       boolean isServer) throws IOException {\n-    LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \"\n-        + \"CryptoOutputStream.\");\n-    CryptoCodec codec \u003d CryptoCodec.getInstance(conf,\n+    if (LOG.isDebugEnabled()) {\n+      LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \" +\n+          \"CryptoOutputStream.\");\n+    }\n+    CryptoCodec codec \u003d CryptoCodec.getInstance(conf, \n         cipherOption.getCipherSuite());\n     byte[] inKey \u003d cipherOption.getInKey();\n     byte[] inIv \u003d cipherOption.getInIv();\n     byte[] outKey \u003d cipherOption.getOutKey();\n     byte[] outIv \u003d cipherOption.getOutIv();\n     InputStream cIn \u003d new CryptoInputStream(in, codec, \n         isServer ? inKey : outKey, isServer ? inIv : outIv);\n     OutputStream cOut \u003d new CryptoOutputStream(out, codec, \n         isServer ? outKey : inKey, isServer ? outIv : inIv);\n     return new IOStreamPair(cIn, cOut);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static IOStreamPair createStreamPair(Configuration conf,\n      CipherOption cipherOption, OutputStream out, InputStream in, \n      boolean isServer) throws IOException {\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \" +\n          \"CryptoOutputStream.\");\n    }\n    CryptoCodec codec \u003d CryptoCodec.getInstance(conf, \n        cipherOption.getCipherSuite());\n    byte[] inKey \u003d cipherOption.getInKey();\n    byte[] inIv \u003d cipherOption.getInIv();\n    byte[] outKey \u003d cipherOption.getOutKey();\n    byte[] outIv \u003d cipherOption.getOutIv();\n    InputStream cIn \u003d new CryptoInputStream(in, codec, \n        isServer ? inKey : outKey, isServer ? inIv : outIv);\n    OutputStream cOut \u003d new CryptoOutputStream(out, codec, \n        isServer ? outKey : inKey, isServer ? outIv : inIv);\n    return new IOStreamPair(cIn, cOut);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/datatransfer/sasl/DataTransferSaslUtil.java",
      "extendedDetails": {}
    },
    "d5a9a3daa0224249221ffa7b8bd5751ab2feca56": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9170. Move libhdfs / fuse-dfs / libwebhdfs to hdfs-client. Contributed by Haohui Mai.\n",
      "commitDate": "29/09/15 5:48 PM",
      "commitName": "d5a9a3daa0224249221ffa7b8bd5751ab2feca56",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "03/09/15 3:32 PM",
      "commitNameOld": "ed78b14ebc9a21bb57ccd088e8b49bfa457a396f",
      "commitAuthorOld": "Haohui Mai",
      "daysBetweenCommits": 26.09,
      "commitsBetweenForRepo": 177,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,17 @@\n   public static IOStreamPair createStreamPair(Configuration conf,\n       CipherOption cipherOption, OutputStream out, InputStream in, \n       boolean isServer) throws IOException {\n-    if (LOG.isDebugEnabled()) {\n-      LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \" +\n-          \"CryptoOutputStream.\");\n-    }\n-    CryptoCodec codec \u003d CryptoCodec.getInstance(conf, \n+    LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \"\n+        + \"CryptoOutputStream.\");\n+    CryptoCodec codec \u003d CryptoCodec.getInstance(conf,\n         cipherOption.getCipherSuite());\n     byte[] inKey \u003d cipherOption.getInKey();\n     byte[] inIv \u003d cipherOption.getInIv();\n     byte[] outKey \u003d cipherOption.getOutKey();\n     byte[] outIv \u003d cipherOption.getOutIv();\n     InputStream cIn \u003d new CryptoInputStream(in, codec, \n         isServer ? inKey : outKey, isServer ? inIv : outIv);\n     OutputStream cOut \u003d new CryptoOutputStream(out, codec, \n         isServer ? outKey : inKey, isServer ? outIv : inIv);\n     return new IOStreamPair(cIn, cOut);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static IOStreamPair createStreamPair(Configuration conf,\n      CipherOption cipherOption, OutputStream out, InputStream in, \n      boolean isServer) throws IOException {\n    LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \"\n        + \"CryptoOutputStream.\");\n    CryptoCodec codec \u003d CryptoCodec.getInstance(conf,\n        cipherOption.getCipherSuite());\n    byte[] inKey \u003d cipherOption.getInKey();\n    byte[] inIv \u003d cipherOption.getInIv();\n    byte[] outKey \u003d cipherOption.getOutKey();\n    byte[] outIv \u003d cipherOption.getOutIv();\n    InputStream cIn \u003d new CryptoInputStream(in, codec, \n        isServer ? inKey : outKey, isServer ? inIv : outIv);\n    OutputStream cOut \u003d new CryptoOutputStream(out, codec, \n        isServer ? outKey : inKey, isServer ? outIv : inIv);\n    return new IOStreamPair(cIn, cOut);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/datatransfer/sasl/DataTransferSaslUtil.java",
      "extendedDetails": {}
    },
    "ed78b14ebc9a21bb57ccd088e8b49bfa457a396f": {
      "type": "Yfilerename",
      "commitMessage": "HDFS-9002. Move o.a.h.hdfs.net/*Peer classes to hdfs-client. Contributed by Mingliang Liu.\n",
      "commitDate": "03/09/15 3:32 PM",
      "commitName": "ed78b14ebc9a21bb57ccd088e8b49bfa457a396f",
      "commitAuthor": "Haohui Mai",
      "commitDateOld": "03/09/15 1:26 PM",
      "commitNameOld": "c2d2c1802a11e3e11a953b23b0eccbf4d107de59",
      "commitAuthorOld": "Jakob Homan",
      "daysBetweenCommits": 0.09,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  public static IOStreamPair createStreamPair(Configuration conf,\n      CipherOption cipherOption, OutputStream out, InputStream in, \n      boolean isServer) throws IOException {\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \" +\n          \"CryptoOutputStream.\");\n    }\n    CryptoCodec codec \u003d CryptoCodec.getInstance(conf, \n        cipherOption.getCipherSuite());\n    byte[] inKey \u003d cipherOption.getInKey();\n    byte[] inIv \u003d cipherOption.getInIv();\n    byte[] outKey \u003d cipherOption.getOutKey();\n    byte[] outIv \u003d cipherOption.getOutIv();\n    InputStream cIn \u003d new CryptoInputStream(in, codec, \n        isServer ? inKey : outKey, isServer ? inIv : outIv);\n    OutputStream cOut \u003d new CryptoOutputStream(out, codec, \n        isServer ? outKey : inKey, isServer ? outIv : inIv);\n    return new IOStreamPair(cIn, cOut);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/datatransfer/sasl/DataTransferSaslUtil.java",
      "extendedDetails": {
        "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/protocol/datatransfer/sasl/DataTransferSaslUtil.java",
        "newPath": "hadoop-hdfs-project/hadoop-hdfs-client/src/main/java/org/apache/hadoop/hdfs/protocol/datatransfer/sasl/DataTransferSaslUtil.java"
      }
    },
    "58c0bb9ed9f4a2491395b63c68046562a73526c9": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-6606. Optimize HDFS Encrypted Transport performance. (yliu)\n",
      "commitDate": "28/10/14 6:11 AM",
      "commitName": "58c0bb9ed9f4a2491395b63c68046562a73526c9",
      "commitAuthor": "yliu",
      "diff": "@@ -0,0 +1,19 @@\n+  public static IOStreamPair createStreamPair(Configuration conf,\n+      CipherOption cipherOption, OutputStream out, InputStream in, \n+      boolean isServer) throws IOException {\n+    if (LOG.isDebugEnabled()) {\n+      LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \" +\n+          \"CryptoOutputStream.\");\n+    }\n+    CryptoCodec codec \u003d CryptoCodec.getInstance(conf, \n+        cipherOption.getCipherSuite());\n+    byte[] inKey \u003d cipherOption.getInKey();\n+    byte[] inIv \u003d cipherOption.getInIv();\n+    byte[] outKey \u003d cipherOption.getOutKey();\n+    byte[] outIv \u003d cipherOption.getOutIv();\n+    InputStream cIn \u003d new CryptoInputStream(in, codec, \n+        isServer ? inKey : outKey, isServer ? inIv : outIv);\n+    OutputStream cOut \u003d new CryptoOutputStream(out, codec, \n+        isServer ? outKey : inKey, isServer ? outIv : inIv);\n+    return new IOStreamPair(cIn, cOut);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public static IOStreamPair createStreamPair(Configuration conf,\n      CipherOption cipherOption, OutputStream out, InputStream in, \n      boolean isServer) throws IOException {\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\"Creating IOStreamPair of CryptoInputStream and \" +\n          \"CryptoOutputStream.\");\n    }\n    CryptoCodec codec \u003d CryptoCodec.getInstance(conf, \n        cipherOption.getCipherSuite());\n    byte[] inKey \u003d cipherOption.getInKey();\n    byte[] inIv \u003d cipherOption.getInIv();\n    byte[] outKey \u003d cipherOption.getOutKey();\n    byte[] outIv \u003d cipherOption.getOutIv();\n    InputStream cIn \u003d new CryptoInputStream(in, codec, \n        isServer ? inKey : outKey, isServer ? inIv : outIv);\n    OutputStream cOut \u003d new CryptoOutputStream(out, codec, \n        isServer ? outKey : inKey, isServer ? outIv : inIv);\n    return new IOStreamPair(cIn, cOut);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/protocol/datatransfer/sasl/DataTransferSaslUtil.java"
    }
  }
}