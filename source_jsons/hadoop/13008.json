{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "DatanodeDescriptor.java",
  "functionName": "decrementBlocksScheduled",
  "functionId": "decrementBlocksScheduled___t-StorageType",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.java",
  "functionStartLine": 811,
  "functionEndLine": 818,
  "numCommitsSeen": 162,
  "timeTaken": 2467,
  "changeHistory": [
    "22a41dce4af4d5b533ba875b322551db1c152878"
  ],
  "changeHistoryShort": {
    "22a41dce4af4d5b533ba875b322551db1c152878": "Ymultichange(Yparameterchange,Ybodychange)"
  },
  "changeHistoryDetails": {
    "22a41dce4af4d5b533ba875b322551db1c152878": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-6997: add more tests for data migration and replicaion.\n",
      "commitDate": "06/09/14 4:44 PM",
      "commitName": "22a41dce4af4d5b533ba875b322551db1c152878",
      "commitAuthor": "Tsz-Wo Nicholas Sze",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-6997: add more tests for data migration and replicaion.\n",
          "commitDate": "06/09/14 4:44 PM",
          "commitName": "22a41dce4af4d5b533ba875b322551db1c152878",
          "commitAuthor": "Tsz-Wo Nicholas Sze",
          "commitDateOld": "07/08/14 12:30 AM",
          "commitNameOld": "0ed8732feef9f4027e9fc95b6d4852444c1f3426",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 30.68,
          "commitsBetweenForRepo": 250,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,8 @@\n-  void decrementBlocksScheduled() {\n-    if (prevApproxBlocksScheduled \u003e 0) {\n-      prevApproxBlocksScheduled--;\n-    } else if (currApproxBlocksScheduled \u003e 0) {\n-      currApproxBlocksScheduled--;\n+  void decrementBlocksScheduled(StorageType t) {\n+    if (prevApproxBlocksScheduled.get(t) \u003e 0) {\n+      prevApproxBlocksScheduled.subtract(t, 1);\n+    } else if (currApproxBlocksScheduled.get(t) \u003e 0) {\n+      currApproxBlocksScheduled.subtract(t, 1);\n     } \n     // its ok if both counters are zero.\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void decrementBlocksScheduled(StorageType t) {\n    if (prevApproxBlocksScheduled.get(t) \u003e 0) {\n      prevApproxBlocksScheduled.subtract(t, 1);\n    } else if (currApproxBlocksScheduled.get(t) \u003e 0) {\n      currApproxBlocksScheduled.subtract(t, 1);\n    } \n    // its ok if both counters are zero.\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.java",
          "extendedDetails": {
            "oldValue": "[]",
            "newValue": "[t-StorageType]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-6997: add more tests for data migration and replicaion.\n",
          "commitDate": "06/09/14 4:44 PM",
          "commitName": "22a41dce4af4d5b533ba875b322551db1c152878",
          "commitAuthor": "Tsz-Wo Nicholas Sze",
          "commitDateOld": "07/08/14 12:30 AM",
          "commitNameOld": "0ed8732feef9f4027e9fc95b6d4852444c1f3426",
          "commitAuthorOld": "Tsz-wo Sze",
          "daysBetweenCommits": 30.68,
          "commitsBetweenForRepo": 250,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,8 @@\n-  void decrementBlocksScheduled() {\n-    if (prevApproxBlocksScheduled \u003e 0) {\n-      prevApproxBlocksScheduled--;\n-    } else if (currApproxBlocksScheduled \u003e 0) {\n-      currApproxBlocksScheduled--;\n+  void decrementBlocksScheduled(StorageType t) {\n+    if (prevApproxBlocksScheduled.get(t) \u003e 0) {\n+      prevApproxBlocksScheduled.subtract(t, 1);\n+    } else if (currApproxBlocksScheduled.get(t) \u003e 0) {\n+      currApproxBlocksScheduled.subtract(t, 1);\n     } \n     // its ok if both counters are zero.\n   }\n\\ No newline at end of file\n",
          "actualSource": "  void decrementBlocksScheduled(StorageType t) {\n    if (prevApproxBlocksScheduled.get(t) \u003e 0) {\n      prevApproxBlocksScheduled.subtract(t, 1);\n    } else if (currApproxBlocksScheduled.get(t) \u003e 0) {\n      currApproxBlocksScheduled.subtract(t, 1);\n    } \n    // its ok if both counters are zero.\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.java",
          "extendedDetails": {}
        }
      ]
    }
  }
}