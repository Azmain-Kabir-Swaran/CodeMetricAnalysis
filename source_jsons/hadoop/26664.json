{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "JobImpl.java",
  "functionName": "unsuccessfulFinish",
  "functionId": "unsuccessfulFinish___finalState-JobStateInternal",
  "sourceFilePath": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/JobImpl.java",
  "functionStartLine": 1697,
  "functionEndLine": 1714,
  "numCommitsSeen": 94,
  "timeTaken": 2787,
  "changeHistory": [
    "d04f85f387e4a78816bc9966ee2b4a647ee05faf",
    "658b1bf561aa1c0f02fc0dbb079011f959709c25",
    "402eb1851341fce72c8e46266a2578bb67b5b684"
  ],
  "changeHistoryShort": {
    "d04f85f387e4a78816bc9966ee2b4a647ee05faf": "Ybodychange",
    "658b1bf561aa1c0f02fc0dbb079011f959709c25": "Ybodychange",
    "402eb1851341fce72c8e46266a2578bb67b5b684": "Yintroduced"
  },
  "changeHistoryDetails": {
    "d04f85f387e4a78816bc9966ee2b4a647ee05faf": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-6892. Issues with the count of failed/killed tasks in the jhist file. (Peter Bacsko via Haibo Chen)\n",
      "commitDate": "30/08/17 10:07 AM",
      "commitName": "d04f85f387e4a78816bc9966ee2b4a647ee05faf",
      "commitAuthor": "Haibo Chen",
      "commitDateOld": "10/08/17 3:17 PM",
      "commitNameOld": "a32e0138fb63c92902e6613001f38a87c8a41321",
      "commitAuthorOld": "Haibo Chen",
      "daysBetweenCommits": 19.78,
      "commitsBetweenForRepo": 170,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,18 @@\n   private void unsuccessfulFinish(JobStateInternal finalState) {\n       if (finishTime \u003d\u003d 0) setFinishTime();\n       cleanupProgress \u003d 1.0f;\n       JobUnsuccessfulCompletionEvent unsuccessfulJobEvent \u003d\n           new JobUnsuccessfulCompletionEvent(oldJobId,\n               finishTime,\n               succeededMapTaskCount,\n               succeededReduceTaskCount,\n+              failedMapTaskCount,\n+              failedReduceTaskCount,\n+              killedMapTaskCount,\n+              killedReduceTaskCount,\n               finalState.toString(),\n               diagnostics);\n       eventHandler.handle(new JobHistoryEvent(jobId,\n           unsuccessfulJobEvent));\n       finished(finalState);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void unsuccessfulFinish(JobStateInternal finalState) {\n      if (finishTime \u003d\u003d 0) setFinishTime();\n      cleanupProgress \u003d 1.0f;\n      JobUnsuccessfulCompletionEvent unsuccessfulJobEvent \u003d\n          new JobUnsuccessfulCompletionEvent(oldJobId,\n              finishTime,\n              succeededMapTaskCount,\n              succeededReduceTaskCount,\n              failedMapTaskCount,\n              failedReduceTaskCount,\n              killedMapTaskCount,\n              killedReduceTaskCount,\n              finalState.toString(),\n              diagnostics);\n      eventHandler.handle(new JobHistoryEvent(jobId,\n          unsuccessfulJobEvent));\n      finished(finalState);\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/JobImpl.java",
      "extendedDetails": {}
    },
    "658b1bf561aa1c0f02fc0dbb079011f959709c25": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-5754. Preserve Job diagnostics in history. Contributed by Gera Shegalov\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1572269 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "26/02/14 1:32 PM",
      "commitName": "658b1bf561aa1c0f02fc0dbb079011f959709c25",
      "commitAuthor": "Jason Darrell Lowe",
      "commitDateOld": "29/01/14 3:51 PM",
      "commitNameOld": "db807057193311fc06caf912e13000193edd1bd8",
      "commitAuthorOld": "Sanford Ryza",
      "daysBetweenCommits": 27.9,
      "commitsBetweenForRepo": 239,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,14 @@\n   private void unsuccessfulFinish(JobStateInternal finalState) {\n       if (finishTime \u003d\u003d 0) setFinishTime();\n       cleanupProgress \u003d 1.0f;\n       JobUnsuccessfulCompletionEvent unsuccessfulJobEvent \u003d\n           new JobUnsuccessfulCompletionEvent(oldJobId,\n               finishTime,\n               succeededMapTaskCount,\n               succeededReduceTaskCount,\n-              finalState.toString());\n+              finalState.toString(),\n+              diagnostics);\n       eventHandler.handle(new JobHistoryEvent(jobId,\n           unsuccessfulJobEvent));\n       finished(finalState);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void unsuccessfulFinish(JobStateInternal finalState) {\n      if (finishTime \u003d\u003d 0) setFinishTime();\n      cleanupProgress \u003d 1.0f;\n      JobUnsuccessfulCompletionEvent unsuccessfulJobEvent \u003d\n          new JobUnsuccessfulCompletionEvent(oldJobId,\n              finishTime,\n              succeededMapTaskCount,\n              succeededReduceTaskCount,\n              finalState.toString(),\n              diagnostics);\n      eventHandler.handle(new JobHistoryEvent(jobId,\n          unsuccessfulJobEvent));\n      finished(finalState);\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/JobImpl.java",
      "extendedDetails": {}
    },
    "402eb1851341fce72c8e46266a2578bb67b5b684": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-4813. AM timing out during job commit (jlowe via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1426536 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "28/12/12 7:01 AM",
      "commitName": "402eb1851341fce72c8e46266a2578bb67b5b684",
      "commitAuthor": "Robert Joseph Evans",
      "diff": "@@ -0,0 +1,13 @@\n+  private void unsuccessfulFinish(JobStateInternal finalState) {\n+      if (finishTime \u003d\u003d 0) setFinishTime();\n+      cleanupProgress \u003d 1.0f;\n+      JobUnsuccessfulCompletionEvent unsuccessfulJobEvent \u003d\n+          new JobUnsuccessfulCompletionEvent(oldJobId,\n+              finishTime,\n+              succeededMapTaskCount,\n+              succeededReduceTaskCount,\n+              finalState.toString());\n+      eventHandler.handle(new JobHistoryEvent(jobId,\n+          unsuccessfulJobEvent));\n+      finished(finalState);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void unsuccessfulFinish(JobStateInternal finalState) {\n      if (finishTime \u003d\u003d 0) setFinishTime();\n      cleanupProgress \u003d 1.0f;\n      JobUnsuccessfulCompletionEvent unsuccessfulJobEvent \u003d\n          new JobUnsuccessfulCompletionEvent(oldJobId,\n              finishTime,\n              succeededMapTaskCount,\n              succeededReduceTaskCount,\n              finalState.toString());\n      eventHandler.handle(new JobHistoryEvent(jobId,\n          unsuccessfulJobEvent));\n      finished(finalState);\n  }",
      "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-app/src/main/java/org/apache/hadoop/mapreduce/v2/app/job/impl/JobImpl.java"
    }
  }
}