{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "EncryptionZoneManager.java",
  "functionName": "getEZINodeForPath",
  "functionId": "getEZINodeForPath___iip-INodesInPath",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java",
  "functionStartLine": 455,
  "functionEndLine": 465,
  "numCommitsSeen": 42,
  "timeTaken": 3672,
  "changeHistory": [
    "2c6cfad5a31ca4d9126ecd2b3c43cca8543aacb4",
    "1000a2af04b24c123a3b08168f36b4e90420cab7",
    "7f0efe96f85704e39349f20ab6a11bfaa81c6a75",
    "e96ce6f3e3e549202ce3c48d4733ba34098870ad",
    "1737950d0fc83c68f386881b843c41b0b1e342de",
    "33ce887c20ec806ace02063e42599c3db76b536a",
    "20dcb841ce55b0d414885ceba530c30b5b528b0f"
  ],
  "changeHistoryShort": {
    "2c6cfad5a31ca4d9126ecd2b3c43cca8543aacb4": "Yexceptionschange",
    "1000a2af04b24c123a3b08168f36b4e90420cab7": "Ybodychange",
    "7f0efe96f85704e39349f20ab6a11bfaa81c6a75": "Ybodychange",
    "e96ce6f3e3e549202ce3c48d4733ba34098870ad": "Ybodychange",
    "1737950d0fc83c68f386881b843c41b0b1e342de": "Ybodychange",
    "33ce887c20ec806ace02063e42599c3db76b536a": "Ymultichange(Yreturntypechange,Ybodychange)",
    "20dcb841ce55b0d414885ceba530c30b5b528b0f": "Yintroduced"
  },
  "changeHistoryDetails": {
    "2c6cfad5a31ca4d9126ecd2b3c43cca8543aacb4": {
      "type": "Yexceptionschange",
      "commitMessage": "HDFS-13087. Snapshotted encryption zone information should be immutable. Contributed by LiXin Ge.\n",
      "commitDate": "29/03/18 3:46 PM",
      "commitName": "2c6cfad5a31ca4d9126ecd2b3c43cca8543aacb4",
      "commitAuthor": "Xiao Chen",
      "commitDateOld": "22/02/18 11:32 AM",
      "commitNameOld": "84a1321f6aa0af6895564a7c47f8f264656f0294",
      "commitAuthorOld": "Xiaoyu Yao",
      "daysBetweenCommits": 35.13,
      "commitsBetweenForRepo": 385,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,11 @@\n-  EncryptionZone getEZINodeForPath(INodesInPath iip) {\n+  EncryptionZone getEZINodeForPath(INodesInPath iip)\n+      throws IOException {\n     final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n     if (ezi \u003d\u003d null) {\n       return null;\n     } else {\n       return new EncryptionZone(ezi.getINodeId(),\n           getFullPathName(ezi.getINodeId()),\n           ezi.getSuite(), ezi.getVersion(), ezi.getKeyName());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  EncryptionZone getEZINodeForPath(INodesInPath iip)\n      throws IOException {\n    final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n    if (ezi \u003d\u003d null) {\n      return null;\n    } else {\n      return new EncryptionZone(ezi.getINodeId(),\n          getFullPathName(ezi.getINodeId()),\n          ezi.getSuite(), ezi.getVersion(), ezi.getKeyName());\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java",
      "extendedDetails": {
        "oldValue": "[]",
        "newValue": "[IOException]"
      }
    },
    "1000a2af04b24c123a3b08168f36b4e90420cab7": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10899. Add functionality to re-encrypt EDEKs.\n",
      "commitDate": "23/08/17 5:06 PM",
      "commitName": "1000a2af04b24c123a3b08168f36b4e90420cab7",
      "commitAuthor": "Xiao Chen",
      "commitDateOld": "25/07/17 9:03 AM",
      "commitNameOld": "a68b5b31cf846c0fc94c430bafd07a9bca369234",
      "commitAuthorOld": "Kihwal Lee",
      "daysBetweenCommits": 29.34,
      "commitsBetweenForRepo": 233,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,10 @@\n   EncryptionZone getEZINodeForPath(INodesInPath iip) {\n     final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n     if (ezi \u003d\u003d null) {\n       return null;\n     } else {\n-      return new EncryptionZone(ezi.getINodeId(), getFullPathName(ezi),\n+      return new EncryptionZone(ezi.getINodeId(),\n+          getFullPathName(ezi.getINodeId()),\n           ezi.getSuite(), ezi.getVersion(), ezi.getKeyName());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  EncryptionZone getEZINodeForPath(INodesInPath iip) {\n    final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n    if (ezi \u003d\u003d null) {\n      return null;\n    } else {\n      return new EncryptionZone(ezi.getINodeId(),\n          getFullPathName(ezi.getINodeId()),\n          ezi.getSuite(), ezi.getVersion(), ezi.getKeyName());\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java",
      "extendedDetails": {}
    },
    "7f0efe96f85704e39349f20ab6a11bfaa81c6a75": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7124. Remove EncryptionZoneManager.NULL_EZ. (clamb via wang)\n",
      "commitDate": "29/09/14 2:14 PM",
      "commitName": "7f0efe96f85704e39349f20ab6a11bfaa81c6a75",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "25/09/14 6:40 PM",
      "commitNameOld": "e96ce6f3e3e549202ce3c48d4733ba34098870ad",
      "commitAuthorOld": "Andrew Wang",
      "daysBetweenCommits": 3.82,
      "commitsBetweenForRepo": 34,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   EncryptionZone getEZINodeForPath(INodesInPath iip) {\n     final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n     if (ezi \u003d\u003d null) {\n-      return NULL_EZ;\n+      return null;\n     } else {\n       return new EncryptionZone(ezi.getINodeId(), getFullPathName(ezi),\n           ezi.getSuite(), ezi.getVersion(), ezi.getKeyName());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  EncryptionZone getEZINodeForPath(INodesInPath iip) {\n    final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n    if (ezi \u003d\u003d null) {\n      return null;\n    } else {\n      return new EncryptionZone(ezi.getINodeId(), getFullPathName(ezi),\n          ezi.getSuite(), ezi.getVersion(), ezi.getKeyName());\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java",
      "extendedDetails": {}
    },
    "e96ce6f3e3e549202ce3c48d4733ba34098870ad": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-7077. Separate CipherSuite from crypto protocol version. (wang)\n",
      "commitDate": "25/09/14 6:40 PM",
      "commitName": "e96ce6f3e3e549202ce3c48d4733ba34098870ad",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "21/09/14 9:29 PM",
      "commitNameOld": "1737950d0fc83c68f386881b843c41b0b1e342de",
      "commitAuthorOld": "Andrew Wang",
      "daysBetweenCommits": 3.88,
      "commitsBetweenForRepo": 48,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   EncryptionZone getEZINodeForPath(INodesInPath iip) {\n     final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n     if (ezi \u003d\u003d null) {\n       return NULL_EZ;\n     } else {\n       return new EncryptionZone(ezi.getINodeId(), getFullPathName(ezi),\n-          ezi.getSuite(), ezi.getKeyName());\n+          ezi.getSuite(), ezi.getVersion(), ezi.getKeyName());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  EncryptionZone getEZINodeForPath(INodesInPath iip) {\n    final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n    if (ezi \u003d\u003d null) {\n      return NULL_EZ;\n    } else {\n      return new EncryptionZone(ezi.getINodeId(), getFullPathName(ezi),\n          ezi.getSuite(), ezi.getVersion(), ezi.getKeyName());\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java",
      "extendedDetails": {}
    },
    "1737950d0fc83c68f386881b843c41b0b1e342de": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-6987. Move CipherSuite xattr information up to the encryption zone root. Contributed by Zhe Zhang.\n",
      "commitDate": "21/09/14 9:29 PM",
      "commitName": "1737950d0fc83c68f386881b843c41b0b1e342de",
      "commitAuthor": "Andrew Wang",
      "commitDateOld": "17/09/14 9:28 PM",
      "commitNameOld": "0ecefe60179968984b1892a14411566b7a0c8df3",
      "commitAuthorOld": "Andrew Wang",
      "daysBetweenCommits": 4.0,
      "commitsBetweenForRepo": 43,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n   EncryptionZone getEZINodeForPath(INodesInPath iip) {\n     final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n     if (ezi \u003d\u003d null) {\n       return NULL_EZ;\n     } else {\n-      return new EncryptionZone(getFullPathName(ezi), ezi.getKeyName(),\n-          ezi.getINodeId());\n+      return new EncryptionZone(ezi.getINodeId(), getFullPathName(ezi),\n+          ezi.getSuite(), ezi.getKeyName());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  EncryptionZone getEZINodeForPath(INodesInPath iip) {\n    final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n    if (ezi \u003d\u003d null) {\n      return NULL_EZ;\n    } else {\n      return new EncryptionZone(ezi.getINodeId(), getFullPathName(ezi),\n          ezi.getSuite(), ezi.getKeyName());\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java",
      "extendedDetails": {}
    },
    "33ce887c20ec806ace02063e42599c3db76b536a": {
      "type": "Ymultichange(Yreturntypechange,Ybodychange)",
      "commitMessage": "HDFS-6851. Refactor EncryptionZoneWithId and EncryptionZone. (clamb via wang)\n",
      "commitDate": "16/09/14 4:41 PM",
      "commitName": "33ce887c20ec806ace02063e42599c3db76b536a",
      "commitAuthor": "Andrew Wang",
      "subchanges": [
        {
          "type": "Yreturntypechange",
          "commitMessage": "HDFS-6851. Refactor EncryptionZoneWithId and EncryptionZone. (clamb via wang)\n",
          "commitDate": "16/09/14 4:41 PM",
          "commitName": "33ce887c20ec806ace02063e42599c3db76b536a",
          "commitAuthor": "Andrew Wang",
          "commitDateOld": "08/09/14 4:59 PM",
          "commitNameOld": "04915a08141bbe71bdef26e3f539aa8b76f89ac7",
          "commitAuthorOld": "Andrew Wang",
          "daysBetweenCommits": 7.99,
          "commitsBetweenForRepo": 69,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,9 @@\n-  EncryptionZoneWithId getEZINodeForPath(INodesInPath iip) {\n+  EncryptionZone getEZINodeForPath(INodesInPath iip) {\n     final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n     if (ezi \u003d\u003d null) {\n       return NULL_EZ;\n     } else {\n-      return new EncryptionZoneWithId(getFullPathName(ezi), ezi.getKeyName(),\n+      return new EncryptionZone(getFullPathName(ezi), ezi.getKeyName(),\n           ezi.getINodeId());\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  EncryptionZone getEZINodeForPath(INodesInPath iip) {\n    final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n    if (ezi \u003d\u003d null) {\n      return NULL_EZ;\n    } else {\n      return new EncryptionZone(getFullPathName(ezi), ezi.getKeyName(),\n          ezi.getINodeId());\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java",
          "extendedDetails": {
            "oldValue": "EncryptionZoneWithId",
            "newValue": "EncryptionZone"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-6851. Refactor EncryptionZoneWithId and EncryptionZone. (clamb via wang)\n",
          "commitDate": "16/09/14 4:41 PM",
          "commitName": "33ce887c20ec806ace02063e42599c3db76b536a",
          "commitAuthor": "Andrew Wang",
          "commitDateOld": "08/09/14 4:59 PM",
          "commitNameOld": "04915a08141bbe71bdef26e3f539aa8b76f89ac7",
          "commitAuthorOld": "Andrew Wang",
          "daysBetweenCommits": 7.99,
          "commitsBetweenForRepo": 69,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,9 +1,9 @@\n-  EncryptionZoneWithId getEZINodeForPath(INodesInPath iip) {\n+  EncryptionZone getEZINodeForPath(INodesInPath iip) {\n     final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n     if (ezi \u003d\u003d null) {\n       return NULL_EZ;\n     } else {\n-      return new EncryptionZoneWithId(getFullPathName(ezi), ezi.getKeyName(),\n+      return new EncryptionZone(getFullPathName(ezi), ezi.getKeyName(),\n           ezi.getINodeId());\n     }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  EncryptionZone getEZINodeForPath(INodesInPath iip) {\n    final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n    if (ezi \u003d\u003d null) {\n      return NULL_EZ;\n    } else {\n      return new EncryptionZone(getFullPathName(ezi), ezi.getKeyName(),\n          ezi.getINodeId());\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java",
          "extendedDetails": {}
        }
      ]
    },
    "20dcb841ce55b0d414885ceba530c30b5b528b0f": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-6546. Add non-superuser capability to get the encryption zone for a specific path. (clamb)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/fs-encryption@1618022 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "14/08/14 12:11 PM",
      "commitName": "20dcb841ce55b0d414885ceba530c30b5b528b0f",
      "commitAuthor": "Charles Lamb",
      "diff": "@@ -0,0 +1,9 @@\n+  EncryptionZoneWithId getEZINodeForPath(INodesInPath iip) {\n+    final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n+    if (ezi \u003d\u003d null) {\n+      return NULL_EZ;\n+    } else {\n+      return new EncryptionZoneWithId(getFullPathName(ezi), ezi.getKeyName(),\n+          ezi.getINodeId());\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  EncryptionZoneWithId getEZINodeForPath(INodesInPath iip) {\n    final EncryptionZoneInt ezi \u003d getEncryptionZoneForPath(iip);\n    if (ezi \u003d\u003d null) {\n      return NULL_EZ;\n    } else {\n      return new EncryptionZoneWithId(getFullPathName(ezi), ezi.getKeyName(),\n          ezi.getINodeId());\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/EncryptionZoneManager.java"
    }
  }
}