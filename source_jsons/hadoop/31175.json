{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AboutBlock.java",
  "functionName": "render",
  "functionId": "render___html-Block",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/AboutBlock.java",
  "functionStartLine": 49,
  "functionEndLine": 90,
  "numCommitsSeen": 3,
  "timeTaken": 1484,
  "changeHistory": [
    "25361b077bd34606259dac5a00c41faddd2dfc7d",
    "20add897187adf7c836b20c72e347917d01df9aa",
    "ceca9694f9a0c78d07cab2c382036f175183e67b"
  ],
  "changeHistoryShort": {
    "25361b077bd34606259dac5a00c41faddd2dfc7d": "Ybodychange",
    "20add897187adf7c836b20c72e347917d01df9aa": "Ybodychange",
    "ceca9694f9a0c78d07cab2c382036f175183e67b": "Yintroduced"
  },
  "changeHistoryDetails": {
    "25361b077bd34606259dac5a00c41faddd2dfc7d": {
      "type": "Ybodychange",
      "commitMessage": "YARN-10120. Https Support in Router WebServiceClient.\n\nContributed by Bilwa S T.\n",
      "commitDate": "02/04/20 5:41 AM",
      "commitName": "25361b077bd34606259dac5a00c41faddd2dfc7d",
      "commitAuthor": "Prabhu Joseph",
      "commitDateOld": "14/02/20 3:20 AM",
      "commitNameOld": "20add897187adf7c836b20c72e347917d01df9aa",
      "commitAuthorOld": "Brahma Reddy Battula",
      "daysBetweenCommits": 48.06,
      "commitsBetweenForRepo": 162,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,42 +1,42 @@\n   protected void render(Block html) {\n     Configuration conf \u003d this.router.getConfig();\n     String webAppAddress \u003d WebAppUtils.getRouterWebAppURLWithScheme(conf);\n \n     ClusterMetricsInfo metrics \u003d RouterWebServiceUtil.genericForward(\n         webAppAddress, null, ClusterMetricsInfo.class, HTTPMethods.GET,\n-        RMWSConsts.RM_WEB_SERVICE_PATH + RMWSConsts.METRICS, null, null);\n+        RMWSConsts.RM_WEB_SERVICE_PATH + RMWSConsts.METRICS, null, null, conf);\n     boolean isEnabled \u003d conf.getBoolean(\n         YarnConfiguration.FEDERATION_ENABLED,\n         YarnConfiguration.DEFAULT_FEDERATION_ENABLED);\n     info(\"Cluster Status\").\n         __(\"Federation Enabled\", isEnabled).\n         __(\"Applications Submitted\", metrics.getAppsSubmitted()).\n         __(\"Applications Pending\", metrics.getAppsPending()).\n         __(\"Applications Running\", metrics.getAppsRunning()).\n         __(\"Applications Failed\", metrics.getAppsFailed()).\n         __(\"Applications Killed\", metrics.getAppsKilled()).\n         __(\"Applications Completed\", metrics.getAppsCompleted()).\n         __(\"Containers Allocated\", metrics.getContainersAllocated()).\n         __(\"Containers Reserved\", metrics.getReservedContainers()).\n         __(\"Containers Pending\", metrics.getPendingContainers()).\n         __(\"Available Memory\",\n             StringUtils.byteDesc(metrics.getAvailableMB() * BYTES_IN_MB)).\n         __(\"Allocated Memory\",\n             StringUtils.byteDesc(metrics.getAllocatedMB() * BYTES_IN_MB)).\n         __(\"Reserved Memory\",\n             StringUtils.byteDesc(metrics.getReservedMB() * BYTES_IN_MB)).\n         __(\"Total Memory\",\n             StringUtils.byteDesc(metrics.getTotalMB() * BYTES_IN_MB)).\n         __(\"Available VirtualCores\", metrics.getAvailableVirtualCores()).\n         __(\"Allocated VirtualCores\", metrics.getAllocatedVirtualCores()).\n         __(\"Reserved VirtualCores\", metrics.getReservedVirtualCores()).\n         __(\"Total VirtualCores\", metrics.getTotalVirtualCores()).\n         __(\"Active Nodes\", metrics.getActiveNodes()).\n         __(\"Lost Nodes\", metrics.getLostNodes()).\n         __(\"Available Nodes\", metrics.getDecommissionedNodes()).\n         __(\"Unhealthy Nodes\", metrics.getUnhealthyNodes()).\n         __(\"Rebooted Nodes\", metrics.getRebootedNodes()).\n         __(\"Total Nodes\", metrics.getTotalNodes());\n \n     html.__(InfoBlock.class);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void render(Block html) {\n    Configuration conf \u003d this.router.getConfig();\n    String webAppAddress \u003d WebAppUtils.getRouterWebAppURLWithScheme(conf);\n\n    ClusterMetricsInfo metrics \u003d RouterWebServiceUtil.genericForward(\n        webAppAddress, null, ClusterMetricsInfo.class, HTTPMethods.GET,\n        RMWSConsts.RM_WEB_SERVICE_PATH + RMWSConsts.METRICS, null, null, conf);\n    boolean isEnabled \u003d conf.getBoolean(\n        YarnConfiguration.FEDERATION_ENABLED,\n        YarnConfiguration.DEFAULT_FEDERATION_ENABLED);\n    info(\"Cluster Status\").\n        __(\"Federation Enabled\", isEnabled).\n        __(\"Applications Submitted\", metrics.getAppsSubmitted()).\n        __(\"Applications Pending\", metrics.getAppsPending()).\n        __(\"Applications Running\", metrics.getAppsRunning()).\n        __(\"Applications Failed\", metrics.getAppsFailed()).\n        __(\"Applications Killed\", metrics.getAppsKilled()).\n        __(\"Applications Completed\", metrics.getAppsCompleted()).\n        __(\"Containers Allocated\", metrics.getContainersAllocated()).\n        __(\"Containers Reserved\", metrics.getReservedContainers()).\n        __(\"Containers Pending\", metrics.getPendingContainers()).\n        __(\"Available Memory\",\n            StringUtils.byteDesc(metrics.getAvailableMB() * BYTES_IN_MB)).\n        __(\"Allocated Memory\",\n            StringUtils.byteDesc(metrics.getAllocatedMB() * BYTES_IN_MB)).\n        __(\"Reserved Memory\",\n            StringUtils.byteDesc(metrics.getReservedMB() * BYTES_IN_MB)).\n        __(\"Total Memory\",\n            StringUtils.byteDesc(metrics.getTotalMB() * BYTES_IN_MB)).\n        __(\"Available VirtualCores\", metrics.getAvailableVirtualCores()).\n        __(\"Allocated VirtualCores\", metrics.getAllocatedVirtualCores()).\n        __(\"Reserved VirtualCores\", metrics.getReservedVirtualCores()).\n        __(\"Total VirtualCores\", metrics.getTotalVirtualCores()).\n        __(\"Active Nodes\", metrics.getActiveNodes()).\n        __(\"Lost Nodes\", metrics.getLostNodes()).\n        __(\"Available Nodes\", metrics.getDecommissionedNodes()).\n        __(\"Unhealthy Nodes\", metrics.getUnhealthyNodes()).\n        __(\"Rebooted Nodes\", metrics.getRebootedNodes()).\n        __(\"Total Nodes\", metrics.getTotalNodes());\n\n    html.__(InfoBlock.class);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/AboutBlock.java",
      "extendedDetails": {}
    },
    "20add897187adf7c836b20c72e347917d01df9aa": {
      "type": "Ybodychange",
      "commitMessage": "YARN-10136. [Router] : Application metrics are hardcode as N/A in UI. Contributed by  Bilwa S T.\n",
      "commitDate": "14/02/20 3:20 AM",
      "commitName": "20add897187adf7c836b20c72e347917d01df9aa",
      "commitAuthor": "Brahma Reddy Battula",
      "commitDateOld": "02/10/17 1:03 PM",
      "commitNameOld": "ceca9694f9a0c78d07cab2c382036f175183e67b",
      "commitAuthorOld": "Carlo Curino",
      "daysBetweenCommits": 864.64,
      "commitsBetweenForRepo": 6622,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,42 +1,42 @@\n   protected void render(Block html) {\n     Configuration conf \u003d this.router.getConfig();\n     String webAppAddress \u003d WebAppUtils.getRouterWebAppURLWithScheme(conf);\n \n     ClusterMetricsInfo metrics \u003d RouterWebServiceUtil.genericForward(\n         webAppAddress, null, ClusterMetricsInfo.class, HTTPMethods.GET,\n         RMWSConsts.RM_WEB_SERVICE_PATH + RMWSConsts.METRICS, null, null);\n     boolean isEnabled \u003d conf.getBoolean(\n         YarnConfiguration.FEDERATION_ENABLED,\n         YarnConfiguration.DEFAULT_FEDERATION_ENABLED);\n     info(\"Cluster Status\").\n         __(\"Federation Enabled\", isEnabled).\n-        __(\"Applications Submitted\", \"N/A\").\n-        __(\"Applications Pending\", \"N/A\").\n-        __(\"Applications Running\", \"N/A\").\n-        __(\"Applications Failed\", \"N/A\").\n-        __(\"Applications Killed\", \"N/A\").\n-        __(\"Applications Completed\", \"N/A\").\n+        __(\"Applications Submitted\", metrics.getAppsSubmitted()).\n+        __(\"Applications Pending\", metrics.getAppsPending()).\n+        __(\"Applications Running\", metrics.getAppsRunning()).\n+        __(\"Applications Failed\", metrics.getAppsFailed()).\n+        __(\"Applications Killed\", metrics.getAppsKilled()).\n+        __(\"Applications Completed\", metrics.getAppsCompleted()).\n         __(\"Containers Allocated\", metrics.getContainersAllocated()).\n         __(\"Containers Reserved\", metrics.getReservedContainers()).\n         __(\"Containers Pending\", metrics.getPendingContainers()).\n         __(\"Available Memory\",\n             StringUtils.byteDesc(metrics.getAvailableMB() * BYTES_IN_MB)).\n         __(\"Allocated Memory\",\n             StringUtils.byteDesc(metrics.getAllocatedMB() * BYTES_IN_MB)).\n         __(\"Reserved Memory\",\n             StringUtils.byteDesc(metrics.getReservedMB() * BYTES_IN_MB)).\n         __(\"Total Memory\",\n             StringUtils.byteDesc(metrics.getTotalMB() * BYTES_IN_MB)).\n         __(\"Available VirtualCores\", metrics.getAvailableVirtualCores()).\n         __(\"Allocated VirtualCores\", metrics.getAllocatedVirtualCores()).\n         __(\"Reserved VirtualCores\", metrics.getReservedVirtualCores()).\n         __(\"Total VirtualCores\", metrics.getTotalVirtualCores()).\n         __(\"Active Nodes\", metrics.getActiveNodes()).\n         __(\"Lost Nodes\", metrics.getLostNodes()).\n         __(\"Available Nodes\", metrics.getDecommissionedNodes()).\n         __(\"Unhealthy Nodes\", metrics.getUnhealthyNodes()).\n         __(\"Rebooted Nodes\", metrics.getRebootedNodes()).\n         __(\"Total Nodes\", metrics.getTotalNodes());\n \n     html.__(InfoBlock.class);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected void render(Block html) {\n    Configuration conf \u003d this.router.getConfig();\n    String webAppAddress \u003d WebAppUtils.getRouterWebAppURLWithScheme(conf);\n\n    ClusterMetricsInfo metrics \u003d RouterWebServiceUtil.genericForward(\n        webAppAddress, null, ClusterMetricsInfo.class, HTTPMethods.GET,\n        RMWSConsts.RM_WEB_SERVICE_PATH + RMWSConsts.METRICS, null, null);\n    boolean isEnabled \u003d conf.getBoolean(\n        YarnConfiguration.FEDERATION_ENABLED,\n        YarnConfiguration.DEFAULT_FEDERATION_ENABLED);\n    info(\"Cluster Status\").\n        __(\"Federation Enabled\", isEnabled).\n        __(\"Applications Submitted\", metrics.getAppsSubmitted()).\n        __(\"Applications Pending\", metrics.getAppsPending()).\n        __(\"Applications Running\", metrics.getAppsRunning()).\n        __(\"Applications Failed\", metrics.getAppsFailed()).\n        __(\"Applications Killed\", metrics.getAppsKilled()).\n        __(\"Applications Completed\", metrics.getAppsCompleted()).\n        __(\"Containers Allocated\", metrics.getContainersAllocated()).\n        __(\"Containers Reserved\", metrics.getReservedContainers()).\n        __(\"Containers Pending\", metrics.getPendingContainers()).\n        __(\"Available Memory\",\n            StringUtils.byteDesc(metrics.getAvailableMB() * BYTES_IN_MB)).\n        __(\"Allocated Memory\",\n            StringUtils.byteDesc(metrics.getAllocatedMB() * BYTES_IN_MB)).\n        __(\"Reserved Memory\",\n            StringUtils.byteDesc(metrics.getReservedMB() * BYTES_IN_MB)).\n        __(\"Total Memory\",\n            StringUtils.byteDesc(metrics.getTotalMB() * BYTES_IN_MB)).\n        __(\"Available VirtualCores\", metrics.getAvailableVirtualCores()).\n        __(\"Allocated VirtualCores\", metrics.getAllocatedVirtualCores()).\n        __(\"Reserved VirtualCores\", metrics.getReservedVirtualCores()).\n        __(\"Total VirtualCores\", metrics.getTotalVirtualCores()).\n        __(\"Active Nodes\", metrics.getActiveNodes()).\n        __(\"Lost Nodes\", metrics.getLostNodes()).\n        __(\"Available Nodes\", metrics.getDecommissionedNodes()).\n        __(\"Unhealthy Nodes\", metrics.getUnhealthyNodes()).\n        __(\"Rebooted Nodes\", metrics.getRebootedNodes()).\n        __(\"Total Nodes\", metrics.getTotalNodes());\n\n    html.__(InfoBlock.class);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/AboutBlock.java",
      "extendedDetails": {}
    },
    "ceca9694f9a0c78d07cab2c382036f175183e67b": {
      "type": "Yintroduced",
      "commitMessage": "YARN-3661. Basic Federation UI. (Contributed by Inigo Goiri via curino)\n",
      "commitDate": "02/10/17 1:03 PM",
      "commitName": "ceca9694f9a0c78d07cab2c382036f175183e67b",
      "commitAuthor": "Carlo Curino",
      "diff": "@@ -0,0 +1,42 @@\n+  protected void render(Block html) {\n+    Configuration conf \u003d this.router.getConfig();\n+    String webAppAddress \u003d WebAppUtils.getRouterWebAppURLWithScheme(conf);\n+\n+    ClusterMetricsInfo metrics \u003d RouterWebServiceUtil.genericForward(\n+        webAppAddress, null, ClusterMetricsInfo.class, HTTPMethods.GET,\n+        RMWSConsts.RM_WEB_SERVICE_PATH + RMWSConsts.METRICS, null, null);\n+    boolean isEnabled \u003d conf.getBoolean(\n+        YarnConfiguration.FEDERATION_ENABLED,\n+        YarnConfiguration.DEFAULT_FEDERATION_ENABLED);\n+    info(\"Cluster Status\").\n+        __(\"Federation Enabled\", isEnabled).\n+        __(\"Applications Submitted\", \"N/A\").\n+        __(\"Applications Pending\", \"N/A\").\n+        __(\"Applications Running\", \"N/A\").\n+        __(\"Applications Failed\", \"N/A\").\n+        __(\"Applications Killed\", \"N/A\").\n+        __(\"Applications Completed\", \"N/A\").\n+        __(\"Containers Allocated\", metrics.getContainersAllocated()).\n+        __(\"Containers Reserved\", metrics.getReservedContainers()).\n+        __(\"Containers Pending\", metrics.getPendingContainers()).\n+        __(\"Available Memory\",\n+            StringUtils.byteDesc(metrics.getAvailableMB() * BYTES_IN_MB)).\n+        __(\"Allocated Memory\",\n+            StringUtils.byteDesc(metrics.getAllocatedMB() * BYTES_IN_MB)).\n+        __(\"Reserved Memory\",\n+            StringUtils.byteDesc(metrics.getReservedMB() * BYTES_IN_MB)).\n+        __(\"Total Memory\",\n+            StringUtils.byteDesc(metrics.getTotalMB() * BYTES_IN_MB)).\n+        __(\"Available VirtualCores\", metrics.getAvailableVirtualCores()).\n+        __(\"Allocated VirtualCores\", metrics.getAllocatedVirtualCores()).\n+        __(\"Reserved VirtualCores\", metrics.getReservedVirtualCores()).\n+        __(\"Total VirtualCores\", metrics.getTotalVirtualCores()).\n+        __(\"Active Nodes\", metrics.getActiveNodes()).\n+        __(\"Lost Nodes\", metrics.getLostNodes()).\n+        __(\"Available Nodes\", metrics.getDecommissionedNodes()).\n+        __(\"Unhealthy Nodes\", metrics.getUnhealthyNodes()).\n+        __(\"Rebooted Nodes\", metrics.getRebootedNodes()).\n+        __(\"Total Nodes\", metrics.getTotalNodes());\n+\n+    html.__(InfoBlock.class);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  protected void render(Block html) {\n    Configuration conf \u003d this.router.getConfig();\n    String webAppAddress \u003d WebAppUtils.getRouterWebAppURLWithScheme(conf);\n\n    ClusterMetricsInfo metrics \u003d RouterWebServiceUtil.genericForward(\n        webAppAddress, null, ClusterMetricsInfo.class, HTTPMethods.GET,\n        RMWSConsts.RM_WEB_SERVICE_PATH + RMWSConsts.METRICS, null, null);\n    boolean isEnabled \u003d conf.getBoolean(\n        YarnConfiguration.FEDERATION_ENABLED,\n        YarnConfiguration.DEFAULT_FEDERATION_ENABLED);\n    info(\"Cluster Status\").\n        __(\"Federation Enabled\", isEnabled).\n        __(\"Applications Submitted\", \"N/A\").\n        __(\"Applications Pending\", \"N/A\").\n        __(\"Applications Running\", \"N/A\").\n        __(\"Applications Failed\", \"N/A\").\n        __(\"Applications Killed\", \"N/A\").\n        __(\"Applications Completed\", \"N/A\").\n        __(\"Containers Allocated\", metrics.getContainersAllocated()).\n        __(\"Containers Reserved\", metrics.getReservedContainers()).\n        __(\"Containers Pending\", metrics.getPendingContainers()).\n        __(\"Available Memory\",\n            StringUtils.byteDesc(metrics.getAvailableMB() * BYTES_IN_MB)).\n        __(\"Allocated Memory\",\n            StringUtils.byteDesc(metrics.getAllocatedMB() * BYTES_IN_MB)).\n        __(\"Reserved Memory\",\n            StringUtils.byteDesc(metrics.getReservedMB() * BYTES_IN_MB)).\n        __(\"Total Memory\",\n            StringUtils.byteDesc(metrics.getTotalMB() * BYTES_IN_MB)).\n        __(\"Available VirtualCores\", metrics.getAvailableVirtualCores()).\n        __(\"Allocated VirtualCores\", metrics.getAllocatedVirtualCores()).\n        __(\"Reserved VirtualCores\", metrics.getReservedVirtualCores()).\n        __(\"Total VirtualCores\", metrics.getTotalVirtualCores()).\n        __(\"Active Nodes\", metrics.getActiveNodes()).\n        __(\"Lost Nodes\", metrics.getLostNodes()).\n        __(\"Available Nodes\", metrics.getDecommissionedNodes()).\n        __(\"Unhealthy Nodes\", metrics.getUnhealthyNodes()).\n        __(\"Rebooted Nodes\", metrics.getRebootedNodes()).\n        __(\"Total Nodes\", metrics.getTotalNodes());\n\n    html.__(InfoBlock.class);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-router/src/main/java/org/apache/hadoop/yarn/server/router/webapp/AboutBlock.java"
    }
  }
}