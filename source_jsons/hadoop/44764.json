{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMAdminCLI.java",
  "functionName": "createAdminProtocol",
  "functionId": "createAdminProtocol",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
  "functionStartLine": 333,
  "functionEndLine": 339,
  "numCommitsSeen": 64,
  "timeTaken": 8507,
  "changeHistory": [
    "776deafb4c7b623f02ae1e31d5ba80e14726d665",
    "33b5a81509ed08e88bb692682e75fb779f8e2e19",
    "77e134d13fb87cd098f2e9c23212affe0a7be1be",
    "ac0bbb750f3cc9baa1145c250e083006bf83cd87",
    "494e21052156a7c5abedbbee824578837ad8cc11",
    "e1fdf62123625e4ba399af02f8aad500637d29d1",
    "32d511065a2612d37591f09e53eed8ec1488587d",
    "4186121c08cb3d86f775d333c637459a4fb19d1b",
    "66137cf17cb4abccd6065819d97edc63c6510477",
    "fafe8cd28e726566509c679e19d7da622f29f90d",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517"
  ],
  "changeHistoryShort": {
    "776deafb4c7b623f02ae1e31d5ba80e14726d665": "Ymodifierchange",
    "33b5a81509ed08e88bb692682e75fb779f8e2e19": "Ybodychange",
    "77e134d13fb87cd098f2e9c23212affe0a7be1be": "Ymultichange(Yreturntypechange,Ybodychange)",
    "ac0bbb750f3cc9baa1145c250e083006bf83cd87": "Yfilerename",
    "494e21052156a7c5abedbbee824578837ad8cc11": "Yfilerename",
    "e1fdf62123625e4ba399af02f8aad500637d29d1": "Yfilerename",
    "32d511065a2612d37591f09e53eed8ec1488587d": "Ybodychange",
    "4186121c08cb3d86f775d333c637459a4fb19d1b": "Ybodychange",
    "66137cf17cb4abccd6065819d97edc63c6510477": "Ybodychange",
    "fafe8cd28e726566509c679e19d7da622f29f90d": "Ybodychange",
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": "Yfilerename",
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": "Yintroduced"
  },
  "changeHistoryDetails": {
    "776deafb4c7b623f02ae1e31d5ba80e14726d665": {
      "type": "Ymodifierchange",
      "commitMessage": "HADOOP-9598. Improve code coverage of RMAdminCLI (Aleksey Gorshkov and Andrey Klochkov via jeagles)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1534905 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "22/10/13 9:10 PM",
      "commitName": "776deafb4c7b623f02ae1e31d5ba80e14726d665",
      "commitAuthor": "Jonathan Turner Eagles",
      "commitDateOld": "16/07/13 3:47 PM",
      "commitNameOld": "33b5a81509ed08e88bb692682e75fb779f8e2e19",
      "commitAuthorOld": "Bikas Saha",
      "daysBetweenCommits": 98.22,
      "commitsBetweenForRepo": 610,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,5 @@\n-  private ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {\n+  protected ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {\n     // Get the current configuration\n     final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n     return ClientRMProxy.createRMProxy(conf, ResourceManagerAdministrationProtocol.class);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  protected ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n    return ClientRMProxy.createRMProxy(conf, ResourceManagerAdministrationProtocol.class);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
      "extendedDetails": {
        "oldValue": "[private]",
        "newValue": "[protected]"
      }
    },
    "33b5a81509ed08e88bb692682e75fb779f8e2e19": {
      "type": "Ybodychange",
      "commitMessage": "YARN-513. Create common proxy client for communicating with RM (Xuan Gong \u0026 Jian He via bikas)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1503933 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/07/13 3:47 PM",
      "commitName": "33b5a81509ed08e88bb692682e75fb779f8e2e19",
      "commitAuthor": "Bikas Saha",
      "commitDateOld": "25/06/13 10:57 PM",
      "commitNameOld": "f3a893b696cdcff89ea4640c9dd21cbde094104d",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 20.7,
      "commitsBetweenForRepo": 89,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,22 +1,5 @@\n   private ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {\n     // Get the current configuration\n     final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n-\n-    // Create the client\n-    final InetSocketAddress addr \u003d conf.getSocketAddr(\n-        YarnConfiguration.RM_ADMIN_ADDRESS,\n-        YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n-        YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n-    final YarnRPC rpc \u003d YarnRPC.create(conf);\n-    \n-    ResourceManagerAdministrationProtocol adminProtocol \u003d\n-      getUGI(conf).doAs(new PrivilegedAction\u003cResourceManagerAdministrationProtocol\u003e() {\n-        @Override\n-        public ResourceManagerAdministrationProtocol run() {\n-          return (ResourceManagerAdministrationProtocol) rpc.getProxy(ResourceManagerAdministrationProtocol.class,\n-              addr, conf);\n-        }\n-      });\n-\n-    return adminProtocol;\n+    return ClientRMProxy.createRMProxy(conf, ResourceManagerAdministrationProtocol.class);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n    return ClientRMProxy.createRMProxy(conf, ResourceManagerAdministrationProtocol.class);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
      "extendedDetails": {}
    },
    "77e134d13fb87cd098f2e9c23212affe0a7be1be": {
      "type": "Ymultichange(Yreturntypechange,Ybodychange)",
      "commitMessage": "YARN-387. Renamed YARN protocols for consistency. Contributed by Vinod K V.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1493623 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/06/13 7:27 PM",
      "commitName": "77e134d13fb87cd098f2e9c23212affe0a7be1be",
      "commitAuthor": "Arun Murthy",
      "subchanges": [
        {
          "type": "Yreturntypechange",
          "commitMessage": "YARN-387. Renamed YARN protocols for consistency. Contributed by Vinod K V.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1493623 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "16/06/13 7:27 PM",
          "commitName": "77e134d13fb87cd098f2e9c23212affe0a7be1be",
          "commitAuthor": "Arun Murthy",
          "commitDateOld": "16/06/13 2:42 PM",
          "commitNameOld": "ac0bbb750f3cc9baa1145c250e083006bf83cd87",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 0.2,
          "commitsBetweenForRepo": 3,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,22 +1,22 @@\n-  private RMAdminProtocol createAdminProtocol() throws IOException {\n+  private ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {\n     // Get the current configuration\n     final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n \n     // Create the client\n     final InetSocketAddress addr \u003d conf.getSocketAddr(\n         YarnConfiguration.RM_ADMIN_ADDRESS,\n         YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n         YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n     final YarnRPC rpc \u003d YarnRPC.create(conf);\n     \n-    RMAdminProtocol adminProtocol \u003d\n-      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n+    ResourceManagerAdministrationProtocol adminProtocol \u003d\n+      getUGI(conf).doAs(new PrivilegedAction\u003cResourceManagerAdministrationProtocol\u003e() {\n         @Override\n-        public RMAdminProtocol run() {\n-          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n+        public ResourceManagerAdministrationProtocol run() {\n+          return (ResourceManagerAdministrationProtocol) rpc.getProxy(ResourceManagerAdministrationProtocol.class,\n               addr, conf);\n         }\n       });\n \n     return adminProtocol;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final InetSocketAddress addr \u003d conf.getSocketAddr(\n        YarnConfiguration.RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    ResourceManagerAdministrationProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cResourceManagerAdministrationProtocol\u003e() {\n        @Override\n        public ResourceManagerAdministrationProtocol run() {\n          return (ResourceManagerAdministrationProtocol) rpc.getProxy(ResourceManagerAdministrationProtocol.class,\n              addr, conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
          "extendedDetails": {
            "oldValue": "RMAdminProtocol",
            "newValue": "ResourceManagerAdministrationProtocol"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-387. Renamed YARN protocols for consistency. Contributed by Vinod K V.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1493623 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "16/06/13 7:27 PM",
          "commitName": "77e134d13fb87cd098f2e9c23212affe0a7be1be",
          "commitAuthor": "Arun Murthy",
          "commitDateOld": "16/06/13 2:42 PM",
          "commitNameOld": "ac0bbb750f3cc9baa1145c250e083006bf83cd87",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 0.2,
          "commitsBetweenForRepo": 3,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,22 +1,22 @@\n-  private RMAdminProtocol createAdminProtocol() throws IOException {\n+  private ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {\n     // Get the current configuration\n     final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n \n     // Create the client\n     final InetSocketAddress addr \u003d conf.getSocketAddr(\n         YarnConfiguration.RM_ADMIN_ADDRESS,\n         YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n         YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n     final YarnRPC rpc \u003d YarnRPC.create(conf);\n     \n-    RMAdminProtocol adminProtocol \u003d\n-      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n+    ResourceManagerAdministrationProtocol adminProtocol \u003d\n+      getUGI(conf).doAs(new PrivilegedAction\u003cResourceManagerAdministrationProtocol\u003e() {\n         @Override\n-        public RMAdminProtocol run() {\n-          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n+        public ResourceManagerAdministrationProtocol run() {\n+          return (ResourceManagerAdministrationProtocol) rpc.getProxy(ResourceManagerAdministrationProtocol.class,\n               addr, conf);\n         }\n       });\n \n     return adminProtocol;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final InetSocketAddress addr \u003d conf.getSocketAddr(\n        YarnConfiguration.RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    ResourceManagerAdministrationProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cResourceManagerAdministrationProtocol\u003e() {\n        @Override\n        public ResourceManagerAdministrationProtocol run() {\n          return (ResourceManagerAdministrationProtocol) rpc.getProxy(ResourceManagerAdministrationProtocol.class,\n              addr, conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
          "extendedDetails": {}
        }
      ]
    },
    "ac0bbb750f3cc9baa1145c250e083006bf83cd87": {
      "type": "Yfilerename",
      "commitMessage": "YARN-823. Moved RMAdmin from yarn.client to yarn.client.cli and renamed it to be RMAdminCLI. Contributed by Jian He.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1493596 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/06/13 2:42 PM",
      "commitName": "ac0bbb750f3cc9baa1145c250e083006bf83cd87",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "16/06/13 2:34 PM",
      "commitNameOld": "4aa7503342272556c83f924fb82df61b332b96c3",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private RMAdminProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final InetSocketAddress addr \u003d conf.getSocketAddr(\n        YarnConfiguration.RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    RMAdminProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n        @Override\n        public RMAdminProtocol run() {\n          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n              addr, conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/RMAdmin.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/RMAdminCLI.java"
      }
    },
    "494e21052156a7c5abedbbee824578837ad8cc11": {
      "type": "Yfilerename",
      "commitMessage": "YARN-127. Move RMAdmin tool to its correct location - the client module. Contributed by Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1395781 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "08/10/12 2:21 PM",
      "commitName": "494e21052156a7c5abedbbee824578837ad8cc11",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "08/10/12 1:50 PM",
      "commitNameOld": "49b20c2ed1be55c90a057acea71b55a28a3f69fb",
      "commitAuthorOld": "Robert Joseph Evans",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private RMAdminProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final InetSocketAddress addr \u003d conf.getSocketAddr(\n        YarnConfiguration.RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    RMAdminProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n        @Override\n        public RMAdminProtocol run() {\n          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n              addr, conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/RMAdmin.java",
      "extendedDetails": {
        "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/RMAdmin.java"
      }
    },
    "e1fdf62123625e4ba399af02f8aad500637d29d1": {
      "type": "Yfilerename",
      "commitMessage": "YARN-1. Promote YARN to be a sub-project of Apache Hadoop.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1370666 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "07/08/12 10:22 PM",
      "commitName": "e1fdf62123625e4ba399af02f8aad500637d29d1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "07/08/12 7:53 PM",
      "commitNameOld": "34554d1e11ee1d5b564d7d9ed3e6d55931d72749",
      "commitAuthorOld": "Aaron Myers",
      "daysBetweenCommits": 0.1,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private RMAdminProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final InetSocketAddress addr \u003d conf.getSocketAddr(\n        YarnConfiguration.RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    RMAdminProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n        @Override\n        public RMAdminProtocol run() {\n          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n              addr, conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java",
        "newPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java"
      }
    },
    "32d511065a2612d37591f09e53eed8ec1488587d": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-4161. create sockets consistently (Daryn Sharp via bobby)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1327621 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/04/12 11:46 AM",
      "commitName": "32d511065a2612d37591f09e53eed8ec1488587d",
      "commitAuthor": "Robert Joseph Evans",
      "commitDateOld": "24/10/11 11:07 PM",
      "commitNameOld": "d19cfe01642f9582e1fe5d567beb480399c37a01",
      "commitAuthorOld": "Mahadev Konar",
      "daysBetweenCommits": 176.53,
      "commitsBetweenForRepo": 1282,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,25 +1,22 @@\n   private RMAdminProtocol createAdminProtocol() throws IOException {\n     // Get the current configuration\n     final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n \n     // Create the client\n-    final String adminAddress \u003d\n-      conf.get(YarnConfiguration.RM_ADMIN_ADDRESS,\n-          YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS);\n-    final InetSocketAddress addr \u003d\n-      NetUtils.createSocketAddr(adminAddress,\n-        YarnConfiguration.DEFAULT_RM_ADMIN_PORT,\n-        YarnConfiguration.RM_ADMIN_ADDRESS);\n+    final InetSocketAddress addr \u003d conf.getSocketAddr(\n+        YarnConfiguration.RM_ADMIN_ADDRESS,\n+        YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n+        YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n     final YarnRPC rpc \u003d YarnRPC.create(conf);\n     \n     RMAdminProtocol adminProtocol \u003d\n       getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n         @Override\n         public RMAdminProtocol run() {\n           return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n               addr, conf);\n         }\n       });\n \n     return adminProtocol;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private RMAdminProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final InetSocketAddress addr \u003d conf.getSocketAddr(\n        YarnConfiguration.RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,\n        YarnConfiguration.DEFAULT_RM_ADMIN_PORT);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    RMAdminProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n        @Override\n        public RMAdminProtocol run() {\n          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n              addr, conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java",
      "extendedDetails": {}
    },
    "4186121c08cb3d86f775d333c637459a4fb19d1b": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-3239. Use new createSocketAddr API in MRv2 to give better error messages on misconfig (Todd Lipcon via mahadev)\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1187556 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "21/10/11 2:36 PM",
      "commitName": "4186121c08cb3d86f775d333c637459a4fb19d1b",
      "commitAuthor": "Mahadev Konar",
      "commitDateOld": "05/10/11 4:43 AM",
      "commitNameOld": "66137cf17cb4abccd6065819d97edc63c6510477",
      "commitAuthorOld": "Vinod Kumar Vavilapalli",
      "daysBetweenCommits": 16.41,
      "commitsBetweenForRepo": 135,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,21 +1,25 @@\n   private RMAdminProtocol createAdminProtocol() throws IOException {\n     // Get the current configuration\n     final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n \n     // Create the client\n     final String adminAddress \u003d\n       conf.get(YarnConfiguration.RM_ADMIN_ADDRESS,\n-          YarnConfiguration.RM_ADMIN_ADDRESS);\n+          YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS);\n+    final InetSocketAddress addr \u003d\n+      NetUtils.createSocketAddr(adminAddress,\n+        YarnConfiguration.DEFAULT_RM_ADMIN_PORT,\n+        YarnConfiguration.RM_ADMIN_ADDRESS);\n     final YarnRPC rpc \u003d YarnRPC.create(conf);\n     \n     RMAdminProtocol adminProtocol \u003d\n       getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n         @Override\n         public RMAdminProtocol run() {\n           return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n-              NetUtils.createSocketAddr(adminAddress), conf);\n+              addr, conf);\n         }\n       });\n \n     return adminProtocol;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private RMAdminProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final String adminAddress \u003d\n      conf.get(YarnConfiguration.RM_ADMIN_ADDRESS,\n          YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS);\n    final InetSocketAddress addr \u003d\n      NetUtils.createSocketAddr(adminAddress,\n        YarnConfiguration.DEFAULT_RM_ADMIN_PORT,\n        YarnConfiguration.RM_ADMIN_ADDRESS);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    RMAdminProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n        @Override\n        public RMAdminProtocol run() {\n          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n              addr, conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java",
      "extendedDetails": {}
    },
    "66137cf17cb4abccd6065819d97edc63c6510477": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-3013. Removed YarnConfiguration.YARN_SECURITY_INFO and its usage as it doesn\u0027t affect security any more. (vinodkv)\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1179174 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "05/10/11 4:43 AM",
      "commitName": "66137cf17cb4abccd6065819d97edc63c6510477",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "08/09/11 6:44 PM",
      "commitNameOld": "fafe8cd28e726566509c679e19d7da622f29f90d",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 26.42,
      "commitsBetweenForRepo": 182,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,26 +1,21 @@\n   private RMAdminProtocol createAdminProtocol() throws IOException {\n     // Get the current configuration\n     final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n \n     // Create the client\n     final String adminAddress \u003d\n       conf.get(YarnConfiguration.RM_ADMIN_ADDRESS,\n           YarnConfiguration.RM_ADMIN_ADDRESS);\n     final YarnRPC rpc \u003d YarnRPC.create(conf);\n     \n-    if (UserGroupInformation.isSecurityEnabled()) {\n-      conf.setClass(YarnConfiguration.YARN_SECURITY_INFO,\n-          AdminSecurityInfo.class, SecurityInfo.class);\n-    }\n-    \n     RMAdminProtocol adminProtocol \u003d\n       getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n         @Override\n         public RMAdminProtocol run() {\n           return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n               NetUtils.createSocketAddr(adminAddress), conf);\n         }\n       });\n \n     return adminProtocol;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private RMAdminProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final String adminAddress \u003d\n      conf.get(YarnConfiguration.RM_ADMIN_ADDRESS,\n          YarnConfiguration.RM_ADMIN_ADDRESS);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    RMAdminProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n        @Override\n        public RMAdminProtocol run() {\n          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n              NetUtils.createSocketAddr(adminAddress), conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java",
      "extendedDetails": {}
    },
    "fafe8cd28e726566509c679e19d7da622f29f90d": {
      "type": "Ybodychange",
      "commitMessage": "MAPREDUCE-2864. Normalize configuration variable names for YARN. Contributed by Robert Evans.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1166955 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "08/09/11 6:44 PM",
      "commitName": "fafe8cd28e726566509c679e19d7da622f29f90d",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "25/08/11 10:16 AM",
      "commitNameOld": "7c85f33ce1b209e1e5bb17b9dd2ad270ca451d60",
      "commitAuthorOld": "Mahadev Konar",
      "daysBetweenCommits": 14.35,
      "commitsBetweenForRepo": 82,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,26 +1,26 @@\n   private RMAdminProtocol createAdminProtocol() throws IOException {\n     // Get the current configuration\n     final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n \n     // Create the client\n     final String adminAddress \u003d\n-      conf.get(RMConfig.ADMIN_ADDRESS,\n-          RMConfig.DEFAULT_ADMIN_BIND_ADDRESS);\n+      conf.get(YarnConfiguration.RM_ADMIN_ADDRESS,\n+          YarnConfiguration.RM_ADMIN_ADDRESS);\n     final YarnRPC rpc \u003d YarnRPC.create(conf);\n     \n     if (UserGroupInformation.isSecurityEnabled()) {\n       conf.setClass(YarnConfiguration.YARN_SECURITY_INFO,\n           AdminSecurityInfo.class, SecurityInfo.class);\n     }\n     \n     RMAdminProtocol adminProtocol \u003d\n       getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n         @Override\n         public RMAdminProtocol run() {\n           return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n               NetUtils.createSocketAddr(adminAddress), conf);\n         }\n       });\n \n     return adminProtocol;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private RMAdminProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final String adminAddress \u003d\n      conf.get(YarnConfiguration.RM_ADMIN_ADDRESS,\n          YarnConfiguration.RM_ADMIN_ADDRESS);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    if (UserGroupInformation.isSecurityEnabled()) {\n      conf.setClass(YarnConfiguration.YARN_SECURITY_INFO,\n          AdminSecurityInfo.class, SecurityInfo.class);\n    }\n    \n    RMAdminProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n        @Override\n        public RMAdminProtocol run() {\n          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n              NetUtils.createSocketAddr(adminAddress), conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java",
      "extendedDetails": {}
    },
    "cd7157784e5e5ddc4e77144d042e54dd0d04bac1": {
      "type": "Yfilerename",
      "commitMessage": "HADOOP-7560. Change src layout to be heirarchical. Contributed by Alejandro Abdelnur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1161332 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "24/08/11 5:14 PM",
      "commitName": "cd7157784e5e5ddc4e77144d042e54dd0d04bac1",
      "commitAuthor": "Arun Murthy",
      "commitDateOld": "24/08/11 5:06 PM",
      "commitNameOld": "bb0005cfec5fd2861600ff5babd259b48ba18b63",
      "commitAuthorOld": "Arun Murthy",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "actualSource": "  private RMAdminProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final String adminAddress \u003d\n      conf.get(RMConfig.ADMIN_ADDRESS,\n          RMConfig.DEFAULT_ADMIN_BIND_ADDRESS);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    if (UserGroupInformation.isSecurityEnabled()) {\n      conf.setClass(YarnConfiguration.YARN_SECURITY_INFO,\n          AdminSecurityInfo.class, SecurityInfo.class);\n    }\n    \n    RMAdminProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n        @Override\n        public RMAdminProtocol run() {\n          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n              NetUtils.createSocketAddr(adminAddress), conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
      "path": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java",
      "extendedDetails": {
        "oldPath": "hadoop-mapreduce/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java",
        "newPath": "hadoop-mapreduce-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java"
      }
    },
    "dbecbe5dfe50f834fc3b8401709079e9470cc517": {
      "type": "Yintroduced",
      "commitMessage": "MAPREDUCE-279. MapReduce 2.0. Merging MR-279 branch into trunk. Contributed by Arun C Murthy, Christopher Douglas, Devaraj Das, Greg Roelofs, Jeffrey Naisbitt, Josh Wills, Jonathan Eagles, Krishna Ramachandran, Luke Lu, Mahadev Konar, Robert Evans, Sharad Agarwal, Siddharth Seth, Thomas Graves, and Vinod Kumar Vavilapalli.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1159166 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/08/11 4:07 AM",
      "commitName": "dbecbe5dfe50f834fc3b8401709079e9470cc517",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,26 @@\n+  private RMAdminProtocol createAdminProtocol() throws IOException {\n+    // Get the current configuration\n+    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n+\n+    // Create the client\n+    final String adminAddress \u003d\n+      conf.get(RMConfig.ADMIN_ADDRESS,\n+          RMConfig.DEFAULT_ADMIN_BIND_ADDRESS);\n+    final YarnRPC rpc \u003d YarnRPC.create(conf);\n+    \n+    if (UserGroupInformation.isSecurityEnabled()) {\n+      conf.setClass(YarnConfiguration.YARN_SECURITY_INFO,\n+          AdminSecurityInfo.class, SecurityInfo.class);\n+    }\n+    \n+    RMAdminProtocol adminProtocol \u003d\n+      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n+        @Override\n+        public RMAdminProtocol run() {\n+          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n+              NetUtils.createSocketAddr(adminAddress), conf);\n+        }\n+      });\n+\n+    return adminProtocol;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private RMAdminProtocol createAdminProtocol() throws IOException {\n    // Get the current configuration\n    final YarnConfiguration conf \u003d new YarnConfiguration(getConf());\n\n    // Create the client\n    final String adminAddress \u003d\n      conf.get(RMConfig.ADMIN_ADDRESS,\n          RMConfig.DEFAULT_ADMIN_BIND_ADDRESS);\n    final YarnRPC rpc \u003d YarnRPC.create(conf);\n    \n    if (UserGroupInformation.isSecurityEnabled()) {\n      conf.setClass(YarnConfiguration.YARN_SECURITY_INFO,\n          AdminSecurityInfo.class, SecurityInfo.class);\n    }\n    \n    RMAdminProtocol adminProtocol \u003d\n      getUGI(conf).doAs(new PrivilegedAction\u003cRMAdminProtocol\u003e() {\n        @Override\n        public RMAdminProtocol run() {\n          return (RMAdminProtocol) rpc.getProxy(RMAdminProtocol.class,\n              NetUtils.createSocketAddr(adminAddress), conf);\n        }\n      });\n\n    return adminProtocol;\n  }",
      "path": "hadoop-mapreduce/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/tools/RMAdmin.java"
    }
  }
}