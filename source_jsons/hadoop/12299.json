{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "VolumeScanner.java",
  "functionName": "printStats",
  "functionId": "printStats___p-StringBuilder",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java",
  "functionStartLine": 230,
  "functionEndLine": 261,
  "numCommitsSeen": 20,
  "timeTaken": 3617,
  "changeHistory": [
    "fb8932a727f757b2e9c1c61a18145878d0eb77bd",
    "96b12662ea76e3ded4ef13944fc8df206cfb4613",
    "b11008d54d8aa3eb9c7c10c3a0734d95b9ef41e9",
    "a8070259f8384021bd6196e7343f1cc23de89b1c",
    "3d5085595286c0231f66543d1509247ad4bb5739",
    "6e62a1a6728b1f782f64065424f92b292c3f163a"
  ],
  "changeHistoryShort": {
    "fb8932a727f757b2e9c1c61a18145878d0eb77bd": "Ybodychange",
    "96b12662ea76e3ded4ef13944fc8df206cfb4613": "Ybodychange",
    "b11008d54d8aa3eb9c7c10c3a0734d95b9ef41e9": "Ybodychange",
    "a8070259f8384021bd6196e7343f1cc23de89b1c": "Ybodychange",
    "3d5085595286c0231f66543d1509247ad4bb5739": "Ybodychange",
    "6e62a1a6728b1f782f64065424f92b292c3f163a": "Yintroduced"
  },
  "changeHistoryDetails": {
    "fb8932a727f757b2e9c1c61a18145878d0eb77bd": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-16029. Consecutive StringBuilder.append can be reused. Contributed by Ayush Saxena.\n",
      "commitDate": "11/01/19 10:54 AM",
      "commitName": "fb8932a727f757b2e9c1c61a18145878d0eb77bd",
      "commitAuthor": "Giovanni Matteo Fumarola",
      "commitDateOld": "30/10/18 10:43 PM",
      "commitNameOld": "fac9f91b2944cee641049fffcafa6b65e0cf68f2",
      "commitAuthorOld": "Akira Ajisaka",
      "daysBetweenCommits": 72.55,
      "commitsBetweenForRepo": 463,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n   public void printStats(StringBuilder p) {\n     p.append(String.format(\"Block scanner information for volume %s with base\" +\n         \" path %s%n\", volume.getStorageID(), volume));\n     synchronized (stats) {\n       p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n-          stats.bytesScannedInPastHour));\n-      p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n-          stats.blocksScannedInCurrentPeriod));\n-      p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n-          stats.blocksScannedSinceRestart));\n-      p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n-          stats.scansSinceRestart));\n-      p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n-          stats.scanErrorsSinceRestart));\n+          stats.bytesScannedInPastHour))\n+          .append(String.format(\"Blocks scanned in current period  : %57d%n\",\n+              stats.blocksScannedInCurrentPeriod))\n+          .append(String.format(\"Blocks scanned since restart      : %57d%n\",\n+              stats.blocksScannedSinceRestart))\n+          .append(String.format(\"Block pool scans since restart    : %57d%n\",\n+              stats.scansSinceRestart))\n+          .append(String.format(\"Block scan errors since restart   : %57d%n\",\n+              stats.scanErrorsSinceRestart));\n       if (stats.nextBlockPoolScanStartMs \u003e 0) {\n         p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n             positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                 Time.monotonicNow())));\n       }\n       if (stats.blockPoolPeriodEndsMs \u003e 0) {\n         p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n             positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                 Time.now())));\n       }\n       p.append(String.format(\"Last block scanned                : %57s%n\",\n           ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n           stats.lastBlockScanned.toString())));\n       p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n           !stats.eof));\n       p.append(System.lineSeparator());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void printStats(StringBuilder p) {\n    p.append(String.format(\"Block scanner information for volume %s with base\" +\n        \" path %s%n\", volume.getStorageID(), volume));\n    synchronized (stats) {\n      p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n          stats.bytesScannedInPastHour))\n          .append(String.format(\"Blocks scanned in current period  : %57d%n\",\n              stats.blocksScannedInCurrentPeriod))\n          .append(String.format(\"Blocks scanned since restart      : %57d%n\",\n              stats.blocksScannedSinceRestart))\n          .append(String.format(\"Block pool scans since restart    : %57d%n\",\n              stats.scansSinceRestart))\n          .append(String.format(\"Block scan errors since restart   : %57d%n\",\n              stats.scanErrorsSinceRestart));\n      if (stats.nextBlockPoolScanStartMs \u003e 0) {\n        p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n            positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                Time.monotonicNow())));\n      }\n      if (stats.blockPoolPeriodEndsMs \u003e 0) {\n        p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n            positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                Time.now())));\n      }\n      p.append(String.format(\"Last block scanned                : %57s%n\",\n          ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n          stats.lastBlockScanned.toString())));\n      p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n          !stats.eof));\n      p.append(System.lineSeparator());\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java",
      "extendedDetails": {}
    },
    "96b12662ea76e3ded4ef13944fc8df206cfb4613": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10637. Modifications to remove the assumption that FsVolumes are backed by java.io.File. (Virajith Jalaparti via lei)\n",
      "commitDate": "10/10/16 3:30 PM",
      "commitName": "96b12662ea76e3ded4ef13944fc8df206cfb4613",
      "commitAuthor": "Lei Xu",
      "commitDateOld": "29/08/16 1:59 PM",
      "commitNameOld": "5d1609ddf275e4907bd224bf618e2aad4b262888",
      "commitAuthorOld": "Yongjun Zhang",
      "daysBetweenCommits": 42.06,
      "commitsBetweenForRepo": 263,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n   public void printStats(StringBuilder p) {\n     p.append(String.format(\"Block scanner information for volume %s with base\" +\n-        \" path %s%n\", volume.getStorageID(), volume.getBasePath()));\n+        \" path %s%n\", volume.getStorageID(), volume));\n     synchronized (stats) {\n       p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n           stats.bytesScannedInPastHour));\n       p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n           stats.blocksScannedInCurrentPeriod));\n       p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n           stats.blocksScannedSinceRestart));\n       p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n           stats.scansSinceRestart));\n       p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n           stats.scanErrorsSinceRestart));\n       if (stats.nextBlockPoolScanStartMs \u003e 0) {\n         p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n             positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                 Time.monotonicNow())));\n       }\n       if (stats.blockPoolPeriodEndsMs \u003e 0) {\n         p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n             positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                 Time.now())));\n       }\n       p.append(String.format(\"Last block scanned                : %57s%n\",\n           ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n           stats.lastBlockScanned.toString())));\n       p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n           !stats.eof));\n       p.append(System.lineSeparator());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void printStats(StringBuilder p) {\n    p.append(String.format(\"Block scanner information for volume %s with base\" +\n        \" path %s%n\", volume.getStorageID(), volume));\n    synchronized (stats) {\n      p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n          stats.bytesScannedInPastHour));\n      p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n          stats.blocksScannedInCurrentPeriod));\n      p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n          stats.blocksScannedSinceRestart));\n      p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n          stats.scansSinceRestart));\n      p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n          stats.scanErrorsSinceRestart));\n      if (stats.nextBlockPoolScanStartMs \u003e 0) {\n        p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n            positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                Time.monotonicNow())));\n      }\n      if (stats.blockPoolPeriodEndsMs \u003e 0) {\n        p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n            positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                Time.now())));\n      }\n      p.append(String.format(\"Last block scanned                : %57s%n\",\n          ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n          stats.lastBlockScanned.toString())));\n      p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n          !stats.eof));\n      p.append(System.lineSeparator());\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java",
      "extendedDetails": {}
    },
    "b11008d54d8aa3eb9c7c10c3a0734d95b9ef41e9": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9210. Fix some misuse of %n in VolumeScanner#printStats. Contributed by Xiaoyu Yao.\n",
      "commitDate": "01/02/16 11:55 AM",
      "commitName": "b11008d54d8aa3eb9c7c10c3a0734d95b9ef41e9",
      "commitAuthor": "Xiaoyu Yao",
      "commitDateOld": "14/10/15 2:41 PM",
      "commitNameOld": "a8070259f8384021bd6196e7343f1cc23de89b1c",
      "commitAuthorOld": "Xiaoyu Yao",
      "daysBetweenCommits": 109.93,
      "commitsBetweenForRepo": 734,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,32 @@\n   public void printStats(StringBuilder p) {\n-    p.append(\"Block scanner information for volume \" +\n-        volume.getStorageID() + \" with base path \" + volume.getBasePath() +\n-        \"%n\");\n+    p.append(String.format(\"Block scanner information for volume %s with base\" +\n+        \" path %s%n\", volume.getStorageID(), volume.getBasePath()));\n     synchronized (stats) {\n       p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n           stats.bytesScannedInPastHour));\n       p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n           stats.blocksScannedInCurrentPeriod));\n       p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n           stats.blocksScannedSinceRestart));\n       p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n           stats.scansSinceRestart));\n       p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n           stats.scanErrorsSinceRestart));\n       if (stats.nextBlockPoolScanStartMs \u003e 0) {\n         p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n             positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                 Time.monotonicNow())));\n       }\n       if (stats.blockPoolPeriodEndsMs \u003e 0) {\n         p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n             positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                 Time.now())));\n       }\n       p.append(String.format(\"Last block scanned                : %57s%n\",\n           ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n           stats.lastBlockScanned.toString())));\n       p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n           !stats.eof));\n-      p.append(\"%n\");\n+      p.append(System.lineSeparator());\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void printStats(StringBuilder p) {\n    p.append(String.format(\"Block scanner information for volume %s with base\" +\n        \" path %s%n\", volume.getStorageID(), volume.getBasePath()));\n    synchronized (stats) {\n      p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n          stats.bytesScannedInPastHour));\n      p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n          stats.blocksScannedInCurrentPeriod));\n      p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n          stats.blocksScannedSinceRestart));\n      p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n          stats.scansSinceRestart));\n      p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n          stats.scanErrorsSinceRestart));\n      if (stats.nextBlockPoolScanStartMs \u003e 0) {\n        p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n            positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                Time.monotonicNow())));\n      }\n      if (stats.blockPoolPeriodEndsMs \u003e 0) {\n        p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n            positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                Time.now())));\n      }\n      p.append(String.format(\"Last block scanned                : %57s%n\",\n          ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n          stats.lastBlockScanned.toString())));\n      p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n          !stats.eof));\n      p.append(System.lineSeparator());\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java",
      "extendedDetails": {}
    },
    "a8070259f8384021bd6196e7343f1cc23de89b1c": {
      "type": "Ybodychange",
      "commitMessage": "Revert \"HDFS-9210. Fix some misuse of %n in VolumeScanner#printStats. Contributed by Xiaoyu Yao.\"\n\nThis reverts commit 3d5085595286c0231f66543d1509247ad4bb5739.\n",
      "commitDate": "14/10/15 2:41 PM",
      "commitName": "a8070259f8384021bd6196e7343f1cc23de89b1c",
      "commitAuthor": "Xiaoyu Yao",
      "commitDateOld": "14/10/15 1:22 PM",
      "commitNameOld": "3d5085595286c0231f66543d1509247ad4bb5739",
      "commitAuthorOld": "Xiaoyu Yao",
      "daysBetweenCommits": 0.05,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,33 @@\n   public void printStats(StringBuilder p) {\n-    p.append(String.format(\"Block scanner information for volume %s with base\" +\n-        \" path %s%n\" + volume.getStorageID(), volume.getBasePath()));\n+    p.append(\"Block scanner information for volume \" +\n+        volume.getStorageID() + \" with base path \" + volume.getBasePath() +\n+        \"%n\");\n     synchronized (stats) {\n       p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n           stats.bytesScannedInPastHour));\n       p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n           stats.blocksScannedInCurrentPeriod));\n       p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n           stats.blocksScannedSinceRestart));\n       p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n           stats.scansSinceRestart));\n       p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n           stats.scanErrorsSinceRestart));\n       if (stats.nextBlockPoolScanStartMs \u003e 0) {\n         p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n             positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                 Time.monotonicNow())));\n       }\n       if (stats.blockPoolPeriodEndsMs \u003e 0) {\n         p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n             positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                 Time.now())));\n       }\n       p.append(String.format(\"Last block scanned                : %57s%n\",\n           ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n           stats.lastBlockScanned.toString())));\n       p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n           !stats.eof));\n-      p.append(String.format(\"%n\"));\n+      p.append(\"%n\");\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void printStats(StringBuilder p) {\n    p.append(\"Block scanner information for volume \" +\n        volume.getStorageID() + \" with base path \" + volume.getBasePath() +\n        \"%n\");\n    synchronized (stats) {\n      p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n          stats.bytesScannedInPastHour));\n      p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n          stats.blocksScannedInCurrentPeriod));\n      p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n          stats.blocksScannedSinceRestart));\n      p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n          stats.scansSinceRestart));\n      p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n          stats.scanErrorsSinceRestart));\n      if (stats.nextBlockPoolScanStartMs \u003e 0) {\n        p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n            positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                Time.monotonicNow())));\n      }\n      if (stats.blockPoolPeriodEndsMs \u003e 0) {\n        p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n            positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                Time.now())));\n      }\n      p.append(String.format(\"Last block scanned                : %57s%n\",\n          ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n          stats.lastBlockScanned.toString())));\n      p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n          !stats.eof));\n      p.append(\"%n\");\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java",
      "extendedDetails": {}
    },
    "3d5085595286c0231f66543d1509247ad4bb5739": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9210. Fix some misuse of %n in VolumeScanner#printStats. Contributed by Xiaoyu Yao.\n",
      "commitDate": "14/10/15 1:22 PM",
      "commitName": "3d5085595286c0231f66543d1509247ad4bb5739",
      "commitAuthor": "Xiaoyu Yao",
      "commitDateOld": "04/08/15 12:54 AM",
      "commitNameOld": "9a08999906824e8982ec3b47315f9b960474186a",
      "commitAuthorOld": "yliu",
      "daysBetweenCommits": 71.52,
      "commitsBetweenForRepo": 457,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,32 @@\n   public void printStats(StringBuilder p) {\n-    p.append(\"Block scanner information for volume \" +\n-        volume.getStorageID() + \" with base path \" + volume.getBasePath() +\n-        \"%n\");\n+    p.append(String.format(\"Block scanner information for volume %s with base\" +\n+        \" path %s%n\" + volume.getStorageID(), volume.getBasePath()));\n     synchronized (stats) {\n       p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n           stats.bytesScannedInPastHour));\n       p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n           stats.blocksScannedInCurrentPeriod));\n       p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n           stats.blocksScannedSinceRestart));\n       p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n           stats.scansSinceRestart));\n       p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n           stats.scanErrorsSinceRestart));\n       if (stats.nextBlockPoolScanStartMs \u003e 0) {\n         p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n             positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                 Time.monotonicNow())));\n       }\n       if (stats.blockPoolPeriodEndsMs \u003e 0) {\n         p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n             positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                 Time.now())));\n       }\n       p.append(String.format(\"Last block scanned                : %57s%n\",\n           ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n           stats.lastBlockScanned.toString())));\n       p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n           !stats.eof));\n-      p.append(\"%n\");\n+      p.append(String.format(\"%n\"));\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void printStats(StringBuilder p) {\n    p.append(String.format(\"Block scanner information for volume %s with base\" +\n        \" path %s%n\" + volume.getStorageID(), volume.getBasePath()));\n    synchronized (stats) {\n      p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n          stats.bytesScannedInPastHour));\n      p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n          stats.blocksScannedInCurrentPeriod));\n      p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n          stats.blocksScannedSinceRestart));\n      p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n          stats.scansSinceRestart));\n      p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n          stats.scanErrorsSinceRestart));\n      if (stats.nextBlockPoolScanStartMs \u003e 0) {\n        p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n            positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                Time.monotonicNow())));\n      }\n      if (stats.blockPoolPeriodEndsMs \u003e 0) {\n        p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n            positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                Time.now())));\n      }\n      p.append(String.format(\"Last block scanned                : %57s%n\",\n          ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n          stats.lastBlockScanned.toString())));\n      p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n          !stats.eof));\n      p.append(String.format(\"%n\"));\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java",
      "extendedDetails": {}
    },
    "6e62a1a6728b1f782f64065424f92b292c3f163a": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-7430. Refactor the BlockScanner to use O(1) memory and use multiple threads (cmccabe)\n",
      "commitDate": "21/01/15 7:00 PM",
      "commitName": "6e62a1a6728b1f782f64065424f92b292c3f163a",
      "commitAuthor": "Colin Patrick Mccabe",
      "diff": "@@ -0,0 +1,33 @@\n+  public void printStats(StringBuilder p) {\n+    p.append(\"Block scanner information for volume \" +\n+        volume.getStorageID() + \" with base path \" + volume.getBasePath() +\n+        \"%n\");\n+    synchronized (stats) {\n+      p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n+          stats.bytesScannedInPastHour));\n+      p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n+          stats.blocksScannedInCurrentPeriod));\n+      p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n+          stats.blocksScannedSinceRestart));\n+      p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n+          stats.scansSinceRestart));\n+      p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n+          stats.scanErrorsSinceRestart));\n+      if (stats.nextBlockPoolScanStartMs \u003e 0) {\n+        p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n+            positiveMsToHours(stats.nextBlockPoolScanStartMs -\n+                Time.monotonicNow())));\n+      }\n+      if (stats.blockPoolPeriodEndsMs \u003e 0) {\n+        p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n+            positiveMsToHours(stats.blockPoolPeriodEndsMs -\n+                Time.now())));\n+      }\n+      p.append(String.format(\"Last block scanned                : %57s%n\",\n+          ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n+          stats.lastBlockScanned.toString())));\n+      p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n+          !stats.eof));\n+      p.append(\"%n\");\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void printStats(StringBuilder p) {\n    p.append(\"Block scanner information for volume \" +\n        volume.getStorageID() + \" with base path \" + volume.getBasePath() +\n        \"%n\");\n    synchronized (stats) {\n      p.append(String.format(\"Bytes verified in last hour       : %57d%n\",\n          stats.bytesScannedInPastHour));\n      p.append(String.format(\"Blocks scanned in current period  : %57d%n\",\n          stats.blocksScannedInCurrentPeriod));\n      p.append(String.format(\"Blocks scanned since restart      : %57d%n\",\n          stats.blocksScannedSinceRestart));\n      p.append(String.format(\"Block pool scans since restart    : %57d%n\",\n          stats.scansSinceRestart));\n      p.append(String.format(\"Block scan errors since restart   : %57d%n\",\n          stats.scanErrorsSinceRestart));\n      if (stats.nextBlockPoolScanStartMs \u003e 0) {\n        p.append(String.format(\"Hours until next block pool scan  : %57.3f%n\",\n            positiveMsToHours(stats.nextBlockPoolScanStartMs -\n                Time.monotonicNow())));\n      }\n      if (stats.blockPoolPeriodEndsMs \u003e 0) {\n        p.append(String.format(\"Hours until possible pool rescan  : %57.3f%n\",\n            positiveMsToHours(stats.blockPoolPeriodEndsMs -\n                Time.now())));\n      }\n      p.append(String.format(\"Last block scanned                : %57s%n\",\n          ((stats.lastBlockScanned \u003d\u003d null) ? \"none\" :\n          stats.lastBlockScanned.toString())));\n      p.append(String.format(\"More blocks to scan in period     : %57s%n\",\n          !stats.eof));\n      p.append(\"%n\");\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/datanode/VolumeScanner.java"
    }
  }
}