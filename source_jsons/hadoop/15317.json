{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "DiskBalancerCLI.java",
  "functionName": "dispatch",
  "functionId": "dispatch___cmd-CommandLine__opts-Options",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancerCLI.java",
  "functionStartLine": 475,
  "functionEndLine": 517,
  "numCommitsSeen": 25,
  "timeTaken": 5568,
  "changeHistory": [
    "9f32364d283dec47dd07490e253d477a0d14ac71",
    "30bb1970cc27c1345871a35bcf1220e520c1804b",
    "e3f7f58a5fb3e18fe6e603ce5018eb805f170d09",
    "35c5943b8ba394191405555cdfc5e6127053ee97",
    "cb68e5b3bdb0079af867a9e49559827ecee03010",
    "af11ab34d0cff3883885a25aa918be4f98566142",
    "b502102bb1a1f416f43dd1227886c57ccad70fcc",
    "43eee50966191e9cfdb7ab19383edb3a44f93481",
    "9e5fcb5e40bb370e4579e6040c02e923c1a90427",
    "1b39b283c70854bf3b77f5ba9fbcce064bfea5c3",
    "75882ec0b096da862b8b373b70a091c19f281b2a"
  ],
  "changeHistoryShort": {
    "9f32364d283dec47dd07490e253d477a0d14ac71": "Ybodychange",
    "30bb1970cc27c1345871a35bcf1220e520c1804b": "Ybodychange",
    "e3f7f58a5fb3e18fe6e603ce5018eb805f170d09": "Ymultichange(Yparameterchange,Ybodychange)",
    "35c5943b8ba394191405555cdfc5e6127053ee97": "Ymultichange(Yfilerename,Ybodychange)",
    "cb68e5b3bdb0079af867a9e49559827ecee03010": "Ymultichange(Yexceptionschange,Ybodychange)",
    "af11ab34d0cff3883885a25aa918be4f98566142": "Ybodychange",
    "b502102bb1a1f416f43dd1227886c57ccad70fcc": "Ymultichange(Yparameterchange,Ybodychange)",
    "43eee50966191e9cfdb7ab19383edb3a44f93481": "Ybodychange",
    "9e5fcb5e40bb370e4579e6040c02e923c1a90427": "Ybodychange",
    "1b39b283c70854bf3b77f5ba9fbcce064bfea5c3": "Ybodychange",
    "75882ec0b096da862b8b373b70a091c19f281b2a": "Yintroduced"
  },
  "changeHistoryDetails": {
    "9f32364d283dec47dd07490e253d477a0d14ac71": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-11038. DiskBalancer: support running multiple commands in single test. Contributed by Xiaobing Zhou.\n",
      "commitDate": "26/10/16 7:39 PM",
      "commitName": "9f32364d283dec47dd07490e253d477a0d14ac71",
      "commitAuthor": "Anu Engineer",
      "commitDateOld": "14/10/16 5:07 PM",
      "commitNameOld": "30bb1970cc27c1345871a35bcf1220e520c1804b",
      "commitAuthorOld": "Anu Engineer",
      "daysBetweenCommits": 12.1,
      "commitsBetweenForRepo": 90,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,36 +1,43 @@\n   private int dispatch(CommandLine cmd, Options opts)\n       throws Exception {\n     Command dbCmd \u003d null;\n-    if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n-      dbCmd \u003d new PlanCommand(getConf(), printStream);\n-    }\n+    try {\n+      if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n+        dbCmd \u003d new PlanCommand(getConf(), printStream);\n+      }\n \n-    if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n-      dbCmd \u003d new ExecuteCommand(getConf());\n-    }\n+      if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n+        dbCmd \u003d new ExecuteCommand(getConf());\n+      }\n \n-    if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n-      dbCmd \u003d new QueryCommand(getConf());\n-    }\n+      if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n+        dbCmd \u003d new QueryCommand(getConf());\n+      }\n \n-    if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n-      dbCmd \u003d new CancelCommand(getConf());\n-    }\n+      if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n+        dbCmd \u003d new CancelCommand(getConf());\n+      }\n \n-    if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n-      dbCmd \u003d new ReportCommand(getConf(), this.printStream);\n-    }\n+      if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n+        dbCmd \u003d new ReportCommand(getConf(), this.printStream);\n+      }\n \n-    if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n-      dbCmd \u003d new HelpCommand(getConf());\n-    }\n+      if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n+        dbCmd \u003d new HelpCommand(getConf());\n+      }\n \n-    // Invoke main help here.\n-    if (dbCmd \u003d\u003d null) {\n-      new HelpCommand(getConf()).execute(null);\n-      return 1;\n-    }\n+      // Invoke main help here.\n+      if (dbCmd \u003d\u003d null) {\n+        dbCmd \u003d new HelpCommand(getConf());\n+        dbCmd.execute(null);\n+        return 1;\n+      }\n \n-    dbCmd.execute(cmd);\n-    return 0;\n+      dbCmd.execute(cmd);\n+      return 0;\n+    } finally {\n+      if (dbCmd !\u003d null) {\n+        dbCmd.close();\n+      }\n+    }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private int dispatch(CommandLine cmd, Options opts)\n      throws Exception {\n    Command dbCmd \u003d null;\n    try {\n      if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n        dbCmd \u003d new PlanCommand(getConf(), printStream);\n      }\n\n      if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n        dbCmd \u003d new ExecuteCommand(getConf());\n      }\n\n      if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n        dbCmd \u003d new QueryCommand(getConf());\n      }\n\n      if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n        dbCmd \u003d new CancelCommand(getConf());\n      }\n\n      if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n        dbCmd \u003d new ReportCommand(getConf(), this.printStream);\n      }\n\n      if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n        dbCmd \u003d new HelpCommand(getConf());\n      }\n\n      // Invoke main help here.\n      if (dbCmd \u003d\u003d null) {\n        dbCmd \u003d new HelpCommand(getConf());\n        dbCmd.execute(null);\n        return 1;\n      }\n\n      dbCmd.execute(cmd);\n      return 0;\n    } finally {\n      if (dbCmd !\u003d null) {\n        dbCmd.close();\n      }\n    }\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancerCLI.java",
      "extendedDetails": {}
    },
    "30bb1970cc27c1345871a35bcf1220e520c1804b": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10558. DiskBalancer: Print the full path to plan file. Contributed by Xiaobing Zhou.\n",
      "commitDate": "14/10/16 5:07 PM",
      "commitName": "30bb1970cc27c1345871a35bcf1220e520c1804b",
      "commitAuthor": "Anu Engineer",
      "commitDateOld": "13/09/16 9:38 AM",
      "commitNameOld": "e3f7f58a5fb3e18fe6e603ce5018eb805f170d09",
      "commitAuthorOld": "Anu Engineer",
      "daysBetweenCommits": 31.31,
      "commitsBetweenForRepo": 221,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,36 +1,36 @@\n   private int dispatch(CommandLine cmd, Options opts)\n       throws Exception {\n-    Command currentCommand \u003d null;\n+    Command dbCmd \u003d null;\n     if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n-      currentCommand \u003d new PlanCommand(getConf());\n+      dbCmd \u003d new PlanCommand(getConf(), printStream);\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n-      currentCommand \u003d new ExecuteCommand(getConf());\n+      dbCmd \u003d new ExecuteCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n-      currentCommand \u003d new QueryCommand(getConf());\n+      dbCmd \u003d new QueryCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n-      currentCommand \u003d new CancelCommand(getConf());\n+      dbCmd \u003d new CancelCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n-      currentCommand \u003d new ReportCommand(getConf(), this.printStream);\n+      dbCmd \u003d new ReportCommand(getConf(), this.printStream);\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n-      currentCommand \u003d new HelpCommand(getConf());\n+      dbCmd \u003d new HelpCommand(getConf());\n     }\n \n     // Invoke main help here.\n-    if (currentCommand \u003d\u003d null) {\n+    if (dbCmd \u003d\u003d null) {\n       new HelpCommand(getConf()).execute(null);\n       return 1;\n     }\n \n-    currentCommand.execute(cmd);\n+    dbCmd.execute(cmd);\n     return 0;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private int dispatch(CommandLine cmd, Options opts)\n      throws Exception {\n    Command dbCmd \u003d null;\n    if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n      dbCmd \u003d new PlanCommand(getConf(), printStream);\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n      dbCmd \u003d new ExecuteCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n      dbCmd \u003d new QueryCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n      dbCmd \u003d new CancelCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n      dbCmd \u003d new ReportCommand(getConf(), this.printStream);\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n      dbCmd \u003d new HelpCommand(getConf());\n    }\n\n    // Invoke main help here.\n    if (dbCmd \u003d\u003d null) {\n      new HelpCommand(getConf()).execute(null);\n      return 1;\n    }\n\n    dbCmd.execute(cmd);\n    return 0;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancerCLI.java",
      "extendedDetails": {}
    },
    "e3f7f58a5fb3e18fe6e603ce5018eb805f170d09": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-10599. DiskBalancer: Execute CLI via Shell. Contributed by Manoj Govindassamy.\n",
      "commitDate": "13/09/16 9:38 AM",
      "commitName": "e3f7f58a5fb3e18fe6e603ce5018eb805f170d09",
      "commitAuthor": "Anu Engineer",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-10599. DiskBalancer: Execute CLI via Shell. Contributed by Manoj Govindassamy.\n",
          "commitDate": "13/09/16 9:38 AM",
          "commitName": "e3f7f58a5fb3e18fe6e603ce5018eb805f170d09",
          "commitAuthor": "Anu Engineer",
          "commitDateOld": "08/09/16 7:26 PM",
          "commitNameOld": "35c5943b8ba394191405555cdfc5e6127053ee97",
          "commitAuthorOld": "Anu Engineer",
          "daysBetweenCommits": 4.59,
          "commitsBetweenForRepo": 19,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,36 @@\n-  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n+  private int dispatch(CommandLine cmd, Options opts)\n       throws Exception {\n     Command currentCommand \u003d null;\n     if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n       currentCommand \u003d new PlanCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n       currentCommand \u003d new ExecuteCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n       currentCommand \u003d new QueryCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n       currentCommand \u003d new CancelCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n-      currentCommand \u003d new ReportCommand(getConf(), out);\n+      currentCommand \u003d new ReportCommand(getConf(), this.printStream);\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n       currentCommand \u003d new HelpCommand(getConf());\n     }\n \n     // Invoke main help here.\n     if (currentCommand \u003d\u003d null) {\n       new HelpCommand(getConf()).execute(null);\n       return 1;\n     }\n \n     currentCommand.execute(cmd);\n     return 0;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int dispatch(CommandLine cmd, Options opts)\n      throws Exception {\n    Command currentCommand \u003d null;\n    if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n      currentCommand \u003d new PlanCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n      currentCommand \u003d new ExecuteCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n      currentCommand \u003d new QueryCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n      currentCommand \u003d new CancelCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n      currentCommand \u003d new ReportCommand(getConf(), this.printStream);\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n      currentCommand \u003d new HelpCommand(getConf());\n    }\n\n    // Invoke main help here.\n    if (currentCommand \u003d\u003d null) {\n      new HelpCommand(getConf()).execute(null);\n      return 1;\n    }\n\n    currentCommand.execute(cmd);\n    return 0;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancerCLI.java",
          "extendedDetails": {
            "oldValue": "[cmd-CommandLine, opts-Options, out-PrintStream(modifiers-final)]",
            "newValue": "[cmd-CommandLine, opts-Options]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-10599. DiskBalancer: Execute CLI via Shell. Contributed by Manoj Govindassamy.\n",
          "commitDate": "13/09/16 9:38 AM",
          "commitName": "e3f7f58a5fb3e18fe6e603ce5018eb805f170d09",
          "commitAuthor": "Anu Engineer",
          "commitDateOld": "08/09/16 7:26 PM",
          "commitNameOld": "35c5943b8ba394191405555cdfc5e6127053ee97",
          "commitAuthorOld": "Anu Engineer",
          "daysBetweenCommits": 4.59,
          "commitsBetweenForRepo": 19,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,36 @@\n-  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n+  private int dispatch(CommandLine cmd, Options opts)\n       throws Exception {\n     Command currentCommand \u003d null;\n     if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n       currentCommand \u003d new PlanCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n       currentCommand \u003d new ExecuteCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n       currentCommand \u003d new QueryCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n       currentCommand \u003d new CancelCommand(getConf());\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n-      currentCommand \u003d new ReportCommand(getConf(), out);\n+      currentCommand \u003d new ReportCommand(getConf(), this.printStream);\n     }\n \n     if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n       currentCommand \u003d new HelpCommand(getConf());\n     }\n \n     // Invoke main help here.\n     if (currentCommand \u003d\u003d null) {\n       new HelpCommand(getConf()).execute(null);\n       return 1;\n     }\n \n     currentCommand.execute(cmd);\n     return 0;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int dispatch(CommandLine cmd, Options opts)\n      throws Exception {\n    Command currentCommand \u003d null;\n    if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n      currentCommand \u003d new PlanCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n      currentCommand \u003d new ExecuteCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n      currentCommand \u003d new QueryCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n      currentCommand \u003d new CancelCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n      currentCommand \u003d new ReportCommand(getConf(), this.printStream);\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n      currentCommand \u003d new HelpCommand(getConf());\n    }\n\n    // Invoke main help here.\n    if (currentCommand \u003d\u003d null) {\n      new HelpCommand(getConf()).execute(null);\n      return 1;\n    }\n\n    currentCommand.execute(cmd);\n    return 0;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancerCLI.java",
          "extendedDetails": {}
        }
      ]
    },
    "35c5943b8ba394191405555cdfc5e6127053ee97": {
      "type": "Ymultichange(Yfilerename,Ybodychange)",
      "commitMessage": "HDFS-10553. DiskBalancer: Rename Tools/DiskBalancer class to Tools/DiskBalancerCLI. Contributed by Manoj Govindassamy.\n",
      "commitDate": "08/09/16 7:26 PM",
      "commitName": "35c5943b8ba394191405555cdfc5e6127053ee97",
      "commitAuthor": "Anu Engineer",
      "subchanges": [
        {
          "type": "Yfilerename",
          "commitMessage": "HDFS-10553. DiskBalancer: Rename Tools/DiskBalancer class to Tools/DiskBalancerCLI. Contributed by Manoj Govindassamy.\n",
          "commitDate": "08/09/16 7:26 PM",
          "commitName": "35c5943b8ba394191405555cdfc5e6127053ee97",
          "commitAuthor": "Anu Engineer",
          "commitDateOld": "08/09/16 6:30 PM",
          "commitNameOld": "b07c266dca7f303c793b432a0738d593728cf2b3",
          "commitAuthorOld": "Andrew Wang",
          "daysBetweenCommits": 0.04,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,36 @@\n   private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n       throws Exception {\n     Command currentCommand \u003d null;\n-    if (cmd.hasOption(DiskBalancer.PLAN)) {\n+    if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n       currentCommand \u003d new PlanCommand(getConf());\n     }\n \n-    if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n+    if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n       currentCommand \u003d new ExecuteCommand(getConf());\n     }\n \n-    if (cmd.hasOption(DiskBalancer.QUERY)) {\n+    if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n       currentCommand \u003d new QueryCommand(getConf());\n     }\n \n-    if (cmd.hasOption(DiskBalancer.CANCEL)) {\n+    if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n       currentCommand \u003d new CancelCommand(getConf());\n     }\n \n-    if (cmd.hasOption(DiskBalancer.REPORT)) {\n+    if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n       currentCommand \u003d new ReportCommand(getConf(), out);\n     }\n \n-    if (cmd.hasOption(DiskBalancer.HELP)) {\n+    if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n       currentCommand \u003d new HelpCommand(getConf());\n     }\n \n     // Invoke main help here.\n     if (currentCommand \u003d\u003d null) {\n       new HelpCommand(getConf()).execute(null);\n       return 1;\n     }\n \n     currentCommand.execute(cmd);\n     return 0;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n      throws Exception {\n    Command currentCommand \u003d null;\n    if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n      currentCommand \u003d new PlanCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n      currentCommand \u003d new ExecuteCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n      currentCommand \u003d new QueryCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n      currentCommand \u003d new CancelCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n      currentCommand \u003d new ReportCommand(getConf(), out);\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n      currentCommand \u003d new HelpCommand(getConf());\n    }\n\n    // Invoke main help here.\n    if (currentCommand \u003d\u003d null) {\n      new HelpCommand(getConf()).execute(null);\n      return 1;\n    }\n\n    currentCommand.execute(cmd);\n    return 0;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancerCLI.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancerCLI.java"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-10553. DiskBalancer: Rename Tools/DiskBalancer class to Tools/DiskBalancerCLI. Contributed by Manoj Govindassamy.\n",
          "commitDate": "08/09/16 7:26 PM",
          "commitName": "35c5943b8ba394191405555cdfc5e6127053ee97",
          "commitAuthor": "Anu Engineer",
          "commitDateOld": "08/09/16 6:30 PM",
          "commitNameOld": "b07c266dca7f303c793b432a0738d593728cf2b3",
          "commitAuthorOld": "Andrew Wang",
          "daysBetweenCommits": 0.04,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,36 @@\n   private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n       throws Exception {\n     Command currentCommand \u003d null;\n-    if (cmd.hasOption(DiskBalancer.PLAN)) {\n+    if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n       currentCommand \u003d new PlanCommand(getConf());\n     }\n \n-    if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n+    if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n       currentCommand \u003d new ExecuteCommand(getConf());\n     }\n \n-    if (cmd.hasOption(DiskBalancer.QUERY)) {\n+    if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n       currentCommand \u003d new QueryCommand(getConf());\n     }\n \n-    if (cmd.hasOption(DiskBalancer.CANCEL)) {\n+    if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n       currentCommand \u003d new CancelCommand(getConf());\n     }\n \n-    if (cmd.hasOption(DiskBalancer.REPORT)) {\n+    if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n       currentCommand \u003d new ReportCommand(getConf(), out);\n     }\n \n-    if (cmd.hasOption(DiskBalancer.HELP)) {\n+    if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n       currentCommand \u003d new HelpCommand(getConf());\n     }\n \n     // Invoke main help here.\n     if (currentCommand \u003d\u003d null) {\n       new HelpCommand(getConf()).execute(null);\n       return 1;\n     }\n \n     currentCommand.execute(cmd);\n     return 0;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n      throws Exception {\n    Command currentCommand \u003d null;\n    if (cmd.hasOption(DiskBalancerCLI.PLAN)) {\n      currentCommand \u003d new PlanCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.EXECUTE)) {\n      currentCommand \u003d new ExecuteCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.QUERY)) {\n      currentCommand \u003d new QueryCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.CANCEL)) {\n      currentCommand \u003d new CancelCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.REPORT)) {\n      currentCommand \u003d new ReportCommand(getConf(), out);\n    }\n\n    if (cmd.hasOption(DiskBalancerCLI.HELP)) {\n      currentCommand \u003d new HelpCommand(getConf());\n    }\n\n    // Invoke main help here.\n    if (currentCommand \u003d\u003d null) {\n      new HelpCommand(getConf()).execute(null);\n      return 1;\n    }\n\n    currentCommand.execute(cmd);\n    return 0;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancerCLI.java",
          "extendedDetails": {}
        }
      ]
    },
    "cb68e5b3bdb0079af867a9e49559827ecee03010": {
      "type": "Ymultichange(Yexceptionschange,Ybodychange)",
      "commitMessage": "HDFS-10540. Diskbalancer: The CLI error message for disk balancer is not enabled is not clear. Contributed by Anu Engineer.\n",
      "commitDate": "23/06/16 6:27 PM",
      "commitName": "cb68e5b3bdb0079af867a9e49559827ecee03010",
      "commitAuthor": "Anu Engineer",
      "subchanges": [
        {
          "type": "Yexceptionschange",
          "commitMessage": "HDFS-10540. Diskbalancer: The CLI error message for disk balancer is not enabled is not clear. Contributed by Anu Engineer.\n",
          "commitDate": "23/06/16 6:27 PM",
          "commitName": "cb68e5b3bdb0079af867a9e49559827ecee03010",
          "commitAuthor": "Anu Engineer",
          "commitDateOld": "23/06/16 6:21 PM",
          "commitNameOld": "af11ab34d0cff3883885a25aa918be4f98566142",
          "commitAuthorOld": "Anu Engineer",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 3,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,43 +1,36 @@\n   private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n-      throws IOException, URISyntaxException {\n+      throws Exception {\n     Command currentCommand \u003d null;\n+    if (cmd.hasOption(DiskBalancer.PLAN)) {\n+      currentCommand \u003d new PlanCommand(getConf());\n+    }\n \n-    try {\n+    if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n+      currentCommand \u003d new ExecuteCommand(getConf());\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.PLAN)) {\n-        currentCommand \u003d new PlanCommand(getConf());\n-      }\n+    if (cmd.hasOption(DiskBalancer.QUERY)) {\n+      currentCommand \u003d new QueryCommand(getConf());\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n-        currentCommand \u003d new ExecuteCommand(getConf());\n-      }\n+    if (cmd.hasOption(DiskBalancer.CANCEL)) {\n+      currentCommand \u003d new CancelCommand(getConf());\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.QUERY)) {\n-        currentCommand \u003d new QueryCommand(getConf());\n-      }\n+    if (cmd.hasOption(DiskBalancer.REPORT)) {\n+      currentCommand \u003d new ReportCommand(getConf(), out);\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.CANCEL)) {\n-        currentCommand \u003d new CancelCommand(getConf());\n-      }\n+    if (cmd.hasOption(DiskBalancer.HELP)) {\n+      currentCommand \u003d new HelpCommand(getConf());\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.REPORT)) {\n-        currentCommand \u003d new ReportCommand(getConf(), out);\n-      }\n-\n-      if (cmd.hasOption(DiskBalancer.HELP)) {\n-        currentCommand \u003d new HelpCommand(getConf());\n-      }\n-\n-      // Invoke Main help here.\n-      if (currentCommand \u003d\u003d null) {\n-        new HelpCommand(getConf()).execute(null);\n-        return 1;\n-      }\n-\n-      currentCommand.execute(cmd);\n-    } catch (Exception ex) {\n-      System.err.printf(ex.getMessage());\n+    // Invoke main help here.\n+    if (currentCommand \u003d\u003d null) {\n+      new HelpCommand(getConf()).execute(null);\n       return 1;\n     }\n+\n+    currentCommand.execute(cmd);\n     return 0;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n      throws Exception {\n    Command currentCommand \u003d null;\n    if (cmd.hasOption(DiskBalancer.PLAN)) {\n      currentCommand \u003d new PlanCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n      currentCommand \u003d new ExecuteCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancer.QUERY)) {\n      currentCommand \u003d new QueryCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancer.CANCEL)) {\n      currentCommand \u003d new CancelCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancer.REPORT)) {\n      currentCommand \u003d new ReportCommand(getConf(), out);\n    }\n\n    if (cmd.hasOption(DiskBalancer.HELP)) {\n      currentCommand \u003d new HelpCommand(getConf());\n    }\n\n    // Invoke main help here.\n    if (currentCommand \u003d\u003d null) {\n      new HelpCommand(getConf()).execute(null);\n      return 1;\n    }\n\n    currentCommand.execute(cmd);\n    return 0;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java",
          "extendedDetails": {
            "oldValue": "[IOException, URISyntaxException]",
            "newValue": "[Exception]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-10540. Diskbalancer: The CLI error message for disk balancer is not enabled is not clear. Contributed by Anu Engineer.\n",
          "commitDate": "23/06/16 6:27 PM",
          "commitName": "cb68e5b3bdb0079af867a9e49559827ecee03010",
          "commitAuthor": "Anu Engineer",
          "commitDateOld": "23/06/16 6:21 PM",
          "commitNameOld": "af11ab34d0cff3883885a25aa918be4f98566142",
          "commitAuthorOld": "Anu Engineer",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 3,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,43 +1,36 @@\n   private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n-      throws IOException, URISyntaxException {\n+      throws Exception {\n     Command currentCommand \u003d null;\n+    if (cmd.hasOption(DiskBalancer.PLAN)) {\n+      currentCommand \u003d new PlanCommand(getConf());\n+    }\n \n-    try {\n+    if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n+      currentCommand \u003d new ExecuteCommand(getConf());\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.PLAN)) {\n-        currentCommand \u003d new PlanCommand(getConf());\n-      }\n+    if (cmd.hasOption(DiskBalancer.QUERY)) {\n+      currentCommand \u003d new QueryCommand(getConf());\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n-        currentCommand \u003d new ExecuteCommand(getConf());\n-      }\n+    if (cmd.hasOption(DiskBalancer.CANCEL)) {\n+      currentCommand \u003d new CancelCommand(getConf());\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.QUERY)) {\n-        currentCommand \u003d new QueryCommand(getConf());\n-      }\n+    if (cmd.hasOption(DiskBalancer.REPORT)) {\n+      currentCommand \u003d new ReportCommand(getConf(), out);\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.CANCEL)) {\n-        currentCommand \u003d new CancelCommand(getConf());\n-      }\n+    if (cmd.hasOption(DiskBalancer.HELP)) {\n+      currentCommand \u003d new HelpCommand(getConf());\n+    }\n \n-      if (cmd.hasOption(DiskBalancer.REPORT)) {\n-        currentCommand \u003d new ReportCommand(getConf(), out);\n-      }\n-\n-      if (cmd.hasOption(DiskBalancer.HELP)) {\n-        currentCommand \u003d new HelpCommand(getConf());\n-      }\n-\n-      // Invoke Main help here.\n-      if (currentCommand \u003d\u003d null) {\n-        new HelpCommand(getConf()).execute(null);\n-        return 1;\n-      }\n-\n-      currentCommand.execute(cmd);\n-    } catch (Exception ex) {\n-      System.err.printf(ex.getMessage());\n+    // Invoke main help here.\n+    if (currentCommand \u003d\u003d null) {\n+      new HelpCommand(getConf()).execute(null);\n       return 1;\n     }\n+\n+    currentCommand.execute(cmd);\n     return 0;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n      throws Exception {\n    Command currentCommand \u003d null;\n    if (cmd.hasOption(DiskBalancer.PLAN)) {\n      currentCommand \u003d new PlanCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n      currentCommand \u003d new ExecuteCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancer.QUERY)) {\n      currentCommand \u003d new QueryCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancer.CANCEL)) {\n      currentCommand \u003d new CancelCommand(getConf());\n    }\n\n    if (cmd.hasOption(DiskBalancer.REPORT)) {\n      currentCommand \u003d new ReportCommand(getConf(), out);\n    }\n\n    if (cmd.hasOption(DiskBalancer.HELP)) {\n      currentCommand \u003d new HelpCommand(getConf());\n    }\n\n    // Invoke main help here.\n    if (currentCommand \u003d\u003d null) {\n      new HelpCommand(getConf()).execute(null);\n      return 1;\n    }\n\n    currentCommand.execute(cmd);\n    return 0;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java",
          "extendedDetails": {}
        }
      ]
    },
    "af11ab34d0cff3883885a25aa918be4f98566142": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10517. DiskBalancer: Support help command. Contributed by Anu Engineer.\n",
      "commitDate": "23/06/16 6:21 PM",
      "commitName": "af11ab34d0cff3883885a25aa918be4f98566142",
      "commitAuthor": "Anu Engineer",
      "commitDateOld": "23/06/16 6:21 PM",
      "commitNameOld": "b502102bb1a1f416f43dd1227886c57ccad70fcc",
      "commitAuthorOld": "Anu Engineer",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,40 +1,43 @@\n   private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n       throws IOException, URISyntaxException {\n     Command currentCommand \u003d null;\n \n     try {\n \n       if (cmd.hasOption(DiskBalancer.PLAN)) {\n         currentCommand \u003d new PlanCommand(getConf());\n       }\n \n-      if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n+      if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n         currentCommand \u003d new ExecuteCommand(getConf());\n       }\n \n-      if(cmd.hasOption(DiskBalancer.QUERY)) {\n+      if (cmd.hasOption(DiskBalancer.QUERY)) {\n         currentCommand \u003d new QueryCommand(getConf());\n       }\n \n-      if(cmd.hasOption(DiskBalancer.CANCEL)) {\n+      if (cmd.hasOption(DiskBalancer.CANCEL)) {\n         currentCommand \u003d new CancelCommand(getConf());\n       }\n \n       if (cmd.hasOption(DiskBalancer.REPORT)) {\n         currentCommand \u003d new ReportCommand(getConf(), out);\n       }\n \n-      if(currentCommand \u003d\u003d null) {\n-        HelpFormatter helpFormatter \u003d new HelpFormatter();\n-        helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n-            \"disk balancer commands\", opts,\n-            \"Please correct your command and try again.\");\n+      if (cmd.hasOption(DiskBalancer.HELP)) {\n+        currentCommand \u003d new HelpCommand(getConf());\n+      }\n+\n+      // Invoke Main help here.\n+      if (currentCommand \u003d\u003d null) {\n+        new HelpCommand(getConf()).execute(null);\n         return 1;\n       }\n+\n       currentCommand.execute(cmd);\n     } catch (Exception ex) {\n       System.err.printf(ex.getMessage());\n       return 1;\n     }\n     return 0;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n      throws IOException, URISyntaxException {\n    Command currentCommand \u003d null;\n\n    try {\n\n      if (cmd.hasOption(DiskBalancer.PLAN)) {\n        currentCommand \u003d new PlanCommand(getConf());\n      }\n\n      if (cmd.hasOption(DiskBalancer.EXECUTE)) {\n        currentCommand \u003d new ExecuteCommand(getConf());\n      }\n\n      if (cmd.hasOption(DiskBalancer.QUERY)) {\n        currentCommand \u003d new QueryCommand(getConf());\n      }\n\n      if (cmd.hasOption(DiskBalancer.CANCEL)) {\n        currentCommand \u003d new CancelCommand(getConf());\n      }\n\n      if (cmd.hasOption(DiskBalancer.REPORT)) {\n        currentCommand \u003d new ReportCommand(getConf(), out);\n      }\n\n      if (cmd.hasOption(DiskBalancer.HELP)) {\n        currentCommand \u003d new HelpCommand(getConf());\n      }\n\n      // Invoke Main help here.\n      if (currentCommand \u003d\u003d null) {\n        new HelpCommand(getConf()).execute(null);\n        return 1;\n      }\n\n      currentCommand.execute(cmd);\n    } catch (Exception ex) {\n      System.err.printf(ex.getMessage());\n      return 1;\n    }\n    return 0;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java",
      "extendedDetails": {}
    },
    "b502102bb1a1f416f43dd1227886c57ccad70fcc": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "HDFS-9461. DiskBalancer: Add Report Command. Contributed by Xiaobing Zhou.\n",
      "commitDate": "23/06/16 6:21 PM",
      "commitName": "b502102bb1a1f416f43dd1227886c57ccad70fcc",
      "commitAuthor": "Anu Engineer",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "HDFS-9461. DiskBalancer: Add Report Command. Contributed by Xiaobing Zhou.\n",
          "commitDate": "23/06/16 6:21 PM",
          "commitName": "b502102bb1a1f416f43dd1227886c57ccad70fcc",
          "commitAuthor": "Anu Engineer",
          "commitDateOld": "23/06/16 6:21 PM",
          "commitNameOld": "47dcb0f95288a5e6f05480d274f1ebd8cc873ef8",
          "commitAuthorOld": "Anu Engineer",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 5,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,40 @@\n-  private int dispatch(CommandLine cmd, Options opts)\n+  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n       throws IOException, URISyntaxException {\n     Command currentCommand \u003d null;\n \n     try {\n \n       if (cmd.hasOption(DiskBalancer.PLAN)) {\n         currentCommand \u003d new PlanCommand(getConf());\n       }\n \n       if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n         currentCommand \u003d new ExecuteCommand(getConf());\n       }\n \n       if(cmd.hasOption(DiskBalancer.QUERY)) {\n         currentCommand \u003d new QueryCommand(getConf());\n       }\n \n       if(cmd.hasOption(DiskBalancer.CANCEL)) {\n         currentCommand \u003d new CancelCommand(getConf());\n       }\n \n+      if (cmd.hasOption(DiskBalancer.REPORT)) {\n+        currentCommand \u003d new ReportCommand(getConf(), out);\n+      }\n+\n       if(currentCommand \u003d\u003d null) {\n         HelpFormatter helpFormatter \u003d new HelpFormatter();\n         helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n             \"disk balancer commands\", opts,\n             \"Please correct your command and try again.\");\n         return 1;\n       }\n       currentCommand.execute(cmd);\n     } catch (Exception ex) {\n       System.err.printf(ex.getMessage());\n       return 1;\n     }\n     return 0;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n      throws IOException, URISyntaxException {\n    Command currentCommand \u003d null;\n\n    try {\n\n      if (cmd.hasOption(DiskBalancer.PLAN)) {\n        currentCommand \u003d new PlanCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n        currentCommand \u003d new ExecuteCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.QUERY)) {\n        currentCommand \u003d new QueryCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.CANCEL)) {\n        currentCommand \u003d new CancelCommand(getConf());\n      }\n\n      if (cmd.hasOption(DiskBalancer.REPORT)) {\n        currentCommand \u003d new ReportCommand(getConf(), out);\n      }\n\n      if(currentCommand \u003d\u003d null) {\n        HelpFormatter helpFormatter \u003d new HelpFormatter();\n        helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n            \"disk balancer commands\", opts,\n            \"Please correct your command and try again.\");\n        return 1;\n      }\n      currentCommand.execute(cmd);\n    } catch (Exception ex) {\n      System.err.printf(ex.getMessage());\n      return 1;\n    }\n    return 0;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java",
          "extendedDetails": {
            "oldValue": "[cmd-CommandLine, opts-Options]",
            "newValue": "[cmd-CommandLine, opts-Options, out-PrintStream(modifiers-final)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-9461. DiskBalancer: Add Report Command. Contributed by Xiaobing Zhou.\n",
          "commitDate": "23/06/16 6:21 PM",
          "commitName": "b502102bb1a1f416f43dd1227886c57ccad70fcc",
          "commitAuthor": "Anu Engineer",
          "commitDateOld": "23/06/16 6:21 PM",
          "commitNameOld": "47dcb0f95288a5e6f05480d274f1ebd8cc873ef8",
          "commitAuthorOld": "Anu Engineer",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 5,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,36 +1,40 @@\n-  private int dispatch(CommandLine cmd, Options opts)\n+  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n       throws IOException, URISyntaxException {\n     Command currentCommand \u003d null;\n \n     try {\n \n       if (cmd.hasOption(DiskBalancer.PLAN)) {\n         currentCommand \u003d new PlanCommand(getConf());\n       }\n \n       if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n         currentCommand \u003d new ExecuteCommand(getConf());\n       }\n \n       if(cmd.hasOption(DiskBalancer.QUERY)) {\n         currentCommand \u003d new QueryCommand(getConf());\n       }\n \n       if(cmd.hasOption(DiskBalancer.CANCEL)) {\n         currentCommand \u003d new CancelCommand(getConf());\n       }\n \n+      if (cmd.hasOption(DiskBalancer.REPORT)) {\n+        currentCommand \u003d new ReportCommand(getConf(), out);\n+      }\n+\n       if(currentCommand \u003d\u003d null) {\n         HelpFormatter helpFormatter \u003d new HelpFormatter();\n         helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n             \"disk balancer commands\", opts,\n             \"Please correct your command and try again.\");\n         return 1;\n       }\n       currentCommand.execute(cmd);\n     } catch (Exception ex) {\n       System.err.printf(ex.getMessage());\n       return 1;\n     }\n     return 0;\n   }\n\\ No newline at end of file\n",
          "actualSource": "  private int dispatch(CommandLine cmd, Options opts, final PrintStream out)\n      throws IOException, URISyntaxException {\n    Command currentCommand \u003d null;\n\n    try {\n\n      if (cmd.hasOption(DiskBalancer.PLAN)) {\n        currentCommand \u003d new PlanCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n        currentCommand \u003d new ExecuteCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.QUERY)) {\n        currentCommand \u003d new QueryCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.CANCEL)) {\n        currentCommand \u003d new CancelCommand(getConf());\n      }\n\n      if (cmd.hasOption(DiskBalancer.REPORT)) {\n        currentCommand \u003d new ReportCommand(getConf(), out);\n      }\n\n      if(currentCommand \u003d\u003d null) {\n        HelpFormatter helpFormatter \u003d new HelpFormatter();\n        helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n            \"disk balancer commands\", opts,\n            \"Please correct your command and try again.\");\n        return 1;\n      }\n      currentCommand.execute(cmd);\n    } catch (Exception ex) {\n      System.err.printf(ex.getMessage());\n      return 1;\n    }\n    return 0;\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java",
          "extendedDetails": {}
        }
      ]
    },
    "43eee50966191e9cfdb7ab19383edb3a44f93481": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10403. DiskBalancer: Add cancel command. Contributed by Anu Engineer.\n",
      "commitDate": "23/06/16 6:21 PM",
      "commitName": "43eee50966191e9cfdb7ab19383edb3a44f93481",
      "commitAuthor": "Anu Engineer",
      "commitDateOld": "23/06/16 6:21 PM",
      "commitNameOld": "9e5fcb5e40bb370e4579e6040c02e923c1a90427",
      "commitAuthorOld": "Arpit Agarwal",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,36 @@\n   private int dispatch(CommandLine cmd, Options opts)\n       throws IOException, URISyntaxException {\n     Command currentCommand \u003d null;\n \n     try {\n \n       if (cmd.hasOption(DiskBalancer.PLAN)) {\n         currentCommand \u003d new PlanCommand(getConf());\n       }\n \n       if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n         currentCommand \u003d new ExecuteCommand(getConf());\n       }\n \n       if(cmd.hasOption(DiskBalancer.QUERY)) {\n         currentCommand \u003d new QueryCommand(getConf());\n       }\n \n+      if(cmd.hasOption(DiskBalancer.CANCEL)) {\n+        currentCommand \u003d new CancelCommand(getConf());\n+      }\n+\n       if(currentCommand \u003d\u003d null) {\n         HelpFormatter helpFormatter \u003d new HelpFormatter();\n         helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n             \"disk balancer commands\", opts,\n             \"Please correct your command and try again.\");\n         return 1;\n       }\n       currentCommand.execute(cmd);\n     } catch (Exception ex) {\n       System.err.printf(ex.getMessage());\n       return 1;\n     }\n     return 0;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private int dispatch(CommandLine cmd, Options opts)\n      throws IOException, URISyntaxException {\n    Command currentCommand \u003d null;\n\n    try {\n\n      if (cmd.hasOption(DiskBalancer.PLAN)) {\n        currentCommand \u003d new PlanCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n        currentCommand \u003d new ExecuteCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.QUERY)) {\n        currentCommand \u003d new QueryCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.CANCEL)) {\n        currentCommand \u003d new CancelCommand(getConf());\n      }\n\n      if(currentCommand \u003d\u003d null) {\n        HelpFormatter helpFormatter \u003d new HelpFormatter();\n        helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n            \"disk balancer commands\", opts,\n            \"Please correct your command and try again.\");\n        return 1;\n      }\n      currentCommand.execute(cmd);\n    } catch (Exception ex) {\n      System.err.printf(ex.getMessage());\n      return 1;\n    }\n    return 0;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java",
      "extendedDetails": {}
    },
    "9e5fcb5e40bb370e4579e6040c02e923c1a90427": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-10402. DiskBalancer: Add QueryStatus command. (Contributed by Anu Engineer)\n",
      "commitDate": "23/06/16 6:21 PM",
      "commitName": "9e5fcb5e40bb370e4579e6040c02e923c1a90427",
      "commitAuthor": "Arpit Agarwal",
      "commitDateOld": "23/06/16 6:21 PM",
      "commitNameOld": "1b39b283c70854bf3b77f5ba9fbcce064bfea5c3",
      "commitAuthorOld": "Anu Engineer",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 2,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,28 +1,32 @@\n   private int dispatch(CommandLine cmd, Options opts)\n       throws IOException, URISyntaxException {\n     Command currentCommand \u003d null;\n \n     try {\n \n       if (cmd.hasOption(DiskBalancer.PLAN)) {\n         currentCommand \u003d new PlanCommand(getConf());\n       }\n \n       if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n         currentCommand \u003d new ExecuteCommand(getConf());\n       }\n \n+      if(cmd.hasOption(DiskBalancer.QUERY)) {\n+        currentCommand \u003d new QueryCommand(getConf());\n+      }\n+\n       if(currentCommand \u003d\u003d null) {\n         HelpFormatter helpFormatter \u003d new HelpFormatter();\n         helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n             \"disk balancer commands\", opts,\n             \"Please correct your command and try again.\");\n         return 1;\n       }\n       currentCommand.execute(cmd);\n     } catch (Exception ex) {\n       System.err.printf(ex.getMessage());\n       return 1;\n     }\n     return 0;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private int dispatch(CommandLine cmd, Options opts)\n      throws IOException, URISyntaxException {\n    Command currentCommand \u003d null;\n\n    try {\n\n      if (cmd.hasOption(DiskBalancer.PLAN)) {\n        currentCommand \u003d new PlanCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n        currentCommand \u003d new ExecuteCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.QUERY)) {\n        currentCommand \u003d new QueryCommand(getConf());\n      }\n\n      if(currentCommand \u003d\u003d null) {\n        HelpFormatter helpFormatter \u003d new HelpFormatter();\n        helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n            \"disk balancer commands\", opts,\n            \"Please correct your command and try again.\");\n        return 1;\n      }\n      currentCommand.execute(cmd);\n    } catch (Exception ex) {\n      System.err.printf(ex.getMessage());\n      return 1;\n    }\n    return 0;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java",
      "extendedDetails": {}
    },
    "1b39b283c70854bf3b77f5ba9fbcce064bfea5c3": {
      "type": "Ybodychange",
      "commitMessage": "HDFS-9546: DiskBalancer: Add Execute command. Contributed by Anu Engineer.\n",
      "commitDate": "23/06/16 6:21 PM",
      "commitName": "1b39b283c70854bf3b77f5ba9fbcce064bfea5c3",
      "commitAuthor": "Anu Engineer",
      "commitDateOld": "23/06/16 6:21 PM",
      "commitNameOld": "75882ec0b096da862b8b373b70a091c19f281b2a",
      "commitAuthorOld": "Anu Engineer",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,23 +1,28 @@\n   private int dispatch(CommandLine cmd, Options opts)\n       throws IOException, URISyntaxException {\n     Command currentCommand \u003d null;\n \n     try {\n+\n       if (cmd.hasOption(DiskBalancer.PLAN)) {\n         currentCommand \u003d new PlanCommand(getConf());\n-      } else {\n+      }\n+\n+      if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n+        currentCommand \u003d new ExecuteCommand(getConf());\n+      }\n+\n+      if(currentCommand \u003d\u003d null) {\n         HelpFormatter helpFormatter \u003d new HelpFormatter();\n         helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n             \"disk balancer commands\", opts,\n             \"Please correct your command and try again.\");\n         return 1;\n       }\n-\n       currentCommand.execute(cmd);\n-\n     } catch (Exception ex) {\n       System.err.printf(ex.getMessage());\n       return 1;\n     }\n     return 0;\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private int dispatch(CommandLine cmd, Options opts)\n      throws IOException, URISyntaxException {\n    Command currentCommand \u003d null;\n\n    try {\n\n      if (cmd.hasOption(DiskBalancer.PLAN)) {\n        currentCommand \u003d new PlanCommand(getConf());\n      }\n\n      if(cmd.hasOption(DiskBalancer.EXECUTE)) {\n        currentCommand \u003d new ExecuteCommand(getConf());\n      }\n\n      if(currentCommand \u003d\u003d null) {\n        HelpFormatter helpFormatter \u003d new HelpFormatter();\n        helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n            \"disk balancer commands\", opts,\n            \"Please correct your command and try again.\");\n        return 1;\n      }\n      currentCommand.execute(cmd);\n    } catch (Exception ex) {\n      System.err.printf(ex.getMessage());\n      return 1;\n    }\n    return 0;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java",
      "extendedDetails": {}
    },
    "75882ec0b096da862b8b373b70a091c19f281b2a": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-9545: DiskBalancer: Add Plan Command. Contributed by Anu Engineer.\n",
      "commitDate": "23/06/16 6:21 PM",
      "commitName": "75882ec0b096da862b8b373b70a091c19f281b2a",
      "commitAuthor": "Anu Engineer",
      "diff": "@@ -0,0 +1,23 @@\n+  private int dispatch(CommandLine cmd, Options opts)\n+      throws IOException, URISyntaxException {\n+    Command currentCommand \u003d null;\n+\n+    try {\n+      if (cmd.hasOption(DiskBalancer.PLAN)) {\n+        currentCommand \u003d new PlanCommand(getConf());\n+      } else {\n+        HelpFormatter helpFormatter \u003d new HelpFormatter();\n+        helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n+            \"disk balancer commands\", opts,\n+            \"Please correct your command and try again.\");\n+        return 1;\n+      }\n+\n+      currentCommand.execute(cmd);\n+\n+    } catch (Exception ex) {\n+      System.err.printf(ex.getMessage());\n+      return 1;\n+    }\n+    return 0;\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private int dispatch(CommandLine cmd, Options opts)\n      throws IOException, URISyntaxException {\n    Command currentCommand \u003d null;\n\n    try {\n      if (cmd.hasOption(DiskBalancer.PLAN)) {\n        currentCommand \u003d new PlanCommand(getConf());\n      } else {\n        HelpFormatter helpFormatter \u003d new HelpFormatter();\n        helpFormatter.printHelp(80, \"hdfs diskbalancer -uri [args]\",\n            \"disk balancer commands\", opts,\n            \"Please correct your command and try again.\");\n        return 1;\n      }\n\n      currentCommand.execute(cmd);\n\n    } catch (Exception ex) {\n      System.err.printf(ex.getMessage());\n      return 1;\n    }\n    return 0;\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/tools/DiskBalancer.java"
    }
  }
}