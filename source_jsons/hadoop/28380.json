{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "AMRMClientRelayer.java",
  "functionName": "finishApplicationMaster",
  "functionId": "finishApplicationMaster___request-FinishApplicationMasterRequest",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/AMRMClientRelayer.java",
  "functionStartLine": 235,
  "functionEndLine": 247,
  "numCommitsSeen": 8,
  "timeTaken": 2215,
  "changeHistory": [
    "59d5af21b7a8f52e8c89cbc2d25fe3d449b2657a",
    "02b9bfdf9e4bd0b3c05ca5fd75399dedcb656e09",
    "8736fc39ac3b3de168d2c216f3d1c0edb48fb3f9",
    "3159bffce23abf35754da2d7d51de7d8c2631ae3"
  ],
  "changeHistoryShort": {
    "59d5af21b7a8f52e8c89cbc2d25fe3d449b2657a": "Ybodychange",
    "02b9bfdf9e4bd0b3c05ca5fd75399dedcb656e09": "Ybodychange",
    "8736fc39ac3b3de168d2c216f3d1c0edb48fb3f9": "Ybodychange",
    "3159bffce23abf35754da2d7d51de7d8c2631ae3": "Yintroduced"
  },
  "changeHistoryDetails": {
    "59d5af21b7a8f52e8c89cbc2d25fe3d449b2657a": {
      "type": "Ybodychange",
      "commitMessage": "YARN-8760. [AMRMProxy] Fix concurrent re-register due to YarnRM failover in AMRMClientRelayer. Contributed by Botong Huang.\n",
      "commitDate": "01/10/18 1:12 PM",
      "commitName": "59d5af21b7a8f52e8c89cbc2d25fe3d449b2657a",
      "commitAuthor": "Giovanni Matteo Fumarola",
      "commitDateOld": "12/09/18 11:46 AM",
      "commitNameOld": "02b9bfdf9e4bd0b3c05ca5fd75399dedcb656e09",
      "commitAuthorOld": "Giovanni Matteo Fumarola",
      "daysBetweenCommits": 19.06,
      "commitsBetweenForRepo": 185,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,13 @@\n   public FinishApplicationMasterResponse finishApplicationMaster(\n       FinishApplicationMasterRequest request)\n       throws YarnException, IOException {\n     try {\n       return this.rmClient.finishApplicationMaster(request);\n     } catch (ApplicationMasterNotRegisteredException e) {\n       LOG.warn(\"Out of sync with RM \" + rmId\n           + \" for \" + this.appId + \", hence resyncing.\");\n       // re register with RM\n-      registerApplicationMaster(this.amRegistrationRequest);\n+      reRegisterApplicationMaster(this.amRegistrationRequest);\n       return finishApplicationMaster(request);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public FinishApplicationMasterResponse finishApplicationMaster(\n      FinishApplicationMasterRequest request)\n      throws YarnException, IOException {\n    try {\n      return this.rmClient.finishApplicationMaster(request);\n    } catch (ApplicationMasterNotRegisteredException e) {\n      LOG.warn(\"Out of sync with RM \" + rmId\n          + \" for \" + this.appId + \", hence resyncing.\");\n      // re register with RM\n      reRegisterApplicationMaster(this.amRegistrationRequest);\n      return finishApplicationMaster(request);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/AMRMClientRelayer.java",
      "extendedDetails": {}
    },
    "02b9bfdf9e4bd0b3c05ca5fd75399dedcb656e09": {
      "type": "Ybodychange",
      "commitMessage": "YARN-8658. [AMRMProxy] Metrics for AMRMClientRelayer inside FederationInterceptor. Contributed by Young Chen.\n",
      "commitDate": "12/09/18 11:46 AM",
      "commitName": "02b9bfdf9e4bd0b3c05ca5fd75399dedcb656e09",
      "commitAuthor": "Giovanni Matteo Fumarola",
      "commitDateOld": "20/08/18 12:22 PM",
      "commitNameOld": "8736fc39ac3b3de168d2c216f3d1c0edb48fb3f9",
      "commitAuthorOld": "Giovanni Matteo Fumarola",
      "daysBetweenCommits": 22.97,
      "commitsBetweenForRepo": 175,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,13 @@\n   public FinishApplicationMasterResponse finishApplicationMaster(\n       FinishApplicationMasterRequest request)\n       throws YarnException, IOException {\n     try {\n       return this.rmClient.finishApplicationMaster(request);\n     } catch (ApplicationMasterNotRegisteredException e) {\n-      LOG.warn(\"Out of sync with RM for \" + this.appId + \", hence resyncing.\");\n+      LOG.warn(\"Out of sync with RM \" + rmId\n+          + \" for \" + this.appId + \", hence resyncing.\");\n       // re register with RM\n       registerApplicationMaster(this.amRegistrationRequest);\n       return finishApplicationMaster(request);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public FinishApplicationMasterResponse finishApplicationMaster(\n      FinishApplicationMasterRequest request)\n      throws YarnException, IOException {\n    try {\n      return this.rmClient.finishApplicationMaster(request);\n    } catch (ApplicationMasterNotRegisteredException e) {\n      LOG.warn(\"Out of sync with RM \" + rmId\n          + \" for \" + this.appId + \", hence resyncing.\");\n      // re register with RM\n      registerApplicationMaster(this.amRegistrationRequest);\n      return finishApplicationMaster(request);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/AMRMClientRelayer.java",
      "extendedDetails": {}
    },
    "8736fc39ac3b3de168d2c216f3d1c0edb48fb3f9": {
      "type": "Ybodychange",
      "commitMessage": "YARN-8673. [AMRMProxy] More robust responseId resync after an YarnRM master slave switch. Contributed by Botong Huang.\n",
      "commitDate": "20/08/18 12:22 PM",
      "commitName": "8736fc39ac3b3de168d2c216f3d1c0edb48fb3f9",
      "commitAuthor": "Giovanni Matteo Fumarola",
      "commitDateOld": "09/07/18 12:27 PM",
      "commitNameOld": "ea9b608237e7f2cf9b1e36b0f78c9674ec84096f",
      "commitAuthorOld": "Giovanni Matteo Fumarola",
      "daysBetweenCommits": 42.0,
      "commitsBetweenForRepo": 336,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,12 @@\n   public FinishApplicationMasterResponse finishApplicationMaster(\n       FinishApplicationMasterRequest request)\n       throws YarnException, IOException {\n     try {\n       return this.rmClient.finishApplicationMaster(request);\n     } catch (ApplicationMasterNotRegisteredException e) {\n-      LOG.warn(\"Out of sync with ResourceManager, hence resyncing.\");\n+      LOG.warn(\"Out of sync with RM for \" + this.appId + \", hence resyncing.\");\n       // re register with RM\n       registerApplicationMaster(this.amRegistrationRequest);\n       return finishApplicationMaster(request);\n     }\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public FinishApplicationMasterResponse finishApplicationMaster(\n      FinishApplicationMasterRequest request)\n      throws YarnException, IOException {\n    try {\n      return this.rmClient.finishApplicationMaster(request);\n    } catch (ApplicationMasterNotRegisteredException e) {\n      LOG.warn(\"Out of sync with RM for \" + this.appId + \", hence resyncing.\");\n      // re register with RM\n      registerApplicationMaster(this.amRegistrationRequest);\n      return finishApplicationMaster(request);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/AMRMClientRelayer.java",
      "extendedDetails": {}
    },
    "3159bffce23abf35754da2d7d51de7d8c2631ae3": {
      "type": "Yintroduced",
      "commitMessage": "YARN-7900. [AMRMProxy] AMRMClientRelayer for stateful FederationInterceptor. (Botong Huang via asuresh)\n",
      "commitDate": "17/05/18 8:00 PM",
      "commitName": "3159bffce23abf35754da2d7d51de7d8c2631ae3",
      "commitAuthor": "Arun Suresh",
      "diff": "@@ -0,0 +1,12 @@\n+  public FinishApplicationMasterResponse finishApplicationMaster(\n+      FinishApplicationMasterRequest request)\n+      throws YarnException, IOException {\n+    try {\n+      return this.rmClient.finishApplicationMaster(request);\n+    } catch (ApplicationMasterNotRegisteredException e) {\n+      LOG.warn(\"Out of sync with ResourceManager, hence resyncing.\");\n+      // re register with RM\n+      registerApplicationMaster(this.amRegistrationRequest);\n+      return finishApplicationMaster(request);\n+    }\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public FinishApplicationMasterResponse finishApplicationMaster(\n      FinishApplicationMasterRequest request)\n      throws YarnException, IOException {\n    try {\n      return this.rmClient.finishApplicationMaster(request);\n    } catch (ApplicationMasterNotRegisteredException e) {\n      LOG.warn(\"Out of sync with ResourceManager, hence resyncing.\");\n      // re register with RM\n      registerApplicationMaster(this.amRegistrationRequest);\n      return finishApplicationMaster(request);\n    }\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/src/main/java/org/apache/hadoop/yarn/server/AMRMClientRelayer.java"
    }
  }
}