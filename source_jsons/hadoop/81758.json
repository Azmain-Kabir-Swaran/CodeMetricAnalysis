{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "Shell.java",
  "functionName": "getCheckProcessIsAliveCommand",
  "functionId": "getCheckProcessIsAliveCommand___pid-String",
  "sourceFilePath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
  "functionStartLine": 319,
  "functionEndLine": 321,
  "numCommitsSeen": 55,
  "timeTaken": 4200,
  "changeHistory": [
    "f1c19b9365cbac88e45a9eed516fbfc6c9aa9947",
    "1e06299df82b98795124fe8a33578c111e744ff4",
    "44bf8525a591b56b5c09cd4201bd193516ea9530",
    "638801cce16fc1dc3259c541dc30a599faaddda1"
  ],
  "changeHistoryShort": {
    "f1c19b9365cbac88e45a9eed516fbfc6c9aa9947": "Ybodychange",
    "1e06299df82b98795124fe8a33578c111e744ff4": "Ybodychange",
    "44bf8525a591b56b5c09cd4201bd193516ea9530": "Ymultichange(Ymovefromfile,Ymodifierchange,Ybodychange)",
    "638801cce16fc1dc3259c541dc30a599faaddda1": "Yintroduced"
  },
  "changeHistoryDetails": {
    "f1c19b9365cbac88e45a9eed516fbfc6c9aa9947": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-12441. Fixed shell-kill command behaviour to work correctly on some Linux distributions after HADOOP-12317. Contributed by Wangda Tan.\n",
      "commitDate": "05/10/15 10:56 AM",
      "commitName": "f1c19b9365cbac88e45a9eed516fbfc6c9aa9947",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "19/08/15 7:00 PM",
      "commitNameOld": "1e06299df82b98795124fe8a33578c111e744ff4",
      "commitAuthorOld": "Robert Kanter",
      "daysBetweenCommits": 46.66,
      "commitsBetweenForRepo": 307,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,7 +1,3 @@\n   public static String[] getCheckProcessIsAliveCommand(String pid) {\n-    return Shell.WINDOWS ?\n-      new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n-      isSetsidAvailable ?\n-        new String[] { \"kill\", \"-0\", \"--\", \"-\" + pid } :\n-        new String[] { \"kill\", \"-0\", pid };\n+    return getSignalKillCommand(0, pid);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getCheckProcessIsAliveCommand(String pid) {\n    return getSignalKillCommand(0, pid);\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {}
    },
    "1e06299df82b98795124fe8a33578c111e744ff4": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-12317. Applications fail on NM restart on some linux distro because NM container recovery declares AM container as LOST (adhoot via rkanter)\n",
      "commitDate": "19/08/15 7:00 PM",
      "commitName": "1e06299df82b98795124fe8a33578c111e744ff4",
      "commitAuthor": "Robert Kanter",
      "commitDateOld": "30/06/15 2:59 PM",
      "commitNameOld": "6f2a41e37d0b36cdafcfff75125165f212c612a6",
      "commitAuthorOld": "Gera Shegalov",
      "daysBetweenCommits": 50.17,
      "commitsBetweenForRepo": 287,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,5 +1,7 @@\n   public static String[] getCheckProcessIsAliveCommand(String pid) {\n     return Shell.WINDOWS ?\n       new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n-      new String[] { \"kill\", \"-0\", isSetsidAvailable ? \"-\" + pid : pid };\n+      isSetsidAvailable ?\n+        new String[] { \"kill\", \"-0\", \"--\", \"-\" + pid } :\n+        new String[] { \"kill\", \"-0\", pid };\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public static String[] getCheckProcessIsAliveCommand(String pid) {\n    return Shell.WINDOWS ?\n      new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n      isSetsidAvailable ?\n        new String[] { \"kill\", \"-0\", \"--\", \"-\" + pid } :\n        new String[] { \"kill\", \"-0\", pid };\n  }",
      "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
      "extendedDetails": {}
    },
    "44bf8525a591b56b5c09cd4201bd193516ea9530": {
      "type": "Ymultichange(Ymovefromfile,Ymodifierchange,Ybodychange)",
      "commitMessage": "YARN-493. Fixed some shell related flaws in YARN on Windows. Contributed by Chris Nauroth.\nHADOOP-9486. Promoted Windows and Shell related utils from YARN to Hadoop Common. Contributed by Chris Nauroth.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1469667 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/04/13 7:14 PM",
      "commitName": "44bf8525a591b56b5c09cd4201bd193516ea9530",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "YARN-493. Fixed some shell related flaws in YARN on Windows. Contributed by Chris Nauroth.\nHADOOP-9486. Promoted Windows and Shell related utils from YARN to Hadoop Common. Contributed by Chris Nauroth.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1469667 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "18/04/13 7:14 PM",
          "commitName": "44bf8525a591b56b5c09cd4201bd193516ea9530",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "18/04/13 6:33 PM",
          "commitNameOld": "8e1c2823fc014a5a045c86760c61111d0bb59d2f",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 0.03,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-  protected static String[] getCheckProcessIsAliveCommand(String pid) {\n+  public static String[] getCheckProcessIsAliveCommand(String pid) {\n     return Shell.WINDOWS ?\n       new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n-      new String[] { \"kill\", \"-0\", pid };\n+      new String[] { \"kill\", \"-0\", isSetsidAvailable ? \"-\" + pid : pid };\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static String[] getCheckProcessIsAliveCommand(String pid) {\n    return Shell.WINDOWS ?\n      new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n      new String[] { \"kill\", \"-0\", isSetsidAvailable ? \"-\" + pid : pid };\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
          "extendedDetails": {
            "oldPath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/ContainerExecutor.java",
            "newPath": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
            "oldMethodName": "getCheckProcessIsAliveCommand",
            "newMethodName": "getCheckProcessIsAliveCommand"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "YARN-493. Fixed some shell related flaws in YARN on Windows. Contributed by Chris Nauroth.\nHADOOP-9486. Promoted Windows and Shell related utils from YARN to Hadoop Common. Contributed by Chris Nauroth.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1469667 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "18/04/13 7:14 PM",
          "commitName": "44bf8525a591b56b5c09cd4201bd193516ea9530",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "18/04/13 6:33 PM",
          "commitNameOld": "8e1c2823fc014a5a045c86760c61111d0bb59d2f",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 0.03,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-  protected static String[] getCheckProcessIsAliveCommand(String pid) {\n+  public static String[] getCheckProcessIsAliveCommand(String pid) {\n     return Shell.WINDOWS ?\n       new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n-      new String[] { \"kill\", \"-0\", pid };\n+      new String[] { \"kill\", \"-0\", isSetsidAvailable ? \"-\" + pid : pid };\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static String[] getCheckProcessIsAliveCommand(String pid) {\n    return Shell.WINDOWS ?\n      new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n      new String[] { \"kill\", \"-0\", isSetsidAvailable ? \"-\" + pid : pid };\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
          "extendedDetails": {
            "oldValue": "[protected, static]",
            "newValue": "[public, static]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-493. Fixed some shell related flaws in YARN on Windows. Contributed by Chris Nauroth.\nHADOOP-9486. Promoted Windows and Shell related utils from YARN to Hadoop Common. Contributed by Chris Nauroth.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1469667 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "18/04/13 7:14 PM",
          "commitName": "44bf8525a591b56b5c09cd4201bd193516ea9530",
          "commitAuthor": "Vinod Kumar Vavilapalli",
          "commitDateOld": "18/04/13 6:33 PM",
          "commitNameOld": "8e1c2823fc014a5a045c86760c61111d0bb59d2f",
          "commitAuthorOld": "Vinod Kumar Vavilapalli",
          "daysBetweenCommits": 0.03,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,5 +1,5 @@\n-  protected static String[] getCheckProcessIsAliveCommand(String pid) {\n+  public static String[] getCheckProcessIsAliveCommand(String pid) {\n     return Shell.WINDOWS ?\n       new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n-      new String[] { \"kill\", \"-0\", pid };\n+      new String[] { \"kill\", \"-0\", isSetsidAvailable ? \"-\" + pid : pid };\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public static String[] getCheckProcessIsAliveCommand(String pid) {\n    return Shell.WINDOWS ?\n      new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n      new String[] { \"kill\", \"-0\", isSetsidAvailable ? \"-\" + pid : pid };\n  }",
          "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/Shell.java",
          "extendedDetails": {}
        }
      ]
    },
    "638801cce16fc1dc3259c541dc30a599faaddda1": {
      "type": "Yintroduced",
      "commitMessage": "HADOOP-8952. Enhancements to support Hadoop on Windows Server and Windows Azure environments. Contributed by Ivan Mitic, Chuan Liu, Ramya Sunil, Bikas Saha, Kanna Karanam, John Gordon, Brandon Li, Chris Nauroth, David Lao, Sumadhur Reddy Bolli, Arpit Agarwal, Ahmed El Baz, Mike Liddell, Jing Zhao, Thejas Nair, Steve Maine, Ganeshan Iyer, Raja Aluri, Giridharan Kesavan, Ramya Bharathi Nimmagadda.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1453486 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "06/03/13 11:15 AM",
      "commitName": "638801cce16fc1dc3259c541dc30a599faaddda1",
      "commitAuthor": "Suresh Srinivas",
      "diff": "@@ -0,0 +1,5 @@\n+  protected static String[] getCheckProcessIsAliveCommand(String pid) {\n+    return Shell.WINDOWS ?\n+      new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n+      new String[] { \"kill\", \"-0\", pid };\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  protected static String[] getCheckProcessIsAliveCommand(String pid) {\n    return Shell.WINDOWS ?\n      new String[] { Shell.WINUTILS, \"task\", \"isAlive\", pid } :\n      new String[] { \"kill\", \"-0\", pid };\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/ContainerExecutor.java"
    }
  }
}