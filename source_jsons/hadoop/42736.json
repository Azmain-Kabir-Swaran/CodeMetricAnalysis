{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "RMAppAttemptImpl.java",
  "functionName": "removeCredentials",
  "functionId": "removeCredentials___appAttempt-RMAppAttemptImpl",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java",
  "functionStartLine": 2238,
  "functionEndLine": 2248,
  "numCommitsSeen": 183,
  "timeTaken": 3575,
  "changeHistory": [
    "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732",
    "79a184505d5ed71125a92f9c236fcf93b13f954e"
  ],
  "changeHistoryShort": {
    "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732": "Yrename",
    "79a184505d5ed71125a92f9c236fcf93b13f954e": "Yintroduced"
  },
  "changeHistoryDetails": {
    "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732": {
      "type": "Yrename",
      "commitMessage": "YARN-707. Added user information also in the YARN ClientToken so that AMs can implement authorization based on incoming users. Contributed by Jason Lowe.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1518868 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "29/08/13 6:12 PM",
      "commitName": "89fb4d8ffd32b06db42cc3e21d2a89e99deb7732",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "23/08/13 6:15 PM",
      "commitNameOld": "c660339c093ee96e90e3b3778177a499e3b36404",
      "commitAuthorOld": "Jason Darrell Lowe",
      "daysBetweenCommits": 6.0,
      "commitsBetweenForRepo": 32,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n-  private void removeTokens(RMAppAttemptImpl appAttempt) {\n+  private void removeCredentials(RMAppAttemptImpl appAttempt) {\n     // Unregister from the ClientToAMTokenSecretManager\n     if (UserGroupInformation.isSecurityEnabled()) {\n       appAttempt.rmContext.getClientToAMTokenSecretManager()\n         .unRegisterApplication(appAttempt.getAppAttemptId());\n     }\n \n     // Remove the AppAttempt from the AMRMTokenSecretManager\n     appAttempt.rmContext.getAMRMTokenSecretManager()\n       .applicationMasterFinished(appAttempt.getAppAttemptId());\n   }\n\\ No newline at end of file\n",
      "actualSource": "  private void removeCredentials(RMAppAttemptImpl appAttempt) {\n    // Unregister from the ClientToAMTokenSecretManager\n    if (UserGroupInformation.isSecurityEnabled()) {\n      appAttempt.rmContext.getClientToAMTokenSecretManager()\n        .unRegisterApplication(appAttempt.getAppAttemptId());\n    }\n\n    // Remove the AppAttempt from the AMRMTokenSecretManager\n    appAttempt.rmContext.getAMRMTokenSecretManager()\n      .applicationMasterFinished(appAttempt.getAppAttemptId());\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java",
      "extendedDetails": {
        "oldValue": "removeTokens",
        "newValue": "removeCredentials"
      }
    },
    "79a184505d5ed71125a92f9c236fcf93b13f954e": {
      "type": "Yintroduced",
      "commitMessage": "YARN-643. Fixed ResourceManager to remove all tokens consistently on app finish. Contributed by Xuan Gong.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1515256 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "18/08/13 6:53 PM",
      "commitName": "79a184505d5ed71125a92f9c236fcf93b13f954e",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,11 @@\n+  private void removeTokens(RMAppAttemptImpl appAttempt) {\n+    // Unregister from the ClientToAMTokenSecretManager\n+    if (UserGroupInformation.isSecurityEnabled()) {\n+      appAttempt.rmContext.getClientToAMTokenSecretManager()\n+        .unRegisterApplication(appAttempt.getAppAttemptId());\n+    }\n+\n+    // Remove the AppAttempt from the AMRMTokenSecretManager\n+    appAttempt.rmContext.getAMRMTokenSecretManager()\n+      .applicationMasterFinished(appAttempt.getAppAttemptId());\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  private void removeTokens(RMAppAttemptImpl appAttempt) {\n    // Unregister from the ClientToAMTokenSecretManager\n    if (UserGroupInformation.isSecurityEnabled()) {\n      appAttempt.rmContext.getClientToAMTokenSecretManager()\n        .unRegisterApplication(appAttempt.getAppAttemptId());\n    }\n\n    // Remove the AppAttempt from the AMRMTokenSecretManager\n    appAttempt.rmContext.getAMRMTokenSecretManager()\n      .applicationMasterFinished(appAttempt.getAppAttemptId());\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/attempt/RMAppAttemptImpl.java"
    }
  }
}