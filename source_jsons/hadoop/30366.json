{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FileSystemApplicationHistoryStore.java",
  "functionName": "serviceStart",
  "functionId": "serviceStart",
  "sourceFilePath": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/FileSystemApplicationHistoryStore.java",
  "functionStartLine": 119,
  "functionEndLine": 133,
  "numCommitsSeen": 23,
  "timeTaken": 3024,
  "changeHistory": [
    "5af572b6443715b7a741296c1bd520a1840f9a7c",
    "e10eeaabce2a21840cfd5899493c9d2d4fe2e322",
    "6b8b1608e64e300e4e1d23c60476febaca29ca38",
    "d778abf022b415c64223153814d4188c2b3dd797",
    "e167e585e9dd5c86ae763c257d62fdcc83260200",
    "cbee889711eddc5c67a61df4a6531b4ab3cd205a"
  ],
  "changeHistoryShort": {
    "5af572b6443715b7a741296c1bd520a1840f9a7c": "Ybodychange",
    "e10eeaabce2a21840cfd5899493c9d2d4fe2e322": "Ymultichange(Yrename,Yparameterchange,Ybodychange)",
    "6b8b1608e64e300e4e1d23c60476febaca29ca38": "Ybodychange",
    "d778abf022b415c64223153814d4188c2b3dd797": "Ybodychange",
    "e167e585e9dd5c86ae763c257d62fdcc83260200": "Ybodychange",
    "cbee889711eddc5c67a61df4a6531b4ab3cd205a": "Yintroduced"
  },
  "changeHistoryDetails": {
    "5af572b6443715b7a741296c1bd520a1840f9a7c": {
      "type": "Ybodychange",
      "commitMessage": "HADOOP-13427. Eliminate needless uses of FileSystem#{exists(), isFile(), isDirectory()}. Contributed by Steve Loughran and Mingliang Liu\n",
      "commitDate": "15/11/16 10:57 AM",
      "commitName": "5af572b6443715b7a741296c1bd520a1840f9a7c",
      "commitAuthor": "Mingliang Liu",
      "commitDateOld": "16/09/16 10:05 PM",
      "commitNameOld": "4174b9756c8c7877797545c4356b1f40df603ec5",
      "commitAuthorOld": "Naganarasimha",
      "daysBetweenCommits": 59.58,
      "commitsBetweenForRepo": 494,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,15 @@\n   public void serviceStart() throws Exception {\n     Configuration conf \u003d getConfig();\n     Path fsWorkingPath \u003d\n         new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n             conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n     rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n     try {\n       fs \u003d getFileSystem(fsWorkingPath, conf);\n-\n-      if (!fs.isDirectory(rootDirPath)) {\n-        fs.mkdirs(rootDirPath);\n-        fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n-      }\n-\n+      fs.mkdirs(rootDirPath, ROOT_DIR_UMASK);\n     } catch (IOException e) {\n       LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n       throw e;\n     }\n     super.serviceStart();\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void serviceStart() throws Exception {\n    Configuration conf \u003d getConfig();\n    Path fsWorkingPath \u003d\n        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n            conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n    rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n    try {\n      fs \u003d getFileSystem(fsWorkingPath, conf);\n      fs.mkdirs(rootDirPath, ROOT_DIR_UMASK);\n    } catch (IOException e) {\n      LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n      throw e;\n    }\n    super.serviceStart();\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/FileSystemApplicationHistoryStore.java",
      "extendedDetails": {}
    },
    "e10eeaabce2a21840cfd5899493c9d2d4fe2e322": {
      "type": "Ymultichange(Yrename,Yparameterchange,Ybodychange)",
      "commitMessage": "YARN-2606. Application History Server tries to access hdfs before doing secure login (Mit Desai via jeagles)\n",
      "commitDate": "29/09/14 2:37 PM",
      "commitName": "e10eeaabce2a21840cfd5899493c9d2d4fe2e322",
      "commitAuthor": "Jonathan Eagles",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "YARN-2606. Application History Server tries to access hdfs before doing secure login (Mit Desai via jeagles)\n",
          "commitDate": "29/09/14 2:37 PM",
          "commitName": "e10eeaabce2a21840cfd5899493c9d2d4fe2e322",
          "commitAuthor": "Jonathan Eagles",
          "commitDateOld": "11/09/14 7:04 PM",
          "commitNameOld": "6b8b1608e64e300e4e1d23c60476febaca29ca38",
          "commitAuthorOld": "junping_du",
          "daysBetweenCommits": 17.81,
          "commitsBetweenForRepo": 186,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,19 +1,20 @@\n-  public void serviceInit(Configuration conf) throws Exception {\n+  public void serviceStart() throws Exception {\n+    Configuration conf \u003d getConfig();\n     Path fsWorkingPath \u003d\n         new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n             conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n     rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n     try {\n       fs \u003d getFileSystem(fsWorkingPath, conf);\n \n       if (!fs.isDirectory(rootDirPath)) {\n         fs.mkdirs(rootDirPath);\n         fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n       }\n \n     } catch (IOException e) {\n       LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n       throw e;\n     }\n-    super.serviceInit(conf);\n+    super.serviceStart();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public void serviceStart() throws Exception {\n    Configuration conf \u003d getConfig();\n    Path fsWorkingPath \u003d\n        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n            conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n    rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n    try {\n      fs \u003d getFileSystem(fsWorkingPath, conf);\n\n      if (!fs.isDirectory(rootDirPath)) {\n        fs.mkdirs(rootDirPath);\n        fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n      }\n\n    } catch (IOException e) {\n      LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n      throw e;\n    }\n    super.serviceStart();\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/FileSystemApplicationHistoryStore.java",
          "extendedDetails": {
            "oldValue": "serviceInit",
            "newValue": "serviceStart"
          }
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "YARN-2606. Application History Server tries to access hdfs before doing secure login (Mit Desai via jeagles)\n",
          "commitDate": "29/09/14 2:37 PM",
          "commitName": "e10eeaabce2a21840cfd5899493c9d2d4fe2e322",
          "commitAuthor": "Jonathan Eagles",
          "commitDateOld": "11/09/14 7:04 PM",
          "commitNameOld": "6b8b1608e64e300e4e1d23c60476febaca29ca38",
          "commitAuthorOld": "junping_du",
          "daysBetweenCommits": 17.81,
          "commitsBetweenForRepo": 186,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,19 +1,20 @@\n-  public void serviceInit(Configuration conf) throws Exception {\n+  public void serviceStart() throws Exception {\n+    Configuration conf \u003d getConfig();\n     Path fsWorkingPath \u003d\n         new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n             conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n     rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n     try {\n       fs \u003d getFileSystem(fsWorkingPath, conf);\n \n       if (!fs.isDirectory(rootDirPath)) {\n         fs.mkdirs(rootDirPath);\n         fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n       }\n \n     } catch (IOException e) {\n       LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n       throw e;\n     }\n-    super.serviceInit(conf);\n+    super.serviceStart();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public void serviceStart() throws Exception {\n    Configuration conf \u003d getConfig();\n    Path fsWorkingPath \u003d\n        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n            conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n    rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n    try {\n      fs \u003d getFileSystem(fsWorkingPath, conf);\n\n      if (!fs.isDirectory(rootDirPath)) {\n        fs.mkdirs(rootDirPath);\n        fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n      }\n\n    } catch (IOException e) {\n      LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n      throw e;\n    }\n    super.serviceStart();\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/FileSystemApplicationHistoryStore.java",
          "extendedDetails": {
            "oldValue": "[conf-Configuration]",
            "newValue": "[]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "YARN-2606. Application History Server tries to access hdfs before doing secure login (Mit Desai via jeagles)\n",
          "commitDate": "29/09/14 2:37 PM",
          "commitName": "e10eeaabce2a21840cfd5899493c9d2d4fe2e322",
          "commitAuthor": "Jonathan Eagles",
          "commitDateOld": "11/09/14 7:04 PM",
          "commitNameOld": "6b8b1608e64e300e4e1d23c60476febaca29ca38",
          "commitAuthorOld": "junping_du",
          "daysBetweenCommits": 17.81,
          "commitsBetweenForRepo": 186,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,19 +1,20 @@\n-  public void serviceInit(Configuration conf) throws Exception {\n+  public void serviceStart() throws Exception {\n+    Configuration conf \u003d getConfig();\n     Path fsWorkingPath \u003d\n         new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n             conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n     rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n     try {\n       fs \u003d getFileSystem(fsWorkingPath, conf);\n \n       if (!fs.isDirectory(rootDirPath)) {\n         fs.mkdirs(rootDirPath);\n         fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n       }\n \n     } catch (IOException e) {\n       LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n       throw e;\n     }\n-    super.serviceInit(conf);\n+    super.serviceStart();\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public void serviceStart() throws Exception {\n    Configuration conf \u003d getConfig();\n    Path fsWorkingPath \u003d\n        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n            conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n    rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n    try {\n      fs \u003d getFileSystem(fsWorkingPath, conf);\n\n      if (!fs.isDirectory(rootDirPath)) {\n        fs.mkdirs(rootDirPath);\n        fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n      }\n\n    } catch (IOException e) {\n      LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n      throw e;\n    }\n    super.serviceStart();\n  }",
          "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/FileSystemApplicationHistoryStore.java",
          "extendedDetails": {}
        }
      ]
    },
    "6b8b1608e64e300e4e1d23c60476febaca29ca38": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2033. Merging generic-history into the Timeline Store (Contributed by Zhijie Shen)\n",
      "commitDate": "11/09/14 7:04 PM",
      "commitName": "6b8b1608e64e300e4e1d23c60476febaca29ca38",
      "commitAuthor": "junping_du",
      "commitDateOld": "27/08/14 2:01 AM",
      "commitNameOld": "d778abf022b415c64223153814d4188c2b3dd797",
      "commitAuthorOld": "Zhijie Shen",
      "daysBetweenCommits": 15.71,
      "commitsBetweenForRepo": 139,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,18 +1,19 @@\n   public void serviceInit(Configuration conf) throws Exception {\n     Path fsWorkingPath \u003d\n-        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI));\n+        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n+            conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n     rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n     try {\n       fs \u003d getFileSystem(fsWorkingPath, conf);\n \n       if (!fs.isDirectory(rootDirPath)) {\n         fs.mkdirs(rootDirPath);\n         fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n       }\n \n     } catch (IOException e) {\n       LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n       throw e;\n     }\n     super.serviceInit(conf);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void serviceInit(Configuration conf) throws Exception {\n    Path fsWorkingPath \u003d\n        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,\n            conf.get(\"hadoop.tmp.dir\") + \"/yarn/timeline/generic-history\"));\n    rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n    try {\n      fs \u003d getFileSystem(fsWorkingPath, conf);\n\n      if (!fs.isDirectory(rootDirPath)) {\n        fs.mkdirs(rootDirPath);\n        fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n      }\n\n    } catch (IOException e) {\n      LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n      throw e;\n    }\n    super.serviceInit(conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/FileSystemApplicationHistoryStore.java",
      "extendedDetails": {}
    },
    "d778abf022b415c64223153814d4188c2b3dd797": {
      "type": "Ybodychange",
      "commitMessage": "YARN-2035. FileSystemApplicationHistoryStore should not make working dir when it already exists. Contributed by Jonathan Eagles.\n",
      "commitDate": "27/08/14 2:01 AM",
      "commitName": "d778abf022b415c64223153814d4188c2b3dd797",
      "commitAuthor": "Zhijie Shen",
      "commitDateOld": "10/04/14 11:57 AM",
      "commitNameOld": "3993d646d7fe8d28ac33e9bbda2c357d94dd98ea",
      "commitAuthorOld": "Zhijie Shen",
      "daysBetweenCommits": 138.59,
      "commitsBetweenForRepo": 954,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,18 @@\n   public void serviceInit(Configuration conf) throws Exception {\n     Path fsWorkingPath \u003d\n         new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI));\n     rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n     try {\n-      fs \u003d fsWorkingPath.getFileSystem(conf);\n-      fs.mkdirs(rootDirPath);\n-      fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n+      fs \u003d getFileSystem(fsWorkingPath, conf);\n+\n+      if (!fs.isDirectory(rootDirPath)) {\n+        fs.mkdirs(rootDirPath);\n+        fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n+      }\n+\n     } catch (IOException e) {\n       LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n       throw e;\n     }\n     super.serviceInit(conf);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void serviceInit(Configuration conf) throws Exception {\n    Path fsWorkingPath \u003d\n        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI));\n    rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n    try {\n      fs \u003d getFileSystem(fsWorkingPath, conf);\n\n      if (!fs.isDirectory(rootDirPath)) {\n        fs.mkdirs(rootDirPath);\n        fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n      }\n\n    } catch (IOException e) {\n      LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n      throw e;\n    }\n    super.serviceInit(conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/FileSystemApplicationHistoryStore.java",
      "extendedDetails": {}
    },
    "e167e585e9dd5c86ae763c257d62fdcc83260200": {
      "type": "Ybodychange",
      "commitMessage": "YARN-1749. Updated application-history related configs to reflect the latest reality and to be consistently named. Contributed by Zhijie Shen.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1570948 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "22/02/14 6:04 PM",
      "commitName": "e167e585e9dd5c86ae763c257d62fdcc83260200",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "commitDateOld": "12/02/14 4:08 PM",
      "commitNameOld": "0185a5784712d9b6e23d9d8c7624cd4e4886cab8",
      "commitAuthorOld": "Zhijie Shen",
      "daysBetweenCommits": 10.08,
      "commitsBetweenForRepo": 84,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n   public void serviceInit(Configuration conf) throws Exception {\n     Path fsWorkingPath \u003d\n-        new Path(conf.get(YarnConfiguration.FS_HISTORY_STORE_URI));\n+        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI));\n     rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n     try {\n       fs \u003d fsWorkingPath.getFileSystem(conf);\n       fs.mkdirs(rootDirPath);\n       fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n     } catch (IOException e) {\n       LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n       throw e;\n     }\n     super.serviceInit(conf);\n   }\n\\ No newline at end of file\n",
      "actualSource": "  public void serviceInit(Configuration conf) throws Exception {\n    Path fsWorkingPath \u003d\n        new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI));\n    rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n    try {\n      fs \u003d fsWorkingPath.getFileSystem(conf);\n      fs.mkdirs(rootDirPath);\n      fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n    } catch (IOException e) {\n      LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n      throw e;\n    }\n    super.serviceInit(conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/FileSystemApplicationHistoryStore.java",
      "extendedDetails": {}
    },
    "cbee889711eddc5c67a61df4a6531b4ab3cd205a": {
      "type": "Yintroduced",
      "commitMessage": "YARN-321. Merging YARN-321 branch to trunk.\nsvn merge ../branches/YARN-321\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1561452 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "25/01/14 8:51 PM",
      "commitName": "cbee889711eddc5c67a61df4a6531b4ab3cd205a",
      "commitAuthor": "Vinod Kumar Vavilapalli",
      "diff": "@@ -0,0 +1,14 @@\n+  public void serviceInit(Configuration conf) throws Exception {\n+    Path fsWorkingPath \u003d\n+        new Path(conf.get(YarnConfiguration.FS_HISTORY_STORE_URI));\n+    rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n+    try {\n+      fs \u003d fsWorkingPath.getFileSystem(conf);\n+      fs.mkdirs(rootDirPath);\n+      fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n+    } catch (IOException e) {\n+      LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n+      throw e;\n+    }\n+    super.serviceInit(conf);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public void serviceInit(Configuration conf) throws Exception {\n    Path fsWorkingPath \u003d\n        new Path(conf.get(YarnConfiguration.FS_HISTORY_STORE_URI));\n    rootDirPath \u003d new Path(fsWorkingPath, ROOT_DIR_NAME);\n    try {\n      fs \u003d fsWorkingPath.getFileSystem(conf);\n      fs.mkdirs(rootDirPath);\n      fs.setPermission(rootDirPath, ROOT_DIR_UMASK);\n    } catch (IOException e) {\n      LOG.error(\"Error when initializing FileSystemHistoryStorage\", e);\n      throw e;\n    }\n    super.serviceInit(conf);\n  }",
      "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/FileSystemApplicationHistoryStore.java"
    }
  }
}