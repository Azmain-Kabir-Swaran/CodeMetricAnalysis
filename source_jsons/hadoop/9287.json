{
  "origin": "codeshovel",
  "repositoryName": "hadoop",
  "repositoryPath": "/home/shaiful/research/codeshovel/codeshovel-projects/hadoop/.git",
  "startCommitName": "HEAD",
  "sourceFileName": "FSNamesystem.java",
  "functionName": "verifyToken",
  "functionId": "verifyToken___identifier-DelegationTokenIdentifier__password-byte[]",
  "sourceFilePath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
  "functionStartLine": 6813,
  "functionEndLine": 6823,
  "numCommitsSeen": 1038,
  "timeTaken": 47998,
  "changeHistory": [
    "34f08944b7c8d58f531a3f3bf3d4ee4cd3fa643a",
    "f7eaacc103344f5fd81dd69584c93fb99d8b94c9",
    "6981b14003d3ff99fd719515ac08d748fc5f44bd",
    "32d4c148dfd203789386a0587480bd974fbf4c1a",
    "bd21ddcb78350b311f271e233038b8ca78a65242"
  ],
  "changeHistoryShort": {
    "34f08944b7c8d58f531a3f3bf3d4ee4cd3fa643a": "Ymultichange(Yexceptionschange,Ybodychange)",
    "f7eaacc103344f5fd81dd69584c93fb99d8b94c9": "Ymultichange(Yexceptionschange,Ybodychange)",
    "6981b14003d3ff99fd719515ac08d748fc5f44bd": "Ymultichange(Ymovefromfile,Ybodychange)",
    "32d4c148dfd203789386a0587480bd974fbf4c1a": "Ymultichange(Ymovefromfile,Ybodychange)",
    "bd21ddcb78350b311f271e233038b8ca78a65242": "Yintroduced"
  },
  "changeHistoryDetails": {
    "34f08944b7c8d58f531a3f3bf3d4ee4cd3fa643a": {
      "type": "Ymultichange(Yexceptionschange,Ybodychange)",
      "commitMessage": "merge trunk to branch HDFS-4949\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1532952 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "16/10/13 7:14 PM",
      "commitName": "34f08944b7c8d58f531a3f3bf3d4ee4cd3fa643a",
      "commitAuthor": "Andrew Wang",
      "subchanges": [
        {
          "type": "Yexceptionschange",
          "commitMessage": "merge trunk to branch HDFS-4949\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1532952 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "16/10/13 7:14 PM",
          "commitName": "34f08944b7c8d58f531a3f3bf3d4ee4cd3fa643a",
          "commitAuthor": "Andrew Wang",
          "commitDateOld": "16/10/13 3:15 PM",
          "commitNameOld": "3cc7a38a53c8ae27ef6b2397cddc5d14a378203a",
          "commitAuthorOld": "Colin McCabe",
          "daysBetweenCommits": 0.17,
          "commitsBetweenForRepo": 2,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,11 @@\n   public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n-      byte[] password) throws InvalidToken {\n-    getDelegationTokenSecretManager().verifyToken(identifier, password);\n+      byte[] password) throws InvalidToken, RetriableException {\n+    try {\n+      getDelegationTokenSecretManager().verifyToken(identifier, password);\n+    } catch (InvalidToken it) {\n+      if (inTransitionToActive()) {\n+        throw new RetriableException(it);\n+      }\n+      throw it;\n+    }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n      byte[] password) throws InvalidToken, RetriableException {\n    try {\n      getDelegationTokenSecretManager().verifyToken(identifier, password);\n    } catch (InvalidToken it) {\n      if (inTransitionToActive()) {\n        throw new RetriableException(it);\n      }\n      throw it;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
          "extendedDetails": {
            "oldValue": "[InvalidToken]",
            "newValue": "[InvalidToken, RetriableException]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "merge trunk to branch HDFS-4949\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/HDFS-4949@1532952 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "16/10/13 7:14 PM",
          "commitName": "34f08944b7c8d58f531a3f3bf3d4ee4cd3fa643a",
          "commitAuthor": "Andrew Wang",
          "commitDateOld": "16/10/13 3:15 PM",
          "commitNameOld": "3cc7a38a53c8ae27ef6b2397cddc5d14a378203a",
          "commitAuthorOld": "Colin McCabe",
          "daysBetweenCommits": 0.17,
          "commitsBetweenForRepo": 2,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,11 @@\n   public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n-      byte[] password) throws InvalidToken {\n-    getDelegationTokenSecretManager().verifyToken(identifier, password);\n+      byte[] password) throws InvalidToken, RetriableException {\n+    try {\n+      getDelegationTokenSecretManager().verifyToken(identifier, password);\n+    } catch (InvalidToken it) {\n+      if (inTransitionToActive()) {\n+        throw new RetriableException(it);\n+      }\n+      throw it;\n+    }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n      byte[] password) throws InvalidToken, RetriableException {\n    try {\n      getDelegationTokenSecretManager().verifyToken(identifier, password);\n    } catch (InvalidToken it) {\n      if (inTransitionToActive()) {\n        throw new RetriableException(it);\n      }\n      throw it;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
          "extendedDetails": {}
        }
      ]
    },
    "f7eaacc103344f5fd81dd69584c93fb99d8b94c9": {
      "type": "Ymultichange(Yexceptionschange,Ybodychange)",
      "commitMessage": "HDFS-5322. HDFS delegation token not found in cache errors seen on secure HA clusters. Contributed by Jing Zhao.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1531436 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "11/10/13 2:49 PM",
      "commitName": "f7eaacc103344f5fd81dd69584c93fb99d8b94c9",
      "commitAuthor": "Jing Zhao",
      "subchanges": [
        {
          "type": "Yexceptionschange",
          "commitMessage": "HDFS-5322. HDFS delegation token not found in cache errors seen on secure HA clusters. Contributed by Jing Zhao.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1531436 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "11/10/13 2:49 PM",
          "commitName": "f7eaacc103344f5fd81dd69584c93fb99d8b94c9",
          "commitAuthor": "Jing Zhao",
          "commitDateOld": "07/10/13 4:58 PM",
          "commitNameOld": "1fe1942328856dd832e9f94fb56a40ab3d810870",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 3.91,
          "commitsBetweenForRepo": 31,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,11 @@\n   public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n-      byte[] password) throws InvalidToken {\n-    getDelegationTokenSecretManager().verifyToken(identifier, password);\n+      byte[] password) throws InvalidToken, RetriableException {\n+    try {\n+      getDelegationTokenSecretManager().verifyToken(identifier, password);\n+    } catch (InvalidToken it) {\n+      if (inTransitionToActive()) {\n+        throw new RetriableException(it);\n+      }\n+      throw it;\n+    }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n      byte[] password) throws InvalidToken, RetriableException {\n    try {\n      getDelegationTokenSecretManager().verifyToken(identifier, password);\n    } catch (InvalidToken it) {\n      if (inTransitionToActive()) {\n        throw new RetriableException(it);\n      }\n      throw it;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
          "extendedDetails": {
            "oldValue": "[InvalidToken]",
            "newValue": "[InvalidToken, RetriableException]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-5322. HDFS delegation token not found in cache errors seen on secure HA clusters. Contributed by Jing Zhao.\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1531436 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "11/10/13 2:49 PM",
          "commitName": "f7eaacc103344f5fd81dd69584c93fb99d8b94c9",
          "commitAuthor": "Jing Zhao",
          "commitDateOld": "07/10/13 4:58 PM",
          "commitNameOld": "1fe1942328856dd832e9f94fb56a40ab3d810870",
          "commitAuthorOld": "Jing Zhao",
          "daysBetweenCommits": 3.91,
          "commitsBetweenForRepo": 31,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,11 @@\n   public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n-      byte[] password) throws InvalidToken {\n-    getDelegationTokenSecretManager().verifyToken(identifier, password);\n+      byte[] password) throws InvalidToken, RetriableException {\n+    try {\n+      getDelegationTokenSecretManager().verifyToken(identifier, password);\n+    } catch (InvalidToken it) {\n+      if (inTransitionToActive()) {\n+        throw new RetriableException(it);\n+      }\n+      throw it;\n+    }\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n      byte[] password) throws InvalidToken, RetriableException {\n    try {\n      getDelegationTokenSecretManager().verifyToken(identifier, password);\n    } catch (InvalidToken it) {\n      if (inTransitionToActive()) {\n        throw new RetriableException(it);\n      }\n      throw it;\n    }\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
          "extendedDetails": {}
        }
      ]
    },
    "6981b14003d3ff99fd719515ac08d748fc5f44bd": {
      "type": "Ymultichange(Ymovefromfile,Ybodychange)",
      "commitMessage": "Revert HDFS-3654. TestJspHelper#testGetUgi fails with NPE.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1362759 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "17/07/12 10:05 PM",
      "commitName": "6981b14003d3ff99fd719515ac08d748fc5f44bd",
      "commitAuthor": "Eli Collins",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "Revert HDFS-3654. TestJspHelper#testGetUgi fails with NPE.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1362759 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "17/07/12 10:05 PM",
          "commitName": "6981b14003d3ff99fd719515ac08d748fc5f44bd",
          "commitAuthor": "Eli Collins",
          "commitDateOld": "17/07/12 8:46 PM",
          "commitNameOld": "e2253b539e5d18b7006e8645a573659ca3e77699",
          "commitAuthorOld": "Aaron Myers",
          "daysBetweenCommits": 0.06,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,4 @@\n   public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n       byte[] password) throws InvalidToken {\n-    namesystem.getDelegationTokenSecretManager().verifyToken(identifier, password);\n+    getDelegationTokenSecretManager().verifyToken(identifier, password);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n      byte[] password) throws InvalidToken {\n    getDelegationTokenSecretManager().verifyToken(identifier, password);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
            "oldMethodName": "verifyToken",
            "newMethodName": "verifyToken"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Revert HDFS-3654. TestJspHelper#testGetUgi fails with NPE.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1362759 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "17/07/12 10:05 PM",
          "commitName": "6981b14003d3ff99fd719515ac08d748fc5f44bd",
          "commitAuthor": "Eli Collins",
          "commitDateOld": "17/07/12 8:46 PM",
          "commitNameOld": "e2253b539e5d18b7006e8645a573659ca3e77699",
          "commitAuthorOld": "Aaron Myers",
          "daysBetweenCommits": 0.06,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,4 @@\n   public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n       byte[] password) throws InvalidToken {\n-    namesystem.getDelegationTokenSecretManager().verifyToken(identifier, password);\n+    getDelegationTokenSecretManager().verifyToken(identifier, password);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n      byte[] password) throws InvalidToken {\n    getDelegationTokenSecretManager().verifyToken(identifier, password);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
          "extendedDetails": {}
        }
      ]
    },
    "32d4c148dfd203789386a0587480bd974fbf4c1a": {
      "type": "Ymultichange(Ymovefromfile,Ybodychange)",
      "commitMessage": "HDFS-3654. TestJspHelper#testGetUgi fails with NPE. Contributed by Eli Collins\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1361463 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "13/07/12 6:07 PM",
      "commitName": "32d4c148dfd203789386a0587480bd974fbf4c1a",
      "commitAuthor": "Eli Collins",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "HDFS-3654. TestJspHelper#testGetUgi fails with NPE. Contributed by Eli Collins\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1361463 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "13/07/12 6:07 PM",
          "commitName": "32d4c148dfd203789386a0587480bd974fbf4c1a",
          "commitAuthor": "Eli Collins",
          "commitDateOld": "13/07/12 5:47 PM",
          "commitNameOld": "f5dd4583bb8d3705313534f7677df13dc45d36ab",
          "commitAuthorOld": "Eli Collins",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,4 @@\n   public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n       byte[] password) throws InvalidToken {\n-    getDelegationTokenSecretManager().verifyToken(identifier, password);\n+    namesystem.getDelegationTokenSecretManager().verifyToken(identifier, password);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n      byte[] password) throws InvalidToken {\n    namesystem.getDelegationTokenSecretManager().verifyToken(identifier, password);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java",
          "extendedDetails": {
            "oldPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java",
            "newPath": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java",
            "oldMethodName": "verifyToken",
            "newMethodName": "verifyToken"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HDFS-3654. TestJspHelper#testGetUgi fails with NPE. Contributed by Eli Collins\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1361463 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": "13/07/12 6:07 PM",
          "commitName": "32d4c148dfd203789386a0587480bd974fbf4c1a",
          "commitAuthor": "Eli Collins",
          "commitDateOld": "13/07/12 5:47 PM",
          "commitNameOld": "f5dd4583bb8d3705313534f7677df13dc45d36ab",
          "commitAuthorOld": "Eli Collins",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,4 +1,4 @@\n   public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n       byte[] password) throws InvalidToken {\n-    getDelegationTokenSecretManager().verifyToken(identifier, password);\n+    namesystem.getDelegationTokenSecretManager().verifyToken(identifier, password);\n   }\n\\ No newline at end of file\n",
          "actualSource": "  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n      byte[] password) throws InvalidToken {\n    namesystem.getDelegationTokenSecretManager().verifyToken(identifier, password);\n  }",
          "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/NameNode.java",
          "extendedDetails": {}
        }
      ]
    },
    "bd21ddcb78350b311f271e233038b8ca78a65242": {
      "type": "Yintroduced",
      "commitMessage": "HDFS-2416. distcp with a webhdfs uri on a secure cluster fails.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/hadoop/common/trunk@1196434 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "01/11/11 7:08 PM",
      "commitName": "bd21ddcb78350b311f271e233038b8ca78a65242",
      "commitAuthor": "Jitendra Nath Pandey",
      "diff": "@@ -0,0 +1,4 @@\n+  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n+      byte[] password) throws InvalidToken {\n+    getDelegationTokenSecretManager().verifyToken(identifier, password);\n+  }\n\\ No newline at end of file\n",
      "actualSource": "  public synchronized void verifyToken(DelegationTokenIdentifier identifier,\n      byte[] password) throws InvalidToken {\n    getDelegationTokenSecretManager().verifyToken(identifier, password);\n  }",
      "path": "hadoop-hdfs-project/hadoop-hdfs/src/main/java/org/apache/hadoop/hdfs/server/namenode/FSNamesystem.java"
    }
  }
}